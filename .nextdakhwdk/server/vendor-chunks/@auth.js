"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@auth";
exports.ids = ["vendor-chunks/@auth"];
exports.modules = {

/***/ "(ssr)/./node_modules/@auth/core/errors.js":
/*!*******************************************!*\
  !*** ./node_modules/@auth/core/errors.js ***!
  \*******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AccountNotLinked: () => (/* binding */ AccountNotLinked),\n/* harmony export */   AdapterError: () => (/* binding */ AdapterError),\n/* harmony export */   AuthError: () => (/* binding */ AuthError),\n/* harmony export */   AuthorizedCallbackError: () => (/* binding */ AuthorizedCallbackError),\n/* harmony export */   CallbackRouteError: () => (/* binding */ CallbackRouteError),\n/* harmony export */   CredentialsSignin: () => (/* binding */ CredentialsSignin),\n/* harmony export */   DuplicateConditionalUI: () => (/* binding */ DuplicateConditionalUI),\n/* harmony export */   EmailSignInError: () => (/* binding */ EmailSignInError),\n/* harmony export */   ErrorPageLoop: () => (/* binding */ ErrorPageLoop),\n/* harmony export */   EventError: () => (/* binding */ EventError),\n/* harmony export */   ExperimentalFeatureNotEnabled: () => (/* binding */ ExperimentalFeatureNotEnabled),\n/* harmony export */   InvalidCallbackUrl: () => (/* binding */ InvalidCallbackUrl),\n/* harmony export */   InvalidCheck: () => (/* binding */ InvalidCheck),\n/* harmony export */   InvalidEndpoints: () => (/* binding */ InvalidEndpoints),\n/* harmony export */   InvalidProvider: () => (/* binding */ InvalidProvider),\n/* harmony export */   JWTSessionError: () => (/* binding */ JWTSessionError),\n/* harmony export */   MissingAdapter: () => (/* binding */ MissingAdapter),\n/* harmony export */   MissingAdapterMethods: () => (/* binding */ MissingAdapterMethods),\n/* harmony export */   MissingAuthorize: () => (/* binding */ MissingAuthorize),\n/* harmony export */   MissingCSRF: () => (/* binding */ MissingCSRF),\n/* harmony export */   MissingSecret: () => (/* binding */ MissingSecret),\n/* harmony export */   MissingWebAuthnAutocomplete: () => (/* binding */ MissingWebAuthnAutocomplete),\n/* harmony export */   OAuthAccountNotLinked: () => (/* binding */ OAuthAccountNotLinked),\n/* harmony export */   OAuthCallbackError: () => (/* binding */ OAuthCallbackError),\n/* harmony export */   OAuthProfileParseError: () => (/* binding */ OAuthProfileParseError),\n/* harmony export */   OAuthSignInError: () => (/* binding */ OAuthSignInError),\n/* harmony export */   SessionTokenError: () => (/* binding */ SessionTokenError),\n/* harmony export */   SignInError: () => (/* binding */ SignInError),\n/* harmony export */   SignOutError: () => (/* binding */ SignOutError),\n/* harmony export */   UnknownAction: () => (/* binding */ UnknownAction),\n/* harmony export */   UnsupportedStrategy: () => (/* binding */ UnsupportedStrategy),\n/* harmony export */   UntrustedHost: () => (/* binding */ UntrustedHost),\n/* harmony export */   Verification: () => (/* binding */ Verification),\n/* harmony export */   WebAuthnVerificationError: () => (/* binding */ WebAuthnVerificationError)\n/* harmony export */ });\n/**\n * Base error class for all Auth.js errors.\n * It's optimized to be printed in the server logs in a nicely formatted way\n * via the [`logger.error`](https://authjs.dev/reference/core#logger) option.\n */ class AuthError extends Error {\n    constructor(message, errorOptions){\n        if (message instanceof Error) {\n            super(undefined, {\n                cause: {\n                    err: message,\n                    ...message.cause,\n                    ...errorOptions\n                }\n            });\n        } else if (typeof message === \"string\") {\n            if (errorOptions instanceof Error) {\n                errorOptions = {\n                    err: errorOptions,\n                    ...errorOptions.cause\n                };\n            }\n            super(message, errorOptions);\n        } else {\n            super(undefined, message);\n        }\n        this.name = this.constructor.name;\n        // @ts-expect-error https://github.com/microsoft/TypeScript/issues/3841\n        this.type = this.constructor.type ?? \"AuthError\";\n        // @ts-expect-error https://github.com/microsoft/TypeScript/issues/3841\n        this.kind = this.constructor.kind ?? \"error\";\n        Error.captureStackTrace?.(this, this.constructor);\n        const url = `https://errors.authjs.dev#${this.type.toLowerCase()}`;\n        this.message += `${this.message ? \" .\" : \"\"}Read more at ${url}`;\n    }\n}\nclass SignInError extends AuthError {\n}\nSignInError.kind = \"signIn\";\n/**\n * One of the database [`Adapter` methods](https://authjs.dev/reference/core/adapters#methods)\n * failed during execution.\n *\n * :::tip\n * If `debug: true` is set, you can check out `[auth][debug]` in the logs to learn more about the failed adapter method execution.\n * @example\n * ```sh\n * [auth][debug]: adapter_getUserByEmail\n * { \"args\": [undefined] }\n * ```\n * :::\n */ class AdapterError extends AuthError {\n}\nAdapterError.type = \"AdapterError\";\n/**\n * Thrown when the execution of the [`signIn` callback](https://authjs.dev/reference/core/types#signin) fails\n * or if it returns `false`.\n */ class AuthorizedCallbackError extends AuthError {\n}\nAuthorizedCallbackError.type = \"AuthorizedCallbackError\";\n/**\n * This error occurs when the user cannot finish login.\n * Depending on the provider type, this could have happened for multiple reasons.\n *\n * :::tip\n * Check out `[auth][details]` in the logs to know which provider failed.\n * @example\n * ```sh\n * [auth][details]: { \"provider\": \"github\" }\n * ```\n * :::\n *\n * For an [OAuth provider](https://authjs.dev/reference/core/providers/oauth), possible causes are:\n * - The user denied access to the application\n * - There was an error parsing the OAuth Profile:\n *   Check out the provider's `profile` or `userinfo.request` method to make sure\n *   it correctly fetches the user's profile.\n * - The `signIn` or `jwt` callback methods threw an uncaught error:\n *   Check the callback method implementations.\n *\n * For an [Email provider](https://authjs.dev/reference/core/providers/email), possible causes are:\n * - The provided email/token combination was invalid/missing:\n *   Check if the provider's `sendVerificationRequest` method correctly sends the email.\n * - The provided email/token combination has expired:\n *   Ask the user to log in again.\n * - There was an error with the database:\n *   Check the database logs.\n *\n * For a [Credentials provider](https://authjs.dev/reference/core/providers/credentials), possible causes are:\n * - The `authorize` method threw an uncaught error:\n *   Check the provider's `authorize` method.\n * - The `signIn` or `jwt` callback methods threw an uncaught error:\n *   Check the callback method implementations.\n *\n * :::tip\n * Check out `[auth][cause]` in the error message for more details.\n * It will show the original stack trace.\n * :::\n */ class CallbackRouteError extends AuthError {\n}\nCallbackRouteError.type = \"CallbackRouteError\";\n/**\n * Thrown when Auth.js is misconfigured and accidentally tried to require authentication on a custom error page.\n * To prevent an infinite loop, Auth.js will instead render its default error page.\n *\n * To fix this, make sure that the `error` page does not require authentication.\n *\n * Learn more at [Guide: Error pages](https://authjs.dev/guides/basics/pages)\n */ class ErrorPageLoop extends AuthError {\n}\nErrorPageLoop.type = \"ErrorPageLoop\";\n/**\n * One of the [`events` methods](https://authjs.dev/reference/core/types#eventcallbacks)\n * failed during execution.\n *\n * Make sure that the `events` methods are implemented correctly and uncaught errors are handled.\n *\n * Learn more at [`events`](https://authjs.dev/reference/core/types#eventcallbacks)\n */ class EventError extends AuthError {\n}\nEventError.type = \"EventError\";\n/**\n * Thrown when Auth.js is unable to verify a `callbackUrl` value.\n * The browser either disabled cookies or the `callbackUrl` is not a valid URL.\n *\n * Somebody might have tried to manipulate the callback URL that Auth.js uses to redirect the user back to the configured `callbackUrl`/page.\n * This could be a malicious hacker trying to redirect the user to a phishing site.\n * To prevent this, Auth.js checks if the callback URL is valid and throws this error if it is not.\n *\n * There is no action required, but it might be an indicator that somebody is trying to attack your application.\n */ class InvalidCallbackUrl extends AuthError {\n}\nInvalidCallbackUrl.type = \"InvalidCallbackUrl\";\n/**\n * The `authorize` callback returned `null` in the [Credentials provider](https://authjs.dev/getting-started/providers/credentials-tutorial).\n * We don't recommend providing information about which part of the credentials were wrong, as it might be abused by malicious hackers.\n */ class CredentialsSignin extends SignInError {\n}\nCredentialsSignin.type = \"CredentialsSignin\";\n/**\n * One of the configured OAuth or OIDC providers is missing the `authorization`, `token` or `userinfo`, or `issuer` configuration.\n * To perform OAuth or OIDC sign in, at least one of these endpoints is required.\n *\n * Learn more at [`OAuth2Config`](https://authjs.dev/reference/core/providers#oauth2configprofile) or [Guide: OAuth Provider](https://authjs.dev/guides/providers/custom-provider)\n */ class InvalidEndpoints extends AuthError {\n}\nInvalidEndpoints.type = \"InvalidEndpoints\";\n/**\n * Thrown when a PKCE, state or nonce OAuth check could not be performed.\n * This could happen if the OAuth provider is configured incorrectly or if the browser is blocking cookies.\n *\n * Learn more at [`checks`](https://authjs.dev/reference/core/providers#checks)\n */ class InvalidCheck extends AuthError {\n}\nInvalidCheck.type = \"InvalidCheck\";\n/**\n * Logged on the server when Auth.js could not decode or encode a JWT-based (`strategy: \"jwt\"`) session.\n *\n * Possible causes are either a misconfigured `secret` or a malformed JWT or `encode/decode` methods.\n *\n * :::note\n * When this error is logged, the session cookie is destroyed.\n * :::\n *\n * Learn more at [`secret`](https://authjs.dev/reference/core#secret), [`jwt.encode`](https://authjs.dev/reference/core/jwt#encode) or [`jwt.decode`](https://authjs.dev/reference/core/jwt#decode) for more information.\n */ class JWTSessionError extends AuthError {\n}\nJWTSessionError.type = \"JWTSessionError\";\n/**\n * Thrown if Auth.js is misonfigured. This could happen if you configured an Email provider but did not set up a database adapter,\n * or tried using a `strategy: \"database\"` session without a database adapter.\n * In both cases, make sure you either remove the configuration or add the missing adapter.\n *\n * Learn more at [Database Adapters](https://authjs.dev/getting-started/adapters), [Email provider](https://authjs.dev/reference/core/providers/email) or [Concept: Database session strategy](https://authjs.dev/concepts/session-strategies#database)\n */ class MissingAdapter extends AuthError {\n}\nMissingAdapter.type = \"MissingAdapter\";\n/**\n * Thrown similarily to [`MissingAdapter`](https://authjs.dev/reference/core/errors#missingadapter), but only some required methods were missing.\n *\n * Make sure you either remove the configuration or add the missing methods to the adapter.\n *\n * Learn more at [Database Adapters](https://authjs.dev/reference/core/adapters)\n */ class MissingAdapterMethods extends AuthError {\n}\nMissingAdapterMethods.type = \"MissingAdapterMethods\";\n/**\n * Thrown when a Credentials provider is missing the `authorize` configuration.\n * To perform credentials sign in, the `authorize` method is required.\n *\n * Learn more at [Credentials provider](https://authjs.dev/reference/core/providers/credentials)\n */ class MissingAuthorize extends AuthError {\n}\nMissingAuthorize.type = \"MissingAuthorize\";\n/**\n * Auth.js requires a secret or multiple secrets to be set, but none was not found. This is used to encrypt cookies, JWTs and other sensitive data.\n *\n * :::note\n * If you are using a framework like Next.js, we try to automatically infer the secret from the `AUTH_SECRET`, `AUTH_SECRET_1`, etc. environment variables.\n * Alternatively, you can also explicitly set the [`AuthConfig.secret`](https://authjs.dev/reference/core#secret) option.\n * :::\n *\n *\n * :::tip\n * To generate a random string, you can use the Auth.js CLI: `npx auth secret`\n * :::\n */ class MissingSecret extends AuthError {\n}\nMissingSecret.type = \"MissingSecret\";\n/**\n * Thrown when an Email address is already associated with an account\n * but the user is trying an OAuth account that is not linked to it.\n *\n * For security reasons, Auth.js does not automatically link OAuth accounts to existing accounts if the user is not signed in.\n *\n * :::tip\n * If you trust the OAuth provider to have verified the user's email address,\n * you can enable automatic account linking by setting [`allowDangerousEmailAccountLinking: true`](https://authjs.dev/reference/core/providers#allowdangerousemailaccountlinking)\n * in the provider configuration.\n * :::\n */ class OAuthAccountNotLinked extends SignInError {\n}\nOAuthAccountNotLinked.type = \"OAuthAccountNotLinked\";\n/**\n * Thrown when an OAuth provider returns an error during the sign in process.\n * This could happen for example if the user denied access to the application or there was a configuration error.\n *\n * For a full list of possible reasons, check out the specification [Authorization Code Grant: Error Response](https://www.rfc-editor.org/rfc/rfc6749#section-4.1.2.1)\n */ class OAuthCallbackError extends SignInError {\n}\nOAuthCallbackError.type = \"OAuthCallbackError\";\n/**\n * This error occurs during an OAuth sign in attempt when the provider's\n * response could not be parsed. This could for example happen if the provider's API\n * changed, or the [`OAuth2Config.profile`](https://authjs.dev/reference/core/providers/oauth#profile) method is not implemented correctly.\n */ class OAuthProfileParseError extends AuthError {\n}\nOAuthProfileParseError.type = \"OAuthProfileParseError\";\n/**\n * Logged on the server when Auth.js could not retrieve a session from the database (`strategy: \"database\"`).\n *\n * The database adapter might be misconfigured or the database is not reachable.\n *\n * Learn more at [Concept: Database session strategy](https://authjs.dev/concepts/session-strategies#database)\n */ class SessionTokenError extends AuthError {\n}\nSessionTokenError.type = \"SessionTokenError\";\n/**\n * Happens when login by [OAuth](https://authjs.dev/getting-started/providers/oauth-tutorial) could not be started.\n *\n * Possible causes are:\n * - The Authorization Server is not compliant with the [OAuth 2.0](https://www.ietf.org/rfc/rfc6749.html) or the [OIDC](https://openid.net/specs/openid-connect-core-1_0.html) specification.\n *   Check the details in the error message.\n *\n * :::tip\n * Check out `[auth][details]` in the logs to know which provider failed.\n * @example\n * ```sh\n * [auth][details]: { \"provider\": \"github\" }\n * ```\n * :::\n */ class OAuthSignInError extends SignInError {\n}\nOAuthSignInError.type = \"OAuthSignInError\";\n/**\n * Happens when the login by an [Email provider](https://authjs.dev/getting-started/providers/email-tutorial) could not be started.\n *\n * Possible causes are:\n * - The email sent from the client is invalid, could not be normalized by [`EmailConfig.normalizeIdentifier`](https://authjs.dev/reference/core/providers/email#normalizeidentifier)\n * - The provided email/token combination has expired:\n *   Ask the user to log in again.\n * - There was an error with the database:\n *   Check the database logs.\n */ class EmailSignInError extends SignInError {\n}\nEmailSignInError.type = \"EmailSignInError\";\n/**\n * Represents an error that occurs during the sign-out process. This error\n * is logged when there are issues in terminating a user's session, either\n * by failing to delete the session from the database (in database session\n * strategies) or encountering issues during other parts of the sign-out\n * process, such as emitting sign-out events or clearing session cookies.\n *\n * The session cookie(s) are emptied even if this error is logged.\n *\n */ class SignOutError extends AuthError {\n}\nSignOutError.type = \"SignOutError\";\n/**\n * Auth.js was requested to handle an operation that it does not support.\n *\n * See [`AuthAction`](https://authjs.dev/reference/core/types#authaction) for the supported actions.\n */ class UnknownAction extends AuthError {\n}\nUnknownAction.type = \"UnknownAction\";\n/**\n * Thrown when a Credentials provider is present but the JWT strategy (`strategy: \"jwt\"`) is not enabled.\n *\n * Learn more at [`strategy`](https://authjs.dev/reference/core#strategy) or [Credentials provider](https://authjs.dev/reference/core/providers/credentials)\n */ class UnsupportedStrategy extends AuthError {\n}\nUnsupportedStrategy.type = \"UnsupportedStrategy\";\n/** Thrown when an endpoint was incorrectly called without a provider, or with an unsupported provider. */ class InvalidProvider extends AuthError {\n}\nInvalidProvider.type = \"InvalidProvider\";\n/**\n * Thrown when the `trustHost` option was not set to `true`.\n *\n * Auth.js requires the `trustHost` option to be set to `true` since it's relying on the request headers' `host` value.\n *\n * :::note\n * Official Auth.js libraries might attempt to automatically set the `trustHost` option to `true` if the request is coming from a trusted host on a trusted platform.\n * :::\n *\n * Learn more at [`trustHost`](https://authjs.dev/reference/core#trusthost) or [Guide: Deployment](https://authjs.dev/getting-started/deployment)\n */ class UntrustedHost extends AuthError {\n}\nUntrustedHost.type = \"UntrustedHost\";\n/**\n * The user's email/token combination was invalid.\n * This could be because the email/token combination was not found in the database,\n * or because the token has expired. Ask the user to log in again.\n */ class Verification extends AuthError {\n}\nVerification.type = \"Verification\";\n/**\n * Error for missing CSRF tokens in client-side actions (`signIn`, `signOut`, `useSession#update`).\n * Thrown when actions lack the double submit cookie, essential for CSRF protection.\n *\n * CSRF ([Cross-Site Request Forgery](https://owasp.org/www-community/attacks/csrf))\n * is an attack leveraging authenticated user credentials for unauthorized actions.\n *\n * Double submit cookie pattern, a CSRF defense, requires matching values in a cookie\n * and request parameter. More on this at [MDN Web Docs](https://developer.mozilla.org/en-US/docs/Web/Security/CSRF).\n */ class MissingCSRF extends SignInError {\n}\nMissingCSRF.type = \"MissingCSRF\";\n/**\n * Thrown when multiple providers have `enableConditionalUI` set to `true`.\n * Only one provider can have this option enabled at a time.\n */ class DuplicateConditionalUI extends AuthError {\n}\nDuplicateConditionalUI.type = \"DuplicateConditionalUI\";\n/**\n * Thrown when a WebAuthn provider has `enableConditionalUI` set to `true` but no formField has `webauthn` in its autocomplete param.\n *\n * The `webauthn` autocomplete param is required for conditional UI to work.\n */ class MissingWebAuthnAutocomplete extends AuthError {\n}\nMissingWebAuthnAutocomplete.type = \"MissingWebAuthnAutocomplete\";\n/**\n * Thrown when a WebAuthn provider fails to verify a client response.\n */ class WebAuthnVerificationError extends AuthError {\n}\nWebAuthnVerificationError.type = \"WebAuthnVerificationError\";\n/**\n * Thrown when an Email address is already associated with an account\n * but the user is trying an account that is not linked to it.\n *\n * For security reasons, Auth.js does not automatically link accounts to existing accounts if the user is not signed in.\n */ class AccountNotLinked extends SignInError {\n}\nAccountNotLinked.type = \"AccountNotLinked\";\n/**\n * Thrown when an experimental feature is used but not enabled.\n */ class ExperimentalFeatureNotEnabled extends AuthError {\n}\nExperimentalFeatureNotEnabled.type = \"ExperimentalFeatureNotEnabled\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9lcnJvcnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0NBSUMsR0FDTSxNQUFNQSxrQkFBa0JDO0lBQzNCQyxZQUFZQyxPQUFPLEVBQUVDLFlBQVksQ0FBRTtRQUMvQixJQUFJRCxtQkFBbUJGLE9BQU87WUFDMUIsS0FBSyxDQUFDSSxXQUFXO2dCQUNiQyxPQUFPO29CQUFFQyxLQUFLSjtvQkFBUyxHQUFHQSxRQUFRRyxLQUFLO29CQUFFLEdBQUdGLFlBQVk7Z0JBQUM7WUFDN0Q7UUFDSixPQUNLLElBQUksT0FBT0QsWUFBWSxVQUFVO1lBQ2xDLElBQUlDLHdCQUF3QkgsT0FBTztnQkFDL0JHLGVBQWU7b0JBQUVHLEtBQUtIO29CQUFjLEdBQUdBLGFBQWFFLEtBQUs7Z0JBQUM7WUFDOUQ7WUFDQSxLQUFLLENBQUNILFNBQVNDO1FBQ25CLE9BQ0s7WUFDRCxLQUFLLENBQUNDLFdBQVdGO1FBQ3JCO1FBQ0EsSUFBSSxDQUFDSyxJQUFJLEdBQUcsSUFBSSxDQUFDTixXQUFXLENBQUNNLElBQUk7UUFDakMsdUVBQXVFO1FBQ3ZFLElBQUksQ0FBQ0MsSUFBSSxHQUFHLElBQUksQ0FBQ1AsV0FBVyxDQUFDTyxJQUFJLElBQUk7UUFDckMsdUVBQXVFO1FBQ3ZFLElBQUksQ0FBQ0MsSUFBSSxHQUFHLElBQUksQ0FBQ1IsV0FBVyxDQUFDUSxJQUFJLElBQUk7UUFDckNULE1BQU1VLGlCQUFpQixHQUFHLElBQUksRUFBRSxJQUFJLENBQUNULFdBQVc7UUFDaEQsTUFBTVUsTUFBTSxDQUFDLDBCQUEwQixFQUFFLElBQUksQ0FBQ0gsSUFBSSxDQUFDSSxXQUFXLEdBQUcsQ0FBQztRQUNsRSxJQUFJLENBQUNWLE9BQU8sSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDQSxPQUFPLEdBQUcsT0FBTyxHQUFHLGFBQWEsRUFBRVMsSUFBSSxDQUFDO0lBQ3BFO0FBQ0o7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LEdBQ00sTUFBTStCLHFCQUFxQnhDO0FBQ2xDO0FBQ0F3QyxhQUFhL0IsSUFBSSxHQUFHO0FBQ3BCOzs7Ozs7Ozs7Q0FTQyxHQUNNLE1BQU1nQyxvQkFBb0IzQjtBQUNqQztBQUNBMkIsWUFBWWhDLElBQUksR0FBRztBQUNuQjs7O0NBR0MsR0FDTSxNQUFNaUMsK0JBQStCMUM7QUFDNUM7QUFDQTBDLHVCQUF1QmpDLElBQUksR0FBRztBQUM5Qjs7OztDQUlDLEdBQ00sTUFBTWtDLG9DQUFvQzNDO0FBQ2pEO0FBQ0EyQyw0QkFBNEJsQyxJQUFJLEdBQUc7QUFDbkM7O0NBRUMsR0FDTSxNQUFNbUMsa0NBQWtDNUM7QUFDL0M7QUFDQTRDLDBCQUEwQm5DLElBQUksR0FBRztBQUNqQzs7Ozs7Q0FLQyxHQUNNLE1BQU1vQyx5QkFBeUIvQjtBQUN0QztBQUNBK0IsaUJBQWlCcEMsSUFBSSxHQUFHO0FBQ3hCOztDQUVDLEdBQ00sTUFBTXFDLHNDQUFzQzlDO0FBQ25EO0FBQ0E4Qyw4QkFBOEJyQyxJQUFJLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LXJ4Ly4vbm9kZV9tb2R1bGVzL0BhdXRoL2NvcmUvZXJyb3JzLmpzP2UxNTUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBCYXNlIGVycm9yIGNsYXNzIGZvciBhbGwgQXV0aC5qcyBlcnJvcnMuXG4gKiBJdCdzIG9wdGltaXplZCB0byBiZSBwcmludGVkIGluIHRoZSBzZXJ2ZXIgbG9ncyBpbiBhIG5pY2VseSBmb3JtYXR0ZWQgd2F5XG4gKiB2aWEgdGhlIFtgbG9nZ2VyLmVycm9yYF0oaHR0cHM6Ly9hdXRoanMuZGV2L3JlZmVyZW5jZS9jb3JlI2xvZ2dlcikgb3B0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgQXV0aEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIGVycm9yT3B0aW9ucykge1xuICAgICAgICBpZiAobWVzc2FnZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICBzdXBlcih1bmRlZmluZWQsIHtcbiAgICAgICAgICAgICAgICBjYXVzZTogeyBlcnI6IG1lc3NhZ2UsIC4uLm1lc3NhZ2UuY2F1c2UsIC4uLmVycm9yT3B0aW9ucyB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGlmIChlcnJvck9wdGlvbnMgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgIGVycm9yT3B0aW9ucyA9IHsgZXJyOiBlcnJvck9wdGlvbnMsIC4uLmVycm9yT3B0aW9ucy5jYXVzZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3VwZXIobWVzc2FnZSwgZXJyb3JPcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN1cGVyKHVuZGVmaW5lZCwgbWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uYW1lID0gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMzg0MVxuICAgICAgICB0aGlzLnR5cGUgPSB0aGlzLmNvbnN0cnVjdG9yLnR5cGUgPz8gXCJBdXRoRXJyb3JcIjtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzM4NDFcbiAgICAgICAgdGhpcy5raW5kID0gdGhpcy5jb25zdHJ1Y3Rvci5raW5kID8/IFwiZXJyb3JcIjtcbiAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2U/Lih0aGlzLCB0aGlzLmNvbnN0cnVjdG9yKTtcbiAgICAgICAgY29uc3QgdXJsID0gYGh0dHBzOi8vZXJyb3JzLmF1dGhqcy5kZXYjJHt0aGlzLnR5cGUudG9Mb3dlckNhc2UoKX1gO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgKz0gYCR7dGhpcy5tZXNzYWdlID8gXCIgLlwiIDogXCJcIn1SZWFkIG1vcmUgYXQgJHt1cmx9YDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgU2lnbkluRXJyb3IgZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuU2lnbkluRXJyb3Iua2luZCA9IFwic2lnbkluXCI7XG4vKipcbiAqIE9uZSBvZiB0aGUgZGF0YWJhc2UgW2BBZGFwdGVyYCBtZXRob2RzXShodHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUvYWRhcHRlcnMjbWV0aG9kcylcbiAqIGZhaWxlZCBkdXJpbmcgZXhlY3V0aW9uLlxuICpcbiAqIDo6OnRpcFxuICogSWYgYGRlYnVnOiB0cnVlYCBpcyBzZXQsIHlvdSBjYW4gY2hlY2sgb3V0IGBbYXV0aF1bZGVidWddYCBpbiB0aGUgbG9ncyB0byBsZWFybiBtb3JlIGFib3V0IHRoZSBmYWlsZWQgYWRhcHRlciBtZXRob2QgZXhlY3V0aW9uLlxuICogQGV4YW1wbGVcbiAqIGBgYHNoXG4gKiBbYXV0aF1bZGVidWddOiBhZGFwdGVyX2dldFVzZXJCeUVtYWlsXG4gKiB7IFwiYXJnc1wiOiBbdW5kZWZpbmVkXSB9XG4gKiBgYGBcbiAqIDo6OlxuICovXG5leHBvcnQgY2xhc3MgQWRhcHRlckVycm9yIGV4dGVuZHMgQXV0aEVycm9yIHtcbn1cbkFkYXB0ZXJFcnJvci50eXBlID0gXCJBZGFwdGVyRXJyb3JcIjtcbi8qKlxuICogVGhyb3duIHdoZW4gdGhlIGV4ZWN1dGlvbiBvZiB0aGUgW2BzaWduSW5gIGNhbGxiYWNrXShodHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUvdHlwZXMjc2lnbmluKSBmYWlsc1xuICogb3IgaWYgaXQgcmV0dXJucyBgZmFsc2VgLlxuICovXG5leHBvcnQgY2xhc3MgQXV0aG9yaXplZENhbGxiYWNrRXJyb3IgZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuQXV0aG9yaXplZENhbGxiYWNrRXJyb3IudHlwZSA9IFwiQXV0aG9yaXplZENhbGxiYWNrRXJyb3JcIjtcbi8qKlxuICogVGhpcyBlcnJvciBvY2N1cnMgd2hlbiB0aGUgdXNlciBjYW5ub3QgZmluaXNoIGxvZ2luLlxuICogRGVwZW5kaW5nIG9uIHRoZSBwcm92aWRlciB0eXBlLCB0aGlzIGNvdWxkIGhhdmUgaGFwcGVuZWQgZm9yIG11bHRpcGxlIHJlYXNvbnMuXG4gKlxuICogOjo6dGlwXG4gKiBDaGVjayBvdXQgYFthdXRoXVtkZXRhaWxzXWAgaW4gdGhlIGxvZ3MgdG8ga25vdyB3aGljaCBwcm92aWRlciBmYWlsZWQuXG4gKiBAZXhhbXBsZVxuICogYGBgc2hcbiAqIFthdXRoXVtkZXRhaWxzXTogeyBcInByb3ZpZGVyXCI6IFwiZ2l0aHViXCIgfVxuICogYGBgXG4gKiA6OjpcbiAqXG4gKiBGb3IgYW4gW09BdXRoIHByb3ZpZGVyXShodHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUvcHJvdmlkZXJzL29hdXRoKSwgcG9zc2libGUgY2F1c2VzIGFyZTpcbiAqIC0gVGhlIHVzZXIgZGVuaWVkIGFjY2VzcyB0byB0aGUgYXBwbGljYXRpb25cbiAqIC0gVGhlcmUgd2FzIGFuIGVycm9yIHBhcnNpbmcgdGhlIE9BdXRoIFByb2ZpbGU6XG4gKiAgIENoZWNrIG91dCB0aGUgcHJvdmlkZXIncyBgcHJvZmlsZWAgb3IgYHVzZXJpbmZvLnJlcXVlc3RgIG1ldGhvZCB0byBtYWtlIHN1cmVcbiAqICAgaXQgY29ycmVjdGx5IGZldGNoZXMgdGhlIHVzZXIncyBwcm9maWxlLlxuICogLSBUaGUgYHNpZ25JbmAgb3IgYGp3dGAgY2FsbGJhY2sgbWV0aG9kcyB0aHJldyBhbiB1bmNhdWdodCBlcnJvcjpcbiAqICAgQ2hlY2sgdGhlIGNhbGxiYWNrIG1ldGhvZCBpbXBsZW1lbnRhdGlvbnMuXG4gKlxuICogRm9yIGFuIFtFbWFpbCBwcm92aWRlcl0oaHR0cHM6Ly9hdXRoanMuZGV2L3JlZmVyZW5jZS9jb3JlL3Byb3ZpZGVycy9lbWFpbCksIHBvc3NpYmxlIGNhdXNlcyBhcmU6XG4gKiAtIFRoZSBwcm92aWRlZCBlbWFpbC90b2tlbiBjb21iaW5hdGlvbiB3YXMgaW52YWxpZC9taXNzaW5nOlxuICogICBDaGVjayBpZiB0aGUgcHJvdmlkZXIncyBgc2VuZFZlcmlmaWNhdGlvblJlcXVlc3RgIG1ldGhvZCBjb3JyZWN0bHkgc2VuZHMgdGhlIGVtYWlsLlxuICogLSBUaGUgcHJvdmlkZWQgZW1haWwvdG9rZW4gY29tYmluYXRpb24gaGFzIGV4cGlyZWQ6XG4gKiAgIEFzayB0aGUgdXNlciB0byBsb2cgaW4gYWdhaW4uXG4gKiAtIFRoZXJlIHdhcyBhbiBlcnJvciB3aXRoIHRoZSBkYXRhYmFzZTpcbiAqICAgQ2hlY2sgdGhlIGRhdGFiYXNlIGxvZ3MuXG4gKlxuICogRm9yIGEgW0NyZWRlbnRpYWxzIHByb3ZpZGVyXShodHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUvcHJvdmlkZXJzL2NyZWRlbnRpYWxzKSwgcG9zc2libGUgY2F1c2VzIGFyZTpcbiAqIC0gVGhlIGBhdXRob3JpemVgIG1ldGhvZCB0aHJldyBhbiB1bmNhdWdodCBlcnJvcjpcbiAqICAgQ2hlY2sgdGhlIHByb3ZpZGVyJ3MgYGF1dGhvcml6ZWAgbWV0aG9kLlxuICogLSBUaGUgYHNpZ25JbmAgb3IgYGp3dGAgY2FsbGJhY2sgbWV0aG9kcyB0aHJldyBhbiB1bmNhdWdodCBlcnJvcjpcbiAqICAgQ2hlY2sgdGhlIGNhbGxiYWNrIG1ldGhvZCBpbXBsZW1lbnRhdGlvbnMuXG4gKlxuICogOjo6dGlwXG4gKiBDaGVjayBvdXQgYFthdXRoXVtjYXVzZV1gIGluIHRoZSBlcnJvciBtZXNzYWdlIGZvciBtb3JlIGRldGFpbHMuXG4gKiBJdCB3aWxsIHNob3cgdGhlIG9yaWdpbmFsIHN0YWNrIHRyYWNlLlxuICogOjo6XG4gKi9cbmV4cG9ydCBjbGFzcyBDYWxsYmFja1JvdXRlRXJyb3IgZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuQ2FsbGJhY2tSb3V0ZUVycm9yLnR5cGUgPSBcIkNhbGxiYWNrUm91dGVFcnJvclwiO1xuLyoqXG4gKiBUaHJvd24gd2hlbiBBdXRoLmpzIGlzIG1pc2NvbmZpZ3VyZWQgYW5kIGFjY2lkZW50YWxseSB0cmllZCB0byByZXF1aXJlIGF1dGhlbnRpY2F0aW9uIG9uIGEgY3VzdG9tIGVycm9yIHBhZ2UuXG4gKiBUbyBwcmV2ZW50IGFuIGluZmluaXRlIGxvb3AsIEF1dGguanMgd2lsbCBpbnN0ZWFkIHJlbmRlciBpdHMgZGVmYXVsdCBlcnJvciBwYWdlLlxuICpcbiAqIFRvIGZpeCB0aGlzLCBtYWtlIHN1cmUgdGhhdCB0aGUgYGVycm9yYCBwYWdlIGRvZXMgbm90IHJlcXVpcmUgYXV0aGVudGljYXRpb24uXG4gKlxuICogTGVhcm4gbW9yZSBhdCBbR3VpZGU6IEVycm9yIHBhZ2VzXShodHRwczovL2F1dGhqcy5kZXYvZ3VpZGVzL2Jhc2ljcy9wYWdlcylcbiAqL1xuZXhwb3J0IGNsYXNzIEVycm9yUGFnZUxvb3AgZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuRXJyb3JQYWdlTG9vcC50eXBlID0gXCJFcnJvclBhZ2VMb29wXCI7XG4vKipcbiAqIE9uZSBvZiB0aGUgW2BldmVudHNgIG1ldGhvZHNdKGh0dHBzOi8vYXV0aGpzLmRldi9yZWZlcmVuY2UvY29yZS90eXBlcyNldmVudGNhbGxiYWNrcylcbiAqIGZhaWxlZCBkdXJpbmcgZXhlY3V0aW9uLlxuICpcbiAqIE1ha2Ugc3VyZSB0aGF0IHRoZSBgZXZlbnRzYCBtZXRob2RzIGFyZSBpbXBsZW1lbnRlZCBjb3JyZWN0bHkgYW5kIHVuY2F1Z2h0IGVycm9ycyBhcmUgaGFuZGxlZC5cbiAqXG4gKiBMZWFybiBtb3JlIGF0IFtgZXZlbnRzYF0oaHR0cHM6Ly9hdXRoanMuZGV2L3JlZmVyZW5jZS9jb3JlL3R5cGVzI2V2ZW50Y2FsbGJhY2tzKVxuICovXG5leHBvcnQgY2xhc3MgRXZlbnRFcnJvciBleHRlbmRzIEF1dGhFcnJvciB7XG59XG5FdmVudEVycm9yLnR5cGUgPSBcIkV2ZW50RXJyb3JcIjtcbi8qKlxuICogVGhyb3duIHdoZW4gQXV0aC5qcyBpcyB1bmFibGUgdG8gdmVyaWZ5IGEgYGNhbGxiYWNrVXJsYCB2YWx1ZS5cbiAqIFRoZSBicm93c2VyIGVpdGhlciBkaXNhYmxlZCBjb29raWVzIG9yIHRoZSBgY2FsbGJhY2tVcmxgIGlzIG5vdCBhIHZhbGlkIFVSTC5cbiAqXG4gKiBTb21lYm9keSBtaWdodCBoYXZlIHRyaWVkIHRvIG1hbmlwdWxhdGUgdGhlIGNhbGxiYWNrIFVSTCB0aGF0IEF1dGguanMgdXNlcyB0byByZWRpcmVjdCB0aGUgdXNlciBiYWNrIHRvIHRoZSBjb25maWd1cmVkIGBjYWxsYmFja1VybGAvcGFnZS5cbiAqIFRoaXMgY291bGQgYmUgYSBtYWxpY2lvdXMgaGFja2VyIHRyeWluZyB0byByZWRpcmVjdCB0aGUgdXNlciB0byBhIHBoaXNoaW5nIHNpdGUuXG4gKiBUbyBwcmV2ZW50IHRoaXMsIEF1dGguanMgY2hlY2tzIGlmIHRoZSBjYWxsYmFjayBVUkwgaXMgdmFsaWQgYW5kIHRocm93cyB0aGlzIGVycm9yIGlmIGl0IGlzIG5vdC5cbiAqXG4gKiBUaGVyZSBpcyBubyBhY3Rpb24gcmVxdWlyZWQsIGJ1dCBpdCBtaWdodCBiZSBhbiBpbmRpY2F0b3IgdGhhdCBzb21lYm9keSBpcyB0cnlpbmcgdG8gYXR0YWNrIHlvdXIgYXBwbGljYXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnZhbGlkQ2FsbGJhY2tVcmwgZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuSW52YWxpZENhbGxiYWNrVXJsLnR5cGUgPSBcIkludmFsaWRDYWxsYmFja1VybFwiO1xuLyoqXG4gKiBUaGUgYGF1dGhvcml6ZWAgY2FsbGJhY2sgcmV0dXJuZWQgYG51bGxgIGluIHRoZSBbQ3JlZGVudGlhbHMgcHJvdmlkZXJdKGh0dHBzOi8vYXV0aGpzLmRldi9nZXR0aW5nLXN0YXJ0ZWQvcHJvdmlkZXJzL2NyZWRlbnRpYWxzLXR1dG9yaWFsKS5cbiAqIFdlIGRvbid0IHJlY29tbWVuZCBwcm92aWRpbmcgaW5mb3JtYXRpb24gYWJvdXQgd2hpY2ggcGFydCBvZiB0aGUgY3JlZGVudGlhbHMgd2VyZSB3cm9uZywgYXMgaXQgbWlnaHQgYmUgYWJ1c2VkIGJ5IG1hbGljaW91cyBoYWNrZXJzLlxuICovXG5leHBvcnQgY2xhc3MgQ3JlZGVudGlhbHNTaWduaW4gZXh0ZW5kcyBTaWduSW5FcnJvciB7XG59XG5DcmVkZW50aWFsc1NpZ25pbi50eXBlID0gXCJDcmVkZW50aWFsc1NpZ25pblwiO1xuLyoqXG4gKiBPbmUgb2YgdGhlIGNvbmZpZ3VyZWQgT0F1dGggb3IgT0lEQyBwcm92aWRlcnMgaXMgbWlzc2luZyB0aGUgYGF1dGhvcml6YXRpb25gLCBgdG9rZW5gIG9yIGB1c2VyaW5mb2AsIG9yIGBpc3N1ZXJgIGNvbmZpZ3VyYXRpb24uXG4gKiBUbyBwZXJmb3JtIE9BdXRoIG9yIE9JREMgc2lnbiBpbiwgYXQgbGVhc3Qgb25lIG9mIHRoZXNlIGVuZHBvaW50cyBpcyByZXF1aXJlZC5cbiAqXG4gKiBMZWFybiBtb3JlIGF0IFtgT0F1dGgyQ29uZmlnYF0oaHR0cHM6Ly9hdXRoanMuZGV2L3JlZmVyZW5jZS9jb3JlL3Byb3ZpZGVycyNvYXV0aDJjb25maWdwcm9maWxlKSBvciBbR3VpZGU6IE9BdXRoIFByb3ZpZGVyXShodHRwczovL2F1dGhqcy5kZXYvZ3VpZGVzL3Byb3ZpZGVycy9jdXN0b20tcHJvdmlkZXIpXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnZhbGlkRW5kcG9pbnRzIGV4dGVuZHMgQXV0aEVycm9yIHtcbn1cbkludmFsaWRFbmRwb2ludHMudHlwZSA9IFwiSW52YWxpZEVuZHBvaW50c1wiO1xuLyoqXG4gKiBUaHJvd24gd2hlbiBhIFBLQ0UsIHN0YXRlIG9yIG5vbmNlIE9BdXRoIGNoZWNrIGNvdWxkIG5vdCBiZSBwZXJmb3JtZWQuXG4gKiBUaGlzIGNvdWxkIGhhcHBlbiBpZiB0aGUgT0F1dGggcHJvdmlkZXIgaXMgY29uZmlndXJlZCBpbmNvcnJlY3RseSBvciBpZiB0aGUgYnJvd3NlciBpcyBibG9ja2luZyBjb29raWVzLlxuICpcbiAqIExlYXJuIG1vcmUgYXQgW2BjaGVja3NgXShodHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUvcHJvdmlkZXJzI2NoZWNrcylcbiAqL1xuZXhwb3J0IGNsYXNzIEludmFsaWRDaGVjayBleHRlbmRzIEF1dGhFcnJvciB7XG59XG5JbnZhbGlkQ2hlY2sudHlwZSA9IFwiSW52YWxpZENoZWNrXCI7XG4vKipcbiAqIExvZ2dlZCBvbiB0aGUgc2VydmVyIHdoZW4gQXV0aC5qcyBjb3VsZCBub3QgZGVjb2RlIG9yIGVuY29kZSBhIEpXVC1iYXNlZCAoYHN0cmF0ZWd5OiBcImp3dFwiYCkgc2Vzc2lvbi5cbiAqXG4gKiBQb3NzaWJsZSBjYXVzZXMgYXJlIGVpdGhlciBhIG1pc2NvbmZpZ3VyZWQgYHNlY3JldGAgb3IgYSBtYWxmb3JtZWQgSldUIG9yIGBlbmNvZGUvZGVjb2RlYCBtZXRob2RzLlxuICpcbiAqIDo6Om5vdGVcbiAqIFdoZW4gdGhpcyBlcnJvciBpcyBsb2dnZWQsIHRoZSBzZXNzaW9uIGNvb2tpZSBpcyBkZXN0cm95ZWQuXG4gKiA6OjpcbiAqXG4gKiBMZWFybiBtb3JlIGF0IFtgc2VjcmV0YF0oaHR0cHM6Ly9hdXRoanMuZGV2L3JlZmVyZW5jZS9jb3JlI3NlY3JldCksIFtgand0LmVuY29kZWBdKGh0dHBzOi8vYXV0aGpzLmRldi9yZWZlcmVuY2UvY29yZS9qd3QjZW5jb2RlKSBvciBbYGp3dC5kZWNvZGVgXShodHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUvand0I2RlY29kZSkgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBKV1RTZXNzaW9uRXJyb3IgZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuSldUU2Vzc2lvbkVycm9yLnR5cGUgPSBcIkpXVFNlc3Npb25FcnJvclwiO1xuLyoqXG4gKiBUaHJvd24gaWYgQXV0aC5qcyBpcyBtaXNvbmZpZ3VyZWQuIFRoaXMgY291bGQgaGFwcGVuIGlmIHlvdSBjb25maWd1cmVkIGFuIEVtYWlsIHByb3ZpZGVyIGJ1dCBkaWQgbm90IHNldCB1cCBhIGRhdGFiYXNlIGFkYXB0ZXIsXG4gKiBvciB0cmllZCB1c2luZyBhIGBzdHJhdGVneTogXCJkYXRhYmFzZVwiYCBzZXNzaW9uIHdpdGhvdXQgYSBkYXRhYmFzZSBhZGFwdGVyLlxuICogSW4gYm90aCBjYXNlcywgbWFrZSBzdXJlIHlvdSBlaXRoZXIgcmVtb3ZlIHRoZSBjb25maWd1cmF0aW9uIG9yIGFkZCB0aGUgbWlzc2luZyBhZGFwdGVyLlxuICpcbiAqIExlYXJuIG1vcmUgYXQgW0RhdGFiYXNlIEFkYXB0ZXJzXShodHRwczovL2F1dGhqcy5kZXYvZ2V0dGluZy1zdGFydGVkL2FkYXB0ZXJzKSwgW0VtYWlsIHByb3ZpZGVyXShodHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUvcHJvdmlkZXJzL2VtYWlsKSBvciBbQ29uY2VwdDogRGF0YWJhc2Ugc2Vzc2lvbiBzdHJhdGVneV0oaHR0cHM6Ly9hdXRoanMuZGV2L2NvbmNlcHRzL3Nlc3Npb24tc3RyYXRlZ2llcyNkYXRhYmFzZSlcbiAqL1xuZXhwb3J0IGNsYXNzIE1pc3NpbmdBZGFwdGVyIGV4dGVuZHMgQXV0aEVycm9yIHtcbn1cbk1pc3NpbmdBZGFwdGVyLnR5cGUgPSBcIk1pc3NpbmdBZGFwdGVyXCI7XG4vKipcbiAqIFRocm93biBzaW1pbGFyaWx5IHRvIFtgTWlzc2luZ0FkYXB0ZXJgXShodHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUvZXJyb3JzI21pc3NpbmdhZGFwdGVyKSwgYnV0IG9ubHkgc29tZSByZXF1aXJlZCBtZXRob2RzIHdlcmUgbWlzc2luZy5cbiAqXG4gKiBNYWtlIHN1cmUgeW91IGVpdGhlciByZW1vdmUgdGhlIGNvbmZpZ3VyYXRpb24gb3IgYWRkIHRoZSBtaXNzaW5nIG1ldGhvZHMgdG8gdGhlIGFkYXB0ZXIuXG4gKlxuICogTGVhcm4gbW9yZSBhdCBbRGF0YWJhc2UgQWRhcHRlcnNdKGh0dHBzOi8vYXV0aGpzLmRldi9yZWZlcmVuY2UvY29yZS9hZGFwdGVycylcbiAqL1xuZXhwb3J0IGNsYXNzIE1pc3NpbmdBZGFwdGVyTWV0aG9kcyBleHRlbmRzIEF1dGhFcnJvciB7XG59XG5NaXNzaW5nQWRhcHRlck1ldGhvZHMudHlwZSA9IFwiTWlzc2luZ0FkYXB0ZXJNZXRob2RzXCI7XG4vKipcbiAqIFRocm93biB3aGVuIGEgQ3JlZGVudGlhbHMgcHJvdmlkZXIgaXMgbWlzc2luZyB0aGUgYGF1dGhvcml6ZWAgY29uZmlndXJhdGlvbi5cbiAqIFRvIHBlcmZvcm0gY3JlZGVudGlhbHMgc2lnbiBpbiwgdGhlIGBhdXRob3JpemVgIG1ldGhvZCBpcyByZXF1aXJlZC5cbiAqXG4gKiBMZWFybiBtb3JlIGF0IFtDcmVkZW50aWFscyBwcm92aWRlcl0oaHR0cHM6Ly9hdXRoanMuZGV2L3JlZmVyZW5jZS9jb3JlL3Byb3ZpZGVycy9jcmVkZW50aWFscylcbiAqL1xuZXhwb3J0IGNsYXNzIE1pc3NpbmdBdXRob3JpemUgZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuTWlzc2luZ0F1dGhvcml6ZS50eXBlID0gXCJNaXNzaW5nQXV0aG9yaXplXCI7XG4vKipcbiAqIEF1dGguanMgcmVxdWlyZXMgYSBzZWNyZXQgb3IgbXVsdGlwbGUgc2VjcmV0cyB0byBiZSBzZXQsIGJ1dCBub25lIHdhcyBub3QgZm91bmQuIFRoaXMgaXMgdXNlZCB0byBlbmNyeXB0IGNvb2tpZXMsIEpXVHMgYW5kIG90aGVyIHNlbnNpdGl2ZSBkYXRhLlxuICpcbiAqIDo6Om5vdGVcbiAqIElmIHlvdSBhcmUgdXNpbmcgYSBmcmFtZXdvcmsgbGlrZSBOZXh0LmpzLCB3ZSB0cnkgdG8gYXV0b21hdGljYWxseSBpbmZlciB0aGUgc2VjcmV0IGZyb20gdGhlIGBBVVRIX1NFQ1JFVGAsIGBBVVRIX1NFQ1JFVF8xYCwgZXRjLiBlbnZpcm9ubWVudCB2YXJpYWJsZXMuXG4gKiBBbHRlcm5hdGl2ZWx5LCB5b3UgY2FuIGFsc28gZXhwbGljaXRseSBzZXQgdGhlIFtgQXV0aENvbmZpZy5zZWNyZXRgXShodHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUjc2VjcmV0KSBvcHRpb24uXG4gKiA6OjpcbiAqXG4gKlxuICogOjo6dGlwXG4gKiBUbyBnZW5lcmF0ZSBhIHJhbmRvbSBzdHJpbmcsIHlvdSBjYW4gdXNlIHRoZSBBdXRoLmpzIENMSTogYG5weCBhdXRoIHNlY3JldGBcbiAqIDo6OlxuICovXG5leHBvcnQgY2xhc3MgTWlzc2luZ1NlY3JldCBleHRlbmRzIEF1dGhFcnJvciB7XG59XG5NaXNzaW5nU2VjcmV0LnR5cGUgPSBcIk1pc3NpbmdTZWNyZXRcIjtcbi8qKlxuICogVGhyb3duIHdoZW4gYW4gRW1haWwgYWRkcmVzcyBpcyBhbHJlYWR5IGFzc29jaWF0ZWQgd2l0aCBhbiBhY2NvdW50XG4gKiBidXQgdGhlIHVzZXIgaXMgdHJ5aW5nIGFuIE9BdXRoIGFjY291bnQgdGhhdCBpcyBub3QgbGlua2VkIHRvIGl0LlxuICpcbiAqIEZvciBzZWN1cml0eSByZWFzb25zLCBBdXRoLmpzIGRvZXMgbm90IGF1dG9tYXRpY2FsbHkgbGluayBPQXV0aCBhY2NvdW50cyB0byBleGlzdGluZyBhY2NvdW50cyBpZiB0aGUgdXNlciBpcyBub3Qgc2lnbmVkIGluLlxuICpcbiAqIDo6OnRpcFxuICogSWYgeW91IHRydXN0IHRoZSBPQXV0aCBwcm92aWRlciB0byBoYXZlIHZlcmlmaWVkIHRoZSB1c2VyJ3MgZW1haWwgYWRkcmVzcyxcbiAqIHlvdSBjYW4gZW5hYmxlIGF1dG9tYXRpYyBhY2NvdW50IGxpbmtpbmcgYnkgc2V0dGluZyBbYGFsbG93RGFuZ2Vyb3VzRW1haWxBY2NvdW50TGlua2luZzogdHJ1ZWBdKGh0dHBzOi8vYXV0aGpzLmRldi9yZWZlcmVuY2UvY29yZS9wcm92aWRlcnMjYWxsb3dkYW5nZXJvdXNlbWFpbGFjY291bnRsaW5raW5nKVxuICogaW4gdGhlIHByb3ZpZGVyIGNvbmZpZ3VyYXRpb24uXG4gKiA6OjpcbiAqL1xuZXhwb3J0IGNsYXNzIE9BdXRoQWNjb3VudE5vdExpbmtlZCBleHRlbmRzIFNpZ25JbkVycm9yIHtcbn1cbk9BdXRoQWNjb3VudE5vdExpbmtlZC50eXBlID0gXCJPQXV0aEFjY291bnROb3RMaW5rZWRcIjtcbi8qKlxuICogVGhyb3duIHdoZW4gYW4gT0F1dGggcHJvdmlkZXIgcmV0dXJucyBhbiBlcnJvciBkdXJpbmcgdGhlIHNpZ24gaW4gcHJvY2Vzcy5cbiAqIFRoaXMgY291bGQgaGFwcGVuIGZvciBleGFtcGxlIGlmIHRoZSB1c2VyIGRlbmllZCBhY2Nlc3MgdG8gdGhlIGFwcGxpY2F0aW9uIG9yIHRoZXJlIHdhcyBhIGNvbmZpZ3VyYXRpb24gZXJyb3IuXG4gKlxuICogRm9yIGEgZnVsbCBsaXN0IG9mIHBvc3NpYmxlIHJlYXNvbnMsIGNoZWNrIG91dCB0aGUgc3BlY2lmaWNhdGlvbiBbQXV0aG9yaXphdGlvbiBDb2RlIEdyYW50OiBFcnJvciBSZXNwb25zZV0oaHR0cHM6Ly93d3cucmZjLWVkaXRvci5vcmcvcmZjL3JmYzY3NDkjc2VjdGlvbi00LjEuMi4xKVxuICovXG5leHBvcnQgY2xhc3MgT0F1dGhDYWxsYmFja0Vycm9yIGV4dGVuZHMgU2lnbkluRXJyb3Ige1xufVxuT0F1dGhDYWxsYmFja0Vycm9yLnR5cGUgPSBcIk9BdXRoQ2FsbGJhY2tFcnJvclwiO1xuLyoqXG4gKiBUaGlzIGVycm9yIG9jY3VycyBkdXJpbmcgYW4gT0F1dGggc2lnbiBpbiBhdHRlbXB0IHdoZW4gdGhlIHByb3ZpZGVyJ3NcbiAqIHJlc3BvbnNlIGNvdWxkIG5vdCBiZSBwYXJzZWQuIFRoaXMgY291bGQgZm9yIGV4YW1wbGUgaGFwcGVuIGlmIHRoZSBwcm92aWRlcidzIEFQSVxuICogY2hhbmdlZCwgb3IgdGhlIFtgT0F1dGgyQ29uZmlnLnByb2ZpbGVgXShodHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUvcHJvdmlkZXJzL29hdXRoI3Byb2ZpbGUpIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQgY29ycmVjdGx5LlxuICovXG5leHBvcnQgY2xhc3MgT0F1dGhQcm9maWxlUGFyc2VFcnJvciBleHRlbmRzIEF1dGhFcnJvciB7XG59XG5PQXV0aFByb2ZpbGVQYXJzZUVycm9yLnR5cGUgPSBcIk9BdXRoUHJvZmlsZVBhcnNlRXJyb3JcIjtcbi8qKlxuICogTG9nZ2VkIG9uIHRoZSBzZXJ2ZXIgd2hlbiBBdXRoLmpzIGNvdWxkIG5vdCByZXRyaWV2ZSBhIHNlc3Npb24gZnJvbSB0aGUgZGF0YWJhc2UgKGBzdHJhdGVneTogXCJkYXRhYmFzZVwiYCkuXG4gKlxuICogVGhlIGRhdGFiYXNlIGFkYXB0ZXIgbWlnaHQgYmUgbWlzY29uZmlndXJlZCBvciB0aGUgZGF0YWJhc2UgaXMgbm90IHJlYWNoYWJsZS5cbiAqXG4gKiBMZWFybiBtb3JlIGF0IFtDb25jZXB0OiBEYXRhYmFzZSBzZXNzaW9uIHN0cmF0ZWd5XShodHRwczovL2F1dGhqcy5kZXYvY29uY2VwdHMvc2Vzc2lvbi1zdHJhdGVnaWVzI2RhdGFiYXNlKVxuICovXG5leHBvcnQgY2xhc3MgU2Vzc2lvblRva2VuRXJyb3IgZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuU2Vzc2lvblRva2VuRXJyb3IudHlwZSA9IFwiU2Vzc2lvblRva2VuRXJyb3JcIjtcbi8qKlxuICogSGFwcGVucyB3aGVuIGxvZ2luIGJ5IFtPQXV0aF0oaHR0cHM6Ly9hdXRoanMuZGV2L2dldHRpbmctc3RhcnRlZC9wcm92aWRlcnMvb2F1dGgtdHV0b3JpYWwpIGNvdWxkIG5vdCBiZSBzdGFydGVkLlxuICpcbiAqIFBvc3NpYmxlIGNhdXNlcyBhcmU6XG4gKiAtIFRoZSBBdXRob3JpemF0aW9uIFNlcnZlciBpcyBub3QgY29tcGxpYW50IHdpdGggdGhlIFtPQXV0aCAyLjBdKGh0dHBzOi8vd3d3LmlldGYub3JnL3JmYy9yZmM2NzQ5Lmh0bWwpIG9yIHRoZSBbT0lEQ10oaHR0cHM6Ly9vcGVuaWQubmV0L3NwZWNzL29wZW5pZC1jb25uZWN0LWNvcmUtMV8wLmh0bWwpIHNwZWNpZmljYXRpb24uXG4gKiAgIENoZWNrIHRoZSBkZXRhaWxzIGluIHRoZSBlcnJvciBtZXNzYWdlLlxuICpcbiAqIDo6OnRpcFxuICogQ2hlY2sgb3V0IGBbYXV0aF1bZGV0YWlsc11gIGluIHRoZSBsb2dzIHRvIGtub3cgd2hpY2ggcHJvdmlkZXIgZmFpbGVkLlxuICogQGV4YW1wbGVcbiAqIGBgYHNoXG4gKiBbYXV0aF1bZGV0YWlsc106IHsgXCJwcm92aWRlclwiOiBcImdpdGh1YlwiIH1cbiAqIGBgYFxuICogOjo6XG4gKi9cbmV4cG9ydCBjbGFzcyBPQXV0aFNpZ25JbkVycm9yIGV4dGVuZHMgU2lnbkluRXJyb3Ige1xufVxuT0F1dGhTaWduSW5FcnJvci50eXBlID0gXCJPQXV0aFNpZ25JbkVycm9yXCI7XG4vKipcbiAqIEhhcHBlbnMgd2hlbiB0aGUgbG9naW4gYnkgYW4gW0VtYWlsIHByb3ZpZGVyXShodHRwczovL2F1dGhqcy5kZXYvZ2V0dGluZy1zdGFydGVkL3Byb3ZpZGVycy9lbWFpbC10dXRvcmlhbCkgY291bGQgbm90IGJlIHN0YXJ0ZWQuXG4gKlxuICogUG9zc2libGUgY2F1c2VzIGFyZTpcbiAqIC0gVGhlIGVtYWlsIHNlbnQgZnJvbSB0aGUgY2xpZW50IGlzIGludmFsaWQsIGNvdWxkIG5vdCBiZSBub3JtYWxpemVkIGJ5IFtgRW1haWxDb25maWcubm9ybWFsaXplSWRlbnRpZmllcmBdKGh0dHBzOi8vYXV0aGpzLmRldi9yZWZlcmVuY2UvY29yZS9wcm92aWRlcnMvZW1haWwjbm9ybWFsaXplaWRlbnRpZmllcilcbiAqIC0gVGhlIHByb3ZpZGVkIGVtYWlsL3Rva2VuIGNvbWJpbmF0aW9uIGhhcyBleHBpcmVkOlxuICogICBBc2sgdGhlIHVzZXIgdG8gbG9nIGluIGFnYWluLlxuICogLSBUaGVyZSB3YXMgYW4gZXJyb3Igd2l0aCB0aGUgZGF0YWJhc2U6XG4gKiAgIENoZWNrIHRoZSBkYXRhYmFzZSBsb2dzLlxuICovXG5leHBvcnQgY2xhc3MgRW1haWxTaWduSW5FcnJvciBleHRlbmRzIFNpZ25JbkVycm9yIHtcbn1cbkVtYWlsU2lnbkluRXJyb3IudHlwZSA9IFwiRW1haWxTaWduSW5FcnJvclwiO1xuLyoqXG4gKiBSZXByZXNlbnRzIGFuIGVycm9yIHRoYXQgb2NjdXJzIGR1cmluZyB0aGUgc2lnbi1vdXQgcHJvY2Vzcy4gVGhpcyBlcnJvclxuICogaXMgbG9nZ2VkIHdoZW4gdGhlcmUgYXJlIGlzc3VlcyBpbiB0ZXJtaW5hdGluZyBhIHVzZXIncyBzZXNzaW9uLCBlaXRoZXJcbiAqIGJ5IGZhaWxpbmcgdG8gZGVsZXRlIHRoZSBzZXNzaW9uIGZyb20gdGhlIGRhdGFiYXNlIChpbiBkYXRhYmFzZSBzZXNzaW9uXG4gKiBzdHJhdGVnaWVzKSBvciBlbmNvdW50ZXJpbmcgaXNzdWVzIGR1cmluZyBvdGhlciBwYXJ0cyBvZiB0aGUgc2lnbi1vdXRcbiAqIHByb2Nlc3MsIHN1Y2ggYXMgZW1pdHRpbmcgc2lnbi1vdXQgZXZlbnRzIG9yIGNsZWFyaW5nIHNlc3Npb24gY29va2llcy5cbiAqXG4gKiBUaGUgc2Vzc2lvbiBjb29raWUocykgYXJlIGVtcHRpZWQgZXZlbiBpZiB0aGlzIGVycm9yIGlzIGxvZ2dlZC5cbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBTaWduT3V0RXJyb3IgZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuU2lnbk91dEVycm9yLnR5cGUgPSBcIlNpZ25PdXRFcnJvclwiO1xuLyoqXG4gKiBBdXRoLmpzIHdhcyByZXF1ZXN0ZWQgdG8gaGFuZGxlIGFuIG9wZXJhdGlvbiB0aGF0IGl0IGRvZXMgbm90IHN1cHBvcnQuXG4gKlxuICogU2VlIFtgQXV0aEFjdGlvbmBdKGh0dHBzOi8vYXV0aGpzLmRldi9yZWZlcmVuY2UvY29yZS90eXBlcyNhdXRoYWN0aW9uKSBmb3IgdGhlIHN1cHBvcnRlZCBhY3Rpb25zLlxuICovXG5leHBvcnQgY2xhc3MgVW5rbm93bkFjdGlvbiBleHRlbmRzIEF1dGhFcnJvciB7XG59XG5Vbmtub3duQWN0aW9uLnR5cGUgPSBcIlVua25vd25BY3Rpb25cIjtcbi8qKlxuICogVGhyb3duIHdoZW4gYSBDcmVkZW50aWFscyBwcm92aWRlciBpcyBwcmVzZW50IGJ1dCB0aGUgSldUIHN0cmF0ZWd5IChgc3RyYXRlZ3k6IFwiand0XCJgKSBpcyBub3QgZW5hYmxlZC5cbiAqXG4gKiBMZWFybiBtb3JlIGF0IFtgc3RyYXRlZ3lgXShodHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUjc3RyYXRlZ3kpIG9yIFtDcmVkZW50aWFscyBwcm92aWRlcl0oaHR0cHM6Ly9hdXRoanMuZGV2L3JlZmVyZW5jZS9jb3JlL3Byb3ZpZGVycy9jcmVkZW50aWFscylcbiAqL1xuZXhwb3J0IGNsYXNzIFVuc3VwcG9ydGVkU3RyYXRlZ3kgZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuVW5zdXBwb3J0ZWRTdHJhdGVneS50eXBlID0gXCJVbnN1cHBvcnRlZFN0cmF0ZWd5XCI7XG4vKiogVGhyb3duIHdoZW4gYW4gZW5kcG9pbnQgd2FzIGluY29ycmVjdGx5IGNhbGxlZCB3aXRob3V0IGEgcHJvdmlkZXIsIG9yIHdpdGggYW4gdW5zdXBwb3J0ZWQgcHJvdmlkZXIuICovXG5leHBvcnQgY2xhc3MgSW52YWxpZFByb3ZpZGVyIGV4dGVuZHMgQXV0aEVycm9yIHtcbn1cbkludmFsaWRQcm92aWRlci50eXBlID0gXCJJbnZhbGlkUHJvdmlkZXJcIjtcbi8qKlxuICogVGhyb3duIHdoZW4gdGhlIGB0cnVzdEhvc3RgIG9wdGlvbiB3YXMgbm90IHNldCB0byBgdHJ1ZWAuXG4gKlxuICogQXV0aC5qcyByZXF1aXJlcyB0aGUgYHRydXN0SG9zdGAgb3B0aW9uIHRvIGJlIHNldCB0byBgdHJ1ZWAgc2luY2UgaXQncyByZWx5aW5nIG9uIHRoZSByZXF1ZXN0IGhlYWRlcnMnIGBob3N0YCB2YWx1ZS5cbiAqXG4gKiA6Ojpub3RlXG4gKiBPZmZpY2lhbCBBdXRoLmpzIGxpYnJhcmllcyBtaWdodCBhdHRlbXB0IHRvIGF1dG9tYXRpY2FsbHkgc2V0IHRoZSBgdHJ1c3RIb3N0YCBvcHRpb24gdG8gYHRydWVgIGlmIHRoZSByZXF1ZXN0IGlzIGNvbWluZyBmcm9tIGEgdHJ1c3RlZCBob3N0IG9uIGEgdHJ1c3RlZCBwbGF0Zm9ybS5cbiAqIDo6OlxuICpcbiAqIExlYXJuIG1vcmUgYXQgW2B0cnVzdEhvc3RgXShodHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUjdHJ1c3Rob3N0KSBvciBbR3VpZGU6IERlcGxveW1lbnRdKGh0dHBzOi8vYXV0aGpzLmRldi9nZXR0aW5nLXN0YXJ0ZWQvZGVwbG95bWVudClcbiAqL1xuZXhwb3J0IGNsYXNzIFVudHJ1c3RlZEhvc3QgZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuVW50cnVzdGVkSG9zdC50eXBlID0gXCJVbnRydXN0ZWRIb3N0XCI7XG4vKipcbiAqIFRoZSB1c2VyJ3MgZW1haWwvdG9rZW4gY29tYmluYXRpb24gd2FzIGludmFsaWQuXG4gKiBUaGlzIGNvdWxkIGJlIGJlY2F1c2UgdGhlIGVtYWlsL3Rva2VuIGNvbWJpbmF0aW9uIHdhcyBub3QgZm91bmQgaW4gdGhlIGRhdGFiYXNlLFxuICogb3IgYmVjYXVzZSB0aGUgdG9rZW4gaGFzIGV4cGlyZWQuIEFzayB0aGUgdXNlciB0byBsb2cgaW4gYWdhaW4uXG4gKi9cbmV4cG9ydCBjbGFzcyBWZXJpZmljYXRpb24gZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuVmVyaWZpY2F0aW9uLnR5cGUgPSBcIlZlcmlmaWNhdGlvblwiO1xuLyoqXG4gKiBFcnJvciBmb3IgbWlzc2luZyBDU1JGIHRva2VucyBpbiBjbGllbnQtc2lkZSBhY3Rpb25zIChgc2lnbkluYCwgYHNpZ25PdXRgLCBgdXNlU2Vzc2lvbiN1cGRhdGVgKS5cbiAqIFRocm93biB3aGVuIGFjdGlvbnMgbGFjayB0aGUgZG91YmxlIHN1Ym1pdCBjb29raWUsIGVzc2VudGlhbCBmb3IgQ1NSRiBwcm90ZWN0aW9uLlxuICpcbiAqIENTUkYgKFtDcm9zcy1TaXRlIFJlcXVlc3QgRm9yZ2VyeV0oaHR0cHM6Ly9vd2FzcC5vcmcvd3d3LWNvbW11bml0eS9hdHRhY2tzL2NzcmYpKVxuICogaXMgYW4gYXR0YWNrIGxldmVyYWdpbmcgYXV0aGVudGljYXRlZCB1c2VyIGNyZWRlbnRpYWxzIGZvciB1bmF1dGhvcml6ZWQgYWN0aW9ucy5cbiAqXG4gKiBEb3VibGUgc3VibWl0IGNvb2tpZSBwYXR0ZXJuLCBhIENTUkYgZGVmZW5zZSwgcmVxdWlyZXMgbWF0Y2hpbmcgdmFsdWVzIGluIGEgY29va2llXG4gKiBhbmQgcmVxdWVzdCBwYXJhbWV0ZXIuIE1vcmUgb24gdGhpcyBhdCBbTUROIFdlYiBEb2NzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9TZWN1cml0eS9DU1JGKS5cbiAqL1xuZXhwb3J0IGNsYXNzIE1pc3NpbmdDU1JGIGV4dGVuZHMgU2lnbkluRXJyb3Ige1xufVxuTWlzc2luZ0NTUkYudHlwZSA9IFwiTWlzc2luZ0NTUkZcIjtcbi8qKlxuICogVGhyb3duIHdoZW4gbXVsdGlwbGUgcHJvdmlkZXJzIGhhdmUgYGVuYWJsZUNvbmRpdGlvbmFsVUlgIHNldCB0byBgdHJ1ZWAuXG4gKiBPbmx5IG9uZSBwcm92aWRlciBjYW4gaGF2ZSB0aGlzIG9wdGlvbiBlbmFibGVkIGF0IGEgdGltZS5cbiAqL1xuZXhwb3J0IGNsYXNzIER1cGxpY2F0ZUNvbmRpdGlvbmFsVUkgZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuRHVwbGljYXRlQ29uZGl0aW9uYWxVSS50eXBlID0gXCJEdXBsaWNhdGVDb25kaXRpb25hbFVJXCI7XG4vKipcbiAqIFRocm93biB3aGVuIGEgV2ViQXV0aG4gcHJvdmlkZXIgaGFzIGBlbmFibGVDb25kaXRpb25hbFVJYCBzZXQgdG8gYHRydWVgIGJ1dCBubyBmb3JtRmllbGQgaGFzIGB3ZWJhdXRobmAgaW4gaXRzIGF1dG9jb21wbGV0ZSBwYXJhbS5cbiAqXG4gKiBUaGUgYHdlYmF1dGhuYCBhdXRvY29tcGxldGUgcGFyYW0gaXMgcmVxdWlyZWQgZm9yIGNvbmRpdGlvbmFsIFVJIHRvIHdvcmsuXG4gKi9cbmV4cG9ydCBjbGFzcyBNaXNzaW5nV2ViQXV0aG5BdXRvY29tcGxldGUgZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuTWlzc2luZ1dlYkF1dGhuQXV0b2NvbXBsZXRlLnR5cGUgPSBcIk1pc3NpbmdXZWJBdXRobkF1dG9jb21wbGV0ZVwiO1xuLyoqXG4gKiBUaHJvd24gd2hlbiBhIFdlYkF1dGhuIHByb3ZpZGVyIGZhaWxzIHRvIHZlcmlmeSBhIGNsaWVudCByZXNwb25zZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFdlYkF1dGhuVmVyaWZpY2F0aW9uRXJyb3IgZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuV2ViQXV0aG5WZXJpZmljYXRpb25FcnJvci50eXBlID0gXCJXZWJBdXRoblZlcmlmaWNhdGlvbkVycm9yXCI7XG4vKipcbiAqIFRocm93biB3aGVuIGFuIEVtYWlsIGFkZHJlc3MgaXMgYWxyZWFkeSBhc3NvY2lhdGVkIHdpdGggYW4gYWNjb3VudFxuICogYnV0IHRoZSB1c2VyIGlzIHRyeWluZyBhbiBhY2NvdW50IHRoYXQgaXMgbm90IGxpbmtlZCB0byBpdC5cbiAqXG4gKiBGb3Igc2VjdXJpdHkgcmVhc29ucywgQXV0aC5qcyBkb2VzIG5vdCBhdXRvbWF0aWNhbGx5IGxpbmsgYWNjb3VudHMgdG8gZXhpc3RpbmcgYWNjb3VudHMgaWYgdGhlIHVzZXIgaXMgbm90IHNpZ25lZCBpbi5cbiAqL1xuZXhwb3J0IGNsYXNzIEFjY291bnROb3RMaW5rZWQgZXh0ZW5kcyBTaWduSW5FcnJvciB7XG59XG5BY2NvdW50Tm90TGlua2VkLnR5cGUgPSBcIkFjY291bnROb3RMaW5rZWRcIjtcbi8qKlxuICogVGhyb3duIHdoZW4gYW4gZXhwZXJpbWVudGFsIGZlYXR1cmUgaXMgdXNlZCBidXQgbm90IGVuYWJsZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBFeHBlcmltZW50YWxGZWF0dXJlTm90RW5hYmxlZCBleHRlbmRzIEF1dGhFcnJvciB7XG59XG5FeHBlcmltZW50YWxGZWF0dXJlTm90RW5hYmxlZC50eXBlID0gXCJFeHBlcmltZW50YWxGZWF0dXJlTm90RW5hYmxlZFwiO1xuIl0sIm5hbWVzIjpbIkF1dGhFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiZXJyb3JPcHRpb25zIiwidW5kZWZpbmVkIiwiY2F1c2UiLCJlcnIiLCJuYW1lIiwidHlwZSIsImtpbmQiLCJjYXB0dXJlU3RhY2tUcmFjZSIsInVybCIsInRvTG93ZXJDYXNlIiwiU2lnbkluRXJyb3IiLCJBZGFwdGVyRXJyb3IiLCJBdXRob3JpemVkQ2FsbGJhY2tFcnJvciIsIkNhbGxiYWNrUm91dGVFcnJvciIsIkVycm9yUGFnZUxvb3AiLCJFdmVudEVycm9yIiwiSW52YWxpZENhbGxiYWNrVXJsIiwiQ3JlZGVudGlhbHNTaWduaW4iLCJJbnZhbGlkRW5kcG9pbnRzIiwiSW52YWxpZENoZWNrIiwiSldUU2Vzc2lvbkVycm9yIiwiTWlzc2luZ0FkYXB0ZXIiLCJNaXNzaW5nQWRhcHRlck1ldGhvZHMiLCJNaXNzaW5nQXV0aG9yaXplIiwiTWlzc2luZ1NlY3JldCIsIk9BdXRoQWNjb3VudE5vdExpbmtlZCIsIk9BdXRoQ2FsbGJhY2tFcnJvciIsIk9BdXRoUHJvZmlsZVBhcnNlRXJyb3IiLCJTZXNzaW9uVG9rZW5FcnJvciIsIk9BdXRoU2lnbkluRXJyb3IiLCJFbWFpbFNpZ25JbkVycm9yIiwiU2lnbk91dEVycm9yIiwiVW5rbm93bkFjdGlvbiIsIlVuc3VwcG9ydGVkU3RyYXRlZ3kiLCJJbnZhbGlkUHJvdmlkZXIiLCJVbnRydXN0ZWRIb3N0IiwiVmVyaWZpY2F0aW9uIiwiTWlzc2luZ0NTUkYiLCJEdXBsaWNhdGVDb25kaXRpb25hbFVJIiwiTWlzc2luZ1dlYkF1dGhuQXV0b2NvbXBsZXRlIiwiV2ViQXV0aG5WZXJpZmljYXRpb25FcnJvciIsIkFjY291bnROb3RMaW5rZWQiLCJFeHBlcmltZW50YWxGZWF0dXJlTm90RW5hYmxlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@auth/core/errors.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/errors.js":
/*!*******************************************!*\
  !*** ./node_modules/@auth/core/errors.js ***!
  \*******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AccountNotLinked: () => (/* binding */ AccountNotLinked),\n/* harmony export */   AdapterError: () => (/* binding */ AdapterError),\n/* harmony export */   AuthError: () => (/* binding */ AuthError),\n/* harmony export */   AuthorizedCallbackError: () => (/* binding */ AuthorizedCallbackError),\n/* harmony export */   CallbackRouteError: () => (/* binding */ CallbackRouteError),\n/* harmony export */   CredentialsSignin: () => (/* binding */ CredentialsSignin),\n/* harmony export */   DuplicateConditionalUI: () => (/* binding */ DuplicateConditionalUI),\n/* harmony export */   EmailSignInError: () => (/* binding */ EmailSignInError),\n/* harmony export */   ErrorPageLoop: () => (/* binding */ ErrorPageLoop),\n/* harmony export */   EventError: () => (/* binding */ EventError),\n/* harmony export */   ExperimentalFeatureNotEnabled: () => (/* binding */ ExperimentalFeatureNotEnabled),\n/* harmony export */   InvalidCallbackUrl: () => (/* binding */ InvalidCallbackUrl),\n/* harmony export */   InvalidCheck: () => (/* binding */ InvalidCheck),\n/* harmony export */   InvalidEndpoints: () => (/* binding */ InvalidEndpoints),\n/* harmony export */   InvalidProvider: () => (/* binding */ InvalidProvider),\n/* harmony export */   JWTSessionError: () => (/* binding */ JWTSessionError),\n/* harmony export */   MissingAdapter: () => (/* binding */ MissingAdapter),\n/* harmony export */   MissingAdapterMethods: () => (/* binding */ MissingAdapterMethods),\n/* harmony export */   MissingAuthorize: () => (/* binding */ MissingAuthorize),\n/* harmony export */   MissingCSRF: () => (/* binding */ MissingCSRF),\n/* harmony export */   MissingSecret: () => (/* binding */ MissingSecret),\n/* harmony export */   MissingWebAuthnAutocomplete: () => (/* binding */ MissingWebAuthnAutocomplete),\n/* harmony export */   OAuthAccountNotLinked: () => (/* binding */ OAuthAccountNotLinked),\n/* harmony export */   OAuthCallbackError: () => (/* binding */ OAuthCallbackError),\n/* harmony export */   OAuthProfileParseError: () => (/* binding */ OAuthProfileParseError),\n/* harmony export */   OAuthSignInError: () => (/* binding */ OAuthSignInError),\n/* harmony export */   SessionTokenError: () => (/* binding */ SessionTokenError),\n/* harmony export */   SignInError: () => (/* binding */ SignInError),\n/* harmony export */   SignOutError: () => (/* binding */ SignOutError),\n/* harmony export */   UnknownAction: () => (/* binding */ UnknownAction),\n/* harmony export */   UnsupportedStrategy: () => (/* binding */ UnsupportedStrategy),\n/* harmony export */   UntrustedHost: () => (/* binding */ UntrustedHost),\n/* harmony export */   Verification: () => (/* binding */ Verification),\n/* harmony export */   WebAuthnVerificationError: () => (/* binding */ WebAuthnVerificationError)\n/* harmony export */ });\n/**\n * Base error class for all Auth.js errors.\n * It's optimized to be printed in the server logs in a nicely formatted way\n * via the [`logger.error`](https://authjs.dev/reference/core#logger) option.\n */ class AuthError extends Error {\n    constructor(message, errorOptions){\n        if (message instanceof Error) {\n            super(undefined, {\n                cause: {\n                    err: message,\n                    ...message.cause,\n                    ...errorOptions\n                }\n            });\n        } else if (typeof message === \"string\") {\n            if (errorOptions instanceof Error) {\n                errorOptions = {\n                    err: errorOptions,\n                    ...errorOptions.cause\n                };\n            }\n            super(message, errorOptions);\n        } else {\n            super(undefined, message);\n        }\n        this.name = this.constructor.name;\n        // @ts-expect-error https://github.com/microsoft/TypeScript/issues/3841\n        this.type = this.constructor.type ?? \"AuthError\";\n        // @ts-expect-error https://github.com/microsoft/TypeScript/issues/3841\n        this.kind = this.constructor.kind ?? \"error\";\n        Error.captureStackTrace?.(this, this.constructor);\n        const url = `https://errors.authjs.dev#${this.type.toLowerCase()}`;\n        this.message += `${this.message ? \" .\" : \"\"}Read more at ${url}`;\n    }\n}\nclass SignInError extends AuthError {\n}\nSignInError.kind = \"signIn\";\n/**\n * One of the database [`Adapter` methods](https://authjs.dev/reference/core/adapters#methods)\n * failed during execution.\n *\n * :::tip\n * If `debug: true` is set, you can check out `[auth][debug]` in the logs to learn more about the failed adapter method execution.\n * @example\n * ```sh\n * [auth][debug]: adapter_getUserByEmail\n * { \"args\": [undefined] }\n * ```\n * :::\n */ class AdapterError extends AuthError {\n}\nAdapterError.type = \"AdapterError\";\n/**\n * Thrown when the execution of the [`signIn` callback](https://authjs.dev/reference/core/types#signin) fails\n * or if it returns `false`.\n */ class AuthorizedCallbackError extends AuthError {\n}\nAuthorizedCallbackError.type = \"AuthorizedCallbackError\";\n/**\n * This error occurs when the user cannot finish login.\n * Depending on the provider type, this could have happened for multiple reasons.\n *\n * :::tip\n * Check out `[auth][details]` in the logs to know which provider failed.\n * @example\n * ```sh\n * [auth][details]: { \"provider\": \"github\" }\n * ```\n * :::\n *\n * For an [OAuth provider](https://authjs.dev/reference/core/providers/oauth), possible causes are:\n * - The user denied access to the application\n * - There was an error parsing the OAuth Profile:\n *   Check out the provider's `profile` or `userinfo.request` method to make sure\n *   it correctly fetches the user's profile.\n * - The `signIn` or `jwt` callback methods threw an uncaught error:\n *   Check the callback method implementations.\n *\n * For an [Email provider](https://authjs.dev/reference/core/providers/email), possible causes are:\n * - The provided email/token combination was invalid/missing:\n *   Check if the provider's `sendVerificationRequest` method correctly sends the email.\n * - The provided email/token combination has expired:\n *   Ask the user to log in again.\n * - There was an error with the database:\n *   Check the database logs.\n *\n * For a [Credentials provider](https://authjs.dev/reference/core/providers/credentials), possible causes are:\n * - The `authorize` method threw an uncaught error:\n *   Check the provider's `authorize` method.\n * - The `signIn` or `jwt` callback methods threw an uncaught error:\n *   Check the callback method implementations.\n *\n * :::tip\n * Check out `[auth][cause]` in the error message for more details.\n * It will show the original stack trace.\n * :::\n */ class CallbackRouteError extends AuthError {\n}\nCallbackRouteError.type = \"CallbackRouteError\";\n/**\n * Thrown when Auth.js is misconfigured and accidentally tried to require authentication on a custom error page.\n * To prevent an infinite loop, Auth.js will instead render its default error page.\n *\n * To fix this, make sure that the `error` page does not require authentication.\n *\n * Learn more at [Guide: Error pages](https://authjs.dev/guides/basics/pages)\n */ class ErrorPageLoop extends AuthError {\n}\nErrorPageLoop.type = \"ErrorPageLoop\";\n/**\n * One of the [`events` methods](https://authjs.dev/reference/core/types#eventcallbacks)\n * failed during execution.\n *\n * Make sure that the `events` methods are implemented correctly and uncaught errors are handled.\n *\n * Learn more at [`events`](https://authjs.dev/reference/core/types#eventcallbacks)\n */ class EventError extends AuthError {\n}\nEventError.type = \"EventError\";\n/**\n * Thrown when Auth.js is unable to verify a `callbackUrl` value.\n * The browser either disabled cookies or the `callbackUrl` is not a valid URL.\n *\n * Somebody might have tried to manipulate the callback URL that Auth.js uses to redirect the user back to the configured `callbackUrl`/page.\n * This could be a malicious hacker trying to redirect the user to a phishing site.\n * To prevent this, Auth.js checks if the callback URL is valid and throws this error if it is not.\n *\n * There is no action required, but it might be an indicator that somebody is trying to attack your application.\n */ class InvalidCallbackUrl extends AuthError {\n}\nInvalidCallbackUrl.type = \"InvalidCallbackUrl\";\n/**\n * The `authorize` callback returned `null` in the [Credentials provider](https://authjs.dev/getting-started/providers/credentials-tutorial).\n * We don't recommend providing information about which part of the credentials were wrong, as it might be abused by malicious hackers.\n */ class CredentialsSignin extends SignInError {\n}\nCredentialsSignin.type = \"CredentialsSignin\";\n/**\n * One of the configured OAuth or OIDC providers is missing the `authorization`, `token` or `userinfo`, or `issuer` configuration.\n * To perform OAuth or OIDC sign in, at least one of these endpoints is required.\n *\n * Learn more at [`OAuth2Config`](https://authjs.dev/reference/core/providers#oauth2configprofile) or [Guide: OAuth Provider](https://authjs.dev/guides/providers/custom-provider)\n */ class InvalidEndpoints extends AuthError {\n}\nInvalidEndpoints.type = \"InvalidEndpoints\";\n/**\n * Thrown when a PKCE, state or nonce OAuth check could not be performed.\n * This could happen if the OAuth provider is configured incorrectly or if the browser is blocking cookies.\n *\n * Learn more at [`checks`](https://authjs.dev/reference/core/providers#checks)\n */ class InvalidCheck extends AuthError {\n}\nInvalidCheck.type = \"InvalidCheck\";\n/**\n * Logged on the server when Auth.js could not decode or encode a JWT-based (`strategy: \"jwt\"`) session.\n *\n * Possible causes are either a misconfigured `secret` or a malformed JWT or `encode/decode` methods.\n *\n * :::note\n * When this error is logged, the session cookie is destroyed.\n * :::\n *\n * Learn more at [`secret`](https://authjs.dev/reference/core#secret), [`jwt.encode`](https://authjs.dev/reference/core/jwt#encode) or [`jwt.decode`](https://authjs.dev/reference/core/jwt#decode) for more information.\n */ class JWTSessionError extends AuthError {\n}\nJWTSessionError.type = \"JWTSessionError\";\n/**\n * Thrown if Auth.js is misonfigured. This could happen if you configured an Email provider but did not set up a database adapter,\n * or tried using a `strategy: \"database\"` session without a database adapter.\n * In both cases, make sure you either remove the configuration or add the missing adapter.\n *\n * Learn more at [Database Adapters](https://authjs.dev/getting-started/adapters), [Email provider](https://authjs.dev/reference/core/providers/email) or [Concept: Database session strategy](https://authjs.dev/concepts/session-strategies#database)\n */ class MissingAdapter extends AuthError {\n}\nMissingAdapter.type = \"MissingAdapter\";\n/**\n * Thrown similarily to [`MissingAdapter`](https://authjs.dev/reference/core/errors#missingadapter), but only some required methods were missing.\n *\n * Make sure you either remove the configuration or add the missing methods to the adapter.\n *\n * Learn more at [Database Adapters](https://authjs.dev/reference/core/adapters)\n */ class MissingAdapterMethods extends AuthError {\n}\nMissingAdapterMethods.type = \"MissingAdapterMethods\";\n/**\n * Thrown when a Credentials provider is missing the `authorize` configuration.\n * To perform credentials sign in, the `authorize` method is required.\n *\n * Learn more at [Credentials provider](https://authjs.dev/reference/core/providers/credentials)\n */ class MissingAuthorize extends AuthError {\n}\nMissingAuthorize.type = \"MissingAuthorize\";\n/**\n * Auth.js requires a secret or multiple secrets to be set, but none was not found. This is used to encrypt cookies, JWTs and other sensitive data.\n *\n * :::note\n * If you are using a framework like Next.js, we try to automatically infer the secret from the `AUTH_SECRET`, `AUTH_SECRET_1`, etc. environment variables.\n * Alternatively, you can also explicitly set the [`AuthConfig.secret`](https://authjs.dev/reference/core#secret) option.\n * :::\n *\n *\n * :::tip\n * To generate a random string, you can use the Auth.js CLI: `npx auth secret`\n * :::\n */ class MissingSecret extends AuthError {\n}\nMissingSecret.type = \"MissingSecret\";\n/**\n * Thrown when an Email address is already associated with an account\n * but the user is trying an OAuth account that is not linked to it.\n *\n * For security reasons, Auth.js does not automatically link OAuth accounts to existing accounts if the user is not signed in.\n *\n * :::tip\n * If you trust the OAuth provider to have verified the user's email address,\n * you can enable automatic account linking by setting [`allowDangerousEmailAccountLinking: true`](https://authjs.dev/reference/core/providers#allowdangerousemailaccountlinking)\n * in the provider configuration.\n * :::\n */ class OAuthAccountNotLinked extends SignInError {\n}\nOAuthAccountNotLinked.type = \"OAuthAccountNotLinked\";\n/**\n * Thrown when an OAuth provider returns an error during the sign in process.\n * This could happen for example if the user denied access to the application or there was a configuration error.\n *\n * For a full list of possible reasons, check out the specification [Authorization Code Grant: Error Response](https://www.rfc-editor.org/rfc/rfc6749#section-4.1.2.1)\n */ class OAuthCallbackError extends SignInError {\n}\nOAuthCallbackError.type = \"OAuthCallbackError\";\n/**\n * This error occurs during an OAuth sign in attempt when the provider's\n * response could not be parsed. This could for example happen if the provider's API\n * changed, or the [`OAuth2Config.profile`](https://authjs.dev/reference/core/providers/oauth#profile) method is not implemented correctly.\n */ class OAuthProfileParseError extends AuthError {\n}\nOAuthProfileParseError.type = \"OAuthProfileParseError\";\n/**\n * Logged on the server when Auth.js could not retrieve a session from the database (`strategy: \"database\"`).\n *\n * The database adapter might be misconfigured or the database is not reachable.\n *\n * Learn more at [Concept: Database session strategy](https://authjs.dev/concepts/session-strategies#database)\n */ class SessionTokenError extends AuthError {\n}\nSessionTokenError.type = \"SessionTokenError\";\n/**\n * Happens when login by [OAuth](https://authjs.dev/getting-started/providers/oauth-tutorial) could not be started.\n *\n * Possible causes are:\n * - The Authorization Server is not compliant with the [OAuth 2.0](https://www.ietf.org/rfc/rfc6749.html) or the [OIDC](https://openid.net/specs/openid-connect-core-1_0.html) specification.\n *   Check the details in the error message.\n *\n * :::tip\n * Check out `[auth][details]` in the logs to know which provider failed.\n * @example\n * ```sh\n * [auth][details]: { \"provider\": \"github\" }\n * ```\n * :::\n */ class OAuthSignInError extends SignInError {\n}\nOAuthSignInError.type = \"OAuthSignInError\";\n/**\n * Happens when the login by an [Email provider](https://authjs.dev/getting-started/providers/email-tutorial) could not be started.\n *\n * Possible causes are:\n * - The email sent from the client is invalid, could not be normalized by [`EmailConfig.normalizeIdentifier`](https://authjs.dev/reference/core/providers/email#normalizeidentifier)\n * - The provided email/token combination has expired:\n *   Ask the user to log in again.\n * - There was an error with the database:\n *   Check the database logs.\n */ class EmailSignInError extends SignInError {\n}\nEmailSignInError.type = \"EmailSignInError\";\n/**\n * Represents an error that occurs during the sign-out process. This error\n * is logged when there are issues in terminating a user's session, either\n * by failing to delete the session from the database (in database session\n * strategies) or encountering issues during other parts of the sign-out\n * process, such as emitting sign-out events or clearing session cookies.\n *\n * The session cookie(s) are emptied even if this error is logged.\n *\n */ class SignOutError extends AuthError {\n}\nSignOutError.type = \"SignOutError\";\n/**\n * Auth.js was requested to handle an operation that it does not support.\n *\n * See [`AuthAction`](https://authjs.dev/reference/core/types#authaction) for the supported actions.\n */ class UnknownAction extends AuthError {\n}\nUnknownAction.type = \"UnknownAction\";\n/**\n * Thrown when a Credentials provider is present but the JWT strategy (`strategy: \"jwt\"`) is not enabled.\n *\n * Learn more at [`strategy`](https://authjs.dev/reference/core#strategy) or [Credentials provider](https://authjs.dev/reference/core/providers/credentials)\n */ class UnsupportedStrategy extends AuthError {\n}\nUnsupportedStrategy.type = \"UnsupportedStrategy\";\n/** Thrown when an endpoint was incorrectly called without a provider, or with an unsupported provider. */ class InvalidProvider extends AuthError {\n}\nInvalidProvider.type = \"InvalidProvider\";\n/**\n * Thrown when the `trustHost` option was not set to `true`.\n *\n * Auth.js requires the `trustHost` option to be set to `true` since it's relying on the request headers' `host` value.\n *\n * :::note\n * Official Auth.js libraries might attempt to automatically set the `trustHost` option to `true` if the request is coming from a trusted host on a trusted platform.\n * :::\n *\n * Learn more at [`trustHost`](https://authjs.dev/reference/core#trusthost) or [Guide: Deployment](https://authjs.dev/getting-started/deployment)\n */ class UntrustedHost extends AuthError {\n}\nUntrustedHost.type = \"UntrustedHost\";\n/**\n * The user's email/token combination was invalid.\n * This could be because the email/token combination was not found in the database,\n * or because the token has expired. Ask the user to log in again.\n */ class Verification extends AuthError {\n}\nVerification.type = \"Verification\";\n/**\n * Error for missing CSRF tokens in client-side actions (`signIn`, `signOut`, `useSession#update`).\n * Thrown when actions lack the double submit cookie, essential for CSRF protection.\n *\n * CSRF ([Cross-Site Request Forgery](https://owasp.org/www-community/attacks/csrf))\n * is an attack leveraging authenticated user credentials for unauthorized actions.\n *\n * Double submit cookie pattern, a CSRF defense, requires matching values in a cookie\n * and request parameter. More on this at [MDN Web Docs](https://developer.mozilla.org/en-US/docs/Web/Security/CSRF).\n */ class MissingCSRF extends SignInError {\n}\nMissingCSRF.type = \"MissingCSRF\";\n/**\n * Thrown when multiple providers have `enableConditionalUI` set to `true`.\n * Only one provider can have this option enabled at a time.\n */ class DuplicateConditionalUI extends AuthError {\n}\nDuplicateConditionalUI.type = \"DuplicateConditionalUI\";\n/**\n * Thrown when a WebAuthn provider has `enableConditionalUI` set to `true` but no formField has `webauthn` in its autocomplete param.\n *\n * The `webauthn` autocomplete param is required for conditional UI to work.\n */ class MissingWebAuthnAutocomplete extends AuthError {\n}\nMissingWebAuthnAutocomplete.type = \"MissingWebAuthnAutocomplete\";\n/**\n * Thrown when a WebAuthn provider fails to verify a client response.\n */ class WebAuthnVerificationError extends AuthError {\n}\nWebAuthnVerificationError.type = \"WebAuthnVerificationError\";\n/**\n * Thrown when an Email address is already associated with an account\n * but the user is trying an account that is not linked to it.\n *\n * For security reasons, Auth.js does not automatically link accounts to existing accounts if the user is not signed in.\n */ class AccountNotLinked extends SignInError {\n}\nAccountNotLinked.type = \"AccountNotLinked\";\n/**\n * Thrown when an experimental feature is used but not enabled.\n */ class ExperimentalFeatureNotEnabled extends AuthError {\n}\nExperimentalFeatureNotEnabled.type = \"ExperimentalFeatureNotEnabled\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2Vycm9ycy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7Q0FJQyxHQUNNLE1BQU1BLGtCQUFrQkM7SUFDM0JDLFlBQVlDLE9BQU8sRUFBRUMsWUFBWSxDQUFFO1FBQy9CLElBQUlELG1CQUFtQkYsT0FBTztZQUMxQixLQUFLLENBQUNJLFdBQVc7Z0JBQ2JDLE9BQU87b0JBQUVDLEtBQUtKO29CQUFTLEdBQUdBLFFBQVFHLEtBQUs7b0JBQUUsR0FBR0YsWUFBWTtnQkFBQztZQUM3RDtRQUNKLE9BQ0ssSUFBSSxPQUFPRCxZQUFZLFVBQVU7WUFDbEMsSUFBSUMsd0JBQXdCSCxPQUFPO2dCQUMvQkcsZUFBZTtvQkFBRUcsS0FBS0g7b0JBQWMsR0FBR0EsYUFBYUUsS0FBSztnQkFBQztZQUM5RDtZQUNBLEtBQUssQ0FBQ0gsU0FBU0M7UUFDbkIsT0FDSztZQUNELEtBQUssQ0FBQ0MsV0FBV0Y7UUFDckI7UUFDQSxJQUFJLENBQUNLLElBQUksR0FBRyxJQUFJLENBQUNOLFdBQVcsQ0FBQ00sSUFBSTtRQUNqQyx1RUFBdUU7UUFDdkUsSUFBSSxDQUFDQyxJQUFJLEdBQUcsSUFBSSxDQUFDUCxXQUFXLENBQUNPLElBQUksSUFBSTtRQUNyQyx1RUFBdUU7UUFDdkUsSUFBSSxDQUFDQyxJQUFJLEdBQUcsSUFBSSxDQUFDUixXQUFXLENBQUNRLElBQUksSUFBSTtRQUNyQ1QsTUFBTVUsaUJBQWlCLEdBQUcsSUFBSSxFQUFFLElBQUksQ0FBQ1QsV0FBVztRQUNoRCxNQUFNVSxNQUFNLENBQUMsMEJBQTBCLEVBQUUsSUFBSSxDQUFDSCxJQUFJLENBQUNJLFdBQVcsR0FBRyxDQUFDO1FBQ2xFLElBQUksQ0FBQ1YsT0FBTyxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUNBLE9BQU8sR0FBRyxPQUFPLEdBQUcsYUFBYSxFQUFFUyxJQUFJLENBQUM7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Q3JCOzs7O0NBSUMsR0FDTSxNQUFNK0IscUJBQXFCeEM7QUFDbEM7QUFDQXdDLGFBQWEvQixJQUFJLEdBQUc7QUFDcEI7Ozs7Ozs7OztDQVNDLEdBQ00sTUFBTWdDLG9CQUFvQjNCO0FBQ2pDO0FBQ0EyQixZQUFZaEMsSUFBSSxHQUFHO0FBQ25COzs7Q0FHQyxHQUNNLE1BQU1pQywrQkFBK0IxQztBQUM1QztBQUNBMEMsdUJBQXVCakMsSUFBSSxHQUFHO0FBQzlCOzs7O0NBSUMsR0FDTSxNQUFNa0Msb0NBQW9DM0M7QUFDakQ7QUFDQTJDLDRCQUE0QmxDLElBQUksR0FBRztBQUNuQzs7Q0FFQyxHQUNNLE1BQU1tQyxrQ0FBa0M1QztBQUMvQztBQUNBNEMsMEJBQTBCbkMsSUFBSSxHQUFHO0FBQ2pDOzs7OztDQUtDLEdBQ00sTUFBTW9DLHlCQUF5Qi9CO0FBQ3RDO0FBQ0ErQixpQkFBaUJwQyxJQUFJLEdBQUc7QUFDeEI7O0NBRUMsR0FDTSxNQUFNcUMsc0NBQXNDOUM7QUFDbkQ7QUFDQThDLDhCQUE4QnJDLElBQUksR0FBRyIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtcngvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9lcnJvcnMuanM/ZTE1NSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEJhc2UgZXJyb3IgY2xhc3MgZm9yIGFsbCBBdXRoLmpzIGVycm9ycy5cbiAqIEl0J3Mgb3B0aW1pemVkIHRvIGJlIHByaW50ZWQgaW4gdGhlIHNlcnZlciBsb2dzIGluIGEgbmljZWx5IGZvcm1hdHRlZCB3YXlcbiAqIHZpYSB0aGUgW2Bsb2dnZXIuZXJyb3JgXShodHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUjbG9nZ2VyKSBvcHRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBBdXRoRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgZXJyb3JPcHRpb25zKSB7XG4gICAgICAgIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIHN1cGVyKHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgICAgIGNhdXNlOiB7IGVycjogbWVzc2FnZSwgLi4ubWVzc2FnZS5jYXVzZSwgLi4uZXJyb3JPcHRpb25zIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgaWYgKGVycm9yT3B0aW9ucyBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JPcHRpb25zID0geyBlcnI6IGVycm9yT3B0aW9ucywgLi4uZXJyb3JPcHRpb25zLmNhdXNlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdXBlcihtZXNzYWdlLCBlcnJvck9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3VwZXIodW5kZWZpbmVkLCBtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5hbWUgPSB0aGlzLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8zODQxXG4gICAgICAgIHRoaXMudHlwZSA9IHRoaXMuY29uc3RydWN0b3IudHlwZSA/PyBcIkF1dGhFcnJvclwiO1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMzg0MVxuICAgICAgICB0aGlzLmtpbmQgPSB0aGlzLmNvbnN0cnVjdG9yLmtpbmQgPz8gXCJlcnJvclwiO1xuICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZT8uKHRoaXMsIHRoaXMuY29uc3RydWN0b3IpO1xuICAgICAgICBjb25zdCB1cmwgPSBgaHR0cHM6Ly9lcnJvcnMuYXV0aGpzLmRldiMke3RoaXMudHlwZS50b0xvd2VyQ2FzZSgpfWA7XG4gICAgICAgIHRoaXMubWVzc2FnZSArPSBgJHt0aGlzLm1lc3NhZ2UgPyBcIiAuXCIgOiBcIlwifVJlYWQgbW9yZSBhdCAke3VybH1gO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBTaWduSW5FcnJvciBleHRlbmRzIEF1dGhFcnJvciB7XG59XG5TaWduSW5FcnJvci5raW5kID0gXCJzaWduSW5cIjtcbi8qKlxuICogT25lIG9mIHRoZSBkYXRhYmFzZSBbYEFkYXB0ZXJgIG1ldGhvZHNdKGh0dHBzOi8vYXV0aGpzLmRldi9yZWZlcmVuY2UvY29yZS9hZGFwdGVycyNtZXRob2RzKVxuICogZmFpbGVkIGR1cmluZyBleGVjdXRpb24uXG4gKlxuICogOjo6dGlwXG4gKiBJZiBgZGVidWc6IHRydWVgIGlzIHNldCwgeW91IGNhbiBjaGVjayBvdXQgYFthdXRoXVtkZWJ1Z11gIGluIHRoZSBsb2dzIHRvIGxlYXJuIG1vcmUgYWJvdXQgdGhlIGZhaWxlZCBhZGFwdGVyIG1ldGhvZCBleGVjdXRpb24uXG4gKiBAZXhhbXBsZVxuICogYGBgc2hcbiAqIFthdXRoXVtkZWJ1Z106IGFkYXB0ZXJfZ2V0VXNlckJ5RW1haWxcbiAqIHsgXCJhcmdzXCI6IFt1bmRlZmluZWRdIH1cbiAqIGBgYFxuICogOjo6XG4gKi9cbmV4cG9ydCBjbGFzcyBBZGFwdGVyRXJyb3IgZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuQWRhcHRlckVycm9yLnR5cGUgPSBcIkFkYXB0ZXJFcnJvclwiO1xuLyoqXG4gKiBUaHJvd24gd2hlbiB0aGUgZXhlY3V0aW9uIG9mIHRoZSBbYHNpZ25JbmAgY2FsbGJhY2tdKGh0dHBzOi8vYXV0aGpzLmRldi9yZWZlcmVuY2UvY29yZS90eXBlcyNzaWduaW4pIGZhaWxzXG4gKiBvciBpZiBpdCByZXR1cm5zIGBmYWxzZWAuXG4gKi9cbmV4cG9ydCBjbGFzcyBBdXRob3JpemVkQ2FsbGJhY2tFcnJvciBleHRlbmRzIEF1dGhFcnJvciB7XG59XG5BdXRob3JpemVkQ2FsbGJhY2tFcnJvci50eXBlID0gXCJBdXRob3JpemVkQ2FsbGJhY2tFcnJvclwiO1xuLyoqXG4gKiBUaGlzIGVycm9yIG9jY3VycyB3aGVuIHRoZSB1c2VyIGNhbm5vdCBmaW5pc2ggbG9naW4uXG4gKiBEZXBlbmRpbmcgb24gdGhlIHByb3ZpZGVyIHR5cGUsIHRoaXMgY291bGQgaGF2ZSBoYXBwZW5lZCBmb3IgbXVsdGlwbGUgcmVhc29ucy5cbiAqXG4gKiA6Ojp0aXBcbiAqIENoZWNrIG91dCBgW2F1dGhdW2RldGFpbHNdYCBpbiB0aGUgbG9ncyB0byBrbm93IHdoaWNoIHByb3ZpZGVyIGZhaWxlZC5cbiAqIEBleGFtcGxlXG4gKiBgYGBzaFxuICogW2F1dGhdW2RldGFpbHNdOiB7IFwicHJvdmlkZXJcIjogXCJnaXRodWJcIiB9XG4gKiBgYGBcbiAqIDo6OlxuICpcbiAqIEZvciBhbiBbT0F1dGggcHJvdmlkZXJdKGh0dHBzOi8vYXV0aGpzLmRldi9yZWZlcmVuY2UvY29yZS9wcm92aWRlcnMvb2F1dGgpLCBwb3NzaWJsZSBjYXVzZXMgYXJlOlxuICogLSBUaGUgdXNlciBkZW5pZWQgYWNjZXNzIHRvIHRoZSBhcHBsaWNhdGlvblxuICogLSBUaGVyZSB3YXMgYW4gZXJyb3IgcGFyc2luZyB0aGUgT0F1dGggUHJvZmlsZTpcbiAqICAgQ2hlY2sgb3V0IHRoZSBwcm92aWRlcidzIGBwcm9maWxlYCBvciBgdXNlcmluZm8ucmVxdWVzdGAgbWV0aG9kIHRvIG1ha2Ugc3VyZVxuICogICBpdCBjb3JyZWN0bHkgZmV0Y2hlcyB0aGUgdXNlcidzIHByb2ZpbGUuXG4gKiAtIFRoZSBgc2lnbkluYCBvciBgand0YCBjYWxsYmFjayBtZXRob2RzIHRocmV3IGFuIHVuY2F1Z2h0IGVycm9yOlxuICogICBDaGVjayB0aGUgY2FsbGJhY2sgbWV0aG9kIGltcGxlbWVudGF0aW9ucy5cbiAqXG4gKiBGb3IgYW4gW0VtYWlsIHByb3ZpZGVyXShodHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUvcHJvdmlkZXJzL2VtYWlsKSwgcG9zc2libGUgY2F1c2VzIGFyZTpcbiAqIC0gVGhlIHByb3ZpZGVkIGVtYWlsL3Rva2VuIGNvbWJpbmF0aW9uIHdhcyBpbnZhbGlkL21pc3Npbmc6XG4gKiAgIENoZWNrIGlmIHRoZSBwcm92aWRlcidzIGBzZW5kVmVyaWZpY2F0aW9uUmVxdWVzdGAgbWV0aG9kIGNvcnJlY3RseSBzZW5kcyB0aGUgZW1haWwuXG4gKiAtIFRoZSBwcm92aWRlZCBlbWFpbC90b2tlbiBjb21iaW5hdGlvbiBoYXMgZXhwaXJlZDpcbiAqICAgQXNrIHRoZSB1c2VyIHRvIGxvZyBpbiBhZ2Fpbi5cbiAqIC0gVGhlcmUgd2FzIGFuIGVycm9yIHdpdGggdGhlIGRhdGFiYXNlOlxuICogICBDaGVjayB0aGUgZGF0YWJhc2UgbG9ncy5cbiAqXG4gKiBGb3IgYSBbQ3JlZGVudGlhbHMgcHJvdmlkZXJdKGh0dHBzOi8vYXV0aGpzLmRldi9yZWZlcmVuY2UvY29yZS9wcm92aWRlcnMvY3JlZGVudGlhbHMpLCBwb3NzaWJsZSBjYXVzZXMgYXJlOlxuICogLSBUaGUgYGF1dGhvcml6ZWAgbWV0aG9kIHRocmV3IGFuIHVuY2F1Z2h0IGVycm9yOlxuICogICBDaGVjayB0aGUgcHJvdmlkZXIncyBgYXV0aG9yaXplYCBtZXRob2QuXG4gKiAtIFRoZSBgc2lnbkluYCBvciBgand0YCBjYWxsYmFjayBtZXRob2RzIHRocmV3IGFuIHVuY2F1Z2h0IGVycm9yOlxuICogICBDaGVjayB0aGUgY2FsbGJhY2sgbWV0aG9kIGltcGxlbWVudGF0aW9ucy5cbiAqXG4gKiA6Ojp0aXBcbiAqIENoZWNrIG91dCBgW2F1dGhdW2NhdXNlXWAgaW4gdGhlIGVycm9yIG1lc3NhZ2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqIEl0IHdpbGwgc2hvdyB0aGUgb3JpZ2luYWwgc3RhY2sgdHJhY2UuXG4gKiA6OjpcbiAqL1xuZXhwb3J0IGNsYXNzIENhbGxiYWNrUm91dGVFcnJvciBleHRlbmRzIEF1dGhFcnJvciB7XG59XG5DYWxsYmFja1JvdXRlRXJyb3IudHlwZSA9IFwiQ2FsbGJhY2tSb3V0ZUVycm9yXCI7XG4vKipcbiAqIFRocm93biB3aGVuIEF1dGguanMgaXMgbWlzY29uZmlndXJlZCBhbmQgYWNjaWRlbnRhbGx5IHRyaWVkIHRvIHJlcXVpcmUgYXV0aGVudGljYXRpb24gb24gYSBjdXN0b20gZXJyb3IgcGFnZS5cbiAqIFRvIHByZXZlbnQgYW4gaW5maW5pdGUgbG9vcCwgQXV0aC5qcyB3aWxsIGluc3RlYWQgcmVuZGVyIGl0cyBkZWZhdWx0IGVycm9yIHBhZ2UuXG4gKlxuICogVG8gZml4IHRoaXMsIG1ha2Ugc3VyZSB0aGF0IHRoZSBgZXJyb3JgIHBhZ2UgZG9lcyBub3QgcmVxdWlyZSBhdXRoZW50aWNhdGlvbi5cbiAqXG4gKiBMZWFybiBtb3JlIGF0IFtHdWlkZTogRXJyb3IgcGFnZXNdKGh0dHBzOi8vYXV0aGpzLmRldi9ndWlkZXMvYmFzaWNzL3BhZ2VzKVxuICovXG5leHBvcnQgY2xhc3MgRXJyb3JQYWdlTG9vcCBleHRlbmRzIEF1dGhFcnJvciB7XG59XG5FcnJvclBhZ2VMb29wLnR5cGUgPSBcIkVycm9yUGFnZUxvb3BcIjtcbi8qKlxuICogT25lIG9mIHRoZSBbYGV2ZW50c2AgbWV0aG9kc10oaHR0cHM6Ly9hdXRoanMuZGV2L3JlZmVyZW5jZS9jb3JlL3R5cGVzI2V2ZW50Y2FsbGJhY2tzKVxuICogZmFpbGVkIGR1cmluZyBleGVjdXRpb24uXG4gKlxuICogTWFrZSBzdXJlIHRoYXQgdGhlIGBldmVudHNgIG1ldGhvZHMgYXJlIGltcGxlbWVudGVkIGNvcnJlY3RseSBhbmQgdW5jYXVnaHQgZXJyb3JzIGFyZSBoYW5kbGVkLlxuICpcbiAqIExlYXJuIG1vcmUgYXQgW2BldmVudHNgXShodHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUvdHlwZXMjZXZlbnRjYWxsYmFja3MpXG4gKi9cbmV4cG9ydCBjbGFzcyBFdmVudEVycm9yIGV4dGVuZHMgQXV0aEVycm9yIHtcbn1cbkV2ZW50RXJyb3IudHlwZSA9IFwiRXZlbnRFcnJvclwiO1xuLyoqXG4gKiBUaHJvd24gd2hlbiBBdXRoLmpzIGlzIHVuYWJsZSB0byB2ZXJpZnkgYSBgY2FsbGJhY2tVcmxgIHZhbHVlLlxuICogVGhlIGJyb3dzZXIgZWl0aGVyIGRpc2FibGVkIGNvb2tpZXMgb3IgdGhlIGBjYWxsYmFja1VybGAgaXMgbm90IGEgdmFsaWQgVVJMLlxuICpcbiAqIFNvbWVib2R5IG1pZ2h0IGhhdmUgdHJpZWQgdG8gbWFuaXB1bGF0ZSB0aGUgY2FsbGJhY2sgVVJMIHRoYXQgQXV0aC5qcyB1c2VzIHRvIHJlZGlyZWN0IHRoZSB1c2VyIGJhY2sgdG8gdGhlIGNvbmZpZ3VyZWQgYGNhbGxiYWNrVXJsYC9wYWdlLlxuICogVGhpcyBjb3VsZCBiZSBhIG1hbGljaW91cyBoYWNrZXIgdHJ5aW5nIHRvIHJlZGlyZWN0IHRoZSB1c2VyIHRvIGEgcGhpc2hpbmcgc2l0ZS5cbiAqIFRvIHByZXZlbnQgdGhpcywgQXV0aC5qcyBjaGVja3MgaWYgdGhlIGNhbGxiYWNrIFVSTCBpcyB2YWxpZCBhbmQgdGhyb3dzIHRoaXMgZXJyb3IgaWYgaXQgaXMgbm90LlxuICpcbiAqIFRoZXJlIGlzIG5vIGFjdGlvbiByZXF1aXJlZCwgYnV0IGl0IG1pZ2h0IGJlIGFuIGluZGljYXRvciB0aGF0IHNvbWVib2R5IGlzIHRyeWluZyB0byBhdHRhY2sgeW91ciBhcHBsaWNhdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIEludmFsaWRDYWxsYmFja1VybCBleHRlbmRzIEF1dGhFcnJvciB7XG59XG5JbnZhbGlkQ2FsbGJhY2tVcmwudHlwZSA9IFwiSW52YWxpZENhbGxiYWNrVXJsXCI7XG4vKipcbiAqIFRoZSBgYXV0aG9yaXplYCBjYWxsYmFjayByZXR1cm5lZCBgbnVsbGAgaW4gdGhlIFtDcmVkZW50aWFscyBwcm92aWRlcl0oaHR0cHM6Ly9hdXRoanMuZGV2L2dldHRpbmctc3RhcnRlZC9wcm92aWRlcnMvY3JlZGVudGlhbHMtdHV0b3JpYWwpLlxuICogV2UgZG9uJ3QgcmVjb21tZW5kIHByb3ZpZGluZyBpbmZvcm1hdGlvbiBhYm91dCB3aGljaCBwYXJ0IG9mIHRoZSBjcmVkZW50aWFscyB3ZXJlIHdyb25nLCBhcyBpdCBtaWdodCBiZSBhYnVzZWQgYnkgbWFsaWNpb3VzIGhhY2tlcnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBDcmVkZW50aWFsc1NpZ25pbiBleHRlbmRzIFNpZ25JbkVycm9yIHtcbn1cbkNyZWRlbnRpYWxzU2lnbmluLnR5cGUgPSBcIkNyZWRlbnRpYWxzU2lnbmluXCI7XG4vKipcbiAqIE9uZSBvZiB0aGUgY29uZmlndXJlZCBPQXV0aCBvciBPSURDIHByb3ZpZGVycyBpcyBtaXNzaW5nIHRoZSBgYXV0aG9yaXphdGlvbmAsIGB0b2tlbmAgb3IgYHVzZXJpbmZvYCwgb3IgYGlzc3VlcmAgY29uZmlndXJhdGlvbi5cbiAqIFRvIHBlcmZvcm0gT0F1dGggb3IgT0lEQyBzaWduIGluLCBhdCBsZWFzdCBvbmUgb2YgdGhlc2UgZW5kcG9pbnRzIGlzIHJlcXVpcmVkLlxuICpcbiAqIExlYXJuIG1vcmUgYXQgW2BPQXV0aDJDb25maWdgXShodHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUvcHJvdmlkZXJzI29hdXRoMmNvbmZpZ3Byb2ZpbGUpIG9yIFtHdWlkZTogT0F1dGggUHJvdmlkZXJdKGh0dHBzOi8vYXV0aGpzLmRldi9ndWlkZXMvcHJvdmlkZXJzL2N1c3RvbS1wcm92aWRlcilcbiAqL1xuZXhwb3J0IGNsYXNzIEludmFsaWRFbmRwb2ludHMgZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuSW52YWxpZEVuZHBvaW50cy50eXBlID0gXCJJbnZhbGlkRW5kcG9pbnRzXCI7XG4vKipcbiAqIFRocm93biB3aGVuIGEgUEtDRSwgc3RhdGUgb3Igbm9uY2UgT0F1dGggY2hlY2sgY291bGQgbm90IGJlIHBlcmZvcm1lZC5cbiAqIFRoaXMgY291bGQgaGFwcGVuIGlmIHRoZSBPQXV0aCBwcm92aWRlciBpcyBjb25maWd1cmVkIGluY29ycmVjdGx5IG9yIGlmIHRoZSBicm93c2VyIGlzIGJsb2NraW5nIGNvb2tpZXMuXG4gKlxuICogTGVhcm4gbW9yZSBhdCBbYGNoZWNrc2BdKGh0dHBzOi8vYXV0aGpzLmRldi9yZWZlcmVuY2UvY29yZS9wcm92aWRlcnMjY2hlY2tzKVxuICovXG5leHBvcnQgY2xhc3MgSW52YWxpZENoZWNrIGV4dGVuZHMgQXV0aEVycm9yIHtcbn1cbkludmFsaWRDaGVjay50eXBlID0gXCJJbnZhbGlkQ2hlY2tcIjtcbi8qKlxuICogTG9nZ2VkIG9uIHRoZSBzZXJ2ZXIgd2hlbiBBdXRoLmpzIGNvdWxkIG5vdCBkZWNvZGUgb3IgZW5jb2RlIGEgSldULWJhc2VkIChgc3RyYXRlZ3k6IFwiand0XCJgKSBzZXNzaW9uLlxuICpcbiAqIFBvc3NpYmxlIGNhdXNlcyBhcmUgZWl0aGVyIGEgbWlzY29uZmlndXJlZCBgc2VjcmV0YCBvciBhIG1hbGZvcm1lZCBKV1Qgb3IgYGVuY29kZS9kZWNvZGVgIG1ldGhvZHMuXG4gKlxuICogOjo6bm90ZVxuICogV2hlbiB0aGlzIGVycm9yIGlzIGxvZ2dlZCwgdGhlIHNlc3Npb24gY29va2llIGlzIGRlc3Ryb3llZC5cbiAqIDo6OlxuICpcbiAqIExlYXJuIG1vcmUgYXQgW2BzZWNyZXRgXShodHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUjc2VjcmV0KSwgW2Bqd3QuZW5jb2RlYF0oaHR0cHM6Ly9hdXRoanMuZGV2L3JlZmVyZW5jZS9jb3JlL2p3dCNlbmNvZGUpIG9yIFtgand0LmRlY29kZWBdKGh0dHBzOi8vYXV0aGpzLmRldi9yZWZlcmVuY2UvY29yZS9qd3QjZGVjb2RlKSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIEpXVFNlc3Npb25FcnJvciBleHRlbmRzIEF1dGhFcnJvciB7XG59XG5KV1RTZXNzaW9uRXJyb3IudHlwZSA9IFwiSldUU2Vzc2lvbkVycm9yXCI7XG4vKipcbiAqIFRocm93biBpZiBBdXRoLmpzIGlzIG1pc29uZmlndXJlZC4gVGhpcyBjb3VsZCBoYXBwZW4gaWYgeW91IGNvbmZpZ3VyZWQgYW4gRW1haWwgcHJvdmlkZXIgYnV0IGRpZCBub3Qgc2V0IHVwIGEgZGF0YWJhc2UgYWRhcHRlcixcbiAqIG9yIHRyaWVkIHVzaW5nIGEgYHN0cmF0ZWd5OiBcImRhdGFiYXNlXCJgIHNlc3Npb24gd2l0aG91dCBhIGRhdGFiYXNlIGFkYXB0ZXIuXG4gKiBJbiBib3RoIGNhc2VzLCBtYWtlIHN1cmUgeW91IGVpdGhlciByZW1vdmUgdGhlIGNvbmZpZ3VyYXRpb24gb3IgYWRkIHRoZSBtaXNzaW5nIGFkYXB0ZXIuXG4gKlxuICogTGVhcm4gbW9yZSBhdCBbRGF0YWJhc2UgQWRhcHRlcnNdKGh0dHBzOi8vYXV0aGpzLmRldi9nZXR0aW5nLXN0YXJ0ZWQvYWRhcHRlcnMpLCBbRW1haWwgcHJvdmlkZXJdKGh0dHBzOi8vYXV0aGpzLmRldi9yZWZlcmVuY2UvY29yZS9wcm92aWRlcnMvZW1haWwpIG9yIFtDb25jZXB0OiBEYXRhYmFzZSBzZXNzaW9uIHN0cmF0ZWd5XShodHRwczovL2F1dGhqcy5kZXYvY29uY2VwdHMvc2Vzc2lvbi1zdHJhdGVnaWVzI2RhdGFiYXNlKVxuICovXG5leHBvcnQgY2xhc3MgTWlzc2luZ0FkYXB0ZXIgZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuTWlzc2luZ0FkYXB0ZXIudHlwZSA9IFwiTWlzc2luZ0FkYXB0ZXJcIjtcbi8qKlxuICogVGhyb3duIHNpbWlsYXJpbHkgdG8gW2BNaXNzaW5nQWRhcHRlcmBdKGh0dHBzOi8vYXV0aGpzLmRldi9yZWZlcmVuY2UvY29yZS9lcnJvcnMjbWlzc2luZ2FkYXB0ZXIpLCBidXQgb25seSBzb21lIHJlcXVpcmVkIG1ldGhvZHMgd2VyZSBtaXNzaW5nLlxuICpcbiAqIE1ha2Ugc3VyZSB5b3UgZWl0aGVyIHJlbW92ZSB0aGUgY29uZmlndXJhdGlvbiBvciBhZGQgdGhlIG1pc3NpbmcgbWV0aG9kcyB0byB0aGUgYWRhcHRlci5cbiAqXG4gKiBMZWFybiBtb3JlIGF0IFtEYXRhYmFzZSBBZGFwdGVyc10oaHR0cHM6Ly9hdXRoanMuZGV2L3JlZmVyZW5jZS9jb3JlL2FkYXB0ZXJzKVxuICovXG5leHBvcnQgY2xhc3MgTWlzc2luZ0FkYXB0ZXJNZXRob2RzIGV4dGVuZHMgQXV0aEVycm9yIHtcbn1cbk1pc3NpbmdBZGFwdGVyTWV0aG9kcy50eXBlID0gXCJNaXNzaW5nQWRhcHRlck1ldGhvZHNcIjtcbi8qKlxuICogVGhyb3duIHdoZW4gYSBDcmVkZW50aWFscyBwcm92aWRlciBpcyBtaXNzaW5nIHRoZSBgYXV0aG9yaXplYCBjb25maWd1cmF0aW9uLlxuICogVG8gcGVyZm9ybSBjcmVkZW50aWFscyBzaWduIGluLCB0aGUgYGF1dGhvcml6ZWAgbWV0aG9kIGlzIHJlcXVpcmVkLlxuICpcbiAqIExlYXJuIG1vcmUgYXQgW0NyZWRlbnRpYWxzIHByb3ZpZGVyXShodHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUvcHJvdmlkZXJzL2NyZWRlbnRpYWxzKVxuICovXG5leHBvcnQgY2xhc3MgTWlzc2luZ0F1dGhvcml6ZSBleHRlbmRzIEF1dGhFcnJvciB7XG59XG5NaXNzaW5nQXV0aG9yaXplLnR5cGUgPSBcIk1pc3NpbmdBdXRob3JpemVcIjtcbi8qKlxuICogQXV0aC5qcyByZXF1aXJlcyBhIHNlY3JldCBvciBtdWx0aXBsZSBzZWNyZXRzIHRvIGJlIHNldCwgYnV0IG5vbmUgd2FzIG5vdCBmb3VuZC4gVGhpcyBpcyB1c2VkIHRvIGVuY3J5cHQgY29va2llcywgSldUcyBhbmQgb3RoZXIgc2Vuc2l0aXZlIGRhdGEuXG4gKlxuICogOjo6bm90ZVxuICogSWYgeW91IGFyZSB1c2luZyBhIGZyYW1ld29yayBsaWtlIE5leHQuanMsIHdlIHRyeSB0byBhdXRvbWF0aWNhbGx5IGluZmVyIHRoZSBzZWNyZXQgZnJvbSB0aGUgYEFVVEhfU0VDUkVUYCwgYEFVVEhfU0VDUkVUXzFgLCBldGMuIGVudmlyb25tZW50IHZhcmlhYmxlcy5cbiAqIEFsdGVybmF0aXZlbHksIHlvdSBjYW4gYWxzbyBleHBsaWNpdGx5IHNldCB0aGUgW2BBdXRoQ29uZmlnLnNlY3JldGBdKGh0dHBzOi8vYXV0aGpzLmRldi9yZWZlcmVuY2UvY29yZSNzZWNyZXQpIG9wdGlvbi5cbiAqIDo6OlxuICpcbiAqXG4gKiA6Ojp0aXBcbiAqIFRvIGdlbmVyYXRlIGEgcmFuZG9tIHN0cmluZywgeW91IGNhbiB1c2UgdGhlIEF1dGguanMgQ0xJOiBgbnB4IGF1dGggc2VjcmV0YFxuICogOjo6XG4gKi9cbmV4cG9ydCBjbGFzcyBNaXNzaW5nU2VjcmV0IGV4dGVuZHMgQXV0aEVycm9yIHtcbn1cbk1pc3NpbmdTZWNyZXQudHlwZSA9IFwiTWlzc2luZ1NlY3JldFwiO1xuLyoqXG4gKiBUaHJvd24gd2hlbiBhbiBFbWFpbCBhZGRyZXNzIGlzIGFscmVhZHkgYXNzb2NpYXRlZCB3aXRoIGFuIGFjY291bnRcbiAqIGJ1dCB0aGUgdXNlciBpcyB0cnlpbmcgYW4gT0F1dGggYWNjb3VudCB0aGF0IGlzIG5vdCBsaW5rZWQgdG8gaXQuXG4gKlxuICogRm9yIHNlY3VyaXR5IHJlYXNvbnMsIEF1dGguanMgZG9lcyBub3QgYXV0b21hdGljYWxseSBsaW5rIE9BdXRoIGFjY291bnRzIHRvIGV4aXN0aW5nIGFjY291bnRzIGlmIHRoZSB1c2VyIGlzIG5vdCBzaWduZWQgaW4uXG4gKlxuICogOjo6dGlwXG4gKiBJZiB5b3UgdHJ1c3QgdGhlIE9BdXRoIHByb3ZpZGVyIHRvIGhhdmUgdmVyaWZpZWQgdGhlIHVzZXIncyBlbWFpbCBhZGRyZXNzLFxuICogeW91IGNhbiBlbmFibGUgYXV0b21hdGljIGFjY291bnQgbGlua2luZyBieSBzZXR0aW5nIFtgYWxsb3dEYW5nZXJvdXNFbWFpbEFjY291bnRMaW5raW5nOiB0cnVlYF0oaHR0cHM6Ly9hdXRoanMuZGV2L3JlZmVyZW5jZS9jb3JlL3Byb3ZpZGVycyNhbGxvd2Rhbmdlcm91c2VtYWlsYWNjb3VudGxpbmtpbmcpXG4gKiBpbiB0aGUgcHJvdmlkZXIgY29uZmlndXJhdGlvbi5cbiAqIDo6OlxuICovXG5leHBvcnQgY2xhc3MgT0F1dGhBY2NvdW50Tm90TGlua2VkIGV4dGVuZHMgU2lnbkluRXJyb3Ige1xufVxuT0F1dGhBY2NvdW50Tm90TGlua2VkLnR5cGUgPSBcIk9BdXRoQWNjb3VudE5vdExpbmtlZFwiO1xuLyoqXG4gKiBUaHJvd24gd2hlbiBhbiBPQXV0aCBwcm92aWRlciByZXR1cm5zIGFuIGVycm9yIGR1cmluZyB0aGUgc2lnbiBpbiBwcm9jZXNzLlxuICogVGhpcyBjb3VsZCBoYXBwZW4gZm9yIGV4YW1wbGUgaWYgdGhlIHVzZXIgZGVuaWVkIGFjY2VzcyB0byB0aGUgYXBwbGljYXRpb24gb3IgdGhlcmUgd2FzIGEgY29uZmlndXJhdGlvbiBlcnJvci5cbiAqXG4gKiBGb3IgYSBmdWxsIGxpc3Qgb2YgcG9zc2libGUgcmVhc29ucywgY2hlY2sgb3V0IHRoZSBzcGVjaWZpY2F0aW9uIFtBdXRob3JpemF0aW9uIENvZGUgR3JhbnQ6IEVycm9yIFJlc3BvbnNlXShodHRwczovL3d3dy5yZmMtZWRpdG9yLm9yZy9yZmMvcmZjNjc0OSNzZWN0aW9uLTQuMS4yLjEpXG4gKi9cbmV4cG9ydCBjbGFzcyBPQXV0aENhbGxiYWNrRXJyb3IgZXh0ZW5kcyBTaWduSW5FcnJvciB7XG59XG5PQXV0aENhbGxiYWNrRXJyb3IudHlwZSA9IFwiT0F1dGhDYWxsYmFja0Vycm9yXCI7XG4vKipcbiAqIFRoaXMgZXJyb3Igb2NjdXJzIGR1cmluZyBhbiBPQXV0aCBzaWduIGluIGF0dGVtcHQgd2hlbiB0aGUgcHJvdmlkZXInc1xuICogcmVzcG9uc2UgY291bGQgbm90IGJlIHBhcnNlZC4gVGhpcyBjb3VsZCBmb3IgZXhhbXBsZSBoYXBwZW4gaWYgdGhlIHByb3ZpZGVyJ3MgQVBJXG4gKiBjaGFuZ2VkLCBvciB0aGUgW2BPQXV0aDJDb25maWcucHJvZmlsZWBdKGh0dHBzOi8vYXV0aGpzLmRldi9yZWZlcmVuY2UvY29yZS9wcm92aWRlcnMvb2F1dGgjcHJvZmlsZSkgbWV0aG9kIGlzIG5vdCBpbXBsZW1lbnRlZCBjb3JyZWN0bHkuXG4gKi9cbmV4cG9ydCBjbGFzcyBPQXV0aFByb2ZpbGVQYXJzZUVycm9yIGV4dGVuZHMgQXV0aEVycm9yIHtcbn1cbk9BdXRoUHJvZmlsZVBhcnNlRXJyb3IudHlwZSA9IFwiT0F1dGhQcm9maWxlUGFyc2VFcnJvclwiO1xuLyoqXG4gKiBMb2dnZWQgb24gdGhlIHNlcnZlciB3aGVuIEF1dGguanMgY291bGQgbm90IHJldHJpZXZlIGEgc2Vzc2lvbiBmcm9tIHRoZSBkYXRhYmFzZSAoYHN0cmF0ZWd5OiBcImRhdGFiYXNlXCJgKS5cbiAqXG4gKiBUaGUgZGF0YWJhc2UgYWRhcHRlciBtaWdodCBiZSBtaXNjb25maWd1cmVkIG9yIHRoZSBkYXRhYmFzZSBpcyBub3QgcmVhY2hhYmxlLlxuICpcbiAqIExlYXJuIG1vcmUgYXQgW0NvbmNlcHQ6IERhdGFiYXNlIHNlc3Npb24gc3RyYXRlZ3ldKGh0dHBzOi8vYXV0aGpzLmRldi9jb25jZXB0cy9zZXNzaW9uLXN0cmF0ZWdpZXMjZGF0YWJhc2UpXG4gKi9cbmV4cG9ydCBjbGFzcyBTZXNzaW9uVG9rZW5FcnJvciBleHRlbmRzIEF1dGhFcnJvciB7XG59XG5TZXNzaW9uVG9rZW5FcnJvci50eXBlID0gXCJTZXNzaW9uVG9rZW5FcnJvclwiO1xuLyoqXG4gKiBIYXBwZW5zIHdoZW4gbG9naW4gYnkgW09BdXRoXShodHRwczovL2F1dGhqcy5kZXYvZ2V0dGluZy1zdGFydGVkL3Byb3ZpZGVycy9vYXV0aC10dXRvcmlhbCkgY291bGQgbm90IGJlIHN0YXJ0ZWQuXG4gKlxuICogUG9zc2libGUgY2F1c2VzIGFyZTpcbiAqIC0gVGhlIEF1dGhvcml6YXRpb24gU2VydmVyIGlzIG5vdCBjb21wbGlhbnQgd2l0aCB0aGUgW09BdXRoIDIuMF0oaHR0cHM6Ly93d3cuaWV0Zi5vcmcvcmZjL3JmYzY3NDkuaHRtbCkgb3IgdGhlIFtPSURDXShodHRwczovL29wZW5pZC5uZXQvc3BlY3Mvb3BlbmlkLWNvbm5lY3QtY29yZS0xXzAuaHRtbCkgc3BlY2lmaWNhdGlvbi5cbiAqICAgQ2hlY2sgdGhlIGRldGFpbHMgaW4gdGhlIGVycm9yIG1lc3NhZ2UuXG4gKlxuICogOjo6dGlwXG4gKiBDaGVjayBvdXQgYFthdXRoXVtkZXRhaWxzXWAgaW4gdGhlIGxvZ3MgdG8ga25vdyB3aGljaCBwcm92aWRlciBmYWlsZWQuXG4gKiBAZXhhbXBsZVxuICogYGBgc2hcbiAqIFthdXRoXVtkZXRhaWxzXTogeyBcInByb3ZpZGVyXCI6IFwiZ2l0aHViXCIgfVxuICogYGBgXG4gKiA6OjpcbiAqL1xuZXhwb3J0IGNsYXNzIE9BdXRoU2lnbkluRXJyb3IgZXh0ZW5kcyBTaWduSW5FcnJvciB7XG59XG5PQXV0aFNpZ25JbkVycm9yLnR5cGUgPSBcIk9BdXRoU2lnbkluRXJyb3JcIjtcbi8qKlxuICogSGFwcGVucyB3aGVuIHRoZSBsb2dpbiBieSBhbiBbRW1haWwgcHJvdmlkZXJdKGh0dHBzOi8vYXV0aGpzLmRldi9nZXR0aW5nLXN0YXJ0ZWQvcHJvdmlkZXJzL2VtYWlsLXR1dG9yaWFsKSBjb3VsZCBub3QgYmUgc3RhcnRlZC5cbiAqXG4gKiBQb3NzaWJsZSBjYXVzZXMgYXJlOlxuICogLSBUaGUgZW1haWwgc2VudCBmcm9tIHRoZSBjbGllbnQgaXMgaW52YWxpZCwgY291bGQgbm90IGJlIG5vcm1hbGl6ZWQgYnkgW2BFbWFpbENvbmZpZy5ub3JtYWxpemVJZGVudGlmaWVyYF0oaHR0cHM6Ly9hdXRoanMuZGV2L3JlZmVyZW5jZS9jb3JlL3Byb3ZpZGVycy9lbWFpbCNub3JtYWxpemVpZGVudGlmaWVyKVxuICogLSBUaGUgcHJvdmlkZWQgZW1haWwvdG9rZW4gY29tYmluYXRpb24gaGFzIGV4cGlyZWQ6XG4gKiAgIEFzayB0aGUgdXNlciB0byBsb2cgaW4gYWdhaW4uXG4gKiAtIFRoZXJlIHdhcyBhbiBlcnJvciB3aXRoIHRoZSBkYXRhYmFzZTpcbiAqICAgQ2hlY2sgdGhlIGRhdGFiYXNlIGxvZ3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBFbWFpbFNpZ25JbkVycm9yIGV4dGVuZHMgU2lnbkluRXJyb3Ige1xufVxuRW1haWxTaWduSW5FcnJvci50eXBlID0gXCJFbWFpbFNpZ25JbkVycm9yXCI7XG4vKipcbiAqIFJlcHJlc2VudHMgYW4gZXJyb3IgdGhhdCBvY2N1cnMgZHVyaW5nIHRoZSBzaWduLW91dCBwcm9jZXNzLiBUaGlzIGVycm9yXG4gKiBpcyBsb2dnZWQgd2hlbiB0aGVyZSBhcmUgaXNzdWVzIGluIHRlcm1pbmF0aW5nIGEgdXNlcidzIHNlc3Npb24sIGVpdGhlclxuICogYnkgZmFpbGluZyB0byBkZWxldGUgdGhlIHNlc3Npb24gZnJvbSB0aGUgZGF0YWJhc2UgKGluIGRhdGFiYXNlIHNlc3Npb25cbiAqIHN0cmF0ZWdpZXMpIG9yIGVuY291bnRlcmluZyBpc3N1ZXMgZHVyaW5nIG90aGVyIHBhcnRzIG9mIHRoZSBzaWduLW91dFxuICogcHJvY2Vzcywgc3VjaCBhcyBlbWl0dGluZyBzaWduLW91dCBldmVudHMgb3IgY2xlYXJpbmcgc2Vzc2lvbiBjb29raWVzLlxuICpcbiAqIFRoZSBzZXNzaW9uIGNvb2tpZShzKSBhcmUgZW1wdGllZCBldmVuIGlmIHRoaXMgZXJyb3IgaXMgbG9nZ2VkLlxuICpcbiAqL1xuZXhwb3J0IGNsYXNzIFNpZ25PdXRFcnJvciBleHRlbmRzIEF1dGhFcnJvciB7XG59XG5TaWduT3V0RXJyb3IudHlwZSA9IFwiU2lnbk91dEVycm9yXCI7XG4vKipcbiAqIEF1dGguanMgd2FzIHJlcXVlc3RlZCB0byBoYW5kbGUgYW4gb3BlcmF0aW9uIHRoYXQgaXQgZG9lcyBub3Qgc3VwcG9ydC5cbiAqXG4gKiBTZWUgW2BBdXRoQWN0aW9uYF0oaHR0cHM6Ly9hdXRoanMuZGV2L3JlZmVyZW5jZS9jb3JlL3R5cGVzI2F1dGhhY3Rpb24pIGZvciB0aGUgc3VwcG9ydGVkIGFjdGlvbnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBVbmtub3duQWN0aW9uIGV4dGVuZHMgQXV0aEVycm9yIHtcbn1cblVua25vd25BY3Rpb24udHlwZSA9IFwiVW5rbm93bkFjdGlvblwiO1xuLyoqXG4gKiBUaHJvd24gd2hlbiBhIENyZWRlbnRpYWxzIHByb3ZpZGVyIGlzIHByZXNlbnQgYnV0IHRoZSBKV1Qgc3RyYXRlZ3kgKGBzdHJhdGVneTogXCJqd3RcImApIGlzIG5vdCBlbmFibGVkLlxuICpcbiAqIExlYXJuIG1vcmUgYXQgW2BzdHJhdGVneWBdKGh0dHBzOi8vYXV0aGpzLmRldi9yZWZlcmVuY2UvY29yZSNzdHJhdGVneSkgb3IgW0NyZWRlbnRpYWxzIHByb3ZpZGVyXShodHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUvcHJvdmlkZXJzL2NyZWRlbnRpYWxzKVxuICovXG5leHBvcnQgY2xhc3MgVW5zdXBwb3J0ZWRTdHJhdGVneSBleHRlbmRzIEF1dGhFcnJvciB7XG59XG5VbnN1cHBvcnRlZFN0cmF0ZWd5LnR5cGUgPSBcIlVuc3VwcG9ydGVkU3RyYXRlZ3lcIjtcbi8qKiBUaHJvd24gd2hlbiBhbiBlbmRwb2ludCB3YXMgaW5jb3JyZWN0bHkgY2FsbGVkIHdpdGhvdXQgYSBwcm92aWRlciwgb3Igd2l0aCBhbiB1bnN1cHBvcnRlZCBwcm92aWRlci4gKi9cbmV4cG9ydCBjbGFzcyBJbnZhbGlkUHJvdmlkZXIgZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuSW52YWxpZFByb3ZpZGVyLnR5cGUgPSBcIkludmFsaWRQcm92aWRlclwiO1xuLyoqXG4gKiBUaHJvd24gd2hlbiB0aGUgYHRydXN0SG9zdGAgb3B0aW9uIHdhcyBub3Qgc2V0IHRvIGB0cnVlYC5cbiAqXG4gKiBBdXRoLmpzIHJlcXVpcmVzIHRoZSBgdHJ1c3RIb3N0YCBvcHRpb24gdG8gYmUgc2V0IHRvIGB0cnVlYCBzaW5jZSBpdCdzIHJlbHlpbmcgb24gdGhlIHJlcXVlc3QgaGVhZGVycycgYGhvc3RgIHZhbHVlLlxuICpcbiAqIDo6Om5vdGVcbiAqIE9mZmljaWFsIEF1dGguanMgbGlicmFyaWVzIG1pZ2h0IGF0dGVtcHQgdG8gYXV0b21hdGljYWxseSBzZXQgdGhlIGB0cnVzdEhvc3RgIG9wdGlvbiB0byBgdHJ1ZWAgaWYgdGhlIHJlcXVlc3QgaXMgY29taW5nIGZyb20gYSB0cnVzdGVkIGhvc3Qgb24gYSB0cnVzdGVkIHBsYXRmb3JtLlxuICogOjo6XG4gKlxuICogTGVhcm4gbW9yZSBhdCBbYHRydXN0SG9zdGBdKGh0dHBzOi8vYXV0aGpzLmRldi9yZWZlcmVuY2UvY29yZSN0cnVzdGhvc3QpIG9yIFtHdWlkZTogRGVwbG95bWVudF0oaHR0cHM6Ly9hdXRoanMuZGV2L2dldHRpbmctc3RhcnRlZC9kZXBsb3ltZW50KVxuICovXG5leHBvcnQgY2xhc3MgVW50cnVzdGVkSG9zdCBleHRlbmRzIEF1dGhFcnJvciB7XG59XG5VbnRydXN0ZWRIb3N0LnR5cGUgPSBcIlVudHJ1c3RlZEhvc3RcIjtcbi8qKlxuICogVGhlIHVzZXIncyBlbWFpbC90b2tlbiBjb21iaW5hdGlvbiB3YXMgaW52YWxpZC5cbiAqIFRoaXMgY291bGQgYmUgYmVjYXVzZSB0aGUgZW1haWwvdG9rZW4gY29tYmluYXRpb24gd2FzIG5vdCBmb3VuZCBpbiB0aGUgZGF0YWJhc2UsXG4gKiBvciBiZWNhdXNlIHRoZSB0b2tlbiBoYXMgZXhwaXJlZC4gQXNrIHRoZSB1c2VyIHRvIGxvZyBpbiBhZ2Fpbi5cbiAqL1xuZXhwb3J0IGNsYXNzIFZlcmlmaWNhdGlvbiBleHRlbmRzIEF1dGhFcnJvciB7XG59XG5WZXJpZmljYXRpb24udHlwZSA9IFwiVmVyaWZpY2F0aW9uXCI7XG4vKipcbiAqIEVycm9yIGZvciBtaXNzaW5nIENTUkYgdG9rZW5zIGluIGNsaWVudC1zaWRlIGFjdGlvbnMgKGBzaWduSW5gLCBgc2lnbk91dGAsIGB1c2VTZXNzaW9uI3VwZGF0ZWApLlxuICogVGhyb3duIHdoZW4gYWN0aW9ucyBsYWNrIHRoZSBkb3VibGUgc3VibWl0IGNvb2tpZSwgZXNzZW50aWFsIGZvciBDU1JGIHByb3RlY3Rpb24uXG4gKlxuICogQ1NSRiAoW0Nyb3NzLVNpdGUgUmVxdWVzdCBGb3JnZXJ5XShodHRwczovL293YXNwLm9yZy93d3ctY29tbXVuaXR5L2F0dGFja3MvY3NyZikpXG4gKiBpcyBhbiBhdHRhY2sgbGV2ZXJhZ2luZyBhdXRoZW50aWNhdGVkIHVzZXIgY3JlZGVudGlhbHMgZm9yIHVuYXV0aG9yaXplZCBhY3Rpb25zLlxuICpcbiAqIERvdWJsZSBzdWJtaXQgY29va2llIHBhdHRlcm4sIGEgQ1NSRiBkZWZlbnNlLCByZXF1aXJlcyBtYXRjaGluZyB2YWx1ZXMgaW4gYSBjb29raWVcbiAqIGFuZCByZXF1ZXN0IHBhcmFtZXRlci4gTW9yZSBvbiB0aGlzIGF0IFtNRE4gV2ViIERvY3NdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL1NlY3VyaXR5L0NTUkYpLlxuICovXG5leHBvcnQgY2xhc3MgTWlzc2luZ0NTUkYgZXh0ZW5kcyBTaWduSW5FcnJvciB7XG59XG5NaXNzaW5nQ1NSRi50eXBlID0gXCJNaXNzaW5nQ1NSRlwiO1xuLyoqXG4gKiBUaHJvd24gd2hlbiBtdWx0aXBsZSBwcm92aWRlcnMgaGF2ZSBgZW5hYmxlQ29uZGl0aW9uYWxVSWAgc2V0IHRvIGB0cnVlYC5cbiAqIE9ubHkgb25lIHByb3ZpZGVyIGNhbiBoYXZlIHRoaXMgb3B0aW9uIGVuYWJsZWQgYXQgYSB0aW1lLlxuICovXG5leHBvcnQgY2xhc3MgRHVwbGljYXRlQ29uZGl0aW9uYWxVSSBleHRlbmRzIEF1dGhFcnJvciB7XG59XG5EdXBsaWNhdGVDb25kaXRpb25hbFVJLnR5cGUgPSBcIkR1cGxpY2F0ZUNvbmRpdGlvbmFsVUlcIjtcbi8qKlxuICogVGhyb3duIHdoZW4gYSBXZWJBdXRobiBwcm92aWRlciBoYXMgYGVuYWJsZUNvbmRpdGlvbmFsVUlgIHNldCB0byBgdHJ1ZWAgYnV0IG5vIGZvcm1GaWVsZCBoYXMgYHdlYmF1dGhuYCBpbiBpdHMgYXV0b2NvbXBsZXRlIHBhcmFtLlxuICpcbiAqIFRoZSBgd2ViYXV0aG5gIGF1dG9jb21wbGV0ZSBwYXJhbSBpcyByZXF1aXJlZCBmb3IgY29uZGl0aW9uYWwgVUkgdG8gd29yay5cbiAqL1xuZXhwb3J0IGNsYXNzIE1pc3NpbmdXZWJBdXRobkF1dG9jb21wbGV0ZSBleHRlbmRzIEF1dGhFcnJvciB7XG59XG5NaXNzaW5nV2ViQXV0aG5BdXRvY29tcGxldGUudHlwZSA9IFwiTWlzc2luZ1dlYkF1dGhuQXV0b2NvbXBsZXRlXCI7XG4vKipcbiAqIFRocm93biB3aGVuIGEgV2ViQXV0aG4gcHJvdmlkZXIgZmFpbHMgdG8gdmVyaWZ5IGEgY2xpZW50IHJlc3BvbnNlLlxuICovXG5leHBvcnQgY2xhc3MgV2ViQXV0aG5WZXJpZmljYXRpb25FcnJvciBleHRlbmRzIEF1dGhFcnJvciB7XG59XG5XZWJBdXRoblZlcmlmaWNhdGlvbkVycm9yLnR5cGUgPSBcIldlYkF1dGhuVmVyaWZpY2F0aW9uRXJyb3JcIjtcbi8qKlxuICogVGhyb3duIHdoZW4gYW4gRW1haWwgYWRkcmVzcyBpcyBhbHJlYWR5IGFzc29jaWF0ZWQgd2l0aCBhbiBhY2NvdW50XG4gKiBidXQgdGhlIHVzZXIgaXMgdHJ5aW5nIGFuIGFjY291bnQgdGhhdCBpcyBub3QgbGlua2VkIHRvIGl0LlxuICpcbiAqIEZvciBzZWN1cml0eSByZWFzb25zLCBBdXRoLmpzIGRvZXMgbm90IGF1dG9tYXRpY2FsbHkgbGluayBhY2NvdW50cyB0byBleGlzdGluZyBhY2NvdW50cyBpZiB0aGUgdXNlciBpcyBub3Qgc2lnbmVkIGluLlxuICovXG5leHBvcnQgY2xhc3MgQWNjb3VudE5vdExpbmtlZCBleHRlbmRzIFNpZ25JbkVycm9yIHtcbn1cbkFjY291bnROb3RMaW5rZWQudHlwZSA9IFwiQWNjb3VudE5vdExpbmtlZFwiO1xuLyoqXG4gKiBUaHJvd24gd2hlbiBhbiBleHBlcmltZW50YWwgZmVhdHVyZSBpcyB1c2VkIGJ1dCBub3QgZW5hYmxlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIEV4cGVyaW1lbnRhbEZlYXR1cmVOb3RFbmFibGVkIGV4dGVuZHMgQXV0aEVycm9yIHtcbn1cbkV4cGVyaW1lbnRhbEZlYXR1cmVOb3RFbmFibGVkLnR5cGUgPSBcIkV4cGVyaW1lbnRhbEZlYXR1cmVOb3RFbmFibGVkXCI7XG4iXSwibmFtZXMiOlsiQXV0aEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsIm1lc3NhZ2UiLCJlcnJvck9wdGlvbnMiLCJ1bmRlZmluZWQiLCJjYXVzZSIsImVyciIsIm5hbWUiLCJ0eXBlIiwia2luZCIsImNhcHR1cmVTdGFja1RyYWNlIiwidXJsIiwidG9Mb3dlckNhc2UiLCJTaWduSW5FcnJvciIsIkFkYXB0ZXJFcnJvciIsIkF1dGhvcml6ZWRDYWxsYmFja0Vycm9yIiwiQ2FsbGJhY2tSb3V0ZUVycm9yIiwiRXJyb3JQYWdlTG9vcCIsIkV2ZW50RXJyb3IiLCJJbnZhbGlkQ2FsbGJhY2tVcmwiLCJDcmVkZW50aWFsc1NpZ25pbiIsIkludmFsaWRFbmRwb2ludHMiLCJJbnZhbGlkQ2hlY2siLCJKV1RTZXNzaW9uRXJyb3IiLCJNaXNzaW5nQWRhcHRlciIsIk1pc3NpbmdBZGFwdGVyTWV0aG9kcyIsIk1pc3NpbmdBdXRob3JpemUiLCJNaXNzaW5nU2VjcmV0IiwiT0F1dGhBY2NvdW50Tm90TGlua2VkIiwiT0F1dGhDYWxsYmFja0Vycm9yIiwiT0F1dGhQcm9maWxlUGFyc2VFcnJvciIsIlNlc3Npb25Ub2tlbkVycm9yIiwiT0F1dGhTaWduSW5FcnJvciIsIkVtYWlsU2lnbkluRXJyb3IiLCJTaWduT3V0RXJyb3IiLCJVbmtub3duQWN0aW9uIiwiVW5zdXBwb3J0ZWRTdHJhdGVneSIsIkludmFsaWRQcm92aWRlciIsIlVudHJ1c3RlZEhvc3QiLCJWZXJpZmljYXRpb24iLCJNaXNzaW5nQ1NSRiIsIkR1cGxpY2F0ZUNvbmRpdGlvbmFsVUkiLCJNaXNzaW5nV2ViQXV0aG5BdXRvY29tcGxldGUiLCJXZWJBdXRoblZlcmlmaWNhdGlvbkVycm9yIiwiQWNjb3VudE5vdExpbmtlZCIsIkV4cGVyaW1lbnRhbEZlYXR1cmVOb3RFbmFibGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/errors.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/errors.js":
/*!*******************************************!*\
  !*** ./node_modules/@auth/core/errors.js ***!
  \*******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AccountNotLinked: () => (/* binding */ AccountNotLinked),\n/* harmony export */   AdapterError: () => (/* binding */ AdapterError),\n/* harmony export */   AuthError: () => (/* binding */ AuthError),\n/* harmony export */   AuthorizedCallbackError: () => (/* binding */ AuthorizedCallbackError),\n/* harmony export */   CallbackRouteError: () => (/* binding */ CallbackRouteError),\n/* harmony export */   CredentialsSignin: () => (/* binding */ CredentialsSignin),\n/* harmony export */   DuplicateConditionalUI: () => (/* binding */ DuplicateConditionalUI),\n/* harmony export */   EmailSignInError: () => (/* binding */ EmailSignInError),\n/* harmony export */   ErrorPageLoop: () => (/* binding */ ErrorPageLoop),\n/* harmony export */   EventError: () => (/* binding */ EventError),\n/* harmony export */   ExperimentalFeatureNotEnabled: () => (/* binding */ ExperimentalFeatureNotEnabled),\n/* harmony export */   InvalidCallbackUrl: () => (/* binding */ InvalidCallbackUrl),\n/* harmony export */   InvalidCheck: () => (/* binding */ InvalidCheck),\n/* harmony export */   InvalidEndpoints: () => (/* binding */ InvalidEndpoints),\n/* harmony export */   InvalidProvider: () => (/* binding */ InvalidProvider),\n/* harmony export */   JWTSessionError: () => (/* binding */ JWTSessionError),\n/* harmony export */   MissingAdapter: () => (/* binding */ MissingAdapter),\n/* harmony export */   MissingAdapterMethods: () => (/* binding */ MissingAdapterMethods),\n/* harmony export */   MissingAuthorize: () => (/* binding */ MissingAuthorize),\n/* harmony export */   MissingCSRF: () => (/* binding */ MissingCSRF),\n/* harmony export */   MissingSecret: () => (/* binding */ MissingSecret),\n/* harmony export */   MissingWebAuthnAutocomplete: () => (/* binding */ MissingWebAuthnAutocomplete),\n/* harmony export */   OAuthAccountNotLinked: () => (/* binding */ OAuthAccountNotLinked),\n/* harmony export */   OAuthCallbackError: () => (/* binding */ OAuthCallbackError),\n/* harmony export */   OAuthProfileParseError: () => (/* binding */ OAuthProfileParseError),\n/* harmony export */   OAuthSignInError: () => (/* binding */ OAuthSignInError),\n/* harmony export */   SessionTokenError: () => (/* binding */ SessionTokenError),\n/* harmony export */   SignInError: () => (/* binding */ SignInError),\n/* harmony export */   SignOutError: () => (/* binding */ SignOutError),\n/* harmony export */   UnknownAction: () => (/* binding */ UnknownAction),\n/* harmony export */   UnsupportedStrategy: () => (/* binding */ UnsupportedStrategy),\n/* harmony export */   UntrustedHost: () => (/* binding */ UntrustedHost),\n/* harmony export */   Verification: () => (/* binding */ Verification),\n/* harmony export */   WebAuthnVerificationError: () => (/* binding */ WebAuthnVerificationError)\n/* harmony export */ });\n/**\n * Base error class for all Auth.js errors.\n * It's optimized to be printed in the server logs in a nicely formatted way\n * via the [`logger.error`](https://authjs.dev/reference/core#logger) option.\n */ class AuthError extends Error {\n    constructor(message, errorOptions){\n        if (message instanceof Error) {\n            super(undefined, {\n                cause: {\n                    err: message,\n                    ...message.cause,\n                    ...errorOptions\n                }\n            });\n        } else if (typeof message === \"string\") {\n            if (errorOptions instanceof Error) {\n                errorOptions = {\n                    err: errorOptions,\n                    ...errorOptions.cause\n                };\n            }\n            super(message, errorOptions);\n        } else {\n            super(undefined, message);\n        }\n        this.name = this.constructor.name;\n        // @ts-expect-error https://github.com/microsoft/TypeScript/issues/3841\n        this.type = this.constructor.type ?? \"AuthError\";\n        // @ts-expect-error https://github.com/microsoft/TypeScript/issues/3841\n        this.kind = this.constructor.kind ?? \"error\";\n        Error.captureStackTrace?.(this, this.constructor);\n        const url = `https://errors.authjs.dev#${this.type.toLowerCase()}`;\n        this.message += `${this.message ? \" .\" : \"\"}Read more at ${url}`;\n    }\n}\nclass SignInError extends AuthError {\n}\nSignInError.kind = \"signIn\";\n/**\n * One of the database [`Adapter` methods](https://authjs.dev/reference/core/adapters#methods)\n * failed during execution.\n *\n * :::tip\n * If `debug: true` is set, you can check out `[auth][debug]` in the logs to learn more about the failed adapter method execution.\n * @example\n * ```sh\n * [auth][debug]: adapter_getUserByEmail\n * { \"args\": [undefined] }\n * ```\n * :::\n */ class AdapterError extends AuthError {\n}\nAdapterError.type = \"AdapterError\";\n/**\n * Thrown when the execution of the [`signIn` callback](https://authjs.dev/reference/core/types#signin) fails\n * or if it returns `false`.\n */ class AuthorizedCallbackError extends AuthError {\n}\nAuthorizedCallbackError.type = \"AuthorizedCallbackError\";\n/**\n * This error occurs when the user cannot finish login.\n * Depending on the provider type, this could have happened for multiple reasons.\n *\n * :::tip\n * Check out `[auth][details]` in the logs to know which provider failed.\n * @example\n * ```sh\n * [auth][details]: { \"provider\": \"github\" }\n * ```\n * :::\n *\n * For an [OAuth provider](https://authjs.dev/reference/core/providers/oauth), possible causes are:\n * - The user denied access to the application\n * - There was an error parsing the OAuth Profile:\n *   Check out the provider's `profile` or `userinfo.request` method to make sure\n *   it correctly fetches the user's profile.\n * - The `signIn` or `jwt` callback methods threw an uncaught error:\n *   Check the callback method implementations.\n *\n * For an [Email provider](https://authjs.dev/reference/core/providers/email), possible causes are:\n * - The provided email/token combination was invalid/missing:\n *   Check if the provider's `sendVerificationRequest` method correctly sends the email.\n * - The provided email/token combination has expired:\n *   Ask the user to log in again.\n * - There was an error with the database:\n *   Check the database logs.\n *\n * For a [Credentials provider](https://authjs.dev/reference/core/providers/credentials), possible causes are:\n * - The `authorize` method threw an uncaught error:\n *   Check the provider's `authorize` method.\n * - The `signIn` or `jwt` callback methods threw an uncaught error:\n *   Check the callback method implementations.\n *\n * :::tip\n * Check out `[auth][cause]` in the error message for more details.\n * It will show the original stack trace.\n * :::\n */ class CallbackRouteError extends AuthError {\n}\nCallbackRouteError.type = \"CallbackRouteError\";\n/**\n * Thrown when Auth.js is misconfigured and accidentally tried to require authentication on a custom error page.\n * To prevent an infinite loop, Auth.js will instead render its default error page.\n *\n * To fix this, make sure that the `error` page does not require authentication.\n *\n * Learn more at [Guide: Error pages](https://authjs.dev/guides/basics/pages)\n */ class ErrorPageLoop extends AuthError {\n}\nErrorPageLoop.type = \"ErrorPageLoop\";\n/**\n * One of the [`events` methods](https://authjs.dev/reference/core/types#eventcallbacks)\n * failed during execution.\n *\n * Make sure that the `events` methods are implemented correctly and uncaught errors are handled.\n *\n * Learn more at [`events`](https://authjs.dev/reference/core/types#eventcallbacks)\n */ class EventError extends AuthError {\n}\nEventError.type = \"EventError\";\n/**\n * Thrown when Auth.js is unable to verify a `callbackUrl` value.\n * The browser either disabled cookies or the `callbackUrl` is not a valid URL.\n *\n * Somebody might have tried to manipulate the callback URL that Auth.js uses to redirect the user back to the configured `callbackUrl`/page.\n * This could be a malicious hacker trying to redirect the user to a phishing site.\n * To prevent this, Auth.js checks if the callback URL is valid and throws this error if it is not.\n *\n * There is no action required, but it might be an indicator that somebody is trying to attack your application.\n */ class InvalidCallbackUrl extends AuthError {\n}\nInvalidCallbackUrl.type = \"InvalidCallbackUrl\";\n/**\n * The `authorize` callback returned `null` in the [Credentials provider](https://authjs.dev/getting-started/providers/credentials-tutorial).\n * We don't recommend providing information about which part of the credentials were wrong, as it might be abused by malicious hackers.\n */ class CredentialsSignin extends SignInError {\n}\nCredentialsSignin.type = \"CredentialsSignin\";\n/**\n * One of the configured OAuth or OIDC providers is missing the `authorization`, `token` or `userinfo`, or `issuer` configuration.\n * To perform OAuth or OIDC sign in, at least one of these endpoints is required.\n *\n * Learn more at [`OAuth2Config`](https://authjs.dev/reference/core/providers#oauth2configprofile) or [Guide: OAuth Provider](https://authjs.dev/guides/providers/custom-provider)\n */ class InvalidEndpoints extends AuthError {\n}\nInvalidEndpoints.type = \"InvalidEndpoints\";\n/**\n * Thrown when a PKCE, state or nonce OAuth check could not be performed.\n * This could happen if the OAuth provider is configured incorrectly or if the browser is blocking cookies.\n *\n * Learn more at [`checks`](https://authjs.dev/reference/core/providers#checks)\n */ class InvalidCheck extends AuthError {\n}\nInvalidCheck.type = \"InvalidCheck\";\n/**\n * Logged on the server when Auth.js could not decode or encode a JWT-based (`strategy: \"jwt\"`) session.\n *\n * Possible causes are either a misconfigured `secret` or a malformed JWT or `encode/decode` methods.\n *\n * :::note\n * When this error is logged, the session cookie is destroyed.\n * :::\n *\n * Learn more at [`secret`](https://authjs.dev/reference/core#secret), [`jwt.encode`](https://authjs.dev/reference/core/jwt#encode) or [`jwt.decode`](https://authjs.dev/reference/core/jwt#decode) for more information.\n */ class JWTSessionError extends AuthError {\n}\nJWTSessionError.type = \"JWTSessionError\";\n/**\n * Thrown if Auth.js is misonfigured. This could happen if you configured an Email provider but did not set up a database adapter,\n * or tried using a `strategy: \"database\"` session without a database adapter.\n * In both cases, make sure you either remove the configuration or add the missing adapter.\n *\n * Learn more at [Database Adapters](https://authjs.dev/getting-started/adapters), [Email provider](https://authjs.dev/reference/core/providers/email) or [Concept: Database session strategy](https://authjs.dev/concepts/session-strategies#database)\n */ class MissingAdapter extends AuthError {\n}\nMissingAdapter.type = \"MissingAdapter\";\n/**\n * Thrown similarily to [`MissingAdapter`](https://authjs.dev/reference/core/errors#missingadapter), but only some required methods were missing.\n *\n * Make sure you either remove the configuration or add the missing methods to the adapter.\n *\n * Learn more at [Database Adapters](https://authjs.dev/reference/core/adapters)\n */ class MissingAdapterMethods extends AuthError {\n}\nMissingAdapterMethods.type = \"MissingAdapterMethods\";\n/**\n * Thrown when a Credentials provider is missing the `authorize` configuration.\n * To perform credentials sign in, the `authorize` method is required.\n *\n * Learn more at [Credentials provider](https://authjs.dev/reference/core/providers/credentials)\n */ class MissingAuthorize extends AuthError {\n}\nMissingAuthorize.type = \"MissingAuthorize\";\n/**\n * Auth.js requires a secret or multiple secrets to be set, but none was not found. This is used to encrypt cookies, JWTs and other sensitive data.\n *\n * :::note\n * If you are using a framework like Next.js, we try to automatically infer the secret from the `AUTH_SECRET`, `AUTH_SECRET_1`, etc. environment variables.\n * Alternatively, you can also explicitly set the [`AuthConfig.secret`](https://authjs.dev/reference/core#secret) option.\n * :::\n *\n *\n * :::tip\n * To generate a random string, you can use the Auth.js CLI: `npx auth secret`\n * :::\n */ class MissingSecret extends AuthError {\n}\nMissingSecret.type = \"MissingSecret\";\n/**\n * Thrown when an Email address is already associated with an account\n * but the user is trying an OAuth account that is not linked to it.\n *\n * For security reasons, Auth.js does not automatically link OAuth accounts to existing accounts if the user is not signed in.\n *\n * :::tip\n * If you trust the OAuth provider to have verified the user's email address,\n * you can enable automatic account linking by setting [`allowDangerousEmailAccountLinking: true`](https://authjs.dev/reference/core/providers#allowdangerousemailaccountlinking)\n * in the provider configuration.\n * :::\n */ class OAuthAccountNotLinked extends SignInError {\n}\nOAuthAccountNotLinked.type = \"OAuthAccountNotLinked\";\n/**\n * Thrown when an OAuth provider returns an error during the sign in process.\n * This could happen for example if the user denied access to the application or there was a configuration error.\n *\n * For a full list of possible reasons, check out the specification [Authorization Code Grant: Error Response](https://www.rfc-editor.org/rfc/rfc6749#section-4.1.2.1)\n */ class OAuthCallbackError extends SignInError {\n}\nOAuthCallbackError.type = \"OAuthCallbackError\";\n/**\n * This error occurs during an OAuth sign in attempt when the provider's\n * response could not be parsed. This could for example happen if the provider's API\n * changed, or the [`OAuth2Config.profile`](https://authjs.dev/reference/core/providers/oauth#profile) method is not implemented correctly.\n */ class OAuthProfileParseError extends AuthError {\n}\nOAuthProfileParseError.type = \"OAuthProfileParseError\";\n/**\n * Logged on the server when Auth.js could not retrieve a session from the database (`strategy: \"database\"`).\n *\n * The database adapter might be misconfigured or the database is not reachable.\n *\n * Learn more at [Concept: Database session strategy](https://authjs.dev/concepts/session-strategies#database)\n */ class SessionTokenError extends AuthError {\n}\nSessionTokenError.type = \"SessionTokenError\";\n/**\n * Happens when login by [OAuth](https://authjs.dev/getting-started/providers/oauth-tutorial) could not be started.\n *\n * Possible causes are:\n * - The Authorization Server is not compliant with the [OAuth 2.0](https://www.ietf.org/rfc/rfc6749.html) or the [OIDC](https://openid.net/specs/openid-connect-core-1_0.html) specification.\n *   Check the details in the error message.\n *\n * :::tip\n * Check out `[auth][details]` in the logs to know which provider failed.\n * @example\n * ```sh\n * [auth][details]: { \"provider\": \"github\" }\n * ```\n * :::\n */ class OAuthSignInError extends SignInError {\n}\nOAuthSignInError.type = \"OAuthSignInError\";\n/**\n * Happens when the login by an [Email provider](https://authjs.dev/getting-started/providers/email-tutorial) could not be started.\n *\n * Possible causes are:\n * - The email sent from the client is invalid, could not be normalized by [`EmailConfig.normalizeIdentifier`](https://authjs.dev/reference/core/providers/email#normalizeidentifier)\n * - The provided email/token combination has expired:\n *   Ask the user to log in again.\n * - There was an error with the database:\n *   Check the database logs.\n */ class EmailSignInError extends SignInError {\n}\nEmailSignInError.type = \"EmailSignInError\";\n/**\n * Represents an error that occurs during the sign-out process. This error\n * is logged when there are issues in terminating a user's session, either\n * by failing to delete the session from the database (in database session\n * strategies) or encountering issues during other parts of the sign-out\n * process, such as emitting sign-out events or clearing session cookies.\n *\n * The session cookie(s) are emptied even if this error is logged.\n *\n */ class SignOutError extends AuthError {\n}\nSignOutError.type = \"SignOutError\";\n/**\n * Auth.js was requested to handle an operation that it does not support.\n *\n * See [`AuthAction`](https://authjs.dev/reference/core/types#authaction) for the supported actions.\n */ class UnknownAction extends AuthError {\n}\nUnknownAction.type = \"UnknownAction\";\n/**\n * Thrown when a Credentials provider is present but the JWT strategy (`strategy: \"jwt\"`) is not enabled.\n *\n * Learn more at [`strategy`](https://authjs.dev/reference/core#strategy) or [Credentials provider](https://authjs.dev/reference/core/providers/credentials)\n */ class UnsupportedStrategy extends AuthError {\n}\nUnsupportedStrategy.type = \"UnsupportedStrategy\";\n/** Thrown when an endpoint was incorrectly called without a provider, or with an unsupported provider. */ class InvalidProvider extends AuthError {\n}\nInvalidProvider.type = \"InvalidProvider\";\n/**\n * Thrown when the `trustHost` option was not set to `true`.\n *\n * Auth.js requires the `trustHost` option to be set to `true` since it's relying on the request headers' `host` value.\n *\n * :::note\n * Official Auth.js libraries might attempt to automatically set the `trustHost` option to `true` if the request is coming from a trusted host on a trusted platform.\n * :::\n *\n * Learn more at [`trustHost`](https://authjs.dev/reference/core#trusthost) or [Guide: Deployment](https://authjs.dev/getting-started/deployment)\n */ class UntrustedHost extends AuthError {\n}\nUntrustedHost.type = \"UntrustedHost\";\n/**\n * The user's email/token combination was invalid.\n * This could be because the email/token combination was not found in the database,\n * or because the token has expired. Ask the user to log in again.\n */ class Verification extends AuthError {\n}\nVerification.type = \"Verification\";\n/**\n * Error for missing CSRF tokens in client-side actions (`signIn`, `signOut`, `useSession#update`).\n * Thrown when actions lack the double submit cookie, essential for CSRF protection.\n *\n * CSRF ([Cross-Site Request Forgery](https://owasp.org/www-community/attacks/csrf))\n * is an attack leveraging authenticated user credentials for unauthorized actions.\n *\n * Double submit cookie pattern, a CSRF defense, requires matching values in a cookie\n * and request parameter. More on this at [MDN Web Docs](https://developer.mozilla.org/en-US/docs/Web/Security/CSRF).\n */ class MissingCSRF extends SignInError {\n}\nMissingCSRF.type = \"MissingCSRF\";\n/**\n * Thrown when multiple providers have `enableConditionalUI` set to `true`.\n * Only one provider can have this option enabled at a time.\n */ class DuplicateConditionalUI extends AuthError {\n}\nDuplicateConditionalUI.type = \"DuplicateConditionalUI\";\n/**\n * Thrown when a WebAuthn provider has `enableConditionalUI` set to `true` but no formField has `webauthn` in its autocomplete param.\n *\n * The `webauthn` autocomplete param is required for conditional UI to work.\n */ class MissingWebAuthnAutocomplete extends AuthError {\n}\nMissingWebAuthnAutocomplete.type = \"MissingWebAuthnAutocomplete\";\n/**\n * Thrown when a WebAuthn provider fails to verify a client response.\n */ class WebAuthnVerificationError extends AuthError {\n}\nWebAuthnVerificationError.type = \"WebAuthnVerificationError\";\n/**\n * Thrown when an Email address is already associated with an account\n * but the user is trying an account that is not linked to it.\n *\n * For security reasons, Auth.js does not automatically link accounts to existing accounts if the user is not signed in.\n */ class AccountNotLinked extends SignInError {\n}\nAccountNotLinked.type = \"AccountNotLinked\";\n/**\n * Thrown when an experimental feature is used but not enabled.\n */ class ExperimentalFeatureNotEnabled extends AuthError {\n}\nExperimentalFeatureNotEnabled.type = \"ExperimentalFeatureNotEnabled\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9lcnJvcnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0NBSUMsR0FDTSxNQUFNQSxrQkFBa0JDO0lBQzNCQyxZQUFZQyxPQUFPLEVBQUVDLFlBQVksQ0FBRTtRQUMvQixJQUFJRCxtQkFBbUJGLE9BQU87WUFDMUIsS0FBSyxDQUFDSSxXQUFXO2dCQUNiQyxPQUFPO29CQUFFQyxLQUFLSjtvQkFBUyxHQUFHQSxRQUFRRyxLQUFLO29CQUFFLEdBQUdGLFlBQVk7Z0JBQUM7WUFDN0Q7UUFDSixPQUNLLElBQUksT0FBT0QsWUFBWSxVQUFVO1lBQ2xDLElBQUlDLHdCQUF3QkgsT0FBTztnQkFDL0JHLGVBQWU7b0JBQUVHLEtBQUtIO29CQUFjLEdBQUdBLGFBQWFFLEtBQUs7Z0JBQUM7WUFDOUQ7WUFDQSxLQUFLLENBQUNILFNBQVNDO1FBQ25CLE9BQ0s7WUFDRCxLQUFLLENBQUNDLFdBQVdGO1FBQ3JCO1FBQ0EsSUFBSSxDQUFDSyxJQUFJLEdBQUcsSUFBSSxDQUFDTixXQUFXLENBQUNNLElBQUk7UUFDakMsdUVBQXVFO1FBQ3ZFLElBQUksQ0FBQ0MsSUFBSSxHQUFHLElBQUksQ0FBQ1AsV0FBVyxDQUFDTyxJQUFJLElBQUk7UUFDckMsdUVBQXVFO1FBQ3ZFLElBQUksQ0FBQ0MsSUFBSSxHQUFHLElBQUksQ0FBQ1IsV0FBVyxDQUFDUSxJQUFJLElBQUk7UUFDckNULE1BQU1VLGlCQUFpQixHQUFHLElBQUksRUFBRSxJQUFJLENBQUNULFdBQVc7UUFDaEQsTUFBTVUsTUFBTSxDQUFDLDBCQUEwQixFQUFFLElBQUksQ0FBQ0gsSUFBSSxDQUFDSSxXQUFXLEdBQUcsQ0FBQztRQUNsRSxJQUFJLENBQUNWLE9BQU8sSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDQSxPQUFPLEdBQUcsT0FBTyxHQUFHLGFBQWEsRUFBRVMsSUFBSSxDQUFDO0lBQ3BFO0FBQ0o7QUFDTyxNQUFNRSxvQkFBb0JkO0FBQ2pDO0FBQ0FjLFlBQVlKLElBQUksR0FBRztBQUNuQjs7Ozs7Ozs7Ozs7O0NBWUMsR0FDTSxNQUFNSyxxQkFBcUJmO0FBQ2xDO0FBQ0FlLGFBQWFOLElBQUksR0FBRztBQUNwQjs7O0NBR0MsR0FDTSxNQUFNTyxnQ0FBZ0NoQjtBQUM3QztBQUNBZ0Isd0JBQXdCUCxJQUFJLEdBQUc7QUFDL0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBc0NDLEdBQ00sTUFBTVEsMkJBQTJCakI7QUFDeEM7QUFDQWlCLG1CQUFtQlIsSUFBSSxHQUFHO0FBQzFCOzs7Ozs7O0NBT0MsR0FDTSxNQUFNUyxzQkFBc0JsQjtBQUNuQztBQUNBa0IsY0FBY1QsSUFBSSxHQUFHO0FBQ3JCOzs7Ozs7O0NBT0MsR0FDTSxNQUFNVSxtQkFBbUJuQjtBQUNoQztBQUNBbUIsV0FBV1YsSUFBSSxHQUFHO0FBQ2xCOzs7Ozs7Ozs7Q0FTQyxHQUNNLE1BQU1XLDJCQUEyQnBCO0FBQ3hDO0FBQ0FvQixtQkFBbUJYLElBQUksR0FBRztBQUMxQjs7O0NBR0MsR0FDTSxNQUFNWSwwQkFBMEJQO0FBQ3ZDO0FBQ0FPLGtCQUFrQlosSUFBSSxHQUFHO0FBQ3pCOzs7OztDQUtDLEdBQ00sTUFBTWEseUJBQXlCdEI7QUFDdEM7QUFDQXNCLGlCQUFpQmIsSUFBSSxHQUFHO0FBQ3hCOzs7OztDQUtDLEdBQ00sTUFBTWMscUJBQXFCdkI7QUFDbEM7QUFDQXVCLGFBQWFkLElBQUksR0FBRztBQUNwQjs7Ozs7Ozs7OztDQVVDLEdBQ00sTUFBTWUsd0JBQXdCeEI7QUFDckM7QUFDQXdCLGdCQUFnQmYsSUFBSSxHQUFHO0FBQ3ZCOzs7Ozs7Q0FNQyxHQUNNLE1BQU1nQix1QkFBdUJ6QjtBQUNwQztBQUNBeUIsZUFBZWhCLElBQUksR0FBRztBQUN0Qjs7Ozs7O0NBTUMsR0FDTSxNQUFNaUIsOEJBQThCMUI7QUFDM0M7QUFDQTBCLHNCQUFzQmpCLElBQUksR0FBRztBQUM3Qjs7Ozs7Q0FLQyxHQUNNLE1BQU1rQix5QkFBeUIzQjtBQUN0QztBQUNBMkIsaUJBQWlCbEIsSUFBSSxHQUFHO0FBQ3hCOzs7Ozs7Ozs7Ozs7Q0FZQyxHQUNNLE1BQU1tQixzQkFBc0I1QjtBQUNuQztBQUNBNEIsY0FBY25CLElBQUksR0FBRztBQUNyQjs7Ozs7Ozs7Ozs7Q0FXQyxHQUNNLE1BQU1vQiw4QkFBOEJmO0FBQzNDO0FBQ0FlLHNCQUFzQnBCLElBQUksR0FBRztBQUM3Qjs7Ozs7Q0FLQyxHQUNNLE1BQU1xQiwyQkFBMkJoQjtBQUN4QztBQUNBZ0IsbUJBQW1CckIsSUFBSSxHQUFHO0FBQzFCOzs7O0NBSUMsR0FDTSxNQUFNc0IsK0JBQStCL0I7QUFDNUM7QUFDQStCLHVCQUF1QnRCLElBQUksR0FBRztBQUM5Qjs7Ozs7O0NBTUMsR0FDTSxNQUFNdUIsMEJBQTBCaEM7QUFDdkM7QUFDQWdDLGtCQUFrQnZCLElBQUksR0FBRztBQUN6Qjs7Ozs7Ozs7Ozs7Ozs7Q0FjQyxHQUNNLE1BQU13Qix5QkFBeUJuQjtBQUN0QztBQUNBbUIsaUJBQWlCeEIsSUFBSSxHQUFHO0FBQ3hCOzs7Ozs7Ozs7Q0FTQyxHQUNNLE1BQU15Qix5QkFBeUJwQjtBQUN0QztBQUNBb0IsaUJBQWlCekIsSUFBSSxHQUFHO0FBQ3hCOzs7Ozs7Ozs7Q0FTQyxHQUNNLE1BQU0wQixxQkFBcUJuQztBQUNsQztBQUNBbUMsYUFBYTFCLElBQUksR0FBRztBQUNwQjs7OztDQUlDLEdBQ00sTUFBTTJCLHNCQUFzQnBDO0FBQ25DO0FBQ0FvQyxjQUFjM0IsSUFBSSxHQUFHO0FBQ3JCOzs7O0NBSUMsR0FDTSxNQUFNNEIsNEJBQTRCckM7QUFDekM7QUFDQXFDLG9CQUFvQjVCLElBQUksR0FBRztBQUMzQix3R0FBd0csR0FDakcsTUFBTTZCLHdCQUF3QnRDO0FBQ3JDO0FBQ0FzQyxnQkFBZ0I3QixJQUFJLEdBQUc7QUFDdkI7Ozs7Ozs7Ozs7Q0FVQyxHQUNNLE1BQU04QixzQkFBc0J2QztBQUNuQztBQUNBdUMsY0FBYzlCLElBQUksR0FBRztBQUNyQjs7OztDQUlDLEdBQ00sTUFBTStCLHFCQUFxQnhDO0FBQ2xDO0FBQ0F3QyxhQUFhL0IsSUFBSSxHQUFHO0FBQ3BCOzs7Ozs7Ozs7Q0FTQyxHQUNNLE1BQU1nQyxvQkFBb0IzQjtBQUNqQztBQUNBMkIsWUFBWWhDLElBQUksR0FBRztBQUNuQjs7O0NBR0MsR0FDTSxNQUFNaUMsK0JBQStCMUM7QUFDNUM7QUFDQTBDLHVCQUF1QmpDLElBQUksR0FBRztBQUM5Qjs7OztDQUlDLEdBQ00sTUFBTWtDLG9DQUFvQzNDO0FBQ2pEO0FBQ0EyQyw0QkFBNEJsQyxJQUFJLEdBQUc7QUFDbkM7O0NBRUMsR0FDTSxNQUFNbUMsa0NBQWtDNUM7QUFDL0M7QUFDQTRDLDBCQUEwQm5DLElBQUksR0FBRztBQUNqQzs7Ozs7Q0FLQyxHQUNNLE1BQU1vQyx5QkFBeUIvQjtBQUN0QztBQUNBK0IsaUJBQWlCcEMsSUFBSSxHQUFHO0FBQ3hCOztDQUVDLEdBQ00sTUFBTXFDLHNDQUFzQzlDO0FBQ25EO0FBQ0E4Qyw4QkFBOEJyQyxJQUFJLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LXJ4Ly4vbm9kZV9tb2R1bGVzL0BhdXRoL2NvcmUvZXJyb3JzLmpzP2UxNTUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBCYXNlIGVycm9yIGNsYXNzIGZvciBhbGwgQXV0aC5qcyBlcnJvcnMuXG4gKiBJdCdzIG9wdGltaXplZCB0byBiZSBwcmludGVkIGluIHRoZSBzZXJ2ZXIgbG9ncyBpbiBhIG5pY2VseSBmb3JtYXR0ZWQgd2F5XG4gKiB2aWEgdGhlIFtgbG9nZ2VyLmVycm9yYF0oaHR0cHM6Ly9hdXRoanMuZGV2L3JlZmVyZW5jZS9jb3JlI2xvZ2dlcikgb3B0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgQXV0aEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIGVycm9yT3B0aW9ucykge1xuICAgICAgICBpZiAobWVzc2FnZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICBzdXBlcih1bmRlZmluZWQsIHtcbiAgICAgICAgICAgICAgICBjYXVzZTogeyBlcnI6IG1lc3NhZ2UsIC4uLm1lc3NhZ2UuY2F1c2UsIC4uLmVycm9yT3B0aW9ucyB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGlmIChlcnJvck9wdGlvbnMgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgIGVycm9yT3B0aW9ucyA9IHsgZXJyOiBlcnJvck9wdGlvbnMsIC4uLmVycm9yT3B0aW9ucy5jYXVzZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3VwZXIobWVzc2FnZSwgZXJyb3JPcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN1cGVyKHVuZGVmaW5lZCwgbWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uYW1lID0gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMzg0MVxuICAgICAgICB0aGlzLnR5cGUgPSB0aGlzLmNvbnN0cnVjdG9yLnR5cGUgPz8gXCJBdXRoRXJyb3JcIjtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzM4NDFcbiAgICAgICAgdGhpcy5raW5kID0gdGhpcy5jb25zdHJ1Y3Rvci5raW5kID8/IFwiZXJyb3JcIjtcbiAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2U/Lih0aGlzLCB0aGlzLmNvbnN0cnVjdG9yKTtcbiAgICAgICAgY29uc3QgdXJsID0gYGh0dHBzOi8vZXJyb3JzLmF1dGhqcy5kZXYjJHt0aGlzLnR5cGUudG9Mb3dlckNhc2UoKX1gO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgKz0gYCR7dGhpcy5tZXNzYWdlID8gXCIgLlwiIDogXCJcIn1SZWFkIG1vcmUgYXQgJHt1cmx9YDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgU2lnbkluRXJyb3IgZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuU2lnbkluRXJyb3Iua2luZCA9IFwic2lnbkluXCI7XG4vKipcbiAqIE9uZSBvZiB0aGUgZGF0YWJhc2UgW2BBZGFwdGVyYCBtZXRob2RzXShodHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUvYWRhcHRlcnMjbWV0aG9kcylcbiAqIGZhaWxlZCBkdXJpbmcgZXhlY3V0aW9uLlxuICpcbiAqIDo6OnRpcFxuICogSWYgYGRlYnVnOiB0cnVlYCBpcyBzZXQsIHlvdSBjYW4gY2hlY2sgb3V0IGBbYXV0aF1bZGVidWddYCBpbiB0aGUgbG9ncyB0byBsZWFybiBtb3JlIGFib3V0IHRoZSBmYWlsZWQgYWRhcHRlciBtZXRob2QgZXhlY3V0aW9uLlxuICogQGV4YW1wbGVcbiAqIGBgYHNoXG4gKiBbYXV0aF1bZGVidWddOiBhZGFwdGVyX2dldFVzZXJCeUVtYWlsXG4gKiB7IFwiYXJnc1wiOiBbdW5kZWZpbmVkXSB9XG4gKiBgYGBcbiAqIDo6OlxuICovXG5leHBvcnQgY2xhc3MgQWRhcHRlckVycm9yIGV4dGVuZHMgQXV0aEVycm9yIHtcbn1cbkFkYXB0ZXJFcnJvci50eXBlID0gXCJBZGFwdGVyRXJyb3JcIjtcbi8qKlxuICogVGhyb3duIHdoZW4gdGhlIGV4ZWN1dGlvbiBvZiB0aGUgW2BzaWduSW5gIGNhbGxiYWNrXShodHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUvdHlwZXMjc2lnbmluKSBmYWlsc1xuICogb3IgaWYgaXQgcmV0dXJucyBgZmFsc2VgLlxuICovXG5leHBvcnQgY2xhc3MgQXV0aG9yaXplZENhbGxiYWNrRXJyb3IgZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuQXV0aG9yaXplZENhbGxiYWNrRXJyb3IudHlwZSA9IFwiQXV0aG9yaXplZENhbGxiYWNrRXJyb3JcIjtcbi8qKlxuICogVGhpcyBlcnJvciBvY2N1cnMgd2hlbiB0aGUgdXNlciBjYW5ub3QgZmluaXNoIGxvZ2luLlxuICogRGVwZW5kaW5nIG9uIHRoZSBwcm92aWRlciB0eXBlLCB0aGlzIGNvdWxkIGhhdmUgaGFwcGVuZWQgZm9yIG11bHRpcGxlIHJlYXNvbnMuXG4gKlxuICogOjo6dGlwXG4gKiBDaGVjayBvdXQgYFthdXRoXVtkZXRhaWxzXWAgaW4gdGhlIGxvZ3MgdG8ga25vdyB3aGljaCBwcm92aWRlciBmYWlsZWQuXG4gKiBAZXhhbXBsZVxuICogYGBgc2hcbiAqIFthdXRoXVtkZXRhaWxzXTogeyBcInByb3ZpZGVyXCI6IFwiZ2l0aHViXCIgfVxuICogYGBgXG4gKiA6OjpcbiAqXG4gKiBGb3IgYW4gW09BdXRoIHByb3ZpZGVyXShodHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUvcHJvdmlkZXJzL29hdXRoKSwgcG9zc2libGUgY2F1c2VzIGFyZTpcbiAqIC0gVGhlIHVzZXIgZGVuaWVkIGFjY2VzcyB0byB0aGUgYXBwbGljYXRpb25cbiAqIC0gVGhlcmUgd2FzIGFuIGVycm9yIHBhcnNpbmcgdGhlIE9BdXRoIFByb2ZpbGU6XG4gKiAgIENoZWNrIG91dCB0aGUgcHJvdmlkZXIncyBgcHJvZmlsZWAgb3IgYHVzZXJpbmZvLnJlcXVlc3RgIG1ldGhvZCB0byBtYWtlIHN1cmVcbiAqICAgaXQgY29ycmVjdGx5IGZldGNoZXMgdGhlIHVzZXIncyBwcm9maWxlLlxuICogLSBUaGUgYHNpZ25JbmAgb3IgYGp3dGAgY2FsbGJhY2sgbWV0aG9kcyB0aHJldyBhbiB1bmNhdWdodCBlcnJvcjpcbiAqICAgQ2hlY2sgdGhlIGNhbGxiYWNrIG1ldGhvZCBpbXBsZW1lbnRhdGlvbnMuXG4gKlxuICogRm9yIGFuIFtFbWFpbCBwcm92aWRlcl0oaHR0cHM6Ly9hdXRoanMuZGV2L3JlZmVyZW5jZS9jb3JlL3Byb3ZpZGVycy9lbWFpbCksIHBvc3NpYmxlIGNhdXNlcyBhcmU6XG4gKiAtIFRoZSBwcm92aWRlZCBlbWFpbC90b2tlbiBjb21iaW5hdGlvbiB3YXMgaW52YWxpZC9taXNzaW5nOlxuICogICBDaGVjayBpZiB0aGUgcHJvdmlkZXIncyBgc2VuZFZlcmlmaWNhdGlvblJlcXVlc3RgIG1ldGhvZCBjb3JyZWN0bHkgc2VuZHMgdGhlIGVtYWlsLlxuICogLSBUaGUgcHJvdmlkZWQgZW1haWwvdG9rZW4gY29tYmluYXRpb24gaGFzIGV4cGlyZWQ6XG4gKiAgIEFzayB0aGUgdXNlciB0byBsb2cgaW4gYWdhaW4uXG4gKiAtIFRoZXJlIHdhcyBhbiBlcnJvciB3aXRoIHRoZSBkYXRhYmFzZTpcbiAqICAgQ2hlY2sgdGhlIGRhdGFiYXNlIGxvZ3MuXG4gKlxuICogRm9yIGEgW0NyZWRlbnRpYWxzIHByb3ZpZGVyXShodHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUvcHJvdmlkZXJzL2NyZWRlbnRpYWxzKSwgcG9zc2libGUgY2F1c2VzIGFyZTpcbiAqIC0gVGhlIGBhdXRob3JpemVgIG1ldGhvZCB0aHJldyBhbiB1bmNhdWdodCBlcnJvcjpcbiAqICAgQ2hlY2sgdGhlIHByb3ZpZGVyJ3MgYGF1dGhvcml6ZWAgbWV0aG9kLlxuICogLSBUaGUgYHNpZ25JbmAgb3IgYGp3dGAgY2FsbGJhY2sgbWV0aG9kcyB0aHJldyBhbiB1bmNhdWdodCBlcnJvcjpcbiAqICAgQ2hlY2sgdGhlIGNhbGxiYWNrIG1ldGhvZCBpbXBsZW1lbnRhdGlvbnMuXG4gKlxuICogOjo6dGlwXG4gKiBDaGVjayBvdXQgYFthdXRoXVtjYXVzZV1gIGluIHRoZSBlcnJvciBtZXNzYWdlIGZvciBtb3JlIGRldGFpbHMuXG4gKiBJdCB3aWxsIHNob3cgdGhlIG9yaWdpbmFsIHN0YWNrIHRyYWNlLlxuICogOjo6XG4gKi9cbmV4cG9ydCBjbGFzcyBDYWxsYmFja1JvdXRlRXJyb3IgZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuQ2FsbGJhY2tSb3V0ZUVycm9yLnR5cGUgPSBcIkNhbGxiYWNrUm91dGVFcnJvclwiO1xuLyoqXG4gKiBUaHJvd24gd2hlbiBBdXRoLmpzIGlzIG1pc2NvbmZpZ3VyZWQgYW5kIGFjY2lkZW50YWxseSB0cmllZCB0byByZXF1aXJlIGF1dGhlbnRpY2F0aW9uIG9uIGEgY3VzdG9tIGVycm9yIHBhZ2UuXG4gKiBUbyBwcmV2ZW50IGFuIGluZmluaXRlIGxvb3AsIEF1dGguanMgd2lsbCBpbnN0ZWFkIHJlbmRlciBpdHMgZGVmYXVsdCBlcnJvciBwYWdlLlxuICpcbiAqIFRvIGZpeCB0aGlzLCBtYWtlIHN1cmUgdGhhdCB0aGUgYGVycm9yYCBwYWdlIGRvZXMgbm90IHJlcXVpcmUgYXV0aGVudGljYXRpb24uXG4gKlxuICogTGVhcm4gbW9yZSBhdCBbR3VpZGU6IEVycm9yIHBhZ2VzXShodHRwczovL2F1dGhqcy5kZXYvZ3VpZGVzL2Jhc2ljcy9wYWdlcylcbiAqL1xuZXhwb3J0IGNsYXNzIEVycm9yUGFnZUxvb3AgZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuRXJyb3JQYWdlTG9vcC50eXBlID0gXCJFcnJvclBhZ2VMb29wXCI7XG4vKipcbiAqIE9uZSBvZiB0aGUgW2BldmVudHNgIG1ldGhvZHNdKGh0dHBzOi8vYXV0aGpzLmRldi9yZWZlcmVuY2UvY29yZS90eXBlcyNldmVudGNhbGxiYWNrcylcbiAqIGZhaWxlZCBkdXJpbmcgZXhlY3V0aW9uLlxuICpcbiAqIE1ha2Ugc3VyZSB0aGF0IHRoZSBgZXZlbnRzYCBtZXRob2RzIGFyZSBpbXBsZW1lbnRlZCBjb3JyZWN0bHkgYW5kIHVuY2F1Z2h0IGVycm9ycyBhcmUgaGFuZGxlZC5cbiAqXG4gKiBMZWFybiBtb3JlIGF0IFtgZXZlbnRzYF0oaHR0cHM6Ly9hdXRoanMuZGV2L3JlZmVyZW5jZS9jb3JlL3R5cGVzI2V2ZW50Y2FsbGJhY2tzKVxuICovXG5leHBvcnQgY2xhc3MgRXZlbnRFcnJvciBleHRlbmRzIEF1dGhFcnJvciB7XG59XG5FdmVudEVycm9yLnR5cGUgPSBcIkV2ZW50RXJyb3JcIjtcbi8qKlxuICogVGhyb3duIHdoZW4gQXV0aC5qcyBpcyB1bmFibGUgdG8gdmVyaWZ5IGEgYGNhbGxiYWNrVXJsYCB2YWx1ZS5cbiAqIFRoZSBicm93c2VyIGVpdGhlciBkaXNhYmxlZCBjb29raWVzIG9yIHRoZSBgY2FsbGJhY2tVcmxgIGlzIG5vdCBhIHZhbGlkIFVSTC5cbiAqXG4gKiBTb21lYm9keSBtaWdodCBoYXZlIHRyaWVkIHRvIG1hbmlwdWxhdGUgdGhlIGNhbGxiYWNrIFVSTCB0aGF0IEF1dGguanMgdXNlcyB0byByZWRpcmVjdCB0aGUgdXNlciBiYWNrIHRvIHRoZSBjb25maWd1cmVkIGBjYWxsYmFja1VybGAvcGFnZS5cbiAqIFRoaXMgY291bGQgYmUgYSBtYWxpY2lvdXMgaGFja2VyIHRyeWluZyB0byByZWRpcmVjdCB0aGUgdXNlciB0byBhIHBoaXNoaW5nIHNpdGUuXG4gKiBUbyBwcmV2ZW50IHRoaXMsIEF1dGguanMgY2hlY2tzIGlmIHRoZSBjYWxsYmFjayBVUkwgaXMgdmFsaWQgYW5kIHRocm93cyB0aGlzIGVycm9yIGlmIGl0IGlzIG5vdC5cbiAqXG4gKiBUaGVyZSBpcyBubyBhY3Rpb24gcmVxdWlyZWQsIGJ1dCBpdCBtaWdodCBiZSBhbiBpbmRpY2F0b3IgdGhhdCBzb21lYm9keSBpcyB0cnlpbmcgdG8gYXR0YWNrIHlvdXIgYXBwbGljYXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnZhbGlkQ2FsbGJhY2tVcmwgZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuSW52YWxpZENhbGxiYWNrVXJsLnR5cGUgPSBcIkludmFsaWRDYWxsYmFja1VybFwiO1xuLyoqXG4gKiBUaGUgYGF1dGhvcml6ZWAgY2FsbGJhY2sgcmV0dXJuZWQgYG51bGxgIGluIHRoZSBbQ3JlZGVudGlhbHMgcHJvdmlkZXJdKGh0dHBzOi8vYXV0aGpzLmRldi9nZXR0aW5nLXN0YXJ0ZWQvcHJvdmlkZXJzL2NyZWRlbnRpYWxzLXR1dG9yaWFsKS5cbiAqIFdlIGRvbid0IHJlY29tbWVuZCBwcm92aWRpbmcgaW5mb3JtYXRpb24gYWJvdXQgd2hpY2ggcGFydCBvZiB0aGUgY3JlZGVudGlhbHMgd2VyZSB3cm9uZywgYXMgaXQgbWlnaHQgYmUgYWJ1c2VkIGJ5IG1hbGljaW91cyBoYWNrZXJzLlxuICovXG5leHBvcnQgY2xhc3MgQ3JlZGVudGlhbHNTaWduaW4gZXh0ZW5kcyBTaWduSW5FcnJvciB7XG59XG5DcmVkZW50aWFsc1NpZ25pbi50eXBlID0gXCJDcmVkZW50aWFsc1NpZ25pblwiO1xuLyoqXG4gKiBPbmUgb2YgdGhlIGNvbmZpZ3VyZWQgT0F1dGggb3IgT0lEQyBwcm92aWRlcnMgaXMgbWlzc2luZyB0aGUgYGF1dGhvcml6YXRpb25gLCBgdG9rZW5gIG9yIGB1c2VyaW5mb2AsIG9yIGBpc3N1ZXJgIGNvbmZpZ3VyYXRpb24uXG4gKiBUbyBwZXJmb3JtIE9BdXRoIG9yIE9JREMgc2lnbiBpbiwgYXQgbGVhc3Qgb25lIG9mIHRoZXNlIGVuZHBvaW50cyBpcyByZXF1aXJlZC5cbiAqXG4gKiBMZWFybiBtb3JlIGF0IFtgT0F1dGgyQ29uZmlnYF0oaHR0cHM6Ly9hdXRoanMuZGV2L3JlZmVyZW5jZS9jb3JlL3Byb3ZpZGVycyNvYXV0aDJjb25maWdwcm9maWxlKSBvciBbR3VpZGU6IE9BdXRoIFByb3ZpZGVyXShodHRwczovL2F1dGhqcy5kZXYvZ3VpZGVzL3Byb3ZpZGVycy9jdXN0b20tcHJvdmlkZXIpXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnZhbGlkRW5kcG9pbnRzIGV4dGVuZHMgQXV0aEVycm9yIHtcbn1cbkludmFsaWRFbmRwb2ludHMudHlwZSA9IFwiSW52YWxpZEVuZHBvaW50c1wiO1xuLyoqXG4gKiBUaHJvd24gd2hlbiBhIFBLQ0UsIHN0YXRlIG9yIG5vbmNlIE9BdXRoIGNoZWNrIGNvdWxkIG5vdCBiZSBwZXJmb3JtZWQuXG4gKiBUaGlzIGNvdWxkIGhhcHBlbiBpZiB0aGUgT0F1dGggcHJvdmlkZXIgaXMgY29uZmlndXJlZCBpbmNvcnJlY3RseSBvciBpZiB0aGUgYnJvd3NlciBpcyBibG9ja2luZyBjb29raWVzLlxuICpcbiAqIExlYXJuIG1vcmUgYXQgW2BjaGVja3NgXShodHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUvcHJvdmlkZXJzI2NoZWNrcylcbiAqL1xuZXhwb3J0IGNsYXNzIEludmFsaWRDaGVjayBleHRlbmRzIEF1dGhFcnJvciB7XG59XG5JbnZhbGlkQ2hlY2sudHlwZSA9IFwiSW52YWxpZENoZWNrXCI7XG4vKipcbiAqIExvZ2dlZCBvbiB0aGUgc2VydmVyIHdoZW4gQXV0aC5qcyBjb3VsZCBub3QgZGVjb2RlIG9yIGVuY29kZSBhIEpXVC1iYXNlZCAoYHN0cmF0ZWd5OiBcImp3dFwiYCkgc2Vzc2lvbi5cbiAqXG4gKiBQb3NzaWJsZSBjYXVzZXMgYXJlIGVpdGhlciBhIG1pc2NvbmZpZ3VyZWQgYHNlY3JldGAgb3IgYSBtYWxmb3JtZWQgSldUIG9yIGBlbmNvZGUvZGVjb2RlYCBtZXRob2RzLlxuICpcbiAqIDo6Om5vdGVcbiAqIFdoZW4gdGhpcyBlcnJvciBpcyBsb2dnZWQsIHRoZSBzZXNzaW9uIGNvb2tpZSBpcyBkZXN0cm95ZWQuXG4gKiA6OjpcbiAqXG4gKiBMZWFybiBtb3JlIGF0IFtgc2VjcmV0YF0oaHR0cHM6Ly9hdXRoanMuZGV2L3JlZmVyZW5jZS9jb3JlI3NlY3JldCksIFtgand0LmVuY29kZWBdKGh0dHBzOi8vYXV0aGpzLmRldi9yZWZlcmVuY2UvY29yZS9qd3QjZW5jb2RlKSBvciBbYGp3dC5kZWNvZGVgXShodHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUvand0I2RlY29kZSkgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBKV1RTZXNzaW9uRXJyb3IgZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuSldUU2Vzc2lvbkVycm9yLnR5cGUgPSBcIkpXVFNlc3Npb25FcnJvclwiO1xuLyoqXG4gKiBUaHJvd24gaWYgQXV0aC5qcyBpcyBtaXNvbmZpZ3VyZWQuIFRoaXMgY291bGQgaGFwcGVuIGlmIHlvdSBjb25maWd1cmVkIGFuIEVtYWlsIHByb3ZpZGVyIGJ1dCBkaWQgbm90IHNldCB1cCBhIGRhdGFiYXNlIGFkYXB0ZXIsXG4gKiBvciB0cmllZCB1c2luZyBhIGBzdHJhdGVneTogXCJkYXRhYmFzZVwiYCBzZXNzaW9uIHdpdGhvdXQgYSBkYXRhYmFzZSBhZGFwdGVyLlxuICogSW4gYm90aCBjYXNlcywgbWFrZSBzdXJlIHlvdSBlaXRoZXIgcmVtb3ZlIHRoZSBjb25maWd1cmF0aW9uIG9yIGFkZCB0aGUgbWlzc2luZyBhZGFwdGVyLlxuICpcbiAqIExlYXJuIG1vcmUgYXQgW0RhdGFiYXNlIEFkYXB0ZXJzXShodHRwczovL2F1dGhqcy5kZXYvZ2V0dGluZy1zdGFydGVkL2FkYXB0ZXJzKSwgW0VtYWlsIHByb3ZpZGVyXShodHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUvcHJvdmlkZXJzL2VtYWlsKSBvciBbQ29uY2VwdDogRGF0YWJhc2Ugc2Vzc2lvbiBzdHJhdGVneV0oaHR0cHM6Ly9hdXRoanMuZGV2L2NvbmNlcHRzL3Nlc3Npb24tc3RyYXRlZ2llcyNkYXRhYmFzZSlcbiAqL1xuZXhwb3J0IGNsYXNzIE1pc3NpbmdBZGFwdGVyIGV4dGVuZHMgQXV0aEVycm9yIHtcbn1cbk1pc3NpbmdBZGFwdGVyLnR5cGUgPSBcIk1pc3NpbmdBZGFwdGVyXCI7XG4vKipcbiAqIFRocm93biBzaW1pbGFyaWx5IHRvIFtgTWlzc2luZ0FkYXB0ZXJgXShodHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUvZXJyb3JzI21pc3NpbmdhZGFwdGVyKSwgYnV0IG9ubHkgc29tZSByZXF1aXJlZCBtZXRob2RzIHdlcmUgbWlzc2luZy5cbiAqXG4gKiBNYWtlIHN1cmUgeW91IGVpdGhlciByZW1vdmUgdGhlIGNvbmZpZ3VyYXRpb24gb3IgYWRkIHRoZSBtaXNzaW5nIG1ldGhvZHMgdG8gdGhlIGFkYXB0ZXIuXG4gKlxuICogTGVhcm4gbW9yZSBhdCBbRGF0YWJhc2UgQWRhcHRlcnNdKGh0dHBzOi8vYXV0aGpzLmRldi9yZWZlcmVuY2UvY29yZS9hZGFwdGVycylcbiAqL1xuZXhwb3J0IGNsYXNzIE1pc3NpbmdBZGFwdGVyTWV0aG9kcyBleHRlbmRzIEF1dGhFcnJvciB7XG59XG5NaXNzaW5nQWRhcHRlck1ldGhvZHMudHlwZSA9IFwiTWlzc2luZ0FkYXB0ZXJNZXRob2RzXCI7XG4vKipcbiAqIFRocm93biB3aGVuIGEgQ3JlZGVudGlhbHMgcHJvdmlkZXIgaXMgbWlzc2luZyB0aGUgYGF1dGhvcml6ZWAgY29uZmlndXJhdGlvbi5cbiAqIFRvIHBlcmZvcm0gY3JlZGVudGlhbHMgc2lnbiBpbiwgdGhlIGBhdXRob3JpemVgIG1ldGhvZCBpcyByZXF1aXJlZC5cbiAqXG4gKiBMZWFybiBtb3JlIGF0IFtDcmVkZW50aWFscyBwcm92aWRlcl0oaHR0cHM6Ly9hdXRoanMuZGV2L3JlZmVyZW5jZS9jb3JlL3Byb3ZpZGVycy9jcmVkZW50aWFscylcbiAqL1xuZXhwb3J0IGNsYXNzIE1pc3NpbmdBdXRob3JpemUgZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuTWlzc2luZ0F1dGhvcml6ZS50eXBlID0gXCJNaXNzaW5nQXV0aG9yaXplXCI7XG4vKipcbiAqIEF1dGguanMgcmVxdWlyZXMgYSBzZWNyZXQgb3IgbXVsdGlwbGUgc2VjcmV0cyB0byBiZSBzZXQsIGJ1dCBub25lIHdhcyBub3QgZm91bmQuIFRoaXMgaXMgdXNlZCB0byBlbmNyeXB0IGNvb2tpZXMsIEpXVHMgYW5kIG90aGVyIHNlbnNpdGl2ZSBkYXRhLlxuICpcbiAqIDo6Om5vdGVcbiAqIElmIHlvdSBhcmUgdXNpbmcgYSBmcmFtZXdvcmsgbGlrZSBOZXh0LmpzLCB3ZSB0cnkgdG8gYXV0b21hdGljYWxseSBpbmZlciB0aGUgc2VjcmV0IGZyb20gdGhlIGBBVVRIX1NFQ1JFVGAsIGBBVVRIX1NFQ1JFVF8xYCwgZXRjLiBlbnZpcm9ubWVudCB2YXJpYWJsZXMuXG4gKiBBbHRlcm5hdGl2ZWx5LCB5b3UgY2FuIGFsc28gZXhwbGljaXRseSBzZXQgdGhlIFtgQXV0aENvbmZpZy5zZWNyZXRgXShodHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUjc2VjcmV0KSBvcHRpb24uXG4gKiA6OjpcbiAqXG4gKlxuICogOjo6dGlwXG4gKiBUbyBnZW5lcmF0ZSBhIHJhbmRvbSBzdHJpbmcsIHlvdSBjYW4gdXNlIHRoZSBBdXRoLmpzIENMSTogYG5weCBhdXRoIHNlY3JldGBcbiAqIDo6OlxuICovXG5leHBvcnQgY2xhc3MgTWlzc2luZ1NlY3JldCBleHRlbmRzIEF1dGhFcnJvciB7XG59XG5NaXNzaW5nU2VjcmV0LnR5cGUgPSBcIk1pc3NpbmdTZWNyZXRcIjtcbi8qKlxuICogVGhyb3duIHdoZW4gYW4gRW1haWwgYWRkcmVzcyBpcyBhbHJlYWR5IGFzc29jaWF0ZWQgd2l0aCBhbiBhY2NvdW50XG4gKiBidXQgdGhlIHVzZXIgaXMgdHJ5aW5nIGFuIE9BdXRoIGFjY291bnQgdGhhdCBpcyBub3QgbGlua2VkIHRvIGl0LlxuICpcbiAqIEZvciBzZWN1cml0eSByZWFzb25zLCBBdXRoLmpzIGRvZXMgbm90IGF1dG9tYXRpY2FsbHkgbGluayBPQXV0aCBhY2NvdW50cyB0byBleGlzdGluZyBhY2NvdW50cyBpZiB0aGUgdXNlciBpcyBub3Qgc2lnbmVkIGluLlxuICpcbiAqIDo6OnRpcFxuICogSWYgeW91IHRydXN0IHRoZSBPQXV0aCBwcm92aWRlciB0byBoYXZlIHZlcmlmaWVkIHRoZSB1c2VyJ3MgZW1haWwgYWRkcmVzcyxcbiAqIHlvdSBjYW4gZW5hYmxlIGF1dG9tYXRpYyBhY2NvdW50IGxpbmtpbmcgYnkgc2V0dGluZyBbYGFsbG93RGFuZ2Vyb3VzRW1haWxBY2NvdW50TGlua2luZzogdHJ1ZWBdKGh0dHBzOi8vYXV0aGpzLmRldi9yZWZlcmVuY2UvY29yZS9wcm92aWRlcnMjYWxsb3dkYW5nZXJvdXNlbWFpbGFjY291bnRsaW5raW5nKVxuICogaW4gdGhlIHByb3ZpZGVyIGNvbmZpZ3VyYXRpb24uXG4gKiA6OjpcbiAqL1xuZXhwb3J0IGNsYXNzIE9BdXRoQWNjb3VudE5vdExpbmtlZCBleHRlbmRzIFNpZ25JbkVycm9yIHtcbn1cbk9BdXRoQWNjb3VudE5vdExpbmtlZC50eXBlID0gXCJPQXV0aEFjY291bnROb3RMaW5rZWRcIjtcbi8qKlxuICogVGhyb3duIHdoZW4gYW4gT0F1dGggcHJvdmlkZXIgcmV0dXJucyBhbiBlcnJvciBkdXJpbmcgdGhlIHNpZ24gaW4gcHJvY2Vzcy5cbiAqIFRoaXMgY291bGQgaGFwcGVuIGZvciBleGFtcGxlIGlmIHRoZSB1c2VyIGRlbmllZCBhY2Nlc3MgdG8gdGhlIGFwcGxpY2F0aW9uIG9yIHRoZXJlIHdhcyBhIGNvbmZpZ3VyYXRpb24gZXJyb3IuXG4gKlxuICogRm9yIGEgZnVsbCBsaXN0IG9mIHBvc3NpYmxlIHJlYXNvbnMsIGNoZWNrIG91dCB0aGUgc3BlY2lmaWNhdGlvbiBbQXV0aG9yaXphdGlvbiBDb2RlIEdyYW50OiBFcnJvciBSZXNwb25zZV0oaHR0cHM6Ly93d3cucmZjLWVkaXRvci5vcmcvcmZjL3JmYzY3NDkjc2VjdGlvbi00LjEuMi4xKVxuICovXG5leHBvcnQgY2xhc3MgT0F1dGhDYWxsYmFja0Vycm9yIGV4dGVuZHMgU2lnbkluRXJyb3Ige1xufVxuT0F1dGhDYWxsYmFja0Vycm9yLnR5cGUgPSBcIk9BdXRoQ2FsbGJhY2tFcnJvclwiO1xuLyoqXG4gKiBUaGlzIGVycm9yIG9jY3VycyBkdXJpbmcgYW4gT0F1dGggc2lnbiBpbiBhdHRlbXB0IHdoZW4gdGhlIHByb3ZpZGVyJ3NcbiAqIHJlc3BvbnNlIGNvdWxkIG5vdCBiZSBwYXJzZWQuIFRoaXMgY291bGQgZm9yIGV4YW1wbGUgaGFwcGVuIGlmIHRoZSBwcm92aWRlcidzIEFQSVxuICogY2hhbmdlZCwgb3IgdGhlIFtgT0F1dGgyQ29uZmlnLnByb2ZpbGVgXShodHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUvcHJvdmlkZXJzL29hdXRoI3Byb2ZpbGUpIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQgY29ycmVjdGx5LlxuICovXG5leHBvcnQgY2xhc3MgT0F1dGhQcm9maWxlUGFyc2VFcnJvciBleHRlbmRzIEF1dGhFcnJvciB7XG59XG5PQXV0aFByb2ZpbGVQYXJzZUVycm9yLnR5cGUgPSBcIk9BdXRoUHJvZmlsZVBhcnNlRXJyb3JcIjtcbi8qKlxuICogTG9nZ2VkIG9uIHRoZSBzZXJ2ZXIgd2hlbiBBdXRoLmpzIGNvdWxkIG5vdCByZXRyaWV2ZSBhIHNlc3Npb24gZnJvbSB0aGUgZGF0YWJhc2UgKGBzdHJhdGVneTogXCJkYXRhYmFzZVwiYCkuXG4gKlxuICogVGhlIGRhdGFiYXNlIGFkYXB0ZXIgbWlnaHQgYmUgbWlzY29uZmlndXJlZCBvciB0aGUgZGF0YWJhc2UgaXMgbm90IHJlYWNoYWJsZS5cbiAqXG4gKiBMZWFybiBtb3JlIGF0IFtDb25jZXB0OiBEYXRhYmFzZSBzZXNzaW9uIHN0cmF0ZWd5XShodHRwczovL2F1dGhqcy5kZXYvY29uY2VwdHMvc2Vzc2lvbi1zdHJhdGVnaWVzI2RhdGFiYXNlKVxuICovXG5leHBvcnQgY2xhc3MgU2Vzc2lvblRva2VuRXJyb3IgZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuU2Vzc2lvblRva2VuRXJyb3IudHlwZSA9IFwiU2Vzc2lvblRva2VuRXJyb3JcIjtcbi8qKlxuICogSGFwcGVucyB3aGVuIGxvZ2luIGJ5IFtPQXV0aF0oaHR0cHM6Ly9hdXRoanMuZGV2L2dldHRpbmctc3RhcnRlZC9wcm92aWRlcnMvb2F1dGgtdHV0b3JpYWwpIGNvdWxkIG5vdCBiZSBzdGFydGVkLlxuICpcbiAqIFBvc3NpYmxlIGNhdXNlcyBhcmU6XG4gKiAtIFRoZSBBdXRob3JpemF0aW9uIFNlcnZlciBpcyBub3QgY29tcGxpYW50IHdpdGggdGhlIFtPQXV0aCAyLjBdKGh0dHBzOi8vd3d3LmlldGYub3JnL3JmYy9yZmM2NzQ5Lmh0bWwpIG9yIHRoZSBbT0lEQ10oaHR0cHM6Ly9vcGVuaWQubmV0L3NwZWNzL29wZW5pZC1jb25uZWN0LWNvcmUtMV8wLmh0bWwpIHNwZWNpZmljYXRpb24uXG4gKiAgIENoZWNrIHRoZSBkZXRhaWxzIGluIHRoZSBlcnJvciBtZXNzYWdlLlxuICpcbiAqIDo6OnRpcFxuICogQ2hlY2sgb3V0IGBbYXV0aF1bZGV0YWlsc11gIGluIHRoZSBsb2dzIHRvIGtub3cgd2hpY2ggcHJvdmlkZXIgZmFpbGVkLlxuICogQGV4YW1wbGVcbiAqIGBgYHNoXG4gKiBbYXV0aF1bZGV0YWlsc106IHsgXCJwcm92aWRlclwiOiBcImdpdGh1YlwiIH1cbiAqIGBgYFxuICogOjo6XG4gKi9cbmV4cG9ydCBjbGFzcyBPQXV0aFNpZ25JbkVycm9yIGV4dGVuZHMgU2lnbkluRXJyb3Ige1xufVxuT0F1dGhTaWduSW5FcnJvci50eXBlID0gXCJPQXV0aFNpZ25JbkVycm9yXCI7XG4vKipcbiAqIEhhcHBlbnMgd2hlbiB0aGUgbG9naW4gYnkgYW4gW0VtYWlsIHByb3ZpZGVyXShodHRwczovL2F1dGhqcy5kZXYvZ2V0dGluZy1zdGFydGVkL3Byb3ZpZGVycy9lbWFpbC10dXRvcmlhbCkgY291bGQgbm90IGJlIHN0YXJ0ZWQuXG4gKlxuICogUG9zc2libGUgY2F1c2VzIGFyZTpcbiAqIC0gVGhlIGVtYWlsIHNlbnQgZnJvbSB0aGUgY2xpZW50IGlzIGludmFsaWQsIGNvdWxkIG5vdCBiZSBub3JtYWxpemVkIGJ5IFtgRW1haWxDb25maWcubm9ybWFsaXplSWRlbnRpZmllcmBdKGh0dHBzOi8vYXV0aGpzLmRldi9yZWZlcmVuY2UvY29yZS9wcm92aWRlcnMvZW1haWwjbm9ybWFsaXplaWRlbnRpZmllcilcbiAqIC0gVGhlIHByb3ZpZGVkIGVtYWlsL3Rva2VuIGNvbWJpbmF0aW9uIGhhcyBleHBpcmVkOlxuICogICBBc2sgdGhlIHVzZXIgdG8gbG9nIGluIGFnYWluLlxuICogLSBUaGVyZSB3YXMgYW4gZXJyb3Igd2l0aCB0aGUgZGF0YWJhc2U6XG4gKiAgIENoZWNrIHRoZSBkYXRhYmFzZSBsb2dzLlxuICovXG5leHBvcnQgY2xhc3MgRW1haWxTaWduSW5FcnJvciBleHRlbmRzIFNpZ25JbkVycm9yIHtcbn1cbkVtYWlsU2lnbkluRXJyb3IudHlwZSA9IFwiRW1haWxTaWduSW5FcnJvclwiO1xuLyoqXG4gKiBSZXByZXNlbnRzIGFuIGVycm9yIHRoYXQgb2NjdXJzIGR1cmluZyB0aGUgc2lnbi1vdXQgcHJvY2Vzcy4gVGhpcyBlcnJvclxuICogaXMgbG9nZ2VkIHdoZW4gdGhlcmUgYXJlIGlzc3VlcyBpbiB0ZXJtaW5hdGluZyBhIHVzZXIncyBzZXNzaW9uLCBlaXRoZXJcbiAqIGJ5IGZhaWxpbmcgdG8gZGVsZXRlIHRoZSBzZXNzaW9uIGZyb20gdGhlIGRhdGFiYXNlIChpbiBkYXRhYmFzZSBzZXNzaW9uXG4gKiBzdHJhdGVnaWVzKSBvciBlbmNvdW50ZXJpbmcgaXNzdWVzIGR1cmluZyBvdGhlciBwYXJ0cyBvZiB0aGUgc2lnbi1vdXRcbiAqIHByb2Nlc3MsIHN1Y2ggYXMgZW1pdHRpbmcgc2lnbi1vdXQgZXZlbnRzIG9yIGNsZWFyaW5nIHNlc3Npb24gY29va2llcy5cbiAqXG4gKiBUaGUgc2Vzc2lvbiBjb29raWUocykgYXJlIGVtcHRpZWQgZXZlbiBpZiB0aGlzIGVycm9yIGlzIGxvZ2dlZC5cbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBTaWduT3V0RXJyb3IgZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuU2lnbk91dEVycm9yLnR5cGUgPSBcIlNpZ25PdXRFcnJvclwiO1xuLyoqXG4gKiBBdXRoLmpzIHdhcyByZXF1ZXN0ZWQgdG8gaGFuZGxlIGFuIG9wZXJhdGlvbiB0aGF0IGl0IGRvZXMgbm90IHN1cHBvcnQuXG4gKlxuICogU2VlIFtgQXV0aEFjdGlvbmBdKGh0dHBzOi8vYXV0aGpzLmRldi9yZWZlcmVuY2UvY29yZS90eXBlcyNhdXRoYWN0aW9uKSBmb3IgdGhlIHN1cHBvcnRlZCBhY3Rpb25zLlxuICovXG5leHBvcnQgY2xhc3MgVW5rbm93bkFjdGlvbiBleHRlbmRzIEF1dGhFcnJvciB7XG59XG5Vbmtub3duQWN0aW9uLnR5cGUgPSBcIlVua25vd25BY3Rpb25cIjtcbi8qKlxuICogVGhyb3duIHdoZW4gYSBDcmVkZW50aWFscyBwcm92aWRlciBpcyBwcmVzZW50IGJ1dCB0aGUgSldUIHN0cmF0ZWd5IChgc3RyYXRlZ3k6IFwiand0XCJgKSBpcyBub3QgZW5hYmxlZC5cbiAqXG4gKiBMZWFybiBtb3JlIGF0IFtgc3RyYXRlZ3lgXShodHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUjc3RyYXRlZ3kpIG9yIFtDcmVkZW50aWFscyBwcm92aWRlcl0oaHR0cHM6Ly9hdXRoanMuZGV2L3JlZmVyZW5jZS9jb3JlL3Byb3ZpZGVycy9jcmVkZW50aWFscylcbiAqL1xuZXhwb3J0IGNsYXNzIFVuc3VwcG9ydGVkU3RyYXRlZ3kgZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuVW5zdXBwb3J0ZWRTdHJhdGVneS50eXBlID0gXCJVbnN1cHBvcnRlZFN0cmF0ZWd5XCI7XG4vKiogVGhyb3duIHdoZW4gYW4gZW5kcG9pbnQgd2FzIGluY29ycmVjdGx5IGNhbGxlZCB3aXRob3V0IGEgcHJvdmlkZXIsIG9yIHdpdGggYW4gdW5zdXBwb3J0ZWQgcHJvdmlkZXIuICovXG5leHBvcnQgY2xhc3MgSW52YWxpZFByb3ZpZGVyIGV4dGVuZHMgQXV0aEVycm9yIHtcbn1cbkludmFsaWRQcm92aWRlci50eXBlID0gXCJJbnZhbGlkUHJvdmlkZXJcIjtcbi8qKlxuICogVGhyb3duIHdoZW4gdGhlIGB0cnVzdEhvc3RgIG9wdGlvbiB3YXMgbm90IHNldCB0byBgdHJ1ZWAuXG4gKlxuICogQXV0aC5qcyByZXF1aXJlcyB0aGUgYHRydXN0SG9zdGAgb3B0aW9uIHRvIGJlIHNldCB0byBgdHJ1ZWAgc2luY2UgaXQncyByZWx5aW5nIG9uIHRoZSByZXF1ZXN0IGhlYWRlcnMnIGBob3N0YCB2YWx1ZS5cbiAqXG4gKiA6Ojpub3RlXG4gKiBPZmZpY2lhbCBBdXRoLmpzIGxpYnJhcmllcyBtaWdodCBhdHRlbXB0IHRvIGF1dG9tYXRpY2FsbHkgc2V0IHRoZSBgdHJ1c3RIb3N0YCBvcHRpb24gdG8gYHRydWVgIGlmIHRoZSByZXF1ZXN0IGlzIGNvbWluZyBmcm9tIGEgdHJ1c3RlZCBob3N0IG9uIGEgdHJ1c3RlZCBwbGF0Zm9ybS5cbiAqIDo6OlxuICpcbiAqIExlYXJuIG1vcmUgYXQgW2B0cnVzdEhvc3RgXShodHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUjdHJ1c3Rob3N0KSBvciBbR3VpZGU6IERlcGxveW1lbnRdKGh0dHBzOi8vYXV0aGpzLmRldi9nZXR0aW5nLXN0YXJ0ZWQvZGVwbG95bWVudClcbiAqL1xuZXhwb3J0IGNsYXNzIFVudHJ1c3RlZEhvc3QgZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuVW50cnVzdGVkSG9zdC50eXBlID0gXCJVbnRydXN0ZWRIb3N0XCI7XG4vKipcbiAqIFRoZSB1c2VyJ3MgZW1haWwvdG9rZW4gY29tYmluYXRpb24gd2FzIGludmFsaWQuXG4gKiBUaGlzIGNvdWxkIGJlIGJlY2F1c2UgdGhlIGVtYWlsL3Rva2VuIGNvbWJpbmF0aW9uIHdhcyBub3QgZm91bmQgaW4gdGhlIGRhdGFiYXNlLFxuICogb3IgYmVjYXVzZSB0aGUgdG9rZW4gaGFzIGV4cGlyZWQuIEFzayB0aGUgdXNlciB0byBsb2cgaW4gYWdhaW4uXG4gKi9cbmV4cG9ydCBjbGFzcyBWZXJpZmljYXRpb24gZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuVmVyaWZpY2F0aW9uLnR5cGUgPSBcIlZlcmlmaWNhdGlvblwiO1xuLyoqXG4gKiBFcnJvciBmb3IgbWlzc2luZyBDU1JGIHRva2VucyBpbiBjbGllbnQtc2lkZSBhY3Rpb25zIChgc2lnbkluYCwgYHNpZ25PdXRgLCBgdXNlU2Vzc2lvbiN1cGRhdGVgKS5cbiAqIFRocm93biB3aGVuIGFjdGlvbnMgbGFjayB0aGUgZG91YmxlIHN1Ym1pdCBjb29raWUsIGVzc2VudGlhbCBmb3IgQ1NSRiBwcm90ZWN0aW9uLlxuICpcbiAqIENTUkYgKFtDcm9zcy1TaXRlIFJlcXVlc3QgRm9yZ2VyeV0oaHR0cHM6Ly9vd2FzcC5vcmcvd3d3LWNvbW11bml0eS9hdHRhY2tzL2NzcmYpKVxuICogaXMgYW4gYXR0YWNrIGxldmVyYWdpbmcgYXV0aGVudGljYXRlZCB1c2VyIGNyZWRlbnRpYWxzIGZvciB1bmF1dGhvcml6ZWQgYWN0aW9ucy5cbiAqXG4gKiBEb3VibGUgc3VibWl0IGNvb2tpZSBwYXR0ZXJuLCBhIENTUkYgZGVmZW5zZSwgcmVxdWlyZXMgbWF0Y2hpbmcgdmFsdWVzIGluIGEgY29va2llXG4gKiBhbmQgcmVxdWVzdCBwYXJhbWV0ZXIuIE1vcmUgb24gdGhpcyBhdCBbTUROIFdlYiBEb2NzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9TZWN1cml0eS9DU1JGKS5cbiAqL1xuZXhwb3J0IGNsYXNzIE1pc3NpbmdDU1JGIGV4dGVuZHMgU2lnbkluRXJyb3Ige1xufVxuTWlzc2luZ0NTUkYudHlwZSA9IFwiTWlzc2luZ0NTUkZcIjtcbi8qKlxuICogVGhyb3duIHdoZW4gbXVsdGlwbGUgcHJvdmlkZXJzIGhhdmUgYGVuYWJsZUNvbmRpdGlvbmFsVUlgIHNldCB0byBgdHJ1ZWAuXG4gKiBPbmx5IG9uZSBwcm92aWRlciBjYW4gaGF2ZSB0aGlzIG9wdGlvbiBlbmFibGVkIGF0IGEgdGltZS5cbiAqL1xuZXhwb3J0IGNsYXNzIER1cGxpY2F0ZUNvbmRpdGlvbmFsVUkgZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuRHVwbGljYXRlQ29uZGl0aW9uYWxVSS50eXBlID0gXCJEdXBsaWNhdGVDb25kaXRpb25hbFVJXCI7XG4vKipcbiAqIFRocm93biB3aGVuIGEgV2ViQXV0aG4gcHJvdmlkZXIgaGFzIGBlbmFibGVDb25kaXRpb25hbFVJYCBzZXQgdG8gYHRydWVgIGJ1dCBubyBmb3JtRmllbGQgaGFzIGB3ZWJhdXRobmAgaW4gaXRzIGF1dG9jb21wbGV0ZSBwYXJhbS5cbiAqXG4gKiBUaGUgYHdlYmF1dGhuYCBhdXRvY29tcGxldGUgcGFyYW0gaXMgcmVxdWlyZWQgZm9yIGNvbmRpdGlvbmFsIFVJIHRvIHdvcmsuXG4gKi9cbmV4cG9ydCBjbGFzcyBNaXNzaW5nV2ViQXV0aG5BdXRvY29tcGxldGUgZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuTWlzc2luZ1dlYkF1dGhuQXV0b2NvbXBsZXRlLnR5cGUgPSBcIk1pc3NpbmdXZWJBdXRobkF1dG9jb21wbGV0ZVwiO1xuLyoqXG4gKiBUaHJvd24gd2hlbiBhIFdlYkF1dGhuIHByb3ZpZGVyIGZhaWxzIHRvIHZlcmlmeSBhIGNsaWVudCByZXNwb25zZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFdlYkF1dGhuVmVyaWZpY2F0aW9uRXJyb3IgZXh0ZW5kcyBBdXRoRXJyb3Ige1xufVxuV2ViQXV0aG5WZXJpZmljYXRpb25FcnJvci50eXBlID0gXCJXZWJBdXRoblZlcmlmaWNhdGlvbkVycm9yXCI7XG4vKipcbiAqIFRocm93biB3aGVuIGFuIEVtYWlsIGFkZHJlc3MgaXMgYWxyZWFkeSBhc3NvY2lhdGVkIHdpdGggYW4gYWNjb3VudFxuICogYnV0IHRoZSB1c2VyIGlzIHRyeWluZyBhbiBhY2NvdW50IHRoYXQgaXMgbm90IGxpbmtlZCB0byBpdC5cbiAqXG4gKiBGb3Igc2VjdXJpdHkgcmVhc29ucywgQXV0aC5qcyBkb2VzIG5vdCBhdXRvbWF0aWNhbGx5IGxpbmsgYWNjb3VudHMgdG8gZXhpc3RpbmcgYWNjb3VudHMgaWYgdGhlIHVzZXIgaXMgbm90IHNpZ25lZCBpbi5cbiAqL1xuZXhwb3J0IGNsYXNzIEFjY291bnROb3RMaW5rZWQgZXh0ZW5kcyBTaWduSW5FcnJvciB7XG59XG5BY2NvdW50Tm90TGlua2VkLnR5cGUgPSBcIkFjY291bnROb3RMaW5rZWRcIjtcbi8qKlxuICogVGhyb3duIHdoZW4gYW4gZXhwZXJpbWVudGFsIGZlYXR1cmUgaXMgdXNlZCBidXQgbm90IGVuYWJsZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBFeHBlcmltZW50YWxGZWF0dXJlTm90RW5hYmxlZCBleHRlbmRzIEF1dGhFcnJvciB7XG59XG5FeHBlcmltZW50YWxGZWF0dXJlTm90RW5hYmxlZC50eXBlID0gXCJFeHBlcmltZW50YWxGZWF0dXJlTm90RW5hYmxlZFwiO1xuIl0sIm5hbWVzIjpbIkF1dGhFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiZXJyb3JPcHRpb25zIiwidW5kZWZpbmVkIiwiY2F1c2UiLCJlcnIiLCJuYW1lIiwidHlwZSIsImtpbmQiLCJjYXB0dXJlU3RhY2tUcmFjZSIsInVybCIsInRvTG93ZXJDYXNlIiwiU2lnbkluRXJyb3IiLCJBZGFwdGVyRXJyb3IiLCJBdXRob3JpemVkQ2FsbGJhY2tFcnJvciIsIkNhbGxiYWNrUm91dGVFcnJvciIsIkVycm9yUGFnZUxvb3AiLCJFdmVudEVycm9yIiwiSW52YWxpZENhbGxiYWNrVXJsIiwiQ3JlZGVudGlhbHNTaWduaW4iLCJJbnZhbGlkRW5kcG9pbnRzIiwiSW52YWxpZENoZWNrIiwiSldUU2Vzc2lvbkVycm9yIiwiTWlzc2luZ0FkYXB0ZXIiLCJNaXNzaW5nQWRhcHRlck1ldGhvZHMiLCJNaXNzaW5nQXV0aG9yaXplIiwiTWlzc2luZ1NlY3JldCIsIk9BdXRoQWNjb3VudE5vdExpbmtlZCIsIk9BdXRoQ2FsbGJhY2tFcnJvciIsIk9BdXRoUHJvZmlsZVBhcnNlRXJyb3IiLCJTZXNzaW9uVG9rZW5FcnJvciIsIk9BdXRoU2lnbkluRXJyb3IiLCJFbWFpbFNpZ25JbkVycm9yIiwiU2lnbk91dEVycm9yIiwiVW5rbm93bkFjdGlvbiIsIlVuc3VwcG9ydGVkU3RyYXRlZ3kiLCJJbnZhbGlkUHJvdmlkZXIiLCJVbnRydXN0ZWRIb3N0IiwiVmVyaWZpY2F0aW9uIiwiTWlzc2luZ0NTUkYiLCJEdXBsaWNhdGVDb25kaXRpb25hbFVJIiwiTWlzc2luZ1dlYkF1dGhuQXV0b2NvbXBsZXRlIiwiV2ViQXV0aG5WZXJpZmljYXRpb25FcnJvciIsIkFjY291bnROb3RMaW5rZWQiLCJFeHBlcmltZW50YWxGZWF0dXJlTm90RW5hYmxlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/errors.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/index.js":
/*!******************************************!*\
  !*** ./node_modules/@auth/core/index.js ***!
  \******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Auth: () => (/* binding */ Auth),\n/* harmony export */   createActionURL: () => (/* reexport safe */ _lib_utils_env_js__WEBPACK_IMPORTED_MODULE_3__.createActionURL),\n/* harmony export */   isAuthAction: () => (/* reexport safe */ _lib_utils_actions_js__WEBPACK_IMPORTED_MODULE_7__.isAuthAction),\n/* harmony export */   raw: () => (/* reexport safe */ _lib_index_js__WEBPACK_IMPORTED_MODULE_2__.raw),\n/* harmony export */   setEnvDefaults: () => (/* reexport safe */ _lib_utils_env_js__WEBPACK_IMPORTED_MODULE_3__.setEnvDefaults),\n/* harmony export */   skipCSRFCheck: () => (/* reexport safe */ _lib_index_js__WEBPACK_IMPORTED_MODULE_2__.skipCSRFCheck)\n/* harmony export */ });\n/* harmony import */ var _lib_utils_assert_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/utils/assert.js */ \"(action-browser)/./node_modules/@auth/core/lib/utils/assert.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./errors.js */ \"(action-browser)/./node_modules/@auth/core/errors.js\");\n/* harmony import */ var _lib_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/index.js */ \"(action-browser)/./node_modules/@auth/core/lib/index.js\");\n/* harmony import */ var _lib_utils_env_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lib/utils/env.js */ \"(action-browser)/./node_modules/@auth/core/lib/utils/env.js\");\n/* harmony import */ var _lib_pages_index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lib/pages/index.js */ \"(action-browser)/./node_modules/@auth/core/lib/pages/index.js\");\n/* harmony import */ var _lib_utils_logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./lib/utils/logger.js */ \"(action-browser)/./node_modules/@auth/core/lib/utils/logger.js\");\n/* harmony import */ var _lib_utils_web_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./lib/utils/web.js */ \"(action-browser)/./node_modules/@auth/core/lib/utils/web.js\");\n/* harmony import */ var _lib_utils_actions_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./lib/utils/actions.js */ \"(action-browser)/./node_modules/@auth/core/lib/utils/actions.js\");\n/**\n *\n * :::warning Experimental\n * `@auth/core` is under active development.\n * :::\n *\n * This is the main entry point to the Auth.js library.\n *\n * Based on the {@link https://developer.mozilla.org/en-US/docs/Web/API/Request Request}\n * and {@link https://developer.mozilla.org/en-US/docs/Web/API/Response Response} Web standard APIs.\n * Primarily used to implement [framework](https://authjs.dev/concepts/frameworks)-specific packages,\n * but it can also be used directly.\n *\n * ## Installation\n *\n * ```bash npm2yarn\n * npm install @auth/core\n * ```\n *\n * ## Usage\n *\n * ```ts\n * import { Auth } from \"@auth/core\"\n *\n * const request = new Request(\"https://example.com\")\n * const response = await Auth(request, {...})\n *\n * console.log(response instanceof Response) // true\n * ```\n *\n * ## Resources\n *\n * - [Getting started](https://authjs.dev/getting-started/introduction)\n * - [Most common use case guides](https://authjs.dev/guides)\n *\n * @module @auth/core\n */ \n\n\n\n\n\n\n\n\n/**\n * Core functionality provided by Auth.js.\n *\n * Receives a standard {@link Request} and returns a {@link Response}.\n *\n * @example\n * ```ts\n * import Auth from \"@auth/core\"\n *\n * const request = new Request(\"https://example.com\")\n * const response = await AuthHandler(request, {\n *   providers: [...],\n *   secret: \"...\",\n *   trustHost: true,\n * })\n *```\n * @see [Documentation](https://authjs.dev)\n */ async function Auth(request, config) {\n    (0,_lib_utils_logger_js__WEBPACK_IMPORTED_MODULE_5__.setLogger)(config.logger, config.debug);\n    const internalRequest = await (0,_lib_utils_web_js__WEBPACK_IMPORTED_MODULE_6__.toInternalRequest)(request, config);\n    if (internalRequest instanceof Error) {\n        _lib_utils_logger_js__WEBPACK_IMPORTED_MODULE_5__.logger.error(internalRequest);\n        return Response.json(`Error: This action with HTTP ${request.method} is not supported.`, {\n            status: 400\n        });\n    }\n    const assertionResult = (0,_lib_utils_assert_js__WEBPACK_IMPORTED_MODULE_0__.assertConfig)(internalRequest, config);\n    if (Array.isArray(assertionResult)) {\n        assertionResult.forEach(_lib_utils_logger_js__WEBPACK_IMPORTED_MODULE_5__.logger.warn);\n    } else if (assertionResult instanceof Error) {\n        // Bail out early if there's an error in the user config\n        _lib_utils_logger_js__WEBPACK_IMPORTED_MODULE_5__.logger.error(assertionResult);\n        const htmlPages = [\n            \"signin\",\n            \"signout\",\n            \"error\",\n            \"verify-request\"\n        ];\n        if (!htmlPages.includes(internalRequest.action) || internalRequest.method !== \"GET\") {\n            return Response.json({\n                message: \"There was a problem with the server configuration. Check the server logs for more information.\"\n            }, {\n                status: 500\n            });\n        }\n        const { pages, theme } = config;\n        const authOnErrorPage = pages?.error && internalRequest.url.searchParams.get(\"callbackUrl\")?.startsWith(pages.error);\n        if (!pages?.error || authOnErrorPage) {\n            if (authOnErrorPage) {\n                _lib_utils_logger_js__WEBPACK_IMPORTED_MODULE_5__.logger.error(new _errors_js__WEBPACK_IMPORTED_MODULE_1__.ErrorPageLoop(`The error page ${pages?.error} should not require authentication`));\n            }\n            const render = (0,_lib_pages_index_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({\n                theme\n            });\n            const page = render.error(\"Configuration\");\n            return (0,_lib_utils_web_js__WEBPACK_IMPORTED_MODULE_6__.toResponse)(page);\n        }\n        return Response.redirect(`${pages.error}?error=Configuration`);\n    }\n    const isRedirect = request.headers?.has(\"X-Auth-Return-Redirect\");\n    const isRaw = config.raw === _lib_index_js__WEBPACK_IMPORTED_MODULE_2__.raw;\n    let response;\n    try {\n        const rawResponse = await (0,_lib_index_js__WEBPACK_IMPORTED_MODULE_2__.AuthInternal)(internalRequest, config);\n        if (isRaw) return rawResponse;\n        response = await (0,_lib_utils_web_js__WEBPACK_IMPORTED_MODULE_6__.toResponse)(rawResponse);\n    } catch (e) {\n        const error = e;\n        _lib_utils_logger_js__WEBPACK_IMPORTED_MODULE_5__.logger.error(error);\n        const isAuthError = error instanceof _errors_js__WEBPACK_IMPORTED_MODULE_1__.AuthError;\n        if (isAuthError && isRaw && !isRedirect) throw error;\n        // If the CSRF check failed for POST/session, return a 400 status code.\n        // We should not redirect to a page as this is an API route\n        if (request.method === \"POST\" && internalRequest.action === \"session\") return Response.json(null, {\n            status: 400\n        });\n        const type = isAuthError ? error.type : \"Configuration\";\n        const page = isAuthError && error.kind || \"error\";\n        // TODO: Filter out some error types from being sent to the client\n        const params = new URLSearchParams({\n            error: type\n        });\n        const path = config.pages?.[page] ?? `${config.basePath}/${page.toLowerCase()}`;\n        const url = `${internalRequest.url.origin}${path}?${params}`;\n        if (isRedirect) return Response.json({\n            url\n        });\n        return Response.redirect(url);\n    }\n    const redirect = response.headers.get(\"Location\");\n    if (!isRedirect || !redirect) return response;\n    return Response.json({\n        url: redirect\n    }, {\n        headers: response.headers\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQW9DQyxHQUNvRDtBQUNFO0FBQ1c7QUFDRztBQUN2QjtBQUNZO0FBQ1M7QUFDYjtBQUN1QjtBQUM3RTs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0FpQkMsR0FDTSxlQUFlYyxLQUFLQyxPQUFPLEVBQUVDLE1BQU07SUFDdENOLCtEQUFTQSxDQUFDTSxPQUFPUCxNQUFNLEVBQUVPLE9BQU9DLEtBQUs7SUFDckMsTUFBTUMsa0JBQWtCLE1BQU1QLG9FQUFpQkEsQ0FBQ0ksU0FBU0M7SUFDekQsSUFBSUUsMkJBQTJCQyxPQUFPO1FBQ2xDVix3REFBTUEsQ0FBQ1csS0FBSyxDQUFDRjtRQUNiLE9BQU9HLFNBQVNDLElBQUksQ0FBQyxDQUFDLDZCQUE2QixFQUFFUCxRQUFRUSxNQUFNLENBQUMsa0JBQWtCLENBQUMsRUFBRTtZQUFFQyxRQUFRO1FBQUk7SUFDM0c7SUFDQSxNQUFNQyxrQkFBa0J6QixrRUFBWUEsQ0FBQ2tCLGlCQUFpQkY7SUFDdEQsSUFBSVUsTUFBTUMsT0FBTyxDQUFDRixrQkFBa0I7UUFDaENBLGdCQUFnQkcsT0FBTyxDQUFDbkIsd0RBQU1BLENBQUNvQixJQUFJO0lBQ3ZDLE9BQ0ssSUFBSUosMkJBQTJCTixPQUFPO1FBQ3ZDLHdEQUF3RDtRQUN4RFYsd0RBQU1BLENBQUNXLEtBQUssQ0FBQ0s7UUFDYixNQUFNSyxZQUFZO1lBQUM7WUFBVTtZQUFXO1lBQVM7U0FBaUI7UUFDbEUsSUFBSSxDQUFDQSxVQUFVQyxRQUFRLENBQUNiLGdCQUFnQmMsTUFBTSxLQUMxQ2QsZ0JBQWdCSyxNQUFNLEtBQUssT0FBTztZQUNsQyxPQUFPRixTQUFTQyxJQUFJLENBQUM7Z0JBQ2pCVyxTQUFTO1lBQ2IsR0FBRztnQkFBRVQsUUFBUTtZQUFJO1FBQ3JCO1FBQ0EsTUFBTSxFQUFFVSxLQUFLLEVBQUVDLEtBQUssRUFBRSxHQUFHbkI7UUFDekIsTUFBTW9CLGtCQUFrQkYsT0FBT2QsU0FDM0JGLGdCQUFnQm1CLEdBQUcsQ0FBQ0MsWUFBWSxDQUMzQkMsR0FBRyxDQUFDLGdCQUNIQyxXQUFXTixNQUFNZCxLQUFLO1FBQ2hDLElBQUksQ0FBQ2MsT0FBT2QsU0FBU2dCLGlCQUFpQjtZQUNsQyxJQUFJQSxpQkFBaUI7Z0JBQ2pCM0Isd0RBQU1BLENBQUNXLEtBQUssQ0FBQyxJQUFJbEIscURBQWFBLENBQUMsQ0FBQyxlQUFlLEVBQUVnQyxPQUFPZCxNQUFNLGtDQUFrQyxDQUFDO1lBQ3JHO1lBQ0EsTUFBTXFCLFNBQVNqQywrREFBVUEsQ0FBQztnQkFBRTJCO1lBQU07WUFDbEMsTUFBTU8sT0FBT0QsT0FBT3JCLEtBQUssQ0FBQztZQUMxQixPQUFPUiw2REFBVUEsQ0FBQzhCO1FBQ3RCO1FBQ0EsT0FBT3JCLFNBQVNzQixRQUFRLENBQUMsQ0FBQyxFQUFFVCxNQUFNZCxLQUFLLENBQUMsb0JBQW9CLENBQUM7SUFDakU7SUFDQSxNQUFNd0IsYUFBYTdCLFFBQVE4QixPQUFPLEVBQUVDLElBQUk7SUFDeEMsTUFBTUMsUUFBUS9CLE9BQU9aLEdBQUcsS0FBS0EsOENBQUdBO0lBQ2hDLElBQUk0QztJQUNKLElBQUk7UUFDQSxNQUFNQyxjQUFjLE1BQU05QywyREFBWUEsQ0FBQ2UsaUJBQWlCRjtRQUN4RCxJQUFJK0IsT0FDQSxPQUFPRTtRQUNYRCxXQUFXLE1BQU1wQyw2REFBVUEsQ0FBQ3FDO0lBQ2hDLEVBQ0EsT0FBT0MsR0FBRztRQUNOLE1BQU05QixRQUFROEI7UUFDZHpDLHdEQUFNQSxDQUFDVyxLQUFLLENBQUNBO1FBQ2IsTUFBTStCLGNBQWMvQixpQkFBaUJuQixpREFBU0E7UUFDOUMsSUFBSWtELGVBQWVKLFNBQVMsQ0FBQ0gsWUFDekIsTUFBTXhCO1FBQ1YsdUVBQXVFO1FBQ3ZFLDJEQUEyRDtRQUMzRCxJQUFJTCxRQUFRUSxNQUFNLEtBQUssVUFBVUwsZ0JBQWdCYyxNQUFNLEtBQUssV0FDeEQsT0FBT1gsU0FBU0MsSUFBSSxDQUFDLE1BQU07WUFBRUUsUUFBUTtRQUFJO1FBQzdDLE1BQU00QixPQUFPRCxjQUFjL0IsTUFBTWdDLElBQUksR0FBRztRQUN4QyxNQUFNVixPQUFPLGVBQWdCdEIsTUFBTWlDLElBQUksSUFBSztRQUM1QyxrRUFBa0U7UUFDbEUsTUFBTUMsU0FBUyxJQUFJQyxnQkFBZ0I7WUFBRW5DLE9BQU9nQztRQUFLO1FBQ2pELE1BQU1JLE9BQU94QyxPQUFPa0IsS0FBSyxFQUFFLENBQUNRLEtBQUssSUFBSSxDQUFDLEVBQUUxQixPQUFPeUMsUUFBUSxDQUFDLENBQUMsRUFBRWYsS0FBS2dCLFdBQVcsR0FBRyxDQUFDO1FBQy9FLE1BQU1yQixNQUFNLENBQUMsRUFBRW5CLGdCQUFnQm1CLEdBQUcsQ0FBQ3NCLE1BQU0sQ0FBQyxFQUFFSCxLQUFLLENBQUMsRUFBRUYsT0FBTyxDQUFDO1FBQzVELElBQUlWLFlBQ0EsT0FBT3ZCLFNBQVNDLElBQUksQ0FBQztZQUFFZTtRQUFJO1FBQy9CLE9BQU9oQixTQUFTc0IsUUFBUSxDQUFDTjtJQUM3QjtJQUNBLE1BQU1NLFdBQVdLLFNBQVNILE9BQU8sQ0FBQ04sR0FBRyxDQUFDO0lBQ3RDLElBQUksQ0FBQ0ssY0FBYyxDQUFDRCxVQUNoQixPQUFPSztJQUNYLE9BQU8zQixTQUFTQyxJQUFJLENBQUM7UUFBRWUsS0FBS007SUFBUyxHQUFHO1FBQUVFLFNBQVNHLFNBQVNILE9BQU87SUFBQztBQUN4RSIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtcngvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9pbmRleC5qcz8zYTE2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICpcbiAqIDo6Ondhcm5pbmcgRXhwZXJpbWVudGFsXG4gKiBgQGF1dGgvY29yZWAgaXMgdW5kZXIgYWN0aXZlIGRldmVsb3BtZW50LlxuICogOjo6XG4gKlxuICogVGhpcyBpcyB0aGUgbWFpbiBlbnRyeSBwb2ludCB0byB0aGUgQXV0aC5qcyBsaWJyYXJ5LlxuICpcbiAqIEJhc2VkIG9uIHRoZSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1JlcXVlc3QgUmVxdWVzdH1cbiAqIGFuZCB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1Jlc3BvbnNlIFJlc3BvbnNlfSBXZWIgc3RhbmRhcmQgQVBJcy5cbiAqIFByaW1hcmlseSB1c2VkIHRvIGltcGxlbWVudCBbZnJhbWV3b3JrXShodHRwczovL2F1dGhqcy5kZXYvY29uY2VwdHMvZnJhbWV3b3Jrcyktc3BlY2lmaWMgcGFja2FnZXMsXG4gKiBidXQgaXQgY2FuIGFsc28gYmUgdXNlZCBkaXJlY3RseS5cbiAqXG4gKiAjIyBJbnN0YWxsYXRpb25cbiAqXG4gKiBgYGBiYXNoIG5wbTJ5YXJuXG4gKiBucG0gaW5zdGFsbCBAYXV0aC9jb3JlXG4gKiBgYGBcbiAqXG4gKiAjIyBVc2FnZVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBBdXRoIH0gZnJvbSBcIkBhdXRoL2NvcmVcIlxuICpcbiAqIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdChcImh0dHBzOi8vZXhhbXBsZS5jb21cIilcbiAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgQXV0aChyZXF1ZXN0LCB7Li4ufSlcbiAqXG4gKiBjb25zb2xlLmxvZyhyZXNwb25zZSBpbnN0YW5jZW9mIFJlc3BvbnNlKSAvLyB0cnVlXG4gKiBgYGBcbiAqXG4gKiAjIyBSZXNvdXJjZXNcbiAqXG4gKiAtIFtHZXR0aW5nIHN0YXJ0ZWRdKGh0dHBzOi8vYXV0aGpzLmRldi9nZXR0aW5nLXN0YXJ0ZWQvaW50cm9kdWN0aW9uKVxuICogLSBbTW9zdCBjb21tb24gdXNlIGNhc2UgZ3VpZGVzXShodHRwczovL2F1dGhqcy5kZXYvZ3VpZGVzKVxuICpcbiAqIEBtb2R1bGUgQGF1dGgvY29yZVxuICovXG5pbXBvcnQgeyBhc3NlcnRDb25maWcgfSBmcm9tIFwiLi9saWIvdXRpbHMvYXNzZXJ0LmpzXCI7XG5pbXBvcnQgeyBBdXRoRXJyb3IsIEVycm9yUGFnZUxvb3AgfSBmcm9tIFwiLi9lcnJvcnMuanNcIjtcbmltcG9ydCB7IEF1dGhJbnRlcm5hbCwgcmF3LCBza2lwQ1NSRkNoZWNrIH0gZnJvbSBcIi4vbGliL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBzZXRFbnZEZWZhdWx0cywgY3JlYXRlQWN0aW9uVVJMIH0gZnJvbSBcIi4vbGliL3V0aWxzL2Vudi5qc1wiO1xuaW1wb3J0IHJlbmRlclBhZ2UgZnJvbSBcIi4vbGliL3BhZ2VzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBsb2dnZXIsIHNldExvZ2dlciB9IGZyb20gXCIuL2xpYi91dGlscy9sb2dnZXIuanNcIjtcbmltcG9ydCB7IHRvSW50ZXJuYWxSZXF1ZXN0LCB0b1Jlc3BvbnNlIH0gZnJvbSBcIi4vbGliL3V0aWxzL3dlYi5qc1wiO1xuaW1wb3J0IHsgaXNBdXRoQWN0aW9uIH0gZnJvbSBcIi4vbGliL3V0aWxzL2FjdGlvbnMuanNcIjtcbmV4cG9ydCB7IHNraXBDU1JGQ2hlY2ssIHJhdywgc2V0RW52RGVmYXVsdHMsIGNyZWF0ZUFjdGlvblVSTCwgaXNBdXRoQWN0aW9uIH07XG4vKipcbiAqIENvcmUgZnVuY3Rpb25hbGl0eSBwcm92aWRlZCBieSBBdXRoLmpzLlxuICpcbiAqIFJlY2VpdmVzIGEgc3RhbmRhcmQge0BsaW5rIFJlcXVlc3R9IGFuZCByZXR1cm5zIGEge0BsaW5rIFJlc3BvbnNlfS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHNcbiAqIGltcG9ydCBBdXRoIGZyb20gXCJAYXV0aC9jb3JlXCJcbiAqXG4gKiBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoXCJodHRwczovL2V4YW1wbGUuY29tXCIpXG4gKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IEF1dGhIYW5kbGVyKHJlcXVlc3QsIHtcbiAqICAgcHJvdmlkZXJzOiBbLi4uXSxcbiAqICAgc2VjcmV0OiBcIi4uLlwiLFxuICogICB0cnVzdEhvc3Q6IHRydWUsXG4gKiB9KVxuICpgYGBcbiAqIEBzZWUgW0RvY3VtZW50YXRpb25dKGh0dHBzOi8vYXV0aGpzLmRldilcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEF1dGgocmVxdWVzdCwgY29uZmlnKSB7XG4gICAgc2V0TG9nZ2VyKGNvbmZpZy5sb2dnZXIsIGNvbmZpZy5kZWJ1Zyk7XG4gICAgY29uc3QgaW50ZXJuYWxSZXF1ZXN0ID0gYXdhaXQgdG9JbnRlcm5hbFJlcXVlc3QocmVxdWVzdCwgY29uZmlnKTtcbiAgICBpZiAoaW50ZXJuYWxSZXF1ZXN0IGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgbG9nZ2VyLmVycm9yKGludGVybmFsUmVxdWVzdCk7XG4gICAgICAgIHJldHVybiBSZXNwb25zZS5qc29uKGBFcnJvcjogVGhpcyBhY3Rpb24gd2l0aCBIVFRQICR7cmVxdWVzdC5tZXRob2R9IGlzIG5vdCBzdXBwb3J0ZWQuYCwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICB9XG4gICAgY29uc3QgYXNzZXJ0aW9uUmVzdWx0ID0gYXNzZXJ0Q29uZmlnKGludGVybmFsUmVxdWVzdCwgY29uZmlnKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhc3NlcnRpb25SZXN1bHQpKSB7XG4gICAgICAgIGFzc2VydGlvblJlc3VsdC5mb3JFYWNoKGxvZ2dlci53YXJuKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYXNzZXJ0aW9uUmVzdWx0IGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgLy8gQmFpbCBvdXQgZWFybHkgaWYgdGhlcmUncyBhbiBlcnJvciBpbiB0aGUgdXNlciBjb25maWdcbiAgICAgICAgbG9nZ2VyLmVycm9yKGFzc2VydGlvblJlc3VsdCk7XG4gICAgICAgIGNvbnN0IGh0bWxQYWdlcyA9IFtcInNpZ25pblwiLCBcInNpZ25vdXRcIiwgXCJlcnJvclwiLCBcInZlcmlmeS1yZXF1ZXN0XCJdO1xuICAgICAgICBpZiAoIWh0bWxQYWdlcy5pbmNsdWRlcyhpbnRlcm5hbFJlcXVlc3QuYWN0aW9uKSB8fFxuICAgICAgICAgICAgaW50ZXJuYWxSZXF1ZXN0Lm1ldGhvZCAhPT0gXCJHRVRcIikge1xuICAgICAgICAgICAgcmV0dXJuIFJlc3BvbnNlLmpzb24oe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVGhlcmUgd2FzIGEgcHJvYmxlbSB3aXRoIHRoZSBzZXJ2ZXIgY29uZmlndXJhdGlvbi4gQ2hlY2sgdGhlIHNlcnZlciBsb2dzIGZvciBtb3JlIGluZm9ybWF0aW9uLlwiLFxuICAgICAgICAgICAgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHBhZ2VzLCB0aGVtZSB9ID0gY29uZmlnO1xuICAgICAgICBjb25zdCBhdXRoT25FcnJvclBhZ2UgPSBwYWdlcz8uZXJyb3IgJiZcbiAgICAgICAgICAgIGludGVybmFsUmVxdWVzdC51cmwuc2VhcmNoUGFyYW1zXG4gICAgICAgICAgICAgICAgLmdldChcImNhbGxiYWNrVXJsXCIpXG4gICAgICAgICAgICAgICAgPy5zdGFydHNXaXRoKHBhZ2VzLmVycm9yKTtcbiAgICAgICAgaWYgKCFwYWdlcz8uZXJyb3IgfHwgYXV0aE9uRXJyb3JQYWdlKSB7XG4gICAgICAgICAgICBpZiAoYXV0aE9uRXJyb3JQYWdlKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKG5ldyBFcnJvclBhZ2VMb29wKGBUaGUgZXJyb3IgcGFnZSAke3BhZ2VzPy5lcnJvcn0gc2hvdWxkIG5vdCByZXF1aXJlIGF1dGhlbnRpY2F0aW9uYCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVuZGVyID0gcmVuZGVyUGFnZSh7IHRoZW1lIH0pO1xuICAgICAgICAgICAgY29uc3QgcGFnZSA9IHJlbmRlci5lcnJvcihcIkNvbmZpZ3VyYXRpb25cIik7XG4gICAgICAgICAgICByZXR1cm4gdG9SZXNwb25zZShwYWdlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUmVzcG9uc2UucmVkaXJlY3QoYCR7cGFnZXMuZXJyb3J9P2Vycm9yPUNvbmZpZ3VyYXRpb25gKTtcbiAgICB9XG4gICAgY29uc3QgaXNSZWRpcmVjdCA9IHJlcXVlc3QuaGVhZGVycz8uaGFzKFwiWC1BdXRoLVJldHVybi1SZWRpcmVjdFwiKTtcbiAgICBjb25zdCBpc1JhdyA9IGNvbmZpZy5yYXcgPT09IHJhdztcbiAgICBsZXQgcmVzcG9uc2U7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmF3UmVzcG9uc2UgPSBhd2FpdCBBdXRoSW50ZXJuYWwoaW50ZXJuYWxSZXF1ZXN0LCBjb25maWcpO1xuICAgICAgICBpZiAoaXNSYXcpXG4gICAgICAgICAgICByZXR1cm4gcmF3UmVzcG9uc2U7XG4gICAgICAgIHJlc3BvbnNlID0gYXdhaXQgdG9SZXNwb25zZShyYXdSZXNwb25zZSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnN0IGVycm9yID0gZTtcbiAgICAgICAgbG9nZ2VyLmVycm9yKGVycm9yKTtcbiAgICAgICAgY29uc3QgaXNBdXRoRXJyb3IgPSBlcnJvciBpbnN0YW5jZW9mIEF1dGhFcnJvcjtcbiAgICAgICAgaWYgKGlzQXV0aEVycm9yICYmIGlzUmF3ICYmICFpc1JlZGlyZWN0KVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIC8vIElmIHRoZSBDU1JGIGNoZWNrIGZhaWxlZCBmb3IgUE9TVC9zZXNzaW9uLCByZXR1cm4gYSA0MDAgc3RhdHVzIGNvZGUuXG4gICAgICAgIC8vIFdlIHNob3VsZCBub3QgcmVkaXJlY3QgdG8gYSBwYWdlIGFzIHRoaXMgaXMgYW4gQVBJIHJvdXRlXG4gICAgICAgIGlmIChyZXF1ZXN0Lm1ldGhvZCA9PT0gXCJQT1NUXCIgJiYgaW50ZXJuYWxSZXF1ZXN0LmFjdGlvbiA9PT0gXCJzZXNzaW9uXCIpXG4gICAgICAgICAgICByZXR1cm4gUmVzcG9uc2UuanNvbihudWxsLCB7IHN0YXR1czogNDAwIH0pO1xuICAgICAgICBjb25zdCB0eXBlID0gaXNBdXRoRXJyb3IgPyBlcnJvci50eXBlIDogXCJDb25maWd1cmF0aW9uXCI7XG4gICAgICAgIGNvbnN0IHBhZ2UgPSAoaXNBdXRoRXJyb3IgJiYgZXJyb3Iua2luZCkgfHwgXCJlcnJvclwiO1xuICAgICAgICAvLyBUT0RPOiBGaWx0ZXIgb3V0IHNvbWUgZXJyb3IgdHlwZXMgZnJvbSBiZWluZyBzZW50IHRvIHRoZSBjbGllbnRcbiAgICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7IGVycm9yOiB0eXBlIH0pO1xuICAgICAgICBjb25zdCBwYXRoID0gY29uZmlnLnBhZ2VzPy5bcGFnZV0gPz8gYCR7Y29uZmlnLmJhc2VQYXRofS8ke3BhZ2UudG9Mb3dlckNhc2UoKX1gO1xuICAgICAgICBjb25zdCB1cmwgPSBgJHtpbnRlcm5hbFJlcXVlc3QudXJsLm9yaWdpbn0ke3BhdGh9PyR7cGFyYW1zfWA7XG4gICAgICAgIGlmIChpc1JlZGlyZWN0KVxuICAgICAgICAgICAgcmV0dXJuIFJlc3BvbnNlLmpzb24oeyB1cmwgfSk7XG4gICAgICAgIHJldHVybiBSZXNwb25zZS5yZWRpcmVjdCh1cmwpO1xuICAgIH1cbiAgICBjb25zdCByZWRpcmVjdCA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwiTG9jYXRpb25cIik7XG4gICAgaWYgKCFpc1JlZGlyZWN0IHx8ICFyZWRpcmVjdClcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIHJldHVybiBSZXNwb25zZS5qc29uKHsgdXJsOiByZWRpcmVjdCB9LCB7IGhlYWRlcnM6IHJlc3BvbnNlLmhlYWRlcnMgfSk7XG59XG4iXSwibmFtZXMiOlsiYXNzZXJ0Q29uZmlnIiwiQXV0aEVycm9yIiwiRXJyb3JQYWdlTG9vcCIsIkF1dGhJbnRlcm5hbCIsInJhdyIsInNraXBDU1JGQ2hlY2siLCJzZXRFbnZEZWZhdWx0cyIsImNyZWF0ZUFjdGlvblVSTCIsInJlbmRlclBhZ2UiLCJsb2dnZXIiLCJzZXRMb2dnZXIiLCJ0b0ludGVybmFsUmVxdWVzdCIsInRvUmVzcG9uc2UiLCJpc0F1dGhBY3Rpb24iLCJBdXRoIiwicmVxdWVzdCIsImNvbmZpZyIsImRlYnVnIiwiaW50ZXJuYWxSZXF1ZXN0IiwiRXJyb3IiLCJlcnJvciIsIlJlc3BvbnNlIiwianNvbiIsIm1ldGhvZCIsInN0YXR1cyIsImFzc2VydGlvblJlc3VsdCIsIkFycmF5IiwiaXNBcnJheSIsImZvckVhY2giLCJ3YXJuIiwiaHRtbFBhZ2VzIiwiaW5jbHVkZXMiLCJhY3Rpb24iLCJtZXNzYWdlIiwicGFnZXMiLCJ0aGVtZSIsImF1dGhPbkVycm9yUGFnZSIsInVybCIsInNlYXJjaFBhcmFtcyIsImdldCIsInN0YXJ0c1dpdGgiLCJyZW5kZXIiLCJwYWdlIiwicmVkaXJlY3QiLCJpc1JlZGlyZWN0IiwiaGVhZGVycyIsImhhcyIsImlzUmF3IiwicmVzcG9uc2UiLCJyYXdSZXNwb25zZSIsImUiLCJpc0F1dGhFcnJvciIsInR5cGUiLCJraW5kIiwicGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwicGF0aCIsImJhc2VQYXRoIiwidG9Mb3dlckNhc2UiLCJvcmlnaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/index.js":
/*!******************************************!*\
  !*** ./node_modules/@auth/core/index.js ***!
  \******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Auth: () => (/* binding */ Auth),\n/* harmony export */   createActionURL: () => (/* reexport safe */ _lib_utils_env_js__WEBPACK_IMPORTED_MODULE_3__.createActionURL),\n/* harmony export */   isAuthAction: () => (/* reexport safe */ _lib_utils_actions_js__WEBPACK_IMPORTED_MODULE_7__.isAuthAction),\n/* harmony export */   raw: () => (/* reexport safe */ _lib_index_js__WEBPACK_IMPORTED_MODULE_2__.raw),\n/* harmony export */   setEnvDefaults: () => (/* reexport safe */ _lib_utils_env_js__WEBPACK_IMPORTED_MODULE_3__.setEnvDefaults),\n/* harmony export */   skipCSRFCheck: () => (/* reexport safe */ _lib_index_js__WEBPACK_IMPORTED_MODULE_2__.skipCSRFCheck)\n/* harmony export */ });\n/* harmony import */ var _lib_utils_assert_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/utils/assert.js */ \"(rsc)/./node_modules/@auth/core/lib/utils/assert.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./errors.js */ \"(rsc)/./node_modules/@auth/core/errors.js\");\n/* harmony import */ var _lib_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/index.js */ \"(rsc)/./node_modules/@auth/core/lib/index.js\");\n/* harmony import */ var _lib_utils_env_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lib/utils/env.js */ \"(rsc)/./node_modules/@auth/core/lib/utils/env.js\");\n/* harmony import */ var _lib_pages_index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lib/pages/index.js */ \"(rsc)/./node_modules/@auth/core/lib/pages/index.js\");\n/* harmony import */ var _lib_utils_logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./lib/utils/logger.js */ \"(rsc)/./node_modules/@auth/core/lib/utils/logger.js\");\n/* harmony import */ var _lib_utils_web_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./lib/utils/web.js */ \"(rsc)/./node_modules/@auth/core/lib/utils/web.js\");\n/* harmony import */ var _lib_utils_actions_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./lib/utils/actions.js */ \"(rsc)/./node_modules/@auth/core/lib/utils/actions.js\");\n/**\n *\n * :::warning Experimental\n * `@auth/core` is under active development.\n * :::\n *\n * This is the main entry point to the Auth.js library.\n *\n * Based on the {@link https://developer.mozilla.org/en-US/docs/Web/API/Request Request}\n * and {@link https://developer.mozilla.org/en-US/docs/Web/API/Response Response} Web standard APIs.\n * Primarily used to implement [framework](https://authjs.dev/concepts/frameworks)-specific packages,\n * but it can also be used directly.\n *\n * ## Installation\n *\n * ```bash npm2yarn\n * npm install @auth/core\n * ```\n *\n * ## Usage\n *\n * ```ts\n * import { Auth } from \"@auth/core\"\n *\n * const request = new Request(\"https://example.com\")\n * const response = await Auth(request, {...})\n *\n * console.log(response instanceof Response) // true\n * ```\n *\n * ## Resources\n *\n * - [Getting started](https://authjs.dev/getting-started/introduction)\n * - [Most common use case guides](https://authjs.dev/guides)\n *\n * @module @auth/core\n */ \n\n\n\n\n\n\n\n\n/**\n * Core functionality provided by Auth.js.\n *\n * Receives a standard {@link Request} and returns a {@link Response}.\n *\n * @example\n * ```ts\n * import Auth from \"@auth/core\"\n *\n * const request = new Request(\"https://example.com\")\n * const response = await AuthHandler(request, {\n *   providers: [...],\n *   secret: \"...\",\n *   trustHost: true,\n * })\n *```\n * @see [Documentation](https://authjs.dev)\n */ async function Auth(request, config) {\n    (0,_lib_utils_logger_js__WEBPACK_IMPORTED_MODULE_5__.setLogger)(config.logger, config.debug);\n    const internalRequest = await (0,_lib_utils_web_js__WEBPACK_IMPORTED_MODULE_6__.toInternalRequest)(request, config);\n    if (internalRequest instanceof Error) {\n        _lib_utils_logger_js__WEBPACK_IMPORTED_MODULE_5__.logger.error(internalRequest);\n        return Response.json(`Error: This action with HTTP ${request.method} is not supported.`, {\n            status: 400\n        });\n    }\n    const assertionResult = (0,_lib_utils_assert_js__WEBPACK_IMPORTED_MODULE_0__.assertConfig)(internalRequest, config);\n    if (Array.isArray(assertionResult)) {\n        assertionResult.forEach(_lib_utils_logger_js__WEBPACK_IMPORTED_MODULE_5__.logger.warn);\n    } else if (assertionResult instanceof Error) {\n        // Bail out early if there's an error in the user config\n        _lib_utils_logger_js__WEBPACK_IMPORTED_MODULE_5__.logger.error(assertionResult);\n        const htmlPages = [\n            \"signin\",\n            \"signout\",\n            \"error\",\n            \"verify-request\"\n        ];\n        if (!htmlPages.includes(internalRequest.action) || internalRequest.method !== \"GET\") {\n            return Response.json({\n                message: \"There was a problem with the server configuration. Check the server logs for more information.\"\n            }, {\n                status: 500\n            });\n        }\n        const { pages, theme } = config;\n        const authOnErrorPage = pages?.error && internalRequest.url.searchParams.get(\"callbackUrl\")?.startsWith(pages.error);\n        if (!pages?.error || authOnErrorPage) {\n            if (authOnErrorPage) {\n                _lib_utils_logger_js__WEBPACK_IMPORTED_MODULE_5__.logger.error(new _errors_js__WEBPACK_IMPORTED_MODULE_1__.ErrorPageLoop(`The error page ${pages?.error} should not require authentication`));\n            }\n            const render = (0,_lib_pages_index_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({\n                theme\n            });\n            const page = render.error(\"Configuration\");\n            return (0,_lib_utils_web_js__WEBPACK_IMPORTED_MODULE_6__.toResponse)(page);\n        }\n        return Response.redirect(`${pages.error}?error=Configuration`);\n    }\n    const isRedirect = request.headers?.has(\"X-Auth-Return-Redirect\");\n    const isRaw = config.raw === _lib_index_js__WEBPACK_IMPORTED_MODULE_2__.raw;\n    let response;\n    try {\n        const rawResponse = await (0,_lib_index_js__WEBPACK_IMPORTED_MODULE_2__.AuthInternal)(internalRequest, config);\n        if (isRaw) return rawResponse;\n        response = await (0,_lib_utils_web_js__WEBPACK_IMPORTED_MODULE_6__.toResponse)(rawResponse);\n    } catch (e) {\n        const error = e;\n        _lib_utils_logger_js__WEBPACK_IMPORTED_MODULE_5__.logger.error(error);\n        const isAuthError = error instanceof _errors_js__WEBPACK_IMPORTED_MODULE_1__.AuthError;\n        if (isAuthError && isRaw && !isRedirect) throw error;\n        // If the CSRF check failed for POST/session, return a 400 status code.\n        // We should not redirect to a page as this is an API route\n        if (request.method === \"POST\" && internalRequest.action === \"session\") return Response.json(null, {\n            status: 400\n        });\n        const type = isAuthError ? error.type : \"Configuration\";\n        const page = isAuthError && error.kind || \"error\";\n        // TODO: Filter out some error types from being sent to the client\n        const params = new URLSearchParams({\n            error: type\n        });\n        const path = config.pages?.[page] ?? `${config.basePath}/${page.toLowerCase()}`;\n        const url = `${internalRequest.url.origin}${path}?${params}`;\n        if (isRedirect) return Response.json({\n            url\n        });\n        return Response.redirect(url);\n    }\n    const redirect = response.headers.get(\"Location\");\n    if (!isRedirect || !redirect) return response;\n    return Response.json({\n        url: redirect\n    }, {\n        headers: response.headers\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0FvQ0MsR0FDb0Q7QUFDRTtBQUNXO0FBQ0c7QUFDdkI7QUFDWTtBQUNTO0FBQ2I7QUFDdUI7QUFDN0U7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBaUJDLEdBQ00sZUFBZWMsS0FBS0MsT0FBTyxFQUFFQyxNQUFNO0lBQ3RDTiwrREFBU0EsQ0FBQ00sT0FBT1AsTUFBTSxFQUFFTyxPQUFPQyxLQUFLO0lBQ3JDLE1BQU1DLGtCQUFrQixNQUFNUCxvRUFBaUJBLENBQUNJLFNBQVNDO0lBQ3pELElBQUlFLDJCQUEyQkMsT0FBTztRQUNsQ1Ysd0RBQU1BLENBQUNXLEtBQUssQ0FBQ0Y7UUFDYixPQUFPRyxTQUFTQyxJQUFJLENBQUMsQ0FBQyw2QkFBNkIsRUFBRVAsUUFBUVEsTUFBTSxDQUFDLGtCQUFrQixDQUFDLEVBQUU7WUFBRUMsUUFBUTtRQUFJO0lBQzNHO0lBQ0EsTUFBTUMsa0JBQWtCekIsa0VBQVlBLENBQUNrQixpQkFBaUJGO0lBQ3RELElBQUlVLE1BQU1DLE9BQU8sQ0FBQ0Ysa0JBQWtCO1FBQ2hDQSxnQkFBZ0JHLE9BQU8sQ0FBQ25CLHdEQUFNQSxDQUFDb0IsSUFBSTtJQUN2QyxPQUNLLElBQUlKLDJCQUEyQk4sT0FBTztRQUN2Qyx3REFBd0Q7UUFDeERWLHdEQUFNQSxDQUFDVyxLQUFLLENBQUNLO1FBQ2IsTUFBTUssWUFBWTtZQUFDO1lBQVU7WUFBVztZQUFTO1NBQWlCO1FBQ2xFLElBQUksQ0FBQ0EsVUFBVUMsUUFBUSxDQUFDYixnQkFBZ0JjLE1BQU0sS0FDMUNkLGdCQUFnQkssTUFBTSxLQUFLLE9BQU87WUFDbEMsT0FBT0YsU0FBU0MsSUFBSSxDQUFDO2dCQUNqQlcsU0FBUztZQUNiLEdBQUc7Z0JBQUVULFFBQVE7WUFBSTtRQUNyQjtRQUNBLE1BQU0sRUFBRVUsS0FBSyxFQUFFQyxLQUFLLEVBQUUsR0FBR25CO1FBQ3pCLE1BQU1vQixrQkFBa0JGLE9BQU9kLFNBQzNCRixnQkFBZ0JtQixHQUFHLENBQUNDLFlBQVksQ0FDM0JDLEdBQUcsQ0FBQyxnQkFDSEMsV0FBV04sTUFBTWQsS0FBSztRQUNoQyxJQUFJLENBQUNjLE9BQU9kLFNBQVNnQixpQkFBaUI7WUFDbEMsSUFBSUEsaUJBQWlCO2dCQUNqQjNCLHdEQUFNQSxDQUFDVyxLQUFLLENBQUMsSUFBSWxCLHFEQUFhQSxDQUFDLENBQUMsZUFBZSxFQUFFZ0MsT0FBT2QsTUFBTSxrQ0FBa0MsQ0FBQztZQUNyRztZQUNBLE1BQU1xQixTQUFTakMsK0RBQVVBLENBQUM7Z0JBQUUyQjtZQUFNO1lBQ2xDLE1BQU1PLE9BQU9ELE9BQU9yQixLQUFLLENBQUM7WUFDMUIsT0FBT1IsNkRBQVVBLENBQUM4QjtRQUN0QjtRQUNBLE9BQU9yQixTQUFTc0IsUUFBUSxDQUFDLENBQUMsRUFBRVQsTUFBTWQsS0FBSyxDQUFDLG9CQUFvQixDQUFDO0lBQ2pFO0lBQ0EsTUFBTXdCLGFBQWE3QixRQUFROEIsT0FBTyxFQUFFQyxJQUFJO0lBQ3hDLE1BQU1DLFFBQVEvQixPQUFPWixHQUFHLEtBQUtBLDhDQUFHQTtJQUNoQyxJQUFJNEM7SUFDSixJQUFJO1FBQ0EsTUFBTUMsY0FBYyxNQUFNOUMsMkRBQVlBLENBQUNlLGlCQUFpQkY7UUFDeEQsSUFBSStCLE9BQ0EsT0FBT0U7UUFDWEQsV0FBVyxNQUFNcEMsNkRBQVVBLENBQUNxQztJQUNoQyxFQUNBLE9BQU9DLEdBQUc7UUFDTixNQUFNOUIsUUFBUThCO1FBQ2R6Qyx3REFBTUEsQ0FBQ1csS0FBSyxDQUFDQTtRQUNiLE1BQU0rQixjQUFjL0IsaUJBQWlCbkIsaURBQVNBO1FBQzlDLElBQUlrRCxlQUFlSixTQUFTLENBQUNILFlBQ3pCLE1BQU14QjtRQUNWLHVFQUF1RTtRQUN2RSwyREFBMkQ7UUFDM0QsSUFBSUwsUUFBUVEsTUFBTSxLQUFLLFVBQVVMLGdCQUFnQmMsTUFBTSxLQUFLLFdBQ3hELE9BQU9YLFNBQVNDLElBQUksQ0FBQyxNQUFNO1lBQUVFLFFBQVE7UUFBSTtRQUM3QyxNQUFNNEIsT0FBT0QsY0FBYy9CLE1BQU1nQyxJQUFJLEdBQUc7UUFDeEMsTUFBTVYsT0FBTyxlQUFnQnRCLE1BQU1pQyxJQUFJLElBQUs7UUFDNUMsa0VBQWtFO1FBQ2xFLE1BQU1DLFNBQVMsSUFBSUMsZ0JBQWdCO1lBQUVuQyxPQUFPZ0M7UUFBSztRQUNqRCxNQUFNSSxPQUFPeEMsT0FBT2tCLEtBQUssRUFBRSxDQUFDUSxLQUFLLElBQUksQ0FBQyxFQUFFMUIsT0FBT3lDLFFBQVEsQ0FBQyxDQUFDLEVBQUVmLEtBQUtnQixXQUFXLEdBQUcsQ0FBQztRQUMvRSxNQUFNckIsTUFBTSxDQUFDLEVBQUVuQixnQkFBZ0JtQixHQUFHLENBQUNzQixNQUFNLENBQUMsRUFBRUgsS0FBSyxDQUFDLEVBQUVGLE9BQU8sQ0FBQztRQUM1RCxJQUFJVixZQUNBLE9BQU92QixTQUFTQyxJQUFJLENBQUM7WUFBRWU7UUFBSTtRQUMvQixPQUFPaEIsU0FBU3NCLFFBQVEsQ0FBQ047SUFDN0I7SUFDQSxNQUFNTSxXQUFXSyxTQUFTSCxPQUFPLENBQUNOLEdBQUcsQ0FBQztJQUN0QyxJQUFJLENBQUNLLGNBQWMsQ0FBQ0QsVUFDaEIsT0FBT0s7SUFDWCxPQUFPM0IsU0FBU0MsSUFBSSxDQUFDO1FBQUVlLEtBQUtNO0lBQVMsR0FBRztRQUFFRSxTQUFTRyxTQUFTSCxPQUFPO0lBQUM7QUFDeEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LXJ4Ly4vbm9kZV9tb2R1bGVzL0BhdXRoL2NvcmUvaW5kZXguanM/M2ExNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqXG4gKiA6Ojp3YXJuaW5nIEV4cGVyaW1lbnRhbFxuICogYEBhdXRoL2NvcmVgIGlzIHVuZGVyIGFjdGl2ZSBkZXZlbG9wbWVudC5cbiAqIDo6OlxuICpcbiAqIFRoaXMgaXMgdGhlIG1haW4gZW50cnkgcG9pbnQgdG8gdGhlIEF1dGguanMgbGlicmFyeS5cbiAqXG4gKiBCYXNlZCBvbiB0aGUge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9SZXF1ZXN0IFJlcXVlc3R9XG4gKiBhbmQge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9SZXNwb25zZSBSZXNwb25zZX0gV2ViIHN0YW5kYXJkIEFQSXMuXG4gKiBQcmltYXJpbHkgdXNlZCB0byBpbXBsZW1lbnQgW2ZyYW1ld29ya10oaHR0cHM6Ly9hdXRoanMuZGV2L2NvbmNlcHRzL2ZyYW1ld29ya3MpLXNwZWNpZmljIHBhY2thZ2VzLFxuICogYnV0IGl0IGNhbiBhbHNvIGJlIHVzZWQgZGlyZWN0bHkuXG4gKlxuICogIyMgSW5zdGFsbGF0aW9uXG4gKlxuICogYGBgYmFzaCBucG0yeWFyblxuICogbnBtIGluc3RhbGwgQGF1dGgvY29yZVxuICogYGBgXG4gKlxuICogIyMgVXNhZ2VcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgQXV0aCB9IGZyb20gXCJAYXV0aC9jb3JlXCJcbiAqXG4gKiBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoXCJodHRwczovL2V4YW1wbGUuY29tXCIpXG4gKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IEF1dGgocmVxdWVzdCwgey4uLn0pXG4gKlxuICogY29uc29sZS5sb2cocmVzcG9uc2UgaW5zdGFuY2VvZiBSZXNwb25zZSkgLy8gdHJ1ZVxuICogYGBgXG4gKlxuICogIyMgUmVzb3VyY2VzXG4gKlxuICogLSBbR2V0dGluZyBzdGFydGVkXShodHRwczovL2F1dGhqcy5kZXYvZ2V0dGluZy1zdGFydGVkL2ludHJvZHVjdGlvbilcbiAqIC0gW01vc3QgY29tbW9uIHVzZSBjYXNlIGd1aWRlc10oaHR0cHM6Ly9hdXRoanMuZGV2L2d1aWRlcylcbiAqXG4gKiBAbW9kdWxlIEBhdXRoL2NvcmVcbiAqL1xuaW1wb3J0IHsgYXNzZXJ0Q29uZmlnIH0gZnJvbSBcIi4vbGliL3V0aWxzL2Fzc2VydC5qc1wiO1xuaW1wb3J0IHsgQXV0aEVycm9yLCBFcnJvclBhZ2VMb29wIH0gZnJvbSBcIi4vZXJyb3JzLmpzXCI7XG5pbXBvcnQgeyBBdXRoSW50ZXJuYWwsIHJhdywgc2tpcENTUkZDaGVjayB9IGZyb20gXCIuL2xpYi9pbmRleC5qc1wiO1xuaW1wb3J0IHsgc2V0RW52RGVmYXVsdHMsIGNyZWF0ZUFjdGlvblVSTCB9IGZyb20gXCIuL2xpYi91dGlscy9lbnYuanNcIjtcbmltcG9ydCByZW5kZXJQYWdlIGZyb20gXCIuL2xpYi9wYWdlcy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgbG9nZ2VyLCBzZXRMb2dnZXIgfSBmcm9tIFwiLi9saWIvdXRpbHMvbG9nZ2VyLmpzXCI7XG5pbXBvcnQgeyB0b0ludGVybmFsUmVxdWVzdCwgdG9SZXNwb25zZSB9IGZyb20gXCIuL2xpYi91dGlscy93ZWIuanNcIjtcbmltcG9ydCB7IGlzQXV0aEFjdGlvbiB9IGZyb20gXCIuL2xpYi91dGlscy9hY3Rpb25zLmpzXCI7XG5leHBvcnQgeyBza2lwQ1NSRkNoZWNrLCByYXcsIHNldEVudkRlZmF1bHRzLCBjcmVhdGVBY3Rpb25VUkwsIGlzQXV0aEFjdGlvbiB9O1xuLyoqXG4gKiBDb3JlIGZ1bmN0aW9uYWxpdHkgcHJvdmlkZWQgYnkgQXV0aC5qcy5cbiAqXG4gKiBSZWNlaXZlcyBhIHN0YW5kYXJkIHtAbGluayBSZXF1ZXN0fSBhbmQgcmV0dXJucyBhIHtAbGluayBSZXNwb25zZX0uXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzXG4gKiBpbXBvcnQgQXV0aCBmcm9tIFwiQGF1dGgvY29yZVwiXG4gKlxuICogY29uc3QgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KFwiaHR0cHM6Ly9leGFtcGxlLmNvbVwiKVxuICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBBdXRoSGFuZGxlcihyZXF1ZXN0LCB7XG4gKiAgIHByb3ZpZGVyczogWy4uLl0sXG4gKiAgIHNlY3JldDogXCIuLi5cIixcbiAqICAgdHJ1c3RIb3N0OiB0cnVlLFxuICogfSlcbiAqYGBgXG4gKiBAc2VlIFtEb2N1bWVudGF0aW9uXShodHRwczovL2F1dGhqcy5kZXYpXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBBdXRoKHJlcXVlc3QsIGNvbmZpZykge1xuICAgIHNldExvZ2dlcihjb25maWcubG9nZ2VyLCBjb25maWcuZGVidWcpO1xuICAgIGNvbnN0IGludGVybmFsUmVxdWVzdCA9IGF3YWl0IHRvSW50ZXJuYWxSZXF1ZXN0KHJlcXVlc3QsIGNvbmZpZyk7XG4gICAgaWYgKGludGVybmFsUmVxdWVzdCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIGxvZ2dlci5lcnJvcihpbnRlcm5hbFJlcXVlc3QpO1xuICAgICAgICByZXR1cm4gUmVzcG9uc2UuanNvbihgRXJyb3I6IFRoaXMgYWN0aW9uIHdpdGggSFRUUCAke3JlcXVlc3QubWV0aG9kfSBpcyBub3Qgc3VwcG9ydGVkLmAsIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgfVxuICAgIGNvbnN0IGFzc2VydGlvblJlc3VsdCA9IGFzc2VydENvbmZpZyhpbnRlcm5hbFJlcXVlc3QsIGNvbmZpZyk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXNzZXJ0aW9uUmVzdWx0KSkge1xuICAgICAgICBhc3NlcnRpb25SZXN1bHQuZm9yRWFjaChsb2dnZXIud2Fybik7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFzc2VydGlvblJlc3VsdCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIC8vIEJhaWwgb3V0IGVhcmx5IGlmIHRoZXJlJ3MgYW4gZXJyb3IgaW4gdGhlIHVzZXIgY29uZmlnXG4gICAgICAgIGxvZ2dlci5lcnJvcihhc3NlcnRpb25SZXN1bHQpO1xuICAgICAgICBjb25zdCBodG1sUGFnZXMgPSBbXCJzaWduaW5cIiwgXCJzaWdub3V0XCIsIFwiZXJyb3JcIiwgXCJ2ZXJpZnktcmVxdWVzdFwiXTtcbiAgICAgICAgaWYgKCFodG1sUGFnZXMuaW5jbHVkZXMoaW50ZXJuYWxSZXF1ZXN0LmFjdGlvbikgfHxcbiAgICAgICAgICAgIGludGVybmFsUmVxdWVzdC5tZXRob2QgIT09IFwiR0VUXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBSZXNwb25zZS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlRoZXJlIHdhcyBhIHByb2JsZW0gd2l0aCB0aGUgc2VydmVyIGNvbmZpZ3VyYXRpb24uIENoZWNrIHRoZSBzZXJ2ZXIgbG9ncyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cIixcbiAgICAgICAgICAgIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBwYWdlcywgdGhlbWUgfSA9IGNvbmZpZztcbiAgICAgICAgY29uc3QgYXV0aE9uRXJyb3JQYWdlID0gcGFnZXM/LmVycm9yICYmXG4gICAgICAgICAgICBpbnRlcm5hbFJlcXVlc3QudXJsLnNlYXJjaFBhcmFtc1xuICAgICAgICAgICAgICAgIC5nZXQoXCJjYWxsYmFja1VybFwiKVxuICAgICAgICAgICAgICAgID8uc3RhcnRzV2l0aChwYWdlcy5lcnJvcik7XG4gICAgICAgIGlmICghcGFnZXM/LmVycm9yIHx8IGF1dGhPbkVycm9yUGFnZSkge1xuICAgICAgICAgICAgaWYgKGF1dGhPbkVycm9yUGFnZSkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcihuZXcgRXJyb3JQYWdlTG9vcChgVGhlIGVycm9yIHBhZ2UgJHtwYWdlcz8uZXJyb3J9IHNob3VsZCBub3QgcmVxdWlyZSBhdXRoZW50aWNhdGlvbmApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlbmRlciA9IHJlbmRlclBhZ2UoeyB0aGVtZSB9KTtcbiAgICAgICAgICAgIGNvbnN0IHBhZ2UgPSByZW5kZXIuZXJyb3IoXCJDb25maWd1cmF0aW9uXCIpO1xuICAgICAgICAgICAgcmV0dXJuIHRvUmVzcG9uc2UocGFnZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFJlc3BvbnNlLnJlZGlyZWN0KGAke3BhZ2VzLmVycm9yfT9lcnJvcj1Db25maWd1cmF0aW9uYCk7XG4gICAgfVxuICAgIGNvbnN0IGlzUmVkaXJlY3QgPSByZXF1ZXN0LmhlYWRlcnM/LmhhcyhcIlgtQXV0aC1SZXR1cm4tUmVkaXJlY3RcIik7XG4gICAgY29uc3QgaXNSYXcgPSBjb25maWcucmF3ID09PSByYXc7XG4gICAgbGV0IHJlc3BvbnNlO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJhd1Jlc3BvbnNlID0gYXdhaXQgQXV0aEludGVybmFsKGludGVybmFsUmVxdWVzdCwgY29uZmlnKTtcbiAgICAgICAgaWYgKGlzUmF3KVxuICAgICAgICAgICAgcmV0dXJuIHJhd1Jlc3BvbnNlO1xuICAgICAgICByZXNwb25zZSA9IGF3YWl0IHRvUmVzcG9uc2UocmF3UmVzcG9uc2UpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBjb25zdCBlcnJvciA9IGU7XG4gICAgICAgIGxvZ2dlci5lcnJvcihlcnJvcik7XG4gICAgICAgIGNvbnN0IGlzQXV0aEVycm9yID0gZXJyb3IgaW5zdGFuY2VvZiBBdXRoRXJyb3I7XG4gICAgICAgIGlmIChpc0F1dGhFcnJvciAmJiBpc1JhdyAmJiAhaXNSZWRpcmVjdClcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAvLyBJZiB0aGUgQ1NSRiBjaGVjayBmYWlsZWQgZm9yIFBPU1Qvc2Vzc2lvbiwgcmV0dXJuIGEgNDAwIHN0YXR1cyBjb2RlLlxuICAgICAgICAvLyBXZSBzaG91bGQgbm90IHJlZGlyZWN0IHRvIGEgcGFnZSBhcyB0aGlzIGlzIGFuIEFQSSByb3V0ZVxuICAgICAgICBpZiAocmVxdWVzdC5tZXRob2QgPT09IFwiUE9TVFwiICYmIGludGVybmFsUmVxdWVzdC5hY3Rpb24gPT09IFwic2Vzc2lvblwiKVxuICAgICAgICAgICAgcmV0dXJuIFJlc3BvbnNlLmpzb24obnVsbCwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICAgICAgY29uc3QgdHlwZSA9IGlzQXV0aEVycm9yID8gZXJyb3IudHlwZSA6IFwiQ29uZmlndXJhdGlvblwiO1xuICAgICAgICBjb25zdCBwYWdlID0gKGlzQXV0aEVycm9yICYmIGVycm9yLmtpbmQpIHx8IFwiZXJyb3JcIjtcbiAgICAgICAgLy8gVE9ETzogRmlsdGVyIG91dCBzb21lIGVycm9yIHR5cGVzIGZyb20gYmVpbmcgc2VudCB0byB0aGUgY2xpZW50XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoeyBlcnJvcjogdHlwZSB9KTtcbiAgICAgICAgY29uc3QgcGF0aCA9IGNvbmZpZy5wYWdlcz8uW3BhZ2VdID8/IGAke2NvbmZpZy5iYXNlUGF0aH0vJHtwYWdlLnRvTG93ZXJDYXNlKCl9YDtcbiAgICAgICAgY29uc3QgdXJsID0gYCR7aW50ZXJuYWxSZXF1ZXN0LnVybC5vcmlnaW59JHtwYXRofT8ke3BhcmFtc31gO1xuICAgICAgICBpZiAoaXNSZWRpcmVjdClcbiAgICAgICAgICAgIHJldHVybiBSZXNwb25zZS5qc29uKHsgdXJsIH0pO1xuICAgICAgICByZXR1cm4gUmVzcG9uc2UucmVkaXJlY3QodXJsKTtcbiAgICB9XG4gICAgY29uc3QgcmVkaXJlY3QgPSByZXNwb25zZS5oZWFkZXJzLmdldChcIkxvY2F0aW9uXCIpO1xuICAgIGlmICghaXNSZWRpcmVjdCB8fCAhcmVkaXJlY3QpXG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICByZXR1cm4gUmVzcG9uc2UuanNvbih7IHVybDogcmVkaXJlY3QgfSwgeyBoZWFkZXJzOiByZXNwb25zZS5oZWFkZXJzIH0pO1xufVxuIl0sIm5hbWVzIjpbImFzc2VydENvbmZpZyIsIkF1dGhFcnJvciIsIkVycm9yUGFnZUxvb3AiLCJBdXRoSW50ZXJuYWwiLCJyYXciLCJza2lwQ1NSRkNoZWNrIiwic2V0RW52RGVmYXVsdHMiLCJjcmVhdGVBY3Rpb25VUkwiLCJyZW5kZXJQYWdlIiwibG9nZ2VyIiwic2V0TG9nZ2VyIiwidG9JbnRlcm5hbFJlcXVlc3QiLCJ0b1Jlc3BvbnNlIiwiaXNBdXRoQWN0aW9uIiwiQXV0aCIsInJlcXVlc3QiLCJjb25maWciLCJkZWJ1ZyIsImludGVybmFsUmVxdWVzdCIsIkVycm9yIiwiZXJyb3IiLCJSZXNwb25zZSIsImpzb24iLCJtZXRob2QiLCJzdGF0dXMiLCJhc3NlcnRpb25SZXN1bHQiLCJBcnJheSIsImlzQXJyYXkiLCJmb3JFYWNoIiwid2FybiIsImh0bWxQYWdlcyIsImluY2x1ZGVzIiwiYWN0aW9uIiwibWVzc2FnZSIsInBhZ2VzIiwidGhlbWUiLCJhdXRoT25FcnJvclBhZ2UiLCJ1cmwiLCJzZWFyY2hQYXJhbXMiLCJnZXQiLCJzdGFydHNXaXRoIiwicmVuZGVyIiwicGFnZSIsInJlZGlyZWN0IiwiaXNSZWRpcmVjdCIsImhlYWRlcnMiLCJoYXMiLCJpc1JhdyIsInJlc3BvbnNlIiwicmF3UmVzcG9uc2UiLCJlIiwiaXNBdXRoRXJyb3IiLCJ0eXBlIiwia2luZCIsInBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInBhdGgiLCJiYXNlUGF0aCIsInRvTG93ZXJDYXNlIiwib3JpZ2luIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/index.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/jwt.js":
/*!****************************************!*\
  !*** ./node_modules/@auth/core/jwt.js ***!
  \****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   decode: () => (/* binding */ decode),\n/* harmony export */   encode: () => (/* binding */ encode),\n/* harmony export */   getToken: () => (/* binding */ getToken)\n/* harmony export */ });\n/* harmony import */ var _panva_hkdf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @panva/hkdf */ \"(action-browser)/./node_modules/@panva/hkdf/dist/node/esm/index.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jose */ \"(action-browser)/./node_modules/jose/dist/node/esm/index.js\");\n/* harmony import */ var _lib_utils_cookie_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/utils/cookie.js */ \"(action-browser)/./node_modules/@auth/core/lib/utils/cookie.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./errors.js */ \"(action-browser)/./node_modules/@auth/core/errors.js\");\n/* harmony import */ var cookie__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cookie */ \"(action-browser)/./node_modules/cookie/index.js\");\n/**\n *\n *\n * This module contains functions and types\n * to encode and decode {@link https://authjs.dev/concepts/session-strategies#jwt JWT}s\n * issued and used by Auth.js.\n *\n * The JWT issued by Auth.js is _encrypted by default_, using the _A256CBC-HS512_ algorithm ({@link https://www.rfc-editor.org/rfc/rfc7518.html#section-5.2.5 JWE}).\n * It uses the `AUTH_SECRET` environment variable or the passed `secret` propery to derive a suitable encryption key.\n *\n * :::info Note\n * Auth.js JWTs are meant to be used by the same app that issued them.\n * If you need JWT authentication for your third-party API, you should rely on your Identity Provider instead.\n * :::\n *\n * ## Installation\n *\n * ```bash npm2yarn\n * npm install @auth/core\n * ```\n *\n * You can then import this submodule from `@auth/core/jwt`.\n *\n * ## Usage\n *\n * :::warning Warning\n * This module *will* be refactored/changed. We do not recommend relying on it right now.\n * :::\n *\n *\n * ## Resources\n *\n * - [What is a JWT session strategy](https://authjs.dev/concepts/session-strategies#jwt)\n * - [RFC7519 - JSON Web Token (JWT)](https://www.rfc-editor.org/rfc/rfc7519)\n *\n * @module jwt\n */ \n\n\n\n\nconst DEFAULT_MAX_AGE = 30 * 24 * 60 * 60; // 30 days\nconst now = ()=>Date.now() / 1000 | 0;\nconst alg = \"dir\";\nconst enc = \"A256CBC-HS512\";\n/** Issues a JWT. By default, the JWT is encrypted using \"A256CBC-HS512\". */ async function encode(params) {\n    const { token = {}, secret, maxAge = DEFAULT_MAX_AGE, salt } = params;\n    const secrets = Array.isArray(secret) ? secret : [\n        secret\n    ];\n    const encryptionSecret = await getDerivedEncryptionKey(enc, secrets[0], salt);\n    const thumbprint = await (0,jose__WEBPACK_IMPORTED_MODULE_1__.calculateJwkThumbprint)({\n        kty: \"oct\",\n        k: jose__WEBPACK_IMPORTED_MODULE_1__.base64url.encode(encryptionSecret)\n    }, `sha${encryptionSecret.byteLength << 3}`);\n    // @ts-expect-error `jose` allows any object as payload.\n    return await new jose__WEBPACK_IMPORTED_MODULE_1__.EncryptJWT(token).setProtectedHeader({\n        alg,\n        enc,\n        kid: thumbprint\n    }).setIssuedAt().setExpirationTime(now() + maxAge).setJti(crypto.randomUUID()).encrypt(encryptionSecret);\n}\n/** Decodes a Auth.js issued JWT. */ async function decode(params) {\n    const { token, secret, salt } = params;\n    const secrets = Array.isArray(secret) ? secret : [\n        secret\n    ];\n    if (!token) return null;\n    const { payload } = await (0,jose__WEBPACK_IMPORTED_MODULE_1__.jwtDecrypt)(token, async ({ kid, enc })=>{\n        for (const secret of secrets){\n            const encryptionSecret = await getDerivedEncryptionKey(enc, secret, salt);\n            if (kid === undefined) return encryptionSecret;\n            const thumbprint = await (0,jose__WEBPACK_IMPORTED_MODULE_1__.calculateJwkThumbprint)({\n                kty: \"oct\",\n                k: jose__WEBPACK_IMPORTED_MODULE_1__.base64url.encode(encryptionSecret)\n            }, `sha${encryptionSecret.byteLength << 3}`);\n            if (kid === thumbprint) return encryptionSecret;\n        }\n        throw new Error(\"no matching decryption secret\");\n    }, {\n        clockTolerance: 15,\n        keyManagementAlgorithms: [\n            alg\n        ],\n        contentEncryptionAlgorithms: [\n            enc,\n            \"A256GCM\"\n        ]\n    });\n    return payload;\n}\nasync function getToken(params) {\n    const { secureCookie, cookieName = secureCookie ? \"__Secure-authjs.session-token\" : \"authjs.session-token\", decode: _decode = decode, salt = cookieName, secret, logger = console, raw, req } = params;\n    if (!req) throw new Error(\"Must pass `req` to JWT getToken()\");\n    if (!secret) throw new _errors_js__WEBPACK_IMPORTED_MODULE_3__.MissingSecret(\"Must pass `secret` if not set to JWT getToken()\");\n    const headers = req.headers instanceof Headers ? req.headers : new Headers(req.headers);\n    const sessionStore = new _lib_utils_cookie_js__WEBPACK_IMPORTED_MODULE_2__.SessionStore({\n        name: cookieName,\n        options: {\n            secure: secureCookie\n        }\n    }, (0,cookie__WEBPACK_IMPORTED_MODULE_4__.parse)(headers.get(\"cookie\") ?? \"\"), logger);\n    let token = sessionStore.value;\n    const authorizationHeader = headers.get(\"authorization\");\n    if (!token && authorizationHeader?.split(\" \")[0] === \"Bearer\") {\n        const urlEncodedToken = authorizationHeader.split(\" \")[1];\n        token = decodeURIComponent(urlEncodedToken);\n    }\n    if (!token) return null;\n    if (raw) return token;\n    try {\n        return await _decode({\n            token,\n            secret,\n            salt\n        });\n    } catch  {\n        return null;\n    }\n}\nasync function getDerivedEncryptionKey(enc, keyMaterial, salt) {\n    let length;\n    switch(enc){\n        case \"A256CBC-HS512\":\n            length = 64;\n            break;\n        case \"A256GCM\":\n            length = 32;\n            break;\n        default:\n            throw new Error(\"Unsupported JWT Content Encryption Algorithm\");\n    }\n    return await (0,_panva_hkdf__WEBPACK_IMPORTED_MODULE_0__.hkdf)(\"sha256\", keyMaterial, salt, `Auth.js Generated Encryption Key (${salt})`, length);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2p3dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0FvQ0MsR0FDa0M7QUFDOEM7QUFDNUI7QUFDVDtBQUNiO0FBQy9CLE1BQU1RLGtCQUFrQixLQUFLLEtBQUssS0FBSyxJQUFJLFVBQVU7QUFDckQsTUFBTUMsTUFBTSxJQUFNLEtBQU1BLEdBQUcsS0FBSyxPQUFRO0FBQ3hDLE1BQU1FLE1BQU07QUFDWixNQUFNQyxNQUFNO0FBQ1osMEVBQTBFLEdBQ25FLGVBQWVDLE9BQU9DLE1BQU07SUFDL0IsTUFBTSxFQUFFQyxRQUFRLENBQUMsQ0FBQyxFQUFFQyxNQUFNLEVBQUVDLFNBQVNULGVBQWUsRUFBRVUsSUFBSSxFQUFFLEdBQUdKO0lBQy9ELE1BQU1LLFVBQVVDLE1BQU1DLE9BQU8sQ0FBQ0wsVUFBVUEsU0FBUztRQUFDQTtLQUFPO0lBQ3pELE1BQU1NLG1CQUFtQixNQUFNQyx3QkFBd0JYLEtBQUtPLE9BQU8sQ0FBQyxFQUFFLEVBQUVEO0lBQ3hFLE1BQU1NLGFBQWEsTUFBTXJCLDREQUFzQkEsQ0FBQztRQUFFc0IsS0FBSztRQUFPQyxHQUFHeEIsMkNBQVNBLENBQUNXLE1BQU0sQ0FBQ1M7SUFBa0IsR0FBRyxDQUFDLEdBQUcsRUFBRUEsaUJBQWlCSyxVQUFVLElBQUksRUFBRSxDQUFDO0lBQy9JLHdEQUF3RDtJQUN4RCxPQUFPLE1BQU0sSUFBSTFCLDRDQUFVQSxDQUFDYyxPQUN2QmEsa0JBQWtCLENBQUM7UUFBRWpCO1FBQUtDO1FBQUtpQixLQUFLTDtJQUFXLEdBQy9DTSxXQUFXLEdBQ1hDLGlCQUFpQixDQUFDdEIsUUFBUVEsUUFDMUJlLE1BQU0sQ0FBQ0MsT0FBT0MsVUFBVSxJQUN4QkMsT0FBTyxDQUFDYjtBQUNqQjtBQUNBLGtDQUFrQyxHQUMzQixlQUFlYyxPQUFPdEIsTUFBTTtJQUMvQixNQUFNLEVBQUVDLEtBQUssRUFBRUMsTUFBTSxFQUFFRSxJQUFJLEVBQUUsR0FBR0o7SUFDaEMsTUFBTUssVUFBVUMsTUFBTUMsT0FBTyxDQUFDTCxVQUFVQSxTQUFTO1FBQUNBO0tBQU87SUFDekQsSUFBSSxDQUFDRCxPQUNELE9BQU87SUFDWCxNQUFNLEVBQUVzQixPQUFPLEVBQUUsR0FBRyxNQUFNakMsZ0RBQVVBLENBQUNXLE9BQU8sT0FBTyxFQUFFYyxHQUFHLEVBQUVqQixHQUFHLEVBQUU7UUFDM0QsS0FBSyxNQUFNSSxVQUFVRyxRQUFTO1lBQzFCLE1BQU1HLG1CQUFtQixNQUFNQyx3QkFBd0JYLEtBQUtJLFFBQVFFO1lBQ3BFLElBQUlXLFFBQVFTLFdBQ1IsT0FBT2hCO1lBQ1gsTUFBTUUsYUFBYSxNQUFNckIsNERBQXNCQSxDQUFDO2dCQUFFc0IsS0FBSztnQkFBT0MsR0FBR3hCLDJDQUFTQSxDQUFDVyxNQUFNLENBQUNTO1lBQWtCLEdBQUcsQ0FBQyxHQUFHLEVBQUVBLGlCQUFpQkssVUFBVSxJQUFJLEVBQUUsQ0FBQztZQUMvSSxJQUFJRSxRQUFRTCxZQUNSLE9BQU9GO1FBQ2Y7UUFDQSxNQUFNLElBQUlpQixNQUFNO0lBQ3BCLEdBQUc7UUFDQ0MsZ0JBQWdCO1FBQ2hCQyx5QkFBeUI7WUFBQzlCO1NBQUk7UUFDOUIrQiw2QkFBNkI7WUFBQzlCO1lBQUs7U0FBVTtJQUNqRDtJQUNBLE9BQU95QjtBQUNYO0FBQ08sZUFBZU0sU0FBUzdCLE1BQU07SUFDakMsTUFBTSxFQUFFOEIsWUFBWSxFQUFFQyxhQUFhRCxlQUM3QixrQ0FDQSxzQkFBc0IsRUFBRVIsUUFBUVUsVUFBVVYsTUFBTSxFQUFFbEIsT0FBTzJCLFVBQVUsRUFBRTdCLE1BQU0sRUFBRStCLFNBQVNDLE9BQU8sRUFBRUMsR0FBRyxFQUFFQyxHQUFHLEVBQUcsR0FBR3BDO0lBQ25ILElBQUksQ0FBQ29DLEtBQ0QsTUFBTSxJQUFJWCxNQUFNO0lBQ3BCLElBQUksQ0FBQ3ZCLFFBQ0QsTUFBTSxJQUFJVixxREFBYUEsQ0FBQztJQUM1QixNQUFNNkMsVUFBVUQsSUFBSUMsT0FBTyxZQUFZQyxVQUFVRixJQUFJQyxPQUFPLEdBQUcsSUFBSUMsUUFBUUYsSUFBSUMsT0FBTztJQUN0RixNQUFNRSxlQUFlLElBQUloRCw4REFBWUEsQ0FBQztRQUFFaUQsTUFBTVQ7UUFBWVUsU0FBUztZQUFFQyxRQUFRWjtRQUFhO0lBQUUsR0FBR3JDLDZDQUFLQSxDQUFDNEMsUUFBUU0sR0FBRyxDQUFDLGFBQWEsS0FBS1Y7SUFDbkksSUFBSWhDLFFBQVFzQyxhQUFhSyxLQUFLO0lBQzlCLE1BQU1DLHNCQUFzQlIsUUFBUU0sR0FBRyxDQUFDO0lBQ3hDLElBQUksQ0FBQzFDLFNBQVM0QyxxQkFBcUJDLE1BQU0sSUFBSSxDQUFDLEVBQUUsS0FBSyxVQUFVO1FBQzNELE1BQU1DLGtCQUFrQkYsb0JBQW9CQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFDekQ3QyxRQUFRK0MsbUJBQW1CRDtJQUMvQjtJQUNBLElBQUksQ0FBQzlDLE9BQ0QsT0FBTztJQUNYLElBQUlrQyxLQUNBLE9BQU9sQztJQUNYLElBQUk7UUFDQSxPQUFPLE1BQU0rQixRQUFRO1lBQUUvQjtZQUFPQztZQUFRRTtRQUFLO0lBQy9DLEVBQ0EsT0FBTTtRQUNGLE9BQU87SUFDWDtBQUNKO0FBQ0EsZUFBZUssd0JBQXdCWCxHQUFHLEVBQUVtRCxXQUFXLEVBQUU3QyxJQUFJO0lBQ3pELElBQUk4QztJQUNKLE9BQVFwRDtRQUNKLEtBQUs7WUFDRG9ELFNBQVM7WUFDVDtRQUNKLEtBQUs7WUFDREEsU0FBUztZQUNUO1FBQ0o7WUFDSSxNQUFNLElBQUl6QixNQUFNO0lBQ3hCO0lBQ0EsT0FBTyxNQUFNdkMsaURBQUlBLENBQUMsVUFBVStELGFBQWE3QyxNQUFNLENBQUMsa0NBQWtDLEVBQUVBLEtBQUssQ0FBQyxDQUFDLEVBQUU4QztBQUNqRyIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtcngvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9qd3QuanM/Y2QwOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqXG4gKlxuICogVGhpcyBtb2R1bGUgY29udGFpbnMgZnVuY3Rpb25zIGFuZCB0eXBlc1xuICogdG8gZW5jb2RlIGFuZCBkZWNvZGUge0BsaW5rIGh0dHBzOi8vYXV0aGpzLmRldi9jb25jZXB0cy9zZXNzaW9uLXN0cmF0ZWdpZXMjand0IEpXVH1zXG4gKiBpc3N1ZWQgYW5kIHVzZWQgYnkgQXV0aC5qcy5cbiAqXG4gKiBUaGUgSldUIGlzc3VlZCBieSBBdXRoLmpzIGlzIF9lbmNyeXB0ZWQgYnkgZGVmYXVsdF8sIHVzaW5nIHRoZSBfQTI1NkNCQy1IUzUxMl8gYWxnb3JpdGhtICh7QGxpbmsgaHR0cHM6Ly93d3cucmZjLWVkaXRvci5vcmcvcmZjL3JmYzc1MTguaHRtbCNzZWN0aW9uLTUuMi41IEpXRX0pLlxuICogSXQgdXNlcyB0aGUgYEFVVEhfU0VDUkVUYCBlbnZpcm9ubWVudCB2YXJpYWJsZSBvciB0aGUgcGFzc2VkIGBzZWNyZXRgIHByb3BlcnkgdG8gZGVyaXZlIGEgc3VpdGFibGUgZW5jcnlwdGlvbiBrZXkuXG4gKlxuICogOjo6aW5mbyBOb3RlXG4gKiBBdXRoLmpzIEpXVHMgYXJlIG1lYW50IHRvIGJlIHVzZWQgYnkgdGhlIHNhbWUgYXBwIHRoYXQgaXNzdWVkIHRoZW0uXG4gKiBJZiB5b3UgbmVlZCBKV1QgYXV0aGVudGljYXRpb24gZm9yIHlvdXIgdGhpcmQtcGFydHkgQVBJLCB5b3Ugc2hvdWxkIHJlbHkgb24geW91ciBJZGVudGl0eSBQcm92aWRlciBpbnN0ZWFkLlxuICogOjo6XG4gKlxuICogIyMgSW5zdGFsbGF0aW9uXG4gKlxuICogYGBgYmFzaCBucG0yeWFyblxuICogbnBtIGluc3RhbGwgQGF1dGgvY29yZVxuICogYGBgXG4gKlxuICogWW91IGNhbiB0aGVuIGltcG9ydCB0aGlzIHN1Ym1vZHVsZSBmcm9tIGBAYXV0aC9jb3JlL2p3dGAuXG4gKlxuICogIyMgVXNhZ2VcbiAqXG4gKiA6Ojp3YXJuaW5nIFdhcm5pbmdcbiAqIFRoaXMgbW9kdWxlICp3aWxsKiBiZSByZWZhY3RvcmVkL2NoYW5nZWQuIFdlIGRvIG5vdCByZWNvbW1lbmQgcmVseWluZyBvbiBpdCByaWdodCBub3cuXG4gKiA6OjpcbiAqXG4gKlxuICogIyMgUmVzb3VyY2VzXG4gKlxuICogLSBbV2hhdCBpcyBhIEpXVCBzZXNzaW9uIHN0cmF0ZWd5XShodHRwczovL2F1dGhqcy5kZXYvY29uY2VwdHMvc2Vzc2lvbi1zdHJhdGVnaWVzI2p3dClcbiAqIC0gW1JGQzc1MTkgLSBKU09OIFdlYiBUb2tlbiAoSldUKV0oaHR0cHM6Ly93d3cucmZjLWVkaXRvci5vcmcvcmZjL3JmYzc1MTkpXG4gKlxuICogQG1vZHVsZSBqd3RcbiAqL1xuaW1wb3J0IHsgaGtkZiB9IGZyb20gXCJAcGFudmEvaGtkZlwiO1xuaW1wb3J0IHsgRW5jcnlwdEpXVCwgYmFzZTY0dXJsLCBjYWxjdWxhdGVKd2tUaHVtYnByaW50LCBqd3REZWNyeXB0IH0gZnJvbSBcImpvc2VcIjtcbmltcG9ydCB7IFNlc3Npb25TdG9yZSB9IGZyb20gXCIuL2xpYi91dGlscy9jb29raWUuanNcIjtcbmltcG9ydCB7IE1pc3NpbmdTZWNyZXQgfSBmcm9tIFwiLi9lcnJvcnMuanNcIjtcbmltcG9ydCB7IHBhcnNlIH0gZnJvbSBcImNvb2tpZVwiO1xuY29uc3QgREVGQVVMVF9NQVhfQUdFID0gMzAgKiAyNCAqIDYwICogNjA7IC8vIDMwIGRheXNcbmNvbnN0IG5vdyA9ICgpID0+IChEYXRlLm5vdygpIC8gMTAwMCkgfCAwO1xuY29uc3QgYWxnID0gXCJkaXJcIjtcbmNvbnN0IGVuYyA9IFwiQTI1NkNCQy1IUzUxMlwiO1xuLyoqIElzc3VlcyBhIEpXVC4gQnkgZGVmYXVsdCwgdGhlIEpXVCBpcyBlbmNyeXB0ZWQgdXNpbmcgXCJBMjU2Q0JDLUhTNTEyXCIuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZW5jb2RlKHBhcmFtcykge1xuICAgIGNvbnN0IHsgdG9rZW4gPSB7fSwgc2VjcmV0LCBtYXhBZ2UgPSBERUZBVUxUX01BWF9BR0UsIHNhbHQgfSA9IHBhcmFtcztcbiAgICBjb25zdCBzZWNyZXRzID0gQXJyYXkuaXNBcnJheShzZWNyZXQpID8gc2VjcmV0IDogW3NlY3JldF07XG4gICAgY29uc3QgZW5jcnlwdGlvblNlY3JldCA9IGF3YWl0IGdldERlcml2ZWRFbmNyeXB0aW9uS2V5KGVuYywgc2VjcmV0c1swXSwgc2FsdCk7XG4gICAgY29uc3QgdGh1bWJwcmludCA9IGF3YWl0IGNhbGN1bGF0ZUp3a1RodW1icHJpbnQoeyBrdHk6IFwib2N0XCIsIGs6IGJhc2U2NHVybC5lbmNvZGUoZW5jcnlwdGlvblNlY3JldCkgfSwgYHNoYSR7ZW5jcnlwdGlvblNlY3JldC5ieXRlTGVuZ3RoIDw8IDN9YCk7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBgam9zZWAgYWxsb3dzIGFueSBvYmplY3QgYXMgcGF5bG9hZC5cbiAgICByZXR1cm4gYXdhaXQgbmV3IEVuY3J5cHRKV1QodG9rZW4pXG4gICAgICAgIC5zZXRQcm90ZWN0ZWRIZWFkZXIoeyBhbGcsIGVuYywga2lkOiB0aHVtYnByaW50IH0pXG4gICAgICAgIC5zZXRJc3N1ZWRBdCgpXG4gICAgICAgIC5zZXRFeHBpcmF0aW9uVGltZShub3coKSArIG1heEFnZSlcbiAgICAgICAgLnNldEp0aShjcnlwdG8ucmFuZG9tVVVJRCgpKVxuICAgICAgICAuZW5jcnlwdChlbmNyeXB0aW9uU2VjcmV0KTtcbn1cbi8qKiBEZWNvZGVzIGEgQXV0aC5qcyBpc3N1ZWQgSldULiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlY29kZShwYXJhbXMpIHtcbiAgICBjb25zdCB7IHRva2VuLCBzZWNyZXQsIHNhbHQgfSA9IHBhcmFtcztcbiAgICBjb25zdCBzZWNyZXRzID0gQXJyYXkuaXNBcnJheShzZWNyZXQpID8gc2VjcmV0IDogW3NlY3JldF07XG4gICAgaWYgKCF0b2tlbilcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgeyBwYXlsb2FkIH0gPSBhd2FpdCBqd3REZWNyeXB0KHRva2VuLCBhc3luYyAoeyBraWQsIGVuYyB9KSA9PiB7XG4gICAgICAgIGZvciAoY29uc3Qgc2VjcmV0IG9mIHNlY3JldHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGVuY3J5cHRpb25TZWNyZXQgPSBhd2FpdCBnZXREZXJpdmVkRW5jcnlwdGlvbktleShlbmMsIHNlY3JldCwgc2FsdCk7XG4gICAgICAgICAgICBpZiAoa2lkID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVuY3J5cHRpb25TZWNyZXQ7XG4gICAgICAgICAgICBjb25zdCB0aHVtYnByaW50ID0gYXdhaXQgY2FsY3VsYXRlSndrVGh1bWJwcmludCh7IGt0eTogXCJvY3RcIiwgazogYmFzZTY0dXJsLmVuY29kZShlbmNyeXB0aW9uU2VjcmV0KSB9LCBgc2hhJHtlbmNyeXB0aW9uU2VjcmV0LmJ5dGVMZW5ndGggPDwgM31gKTtcbiAgICAgICAgICAgIGlmIChraWQgPT09IHRodW1icHJpbnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVuY3J5cHRpb25TZWNyZXQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm8gbWF0Y2hpbmcgZGVjcnlwdGlvbiBzZWNyZXRcIik7XG4gICAgfSwge1xuICAgICAgICBjbG9ja1RvbGVyYW5jZTogMTUsXG4gICAgICAgIGtleU1hbmFnZW1lbnRBbGdvcml0aG1zOiBbYWxnXSxcbiAgICAgICAgY29udGVudEVuY3J5cHRpb25BbGdvcml0aG1zOiBbZW5jLCBcIkEyNTZHQ01cIl0sXG4gICAgfSk7XG4gICAgcmV0dXJuIHBheWxvYWQ7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VG9rZW4ocGFyYW1zKSB7XG4gICAgY29uc3QgeyBzZWN1cmVDb29raWUsIGNvb2tpZU5hbWUgPSBzZWN1cmVDb29raWVcbiAgICAgICAgPyBcIl9fU2VjdXJlLWF1dGhqcy5zZXNzaW9uLXRva2VuXCJcbiAgICAgICAgOiBcImF1dGhqcy5zZXNzaW9uLXRva2VuXCIsIGRlY29kZTogX2RlY29kZSA9IGRlY29kZSwgc2FsdCA9IGNvb2tpZU5hbWUsIHNlY3JldCwgbG9nZ2VyID0gY29uc29sZSwgcmF3LCByZXEsIH0gPSBwYXJhbXM7XG4gICAgaWYgKCFyZXEpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk11c3QgcGFzcyBgcmVxYCB0byBKV1QgZ2V0VG9rZW4oKVwiKTtcbiAgICBpZiAoIXNlY3JldClcbiAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdTZWNyZXQoXCJNdXN0IHBhc3MgYHNlY3JldGAgaWYgbm90IHNldCB0byBKV1QgZ2V0VG9rZW4oKVwiKTtcbiAgICBjb25zdCBoZWFkZXJzID0gcmVxLmhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzID8gcmVxLmhlYWRlcnMgOiBuZXcgSGVhZGVycyhyZXEuaGVhZGVycyk7XG4gICAgY29uc3Qgc2Vzc2lvblN0b3JlID0gbmV3IFNlc3Npb25TdG9yZSh7IG5hbWU6IGNvb2tpZU5hbWUsIG9wdGlvbnM6IHsgc2VjdXJlOiBzZWN1cmVDb29raWUgfSB9LCBwYXJzZShoZWFkZXJzLmdldChcImNvb2tpZVwiKSA/PyBcIlwiKSwgbG9nZ2VyKTtcbiAgICBsZXQgdG9rZW4gPSBzZXNzaW9uU3RvcmUudmFsdWU7XG4gICAgY29uc3QgYXV0aG9yaXphdGlvbkhlYWRlciA9IGhlYWRlcnMuZ2V0KFwiYXV0aG9yaXphdGlvblwiKTtcbiAgICBpZiAoIXRva2VuICYmIGF1dGhvcml6YXRpb25IZWFkZXI/LnNwbGl0KFwiIFwiKVswXSA9PT0gXCJCZWFyZXJcIikge1xuICAgICAgICBjb25zdCB1cmxFbmNvZGVkVG9rZW4gPSBhdXRob3JpemF0aW9uSGVhZGVyLnNwbGl0KFwiIFwiKVsxXTtcbiAgICAgICAgdG9rZW4gPSBkZWNvZGVVUklDb21wb25lbnQodXJsRW5jb2RlZFRva2VuKTtcbiAgICB9XG4gICAgaWYgKCF0b2tlbilcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgaWYgKHJhdylcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBhd2FpdCBfZGVjb2RlKHsgdG9rZW4sIHNlY3JldCwgc2FsdCB9KTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5hc3luYyBmdW5jdGlvbiBnZXREZXJpdmVkRW5jcnlwdGlvbktleShlbmMsIGtleU1hdGVyaWFsLCBzYWx0KSB7XG4gICAgbGV0IGxlbmd0aDtcbiAgICBzd2l0Y2ggKGVuYykge1xuICAgICAgICBjYXNlIFwiQTI1NkNCQy1IUzUxMlwiOlxuICAgICAgICAgICAgbGVuZ3RoID0gNjQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIkEyNTZHQ01cIjpcbiAgICAgICAgICAgIGxlbmd0aCA9IDMyO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBKV1QgQ29udGVudCBFbmNyeXB0aW9uIEFsZ29yaXRobVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IGhrZGYoXCJzaGEyNTZcIiwga2V5TWF0ZXJpYWwsIHNhbHQsIGBBdXRoLmpzIEdlbmVyYXRlZCBFbmNyeXB0aW9uIEtleSAoJHtzYWx0fSlgLCBsZW5ndGgpO1xufVxuIl0sIm5hbWVzIjpbImhrZGYiLCJFbmNyeXB0SldUIiwiYmFzZTY0dXJsIiwiY2FsY3VsYXRlSndrVGh1bWJwcmludCIsImp3dERlY3J5cHQiLCJTZXNzaW9uU3RvcmUiLCJNaXNzaW5nU2VjcmV0IiwicGFyc2UiLCJERUZBVUxUX01BWF9BR0UiLCJub3ciLCJEYXRlIiwiYWxnIiwiZW5jIiwiZW5jb2RlIiwicGFyYW1zIiwidG9rZW4iLCJzZWNyZXQiLCJtYXhBZ2UiLCJzYWx0Iiwic2VjcmV0cyIsIkFycmF5IiwiaXNBcnJheSIsImVuY3J5cHRpb25TZWNyZXQiLCJnZXREZXJpdmVkRW5jcnlwdGlvbktleSIsInRodW1icHJpbnQiLCJrdHkiLCJrIiwiYnl0ZUxlbmd0aCIsInNldFByb3RlY3RlZEhlYWRlciIsImtpZCIsInNldElzc3VlZEF0Iiwic2V0RXhwaXJhdGlvblRpbWUiLCJzZXRKdGkiLCJjcnlwdG8iLCJyYW5kb21VVUlEIiwiZW5jcnlwdCIsImRlY29kZSIsInBheWxvYWQiLCJ1bmRlZmluZWQiLCJFcnJvciIsImNsb2NrVG9sZXJhbmNlIiwia2V5TWFuYWdlbWVudEFsZ29yaXRobXMiLCJjb250ZW50RW5jcnlwdGlvbkFsZ29yaXRobXMiLCJnZXRUb2tlbiIsInNlY3VyZUNvb2tpZSIsImNvb2tpZU5hbWUiLCJfZGVjb2RlIiwibG9nZ2VyIiwiY29uc29sZSIsInJhdyIsInJlcSIsImhlYWRlcnMiLCJIZWFkZXJzIiwic2Vzc2lvblN0b3JlIiwibmFtZSIsIm9wdGlvbnMiLCJzZWN1cmUiLCJnZXQiLCJ2YWx1ZSIsImF1dGhvcml6YXRpb25IZWFkZXIiLCJzcGxpdCIsInVybEVuY29kZWRUb2tlbiIsImRlY29kZVVSSUNvbXBvbmVudCIsImtleU1hdGVyaWFsIiwibGVuZ3RoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/jwt.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/jwt.js":
/*!****************************************!*\
  !*** ./node_modules/@auth/core/jwt.js ***!
  \****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   decode: () => (/* binding */ decode),\n/* harmony export */   encode: () => (/* binding */ encode),\n/* harmony export */   getToken: () => (/* binding */ getToken)\n/* harmony export */ });\n/* harmony import */ var _panva_hkdf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @panva/hkdf */ \"(rsc)/./node_modules/@panva/hkdf/dist/node/esm/index.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jose */ \"(rsc)/./node_modules/jose/dist/node/esm/index.js\");\n/* harmony import */ var _lib_utils_cookie_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/utils/cookie.js */ \"(rsc)/./node_modules/@auth/core/lib/utils/cookie.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./errors.js */ \"(rsc)/./node_modules/@auth/core/errors.js\");\n/* harmony import */ var cookie__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cookie */ \"(rsc)/./node_modules/cookie/index.js\");\n/**\n *\n *\n * This module contains functions and types\n * to encode and decode {@link https://authjs.dev/concepts/session-strategies#jwt JWT}s\n * issued and used by Auth.js.\n *\n * The JWT issued by Auth.js is _encrypted by default_, using the _A256CBC-HS512_ algorithm ({@link https://www.rfc-editor.org/rfc/rfc7518.html#section-5.2.5 JWE}).\n * It uses the `AUTH_SECRET` environment variable or the passed `secret` propery to derive a suitable encryption key.\n *\n * :::info Note\n * Auth.js JWTs are meant to be used by the same app that issued them.\n * If you need JWT authentication for your third-party API, you should rely on your Identity Provider instead.\n * :::\n *\n * ## Installation\n *\n * ```bash npm2yarn\n * npm install @auth/core\n * ```\n *\n * You can then import this submodule from `@auth/core/jwt`.\n *\n * ## Usage\n *\n * :::warning Warning\n * This module *will* be refactored/changed. We do not recommend relying on it right now.\n * :::\n *\n *\n * ## Resources\n *\n * - [What is a JWT session strategy](https://authjs.dev/concepts/session-strategies#jwt)\n * - [RFC7519 - JSON Web Token (JWT)](https://www.rfc-editor.org/rfc/rfc7519)\n *\n * @module jwt\n */ \n\n\n\n\nconst DEFAULT_MAX_AGE = 30 * 24 * 60 * 60; // 30 days\nconst now = ()=>Date.now() / 1000 | 0;\nconst alg = \"dir\";\nconst enc = \"A256CBC-HS512\";\n/** Issues a JWT. By default, the JWT is encrypted using \"A256CBC-HS512\". */ async function encode(params) {\n    const { token = {}, secret, maxAge = DEFAULT_MAX_AGE, salt } = params;\n    const secrets = Array.isArray(secret) ? secret : [\n        secret\n    ];\n    const encryptionSecret = await getDerivedEncryptionKey(enc, secrets[0], salt);\n    const thumbprint = await (0,jose__WEBPACK_IMPORTED_MODULE_1__.calculateJwkThumbprint)({\n        kty: \"oct\",\n        k: jose__WEBPACK_IMPORTED_MODULE_1__.base64url.encode(encryptionSecret)\n    }, `sha${encryptionSecret.byteLength << 3}`);\n    // @ts-expect-error `jose` allows any object as payload.\n    return await new jose__WEBPACK_IMPORTED_MODULE_1__.EncryptJWT(token).setProtectedHeader({\n        alg,\n        enc,\n        kid: thumbprint\n    }).setIssuedAt().setExpirationTime(now() + maxAge).setJti(crypto.randomUUID()).encrypt(encryptionSecret);\n}\n/** Decodes a Auth.js issued JWT. */ async function decode(params) {\n    const { token, secret, salt } = params;\n    const secrets = Array.isArray(secret) ? secret : [\n        secret\n    ];\n    if (!token) return null;\n    const { payload } = await (0,jose__WEBPACK_IMPORTED_MODULE_1__.jwtDecrypt)(token, async ({ kid, enc })=>{\n        for (const secret of secrets){\n            const encryptionSecret = await getDerivedEncryptionKey(enc, secret, salt);\n            if (kid === undefined) return encryptionSecret;\n            const thumbprint = await (0,jose__WEBPACK_IMPORTED_MODULE_1__.calculateJwkThumbprint)({\n                kty: \"oct\",\n                k: jose__WEBPACK_IMPORTED_MODULE_1__.base64url.encode(encryptionSecret)\n            }, `sha${encryptionSecret.byteLength << 3}`);\n            if (kid === thumbprint) return encryptionSecret;\n        }\n        throw new Error(\"no matching decryption secret\");\n    }, {\n        clockTolerance: 15,\n        keyManagementAlgorithms: [\n            alg\n        ],\n        contentEncryptionAlgorithms: [\n            enc,\n            \"A256GCM\"\n        ]\n    });\n    return payload;\n}\nasync function getToken(params) {\n    const { secureCookie, cookieName = secureCookie ? \"__Secure-authjs.session-token\" : \"authjs.session-token\", decode: _decode = decode, salt = cookieName, secret, logger = console, raw, req } = params;\n    if (!req) throw new Error(\"Must pass `req` to JWT getToken()\");\n    if (!secret) throw new _errors_js__WEBPACK_IMPORTED_MODULE_3__.MissingSecret(\"Must pass `secret` if not set to JWT getToken()\");\n    const headers = req.headers instanceof Headers ? req.headers : new Headers(req.headers);\n    const sessionStore = new _lib_utils_cookie_js__WEBPACK_IMPORTED_MODULE_2__.SessionStore({\n        name: cookieName,\n        options: {\n            secure: secureCookie\n        }\n    }, (0,cookie__WEBPACK_IMPORTED_MODULE_4__.parse)(headers.get(\"cookie\") ?? \"\"), logger);\n    let token = sessionStore.value;\n    const authorizationHeader = headers.get(\"authorization\");\n    if (!token && authorizationHeader?.split(\" \")[0] === \"Bearer\") {\n        const urlEncodedToken = authorizationHeader.split(\" \")[1];\n        token = decodeURIComponent(urlEncodedToken);\n    }\n    if (!token) return null;\n    if (raw) return token;\n    try {\n        return await _decode({\n            token,\n            secret,\n            salt\n        });\n    } catch  {\n        return null;\n    }\n}\nasync function getDerivedEncryptionKey(enc, keyMaterial, salt) {\n    let length;\n    switch(enc){\n        case \"A256CBC-HS512\":\n            length = 64;\n            break;\n        case \"A256GCM\":\n            length = 32;\n            break;\n        default:\n            throw new Error(\"Unsupported JWT Content Encryption Algorithm\");\n    }\n    return await (0,_panva_hkdf__WEBPACK_IMPORTED_MODULE_0__.hkdf)(\"sha256\", keyMaterial, salt, `Auth.js Generated Encryption Key (${salt})`, length);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9qd3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBb0NDLEdBQ2tDO0FBQzhDO0FBQzVCO0FBQ1Q7QUFDYjtBQUMvQixNQUFNUSxrQkFBa0IsS0FBSyxLQUFLLEtBQUssSUFBSSxVQUFVO0FBQ3JELE1BQU1DLE1BQU0sSUFBTSxLQUFNQSxHQUFHLEtBQUssT0FBUTtBQUN4QyxNQUFNRSxNQUFNO0FBQ1osTUFBTUMsTUFBTTtBQUNaLDBFQUEwRSxHQUNuRSxlQUFlQyxPQUFPQyxNQUFNO0lBQy9CLE1BQU0sRUFBRUMsUUFBUSxDQUFDLENBQUMsRUFBRUMsTUFBTSxFQUFFQyxTQUFTVCxlQUFlLEVBQUVVLElBQUksRUFBRSxHQUFHSjtJQUMvRCxNQUFNSyxVQUFVQyxNQUFNQyxPQUFPLENBQUNMLFVBQVVBLFNBQVM7UUFBQ0E7S0FBTztJQUN6RCxNQUFNTSxtQkFBbUIsTUFBTUMsd0JBQXdCWCxLQUFLTyxPQUFPLENBQUMsRUFBRSxFQUFFRDtJQUN4RSxNQUFNTSxhQUFhLE1BQU1yQiw0REFBc0JBLENBQUM7UUFBRXNCLEtBQUs7UUFBT0MsR0FBR3hCLGtEQUFnQixDQUFDb0I7SUFBa0IsR0FBRyxDQUFDLEdBQUcsRUFBRUEsaUJBQWlCSyxVQUFVLElBQUksRUFBRSxDQUFDO0lBQy9JLHdEQUF3RDtJQUN4RCxPQUFPLE1BQU0sSUFBSTFCLDRDQUFVQSxDQUFDYyxPQUN2QmEsa0JBQWtCLENBQUM7UUFBRWpCO1FBQUtDO1FBQUtpQixLQUFLTDtJQUFXLEdBQy9DTSxXQUFXLEdBQ1hDLGlCQUFpQixDQUFDdEIsUUFBUVEsUUFDMUJlLE1BQU0sQ0FBQ0MsT0FBT0MsVUFBVSxJQUN4QkMsT0FBTyxDQUFDYjtBQUNqQjtBQUNBLGtDQUFrQyxHQUMzQixlQUFlYyxPQUFPdEIsTUFBTTtJQUMvQixNQUFNLEVBQUVDLEtBQUssRUFBRUMsTUFBTSxFQUFFRSxJQUFJLEVBQUUsR0FBR0o7SUFDaEMsTUFBTUssVUFBVUMsTUFBTUMsT0FBTyxDQUFDTCxVQUFVQSxTQUFTO1FBQUNBO0tBQU87SUFDekQsSUFBSSxDQUFDRCxPQUNELE9BQU87SUFDWCxNQUFNLEVBQUVzQixPQUFPLEVBQUUsR0FBRyxNQUFNakMsZ0RBQVVBLENBQUNXLE9BQU8sT0FBTyxFQUFFYyxHQUFHLEVBQUVqQixHQUFHLEVBQUU7UUFDM0QsS0FBSyxNQUFNSSxVQUFVRyxRQUFTO1lBQzFCLE1BQU1HLG1CQUFtQixNQUFNQyx3QkFBd0JYLEtBQUtJLFFBQVFFO1lBQ3BFLElBQUlXLFFBQVFTLFdBQ1IsT0FBT2hCO1lBQ1gsTUFBTUUsYUFBYSxNQUFNckIsNERBQXNCQSxDQUFDO2dCQUFFc0IsS0FBSztnQkFBT0MsR0FBR3hCLGtEQUFnQixDQUFDb0I7WUFBa0IsR0FBRyxDQUFDLEdBQUcsRUFBRUEsaUJBQWlCSyxVQUFVLElBQUksRUFBRSxDQUFDO1lBQy9JLElBQUlFLFFBQVFMLFlBQ1IsT0FBT0Y7UUFDZjtRQUNBLE1BQU0sSUFBSWlCLE1BQU07SUFDcEIsR0FBRztRQUNDQyxnQkFBZ0I7UUFDaEJDLHlCQUF5QjtZQUFDOUI7U0FBSTtRQUM5QitCLDZCQUE2QjtZQUFDOUI7WUFBSztTQUFVO0lBQ2pEO0lBQ0EsT0FBT3lCO0FBQ1g7QUFDTyxlQUFlTSxTQUFTN0IsTUFBTTtJQUNqQyxNQUFNLEVBQUU4QixZQUFZLEVBQUVDLGFBQWFELGVBQzdCLGtDQUNBLHNCQUFzQixFQUFFUixRQUFRVSxVQUFVVixNQUFNLEVBQUVsQixPQUFPMkIsVUFBVSxFQUFFN0IsTUFBTSxFQUFFK0IsU0FBU0MsT0FBTyxFQUFFQyxHQUFHLEVBQUVDLEdBQUcsRUFBRyxHQUFHcEM7SUFDbkgsSUFBSSxDQUFDb0MsS0FDRCxNQUFNLElBQUlYLE1BQU07SUFDcEIsSUFBSSxDQUFDdkIsUUFDRCxNQUFNLElBQUlWLHFEQUFhQSxDQUFDO0lBQzVCLE1BQU02QyxVQUFVRCxJQUFJQyxPQUFPLFlBQVlDLFVBQVVGLElBQUlDLE9BQU8sR0FBRyxJQUFJQyxRQUFRRixJQUFJQyxPQUFPO0lBQ3RGLE1BQU1FLGVBQWUsSUFBSWhELDhEQUFZQSxDQUFDO1FBQUVpRCxNQUFNVDtRQUFZVSxTQUFTO1lBQUVDLFFBQVFaO1FBQWE7SUFBRSxHQUFHckMsNkNBQUtBLENBQUM0QyxRQUFRTSxHQUFHLENBQUMsYUFBYSxLQUFLVjtJQUNuSSxJQUFJaEMsUUFBUXNDLGFBQWFLLEtBQUs7SUFDOUIsTUFBTUMsc0JBQXNCUixRQUFRTSxHQUFHLENBQUM7SUFDeEMsSUFBSSxDQUFDMUMsU0FBUzRDLHFCQUFxQkMsTUFBTSxJQUFJLENBQUMsRUFBRSxLQUFLLFVBQVU7UUFDM0QsTUFBTUMsa0JBQWtCRixvQkFBb0JDLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUN6RDdDLFFBQVErQyxtQkFBbUJEO0lBQy9CO0lBQ0EsSUFBSSxDQUFDOUMsT0FDRCxPQUFPO0lBQ1gsSUFBSWtDLEtBQ0EsT0FBT2xDO0lBQ1gsSUFBSTtRQUNBLE9BQU8sTUFBTStCLFFBQVE7WUFBRS9CO1lBQU9DO1lBQVFFO1FBQUs7SUFDL0MsRUFDQSxPQUFNO1FBQ0YsT0FBTztJQUNYO0FBQ0o7QUFDQSxlQUFlSyx3QkFBd0JYLEdBQUcsRUFBRW1ELFdBQVcsRUFBRTdDLElBQUk7SUFDekQsSUFBSThDO0lBQ0osT0FBUXBEO1FBQ0osS0FBSztZQUNEb0QsU0FBUztZQUNUO1FBQ0osS0FBSztZQUNEQSxTQUFTO1lBQ1Q7UUFDSjtZQUNJLE1BQU0sSUFBSXpCLE1BQU07SUFDeEI7SUFDQSxPQUFPLE1BQU12QyxpREFBSUEsQ0FBQyxVQUFVK0QsYUFBYTdDLE1BQU0sQ0FBQyxrQ0FBa0MsRUFBRUEsS0FBSyxDQUFDLENBQUMsRUFBRThDO0FBQ2pHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC1yeC8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2p3dC5qcz9jZDA5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICpcbiAqXG4gKiBUaGlzIG1vZHVsZSBjb250YWlucyBmdW5jdGlvbnMgYW5kIHR5cGVzXG4gKiB0byBlbmNvZGUgYW5kIGRlY29kZSB7QGxpbmsgaHR0cHM6Ly9hdXRoanMuZGV2L2NvbmNlcHRzL3Nlc3Npb24tc3RyYXRlZ2llcyNqd3QgSldUfXNcbiAqIGlzc3VlZCBhbmQgdXNlZCBieSBBdXRoLmpzLlxuICpcbiAqIFRoZSBKV1QgaXNzdWVkIGJ5IEF1dGguanMgaXMgX2VuY3J5cHRlZCBieSBkZWZhdWx0XywgdXNpbmcgdGhlIF9BMjU2Q0JDLUhTNTEyXyBhbGdvcml0aG0gKHtAbGluayBodHRwczovL3d3dy5yZmMtZWRpdG9yLm9yZy9yZmMvcmZjNzUxOC5odG1sI3NlY3Rpb24tNS4yLjUgSldFfSkuXG4gKiBJdCB1c2VzIHRoZSBgQVVUSF9TRUNSRVRgIGVudmlyb25tZW50IHZhcmlhYmxlIG9yIHRoZSBwYXNzZWQgYHNlY3JldGAgcHJvcGVyeSB0byBkZXJpdmUgYSBzdWl0YWJsZSBlbmNyeXB0aW9uIGtleS5cbiAqXG4gKiA6OjppbmZvIE5vdGVcbiAqIEF1dGguanMgSldUcyBhcmUgbWVhbnQgdG8gYmUgdXNlZCBieSB0aGUgc2FtZSBhcHAgdGhhdCBpc3N1ZWQgdGhlbS5cbiAqIElmIHlvdSBuZWVkIEpXVCBhdXRoZW50aWNhdGlvbiBmb3IgeW91ciB0aGlyZC1wYXJ0eSBBUEksIHlvdSBzaG91bGQgcmVseSBvbiB5b3VyIElkZW50aXR5IFByb3ZpZGVyIGluc3RlYWQuXG4gKiA6OjpcbiAqXG4gKiAjIyBJbnN0YWxsYXRpb25cbiAqXG4gKiBgYGBiYXNoIG5wbTJ5YXJuXG4gKiBucG0gaW5zdGFsbCBAYXV0aC9jb3JlXG4gKiBgYGBcbiAqXG4gKiBZb3UgY2FuIHRoZW4gaW1wb3J0IHRoaXMgc3VibW9kdWxlIGZyb20gYEBhdXRoL2NvcmUvand0YC5cbiAqXG4gKiAjIyBVc2FnZVxuICpcbiAqIDo6Ondhcm5pbmcgV2FybmluZ1xuICogVGhpcyBtb2R1bGUgKndpbGwqIGJlIHJlZmFjdG9yZWQvY2hhbmdlZC4gV2UgZG8gbm90IHJlY29tbWVuZCByZWx5aW5nIG9uIGl0IHJpZ2h0IG5vdy5cbiAqIDo6OlxuICpcbiAqXG4gKiAjIyBSZXNvdXJjZXNcbiAqXG4gKiAtIFtXaGF0IGlzIGEgSldUIHNlc3Npb24gc3RyYXRlZ3ldKGh0dHBzOi8vYXV0aGpzLmRldi9jb25jZXB0cy9zZXNzaW9uLXN0cmF0ZWdpZXMjand0KVxuICogLSBbUkZDNzUxOSAtIEpTT04gV2ViIFRva2VuIChKV1QpXShodHRwczovL3d3dy5yZmMtZWRpdG9yLm9yZy9yZmMvcmZjNzUxOSlcbiAqXG4gKiBAbW9kdWxlIGp3dFxuICovXG5pbXBvcnQgeyBoa2RmIH0gZnJvbSBcIkBwYW52YS9oa2RmXCI7XG5pbXBvcnQgeyBFbmNyeXB0SldULCBiYXNlNjR1cmwsIGNhbGN1bGF0ZUp3a1RodW1icHJpbnQsIGp3dERlY3J5cHQgfSBmcm9tIFwiam9zZVwiO1xuaW1wb3J0IHsgU2Vzc2lvblN0b3JlIH0gZnJvbSBcIi4vbGliL3V0aWxzL2Nvb2tpZS5qc1wiO1xuaW1wb3J0IHsgTWlzc2luZ1NlY3JldCB9IGZyb20gXCIuL2Vycm9ycy5qc1wiO1xuaW1wb3J0IHsgcGFyc2UgfSBmcm9tIFwiY29va2llXCI7XG5jb25zdCBERUZBVUxUX01BWF9BR0UgPSAzMCAqIDI0ICogNjAgKiA2MDsgLy8gMzAgZGF5c1xuY29uc3Qgbm93ID0gKCkgPT4gKERhdGUubm93KCkgLyAxMDAwKSB8IDA7XG5jb25zdCBhbGcgPSBcImRpclwiO1xuY29uc3QgZW5jID0gXCJBMjU2Q0JDLUhTNTEyXCI7XG4vKiogSXNzdWVzIGEgSldULiBCeSBkZWZhdWx0LCB0aGUgSldUIGlzIGVuY3J5cHRlZCB1c2luZyBcIkEyNTZDQkMtSFM1MTJcIi4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbmNvZGUocGFyYW1zKSB7XG4gICAgY29uc3QgeyB0b2tlbiA9IHt9LCBzZWNyZXQsIG1heEFnZSA9IERFRkFVTFRfTUFYX0FHRSwgc2FsdCB9ID0gcGFyYW1zO1xuICAgIGNvbnN0IHNlY3JldHMgPSBBcnJheS5pc0FycmF5KHNlY3JldCkgPyBzZWNyZXQgOiBbc2VjcmV0XTtcbiAgICBjb25zdCBlbmNyeXB0aW9uU2VjcmV0ID0gYXdhaXQgZ2V0RGVyaXZlZEVuY3J5cHRpb25LZXkoZW5jLCBzZWNyZXRzWzBdLCBzYWx0KTtcbiAgICBjb25zdCB0aHVtYnByaW50ID0gYXdhaXQgY2FsY3VsYXRlSndrVGh1bWJwcmludCh7IGt0eTogXCJvY3RcIiwgazogYmFzZTY0dXJsLmVuY29kZShlbmNyeXB0aW9uU2VjcmV0KSB9LCBgc2hhJHtlbmNyeXB0aW9uU2VjcmV0LmJ5dGVMZW5ndGggPDwgM31gKTtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGBqb3NlYCBhbGxvd3MgYW55IG9iamVjdCBhcyBwYXlsb2FkLlxuICAgIHJldHVybiBhd2FpdCBuZXcgRW5jcnlwdEpXVCh0b2tlbilcbiAgICAgICAgLnNldFByb3RlY3RlZEhlYWRlcih7IGFsZywgZW5jLCBraWQ6IHRodW1icHJpbnQgfSlcbiAgICAgICAgLnNldElzc3VlZEF0KClcbiAgICAgICAgLnNldEV4cGlyYXRpb25UaW1lKG5vdygpICsgbWF4QWdlKVxuICAgICAgICAuc2V0SnRpKGNyeXB0by5yYW5kb21VVUlEKCkpXG4gICAgICAgIC5lbmNyeXB0KGVuY3J5cHRpb25TZWNyZXQpO1xufVxuLyoqIERlY29kZXMgYSBBdXRoLmpzIGlzc3VlZCBKV1QuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVjb2RlKHBhcmFtcykge1xuICAgIGNvbnN0IHsgdG9rZW4sIHNlY3JldCwgc2FsdCB9ID0gcGFyYW1zO1xuICAgIGNvbnN0IHNlY3JldHMgPSBBcnJheS5pc0FycmF5KHNlY3JldCkgPyBzZWNyZXQgOiBbc2VjcmV0XTtcbiAgICBpZiAoIXRva2VuKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBjb25zdCB7IHBheWxvYWQgfSA9IGF3YWl0IGp3dERlY3J5cHQodG9rZW4sIGFzeW5jICh7IGtpZCwgZW5jIH0pID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBzZWNyZXQgb2Ygc2VjcmV0cykge1xuICAgICAgICAgICAgY29uc3QgZW5jcnlwdGlvblNlY3JldCA9IGF3YWl0IGdldERlcml2ZWRFbmNyeXB0aW9uS2V5KGVuYywgc2VjcmV0LCBzYWx0KTtcbiAgICAgICAgICAgIGlmIChraWQgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICByZXR1cm4gZW5jcnlwdGlvblNlY3JldDtcbiAgICAgICAgICAgIGNvbnN0IHRodW1icHJpbnQgPSBhd2FpdCBjYWxjdWxhdGVKd2tUaHVtYnByaW50KHsga3R5OiBcIm9jdFwiLCBrOiBiYXNlNjR1cmwuZW5jb2RlKGVuY3J5cHRpb25TZWNyZXQpIH0sIGBzaGEke2VuY3J5cHRpb25TZWNyZXQuYnl0ZUxlbmd0aCA8PCAzfWApO1xuICAgICAgICAgICAgaWYgKGtpZCA9PT0gdGh1bWJwcmludClcbiAgICAgICAgICAgICAgICByZXR1cm4gZW5jcnlwdGlvblNlY3JldDtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJubyBtYXRjaGluZyBkZWNyeXB0aW9uIHNlY3JldFwiKTtcbiAgICB9LCB7XG4gICAgICAgIGNsb2NrVG9sZXJhbmNlOiAxNSxcbiAgICAgICAga2V5TWFuYWdlbWVudEFsZ29yaXRobXM6IFthbGddLFxuICAgICAgICBjb250ZW50RW5jcnlwdGlvbkFsZ29yaXRobXM6IFtlbmMsIFwiQTI1NkdDTVwiXSxcbiAgICB9KTtcbiAgICByZXR1cm4gcGF5bG9hZDtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRUb2tlbihwYXJhbXMpIHtcbiAgICBjb25zdCB7IHNlY3VyZUNvb2tpZSwgY29va2llTmFtZSA9IHNlY3VyZUNvb2tpZVxuICAgICAgICA/IFwiX19TZWN1cmUtYXV0aGpzLnNlc3Npb24tdG9rZW5cIlxuICAgICAgICA6IFwiYXV0aGpzLnNlc3Npb24tdG9rZW5cIiwgZGVjb2RlOiBfZGVjb2RlID0gZGVjb2RlLCBzYWx0ID0gY29va2llTmFtZSwgc2VjcmV0LCBsb2dnZXIgPSBjb25zb2xlLCByYXcsIHJlcSwgfSA9IHBhcmFtcztcbiAgICBpZiAoIXJlcSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTXVzdCBwYXNzIGByZXFgIHRvIEpXVCBnZXRUb2tlbigpXCIpO1xuICAgIGlmICghc2VjcmV0KVxuICAgICAgICB0aHJvdyBuZXcgTWlzc2luZ1NlY3JldChcIk11c3QgcGFzcyBgc2VjcmV0YCBpZiBub3Qgc2V0IHRvIEpXVCBnZXRUb2tlbigpXCIpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSByZXEuaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMgPyByZXEuaGVhZGVycyA6IG5ldyBIZWFkZXJzKHJlcS5oZWFkZXJzKTtcbiAgICBjb25zdCBzZXNzaW9uU3RvcmUgPSBuZXcgU2Vzc2lvblN0b3JlKHsgbmFtZTogY29va2llTmFtZSwgb3B0aW9uczogeyBzZWN1cmU6IHNlY3VyZUNvb2tpZSB9IH0sIHBhcnNlKGhlYWRlcnMuZ2V0KFwiY29va2llXCIpID8/IFwiXCIpLCBsb2dnZXIpO1xuICAgIGxldCB0b2tlbiA9IHNlc3Npb25TdG9yZS52YWx1ZTtcbiAgICBjb25zdCBhdXRob3JpemF0aW9uSGVhZGVyID0gaGVhZGVycy5nZXQoXCJhdXRob3JpemF0aW9uXCIpO1xuICAgIGlmICghdG9rZW4gJiYgYXV0aG9yaXphdGlvbkhlYWRlcj8uc3BsaXQoXCIgXCIpWzBdID09PSBcIkJlYXJlclwiKSB7XG4gICAgICAgIGNvbnN0IHVybEVuY29kZWRUb2tlbiA9IGF1dGhvcml6YXRpb25IZWFkZXIuc3BsaXQoXCIgXCIpWzFdO1xuICAgICAgICB0b2tlbiA9IGRlY29kZVVSSUNvbXBvbmVudCh1cmxFbmNvZGVkVG9rZW4pO1xuICAgIH1cbiAgICBpZiAoIXRva2VuKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBpZiAocmF3KVxuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IF9kZWNvZGUoeyB0b2tlbiwgc2VjcmV0LCBzYWx0IH0pO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbmFzeW5jIGZ1bmN0aW9uIGdldERlcml2ZWRFbmNyeXB0aW9uS2V5KGVuYywga2V5TWF0ZXJpYWwsIHNhbHQpIHtcbiAgICBsZXQgbGVuZ3RoO1xuICAgIHN3aXRjaCAoZW5jKSB7XG4gICAgICAgIGNhc2UgXCJBMjU2Q0JDLUhTNTEyXCI6XG4gICAgICAgICAgICBsZW5ndGggPSA2NDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiQTI1NkdDTVwiOlxuICAgICAgICAgICAgbGVuZ3RoID0gMzI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIEpXVCBDb250ZW50IEVuY3J5cHRpb24gQWxnb3JpdGhtXCIpO1xuICAgIH1cbiAgICByZXR1cm4gYXdhaXQgaGtkZihcInNoYTI1NlwiLCBrZXlNYXRlcmlhbCwgc2FsdCwgYEF1dGguanMgR2VuZXJhdGVkIEVuY3J5cHRpb24gS2V5ICgke3NhbHR9KWAsIGxlbmd0aCk7XG59XG4iXSwibmFtZXMiOlsiaGtkZiIsIkVuY3J5cHRKV1QiLCJiYXNlNjR1cmwiLCJjYWxjdWxhdGVKd2tUaHVtYnByaW50Iiwiand0RGVjcnlwdCIsIlNlc3Npb25TdG9yZSIsIk1pc3NpbmdTZWNyZXQiLCJwYXJzZSIsIkRFRkFVTFRfTUFYX0FHRSIsIm5vdyIsIkRhdGUiLCJhbGciLCJlbmMiLCJlbmNvZGUiLCJwYXJhbXMiLCJ0b2tlbiIsInNlY3JldCIsIm1heEFnZSIsInNhbHQiLCJzZWNyZXRzIiwiQXJyYXkiLCJpc0FycmF5IiwiZW5jcnlwdGlvblNlY3JldCIsImdldERlcml2ZWRFbmNyeXB0aW9uS2V5IiwidGh1bWJwcmludCIsImt0eSIsImsiLCJieXRlTGVuZ3RoIiwic2V0UHJvdGVjdGVkSGVhZGVyIiwia2lkIiwic2V0SXNzdWVkQXQiLCJzZXRFeHBpcmF0aW9uVGltZSIsInNldEp0aSIsImNyeXB0byIsInJhbmRvbVVVSUQiLCJlbmNyeXB0IiwiZGVjb2RlIiwicGF5bG9hZCIsInVuZGVmaW5lZCIsIkVycm9yIiwiY2xvY2tUb2xlcmFuY2UiLCJrZXlNYW5hZ2VtZW50QWxnb3JpdGhtcyIsImNvbnRlbnRFbmNyeXB0aW9uQWxnb3JpdGhtcyIsImdldFRva2VuIiwic2VjdXJlQ29va2llIiwiY29va2llTmFtZSIsIl9kZWNvZGUiLCJsb2dnZXIiLCJjb25zb2xlIiwicmF3IiwicmVxIiwiaGVhZGVycyIsIkhlYWRlcnMiLCJzZXNzaW9uU3RvcmUiLCJuYW1lIiwib3B0aW9ucyIsInNlY3VyZSIsImdldCIsInZhbHVlIiwiYXV0aG9yaXphdGlvbkhlYWRlciIsInNwbGl0IiwidXJsRW5jb2RlZFRva2VuIiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwia2V5TWF0ZXJpYWwiLCJsZW5ndGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/jwt.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/lib/actions/callback/handle-login.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@auth/core/lib/actions/callback/handle-login.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handleLoginOrRegister: () => (/* binding */ handleLoginOrRegister)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../errors.js */ \"(action-browser)/./node_modules/@auth/core/errors.js\");\n/* harmony import */ var _utils_date_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/date.js */ \"(action-browser)/./node_modules/@auth/core/lib/utils/date.js\");\n\n\n/**\n * This function handles the complex flow of signing users in, and either creating,\n * linking (or not linking) accounts depending on if the user is currently logged\n * in, if they have account already and the authentication mechanism they are using.\n *\n * It prevents insecure behaviour, such as linking OAuth accounts unless a user is\n * signed in and authenticated with an existing valid account.\n *\n * All verification (e.g. OAuth flows or email address verification flows) are\n * done prior to this handler being called to avoid additional complexity in this\n * handler.\n */ async function handleLoginOrRegister(sessionToken, _profile, _account, options) {\n    // Input validation\n    if (!_account?.providerAccountId || !_account.type) throw new Error(\"Missing or invalid provider account\");\n    if (![\n        \"email\",\n        \"oauth\",\n        \"oidc\",\n        \"webauthn\"\n    ].includes(_account.type)) throw new Error(\"Provider not supported\");\n    const { adapter, jwt, events, session: { strategy: sessionStrategy, generateSessionToken } } = options;\n    // If no adapter is configured then we don't have a database and cannot\n    // persist data; in this mode we just return a dummy session object.\n    if (!adapter) {\n        return {\n            user: _profile,\n            account: _account\n        };\n    }\n    const profile = _profile;\n    let account = _account;\n    const { createUser, updateUser, getUser, getUserByAccount, getUserByEmail, linkAccount, createSession, getSessionAndUser, deleteSession } = adapter;\n    let session = null;\n    let user = null;\n    let isNewUser = false;\n    const useJwtSession = sessionStrategy === \"jwt\";\n    if (sessionToken) {\n        if (useJwtSession) {\n            try {\n                const salt = options.cookies.sessionToken.name;\n                session = await jwt.decode({\n                    ...jwt,\n                    token: sessionToken,\n                    salt\n                });\n                if (session && \"sub\" in session && session.sub) {\n                    user = await getUser(session.sub);\n                }\n            } catch  {\n            // If session can't be verified, treat as no session\n            }\n        } else {\n            const userAndSession = await getSessionAndUser(sessionToken);\n            if (userAndSession) {\n                session = userAndSession.session;\n                user = userAndSession.user;\n            }\n        }\n    }\n    if (account.type === \"email\") {\n        // If signing in with an email, check if an account with the same email address exists already\n        const userByEmail = await getUserByEmail(profile.email);\n        if (userByEmail) {\n            // If they are not already signed in as the same user, this flow will\n            // sign them out of the current session and sign them in as the new user\n            if (user?.id !== userByEmail.id && !useJwtSession && sessionToken) {\n                // Delete existing session if they are currently signed in as another user.\n                // This will switch user accounts for the session in cases where the user was\n                // already logged in with a different account.\n                await deleteSession(sessionToken);\n            }\n            // Update emailVerified property on the user object\n            user = await updateUser({\n                id: userByEmail.id,\n                emailVerified: new Date()\n            });\n            await events.updateUser?.({\n                user\n            });\n        } else {\n            // Create user account if there isn't one for the email address already\n            user = await createUser({\n                ...profile,\n                emailVerified: new Date()\n            });\n            await events.createUser?.({\n                user\n            });\n            isNewUser = true;\n        }\n        // Create new session\n        session = useJwtSession ? {} : await createSession({\n            sessionToken: generateSessionToken(),\n            userId: user.id,\n            expires: (0,_utils_date_js__WEBPACK_IMPORTED_MODULE_1__.fromDate)(options.session.maxAge)\n        });\n        return {\n            session,\n            user,\n            isNewUser\n        };\n    } else if (account.type === \"webauthn\") {\n        // Check if the account exists\n        const userByAccount = await getUserByAccount({\n            providerAccountId: account.providerAccountId,\n            provider: account.provider\n        });\n        if (userByAccount) {\n            if (user) {\n                // If the user is already signed in with this account, we don't need to do anything\n                if (userByAccount.id === user.id) {\n                    const currentAccount = {\n                        ...account,\n                        userId: user.id\n                    };\n                    return {\n                        session,\n                        user,\n                        isNewUser,\n                        account: currentAccount\n                    };\n                }\n                // If the user is currently signed in, but the new account they are signing in\n                // with is already associated with another user, then we cannot link them\n                // and need to return an error.\n                throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.AccountNotLinked(\"The account is already associated with another user\", {\n                    provider: account.provider\n                });\n            }\n            // If there is no active session, but the account being signed in with is already\n            // associated with a valid user then create session to sign the user in.\n            session = useJwtSession ? {} : await createSession({\n                sessionToken: generateSessionToken(),\n                userId: userByAccount.id,\n                expires: (0,_utils_date_js__WEBPACK_IMPORTED_MODULE_1__.fromDate)(options.session.maxAge)\n            });\n            const currentAccount = {\n                ...account,\n                userId: userByAccount.id\n            };\n            return {\n                session,\n                user: userByAccount,\n                isNewUser,\n                account: currentAccount\n            };\n        } else {\n            // If the account doesn't exist, we'll create it\n            if (user) {\n                // If the user is already signed in and the account isn't already associated\n                // with another user account then we can go ahead and link the accounts safely.\n                await linkAccount({\n                    ...account,\n                    userId: user.id\n                });\n                await events.linkAccount?.({\n                    user,\n                    account,\n                    profile\n                });\n                // As they are already signed in, we don't need to do anything after linking them\n                const currentAccount = {\n                    ...account,\n                    userId: user.id\n                };\n                return {\n                    session,\n                    user,\n                    isNewUser,\n                    account: currentAccount\n                };\n            }\n            // If the user is not signed in and it looks like a new account then we\n            // check there also isn't an user account already associated with the same\n            // email address as the one in the request.\n            const userByEmail = profile.email ? await getUserByEmail(profile.email) : null;\n            if (userByEmail) {\n                // We don't trust user-provided email addresses, so we don't want to link accounts\n                // if the email address associated with the new account is already associated with\n                // an existing account.\n                throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.AccountNotLinked(\"Another account already exists with the same e-mail address\", {\n                    provider: account.provider\n                });\n            } else {\n                // If the current user is not logged in and the profile isn't linked to any user\n                // accounts (by email or provider account id)...\n                //\n                // If no account matching the same [provider].id or .email exists, we can\n                // create a new account for the user, link it to the OAuth account and\n                // create a new session for them so they are signed in with it.\n                user = await createUser({\n                    ...profile\n                });\n            }\n            await events.createUser?.({\n                user\n            });\n            await linkAccount({\n                ...account,\n                userId: user.id\n            });\n            await events.linkAccount?.({\n                user,\n                account,\n                profile\n            });\n            session = useJwtSession ? {} : await createSession({\n                sessionToken: generateSessionToken(),\n                userId: user.id,\n                expires: (0,_utils_date_js__WEBPACK_IMPORTED_MODULE_1__.fromDate)(options.session.maxAge)\n            });\n            const currentAccount = {\n                ...account,\n                userId: user.id\n            };\n            return {\n                session,\n                user,\n                isNewUser: true,\n                account: currentAccount\n            };\n        }\n    }\n    // If signing in with OAuth account, check to see if the account exists already\n    const userByAccount = await getUserByAccount({\n        providerAccountId: account.providerAccountId,\n        provider: account.provider\n    });\n    if (userByAccount) {\n        if (user) {\n            // If the user is already signed in with this account, we don't need to do anything\n            if (userByAccount.id === user.id) {\n                return {\n                    session,\n                    user,\n                    isNewUser\n                };\n            }\n            // If the user is currently signed in, but the new account they are signing in\n            // with is already associated with another user, then we cannot link them\n            // and need to return an error.\n            throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.OAuthAccountNotLinked(\"The account is already associated with another user\", {\n                provider: account.provider\n            });\n        }\n        // If there is no active session, but the account being signed in with is already\n        // associated with a valid user then create session to sign the user in.\n        session = useJwtSession ? {} : await createSession({\n            sessionToken: generateSessionToken(),\n            userId: userByAccount.id,\n            expires: (0,_utils_date_js__WEBPACK_IMPORTED_MODULE_1__.fromDate)(options.session.maxAge)\n        });\n        return {\n            session,\n            user: userByAccount,\n            isNewUser\n        };\n    } else {\n        const { provider: p } = options;\n        const { type, provider, providerAccountId, userId, ...tokenSet } = account;\n        const defaults = {\n            providerAccountId,\n            provider,\n            type,\n            userId\n        };\n        account = Object.assign(p.account(tokenSet) ?? {}, defaults);\n        if (user) {\n            // If the user is already signed in and the OAuth account isn't already associated\n            // with another user account then we can go ahead and link the accounts safely.\n            await linkAccount({\n                ...account,\n                userId: user.id\n            });\n            await events.linkAccount?.({\n                user,\n                account,\n                profile\n            });\n            // As they are already signed in, we don't need to do anything after linking them\n            return {\n                session,\n                user,\n                isNewUser\n            };\n        }\n        // If the user is not signed in and it looks like a new OAuth account then we\n        // check there also isn't an user account already associated with the same\n        // email address as the one in the OAuth profile.\n        //\n        // This step is often overlooked in OAuth implementations, but covers the following cases:\n        //\n        // 1. It makes it harder for someone to accidentally create two accounts.\n        //    e.g. by signin in with email, then again with an oauth account connected to the same email.\n        // 2. It makes it harder to hijack a user account using a 3rd party OAuth account.\n        //    e.g. by creating an oauth account then changing the email address associated with it.\n        //\n        // It's quite common for services to automatically link accounts in this case, but it's\n        // better practice to require the user to sign in *then* link accounts to be sure\n        // someone is not exploiting a problem with a third party OAuth service.\n        //\n        // OAuth providers should require email address verification to prevent this, but in\n        // practice that is not always the case; this helps protect against that.\n        const userByEmail = profile.email ? await getUserByEmail(profile.email) : null;\n        if (userByEmail) {\n            const provider = options.provider;\n            if (provider?.allowDangerousEmailAccountLinking) {\n                // If you trust the oauth provider to correctly verify email addresses, you can opt-in to\n                // account linking even when the user is not signed-in.\n                user = userByEmail;\n            } else {\n                // We end up here when we don't have an account with the same [provider].id *BUT*\n                // we do already have an account with the same email address as the one in the\n                // OAuth profile the user has just tried to sign in with.\n                //\n                // We don't want to have two accounts with the same email address, and we don't\n                // want to link them in case it's not safe to do so, so instead we prompt the user\n                // to sign in via email to verify their identity and then link the accounts.\n                throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.OAuthAccountNotLinked(\"Another account already exists with the same e-mail address\", {\n                    provider: account.provider\n                });\n            }\n        } else {\n            // If the current user is not logged in and the profile isn't linked to any user\n            // accounts (by email or provider account id)...\n            //\n            // If no account matching the same [provider].id or .email exists, we can\n            // create a new account for the user, link it to the OAuth account and\n            // create a new session for them so they are signed in with it.\n            user = await createUser({\n                ...profile,\n                emailVerified: null\n            });\n        }\n        await events.createUser?.({\n            user\n        });\n        await linkAccount({\n            ...account,\n            userId: user.id\n        });\n        await events.linkAccount?.({\n            user,\n            account,\n            profile\n        });\n        session = useJwtSession ? {} : await createSession({\n            sessionToken: generateSessionToken(),\n            userId: user.id,\n            expires: (0,_utils_date_js__WEBPACK_IMPORTED_MODULE_1__.fromDate)(options.session.maxAge)\n        });\n        return {\n            session,\n            user,\n            isNewUser: true\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi9hY3Rpb25zL2NhbGxiYWNrL2hhbmRsZS1sb2dpbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNkU7QUFDOUI7QUFDL0M7Ozs7Ozs7Ozs7O0NBV0MsR0FDTSxlQUFlRyxzQkFBc0JDLFlBQVksRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLE9BQU87SUFDakYsbUJBQW1CO0lBQ25CLElBQUksQ0FBQ0QsVUFBVUUscUJBQXFCLENBQUNGLFNBQVNHLElBQUksRUFDOUMsTUFBTSxJQUFJQyxNQUFNO0lBQ3BCLElBQUksQ0FBQztRQUFDO1FBQVM7UUFBUztRQUFRO0tBQVcsQ0FBQ0MsUUFBUSxDQUFDTCxTQUFTRyxJQUFJLEdBQzlELE1BQU0sSUFBSUMsTUFBTTtJQUNwQixNQUFNLEVBQUVFLE9BQU8sRUFBRUMsR0FBRyxFQUFFQyxNQUFNLEVBQUVDLFNBQVMsRUFBRUMsVUFBVUMsZUFBZSxFQUFFQyxvQkFBb0IsRUFBRSxFQUFHLEdBQUdYO0lBQ2hHLHVFQUF1RTtJQUN2RSxvRUFBb0U7SUFDcEUsSUFBSSxDQUFDSyxTQUFTO1FBQ1YsT0FBTztZQUFFTyxNQUFNZDtZQUFVZSxTQUFTZDtRQUFTO0lBQy9DO0lBQ0EsTUFBTWUsVUFBVWhCO0lBQ2hCLElBQUllLFVBQVVkO0lBQ2QsTUFBTSxFQUFFZ0IsVUFBVSxFQUFFQyxVQUFVLEVBQUVDLE9BQU8sRUFBRUMsZ0JBQWdCLEVBQUVDLGNBQWMsRUFBRUMsV0FBVyxFQUFFQyxhQUFhLEVBQUVDLGlCQUFpQixFQUFFQyxhQUFhLEVBQUcsR0FBR2xCO0lBQzdJLElBQUlHLFVBQVU7SUFDZCxJQUFJSSxPQUFPO0lBQ1gsSUFBSVksWUFBWTtJQUNoQixNQUFNQyxnQkFBZ0JmLG9CQUFvQjtJQUMxQyxJQUFJYixjQUFjO1FBQ2QsSUFBSTRCLGVBQWU7WUFDZixJQUFJO2dCQUNBLE1BQU1DLE9BQU8xQixRQUFRMkIsT0FBTyxDQUFDOUIsWUFB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QUNGLCtFQUErRTtnQkFDL0Usa0ZBQWtGO2dCQUNsRiw0RUFBNEU7Z0JBQzVFLE1BQU0sSUFBSXZDLDZEQUFxQkEsQ0FBQywrREFBK0Q7b0JBQUVnRCxVQUFVN0IsUUFBUTZCLFFBQVE7Z0JBQUM7WUFDaEk7UUFDSixPQUNLO1lBQ0QsZ0ZBQWdGO1lBQ2hGLGdEQUFnRDtZQUNoRCxFQUFFO1lBQ0YseUVBQXlFO1lBQ3pFLHNFQUFzRTtZQUN0RSwrREFBK0Q7WUFDL0Q5QixPQUFPLE1BQU1HLFdBQVc7Z0JBQUUsR0FBR0QsT0FBTztnQkFBRXNCLGVBQWU7WUFBSztRQUM5RDtRQUNBLE1BQU03QixPQUFPUSxVQUFVLEdBQUc7WUFBRUg7UUFBSztRQUNqQyxNQUFNUSxZQUFZO1lBQUUsR0FBR1AsT0FBTztZQUFFeUIsUUFBUTFCLEtBQUt1QixFQUFFO1FBQUM7UUFDaEQsTUFBTTVCLE9BQU9hLFdBQVcsR0FBRztZQUFFUjtZQUFNQztZQUFTQztRQUFRO1FBQ3BETixVQUFVaUIsZ0JBQ0osQ0FBQyxJQUNELE1BQU1KLGNBQWM7WUFDbEJ4QixjQUFjYztZQUNkMkIsUUFBUTFCLEtBQUt1QixFQUFFO1lBQ2ZJLFNBQVM1Qyx3REFBUUEsQ0FBQ0ssUUFBUVEsT0FBTyxDQUFDZ0MsTUFBTTtRQUM1QztRQUNKLE9BQU87WUFBRWhDO1lBQVNJO1lBQU1ZLFdBQVc7UUFBSztJQUM1QztBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC1yeC8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi9hY3Rpb25zL2NhbGxiYWNrL2hhbmRsZS1sb2dpbi5qcz9jYTgxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFjY291bnROb3RMaW5rZWQsIE9BdXRoQWNjb3VudE5vdExpbmtlZCB9IGZyb20gXCIuLi8uLi8uLi9lcnJvcnMuanNcIjtcbmltcG9ydCB7IGZyb21EYXRlIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2RhdGUuanNcIjtcbi8qKlxuICogVGhpcyBmdW5jdGlvbiBoYW5kbGVzIHRoZSBjb21wbGV4IGZsb3cgb2Ygc2lnbmluZyB1c2VycyBpbiwgYW5kIGVpdGhlciBjcmVhdGluZyxcbiAqIGxpbmtpbmcgKG9yIG5vdCBsaW5raW5nKSBhY2NvdW50cyBkZXBlbmRpbmcgb24gaWYgdGhlIHVzZXIgaXMgY3VycmVudGx5IGxvZ2dlZFxuICogaW4sIGlmIHRoZXkgaGF2ZSBhY2NvdW50IGFscmVhZHkgYW5kIHRoZSBhdXRoZW50aWNhdGlvbiBtZWNoYW5pc20gdGhleSBhcmUgdXNpbmcuXG4gKlxuICogSXQgcHJldmVudHMgaW5zZWN1cmUgYmVoYXZpb3VyLCBzdWNoIGFzIGxpbmtpbmcgT0F1dGggYWNjb3VudHMgdW5sZXNzIGEgdXNlciBpc1xuICogc2lnbmVkIGluIGFuZCBhdXRoZW50aWNhdGVkIHdpdGggYW4gZXhpc3RpbmcgdmFsaWQgYWNjb3VudC5cbiAqXG4gKiBBbGwgdmVyaWZpY2F0aW9uIChlLmcuIE9BdXRoIGZsb3dzIG9yIGVtYWlsIGFkZHJlc3MgdmVyaWZpY2F0aW9uIGZsb3dzKSBhcmVcbiAqIGRvbmUgcHJpb3IgdG8gdGhpcyBoYW5kbGVyIGJlaW5nIGNhbGxlZCB0byBhdm9pZCBhZGRpdGlvbmFsIGNvbXBsZXhpdHkgaW4gdGhpc1xuICogaGFuZGxlci5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUxvZ2luT3JSZWdpc3RlcihzZXNzaW9uVG9rZW4sIF9wcm9maWxlLCBfYWNjb3VudCwgb3B0aW9ucykge1xuICAgIC8vIElucHV0IHZhbGlkYXRpb25cbiAgICBpZiAoIV9hY2NvdW50Py5wcm92aWRlckFjY291bnRJZCB8fCAhX2FjY291bnQudHlwZSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBvciBpbnZhbGlkIHByb3ZpZGVyIGFjY291bnRcIik7XG4gICAgaWYgKCFbXCJlbWFpbFwiLCBcIm9hdXRoXCIsIFwib2lkY1wiLCBcIndlYmF1dGhuXCJdLmluY2x1ZGVzKF9hY2NvdW50LnR5cGUpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQcm92aWRlciBub3Qgc3VwcG9ydGVkXCIpO1xuICAgIGNvbnN0IHsgYWRhcHRlciwgand0LCBldmVudHMsIHNlc3Npb246IHsgc3RyYXRlZ3k6IHNlc3Npb25TdHJhdGVneSwgZ2VuZXJhdGVTZXNzaW9uVG9rZW4gfSwgfSA9IG9wdGlvbnM7XG4gICAgLy8gSWYgbm8gYWRhcHRlciBpcyBjb25maWd1cmVkIHRoZW4gd2UgZG9uJ3QgaGF2ZSBhIGRhdGFiYXNlIGFuZCBjYW5ub3RcbiAgICAvLyBwZXJzaXN0IGRhdGE7IGluIHRoaXMgbW9kZSB3ZSBqdXN0IHJldHVybiBhIGR1bW15IHNlc3Npb24gb2JqZWN0LlxuICAgIGlmICghYWRhcHRlcikge1xuICAgICAgICByZXR1cm4geyB1c2VyOiBfcHJvZmlsZSwgYWNjb3VudDogX2FjY291bnQgfTtcbiAgICB9XG4gICAgY29uc3QgcHJvZmlsZSA9IF9wcm9maWxlO1xuICAgIGxldCBhY2NvdW50ID0gX2FjY291bnQ7XG4gICAgY29uc3QgeyBjcmVhdGVVc2VyLCB1cGRhdGVVc2VyLCBnZXRVc2VyLCBnZXRVc2VyQnlBY2NvdW50LCBnZXRVc2VyQnlFbWFpbCwgbGlua0FjY291bnQsIGNyZWF0ZVNlc3Npb24sIGdldFNlc3Npb25BbmRVc2VyLCBkZWxldGVTZXNzaW9uLCB9ID0gYWRhcHRlcjtcbiAgICBsZXQgc2Vzc2lvbiA9IG51bGw7XG4gICAgbGV0IHVzZXIgPSBudWxsO1xuICAgIGxldCBpc05ld1VzZXIgPSBmYWxzZTtcbiAgICBjb25zdCB1c2VKd3RTZXNzaW9uID0gc2Vzc2lvblN0cmF0ZWd5ID09PSBcImp3dFwiO1xuICAgIGlmIChzZXNzaW9uVG9rZW4pIHtcbiAgICAgICAgaWYgKHVzZUp3dFNlc3Npb24pIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2FsdCA9IG9wdGlvbnMuY29va2llcy5zZXNzaW9uVG9rZW4ubmFtZTtcbiAgICAgICAgICAgICAgICBzZXNzaW9uID0gYXdhaXQgand0LmRlY29kZSh7IC4uLmp3dCwgdG9rZW46IHNlc3Npb25Ub2tlbiwgc2FsdCB9KTtcbiAgICAgICAgICAgICAgICBpZiAoc2Vzc2lvbiAmJiBcInN1YlwiIGluIHNlc3Npb24gJiYgc2Vzc2lvbi5zdWIpIHtcbiAgICAgICAgICAgICAgICAgICAgdXNlciA9IGF3YWl0IGdldFVzZXIoc2Vzc2lvbi5zdWIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBzZXNzaW9uIGNhbid0IGJlIHZlcmlmaWVkLCB0cmVhdCBhcyBubyBzZXNzaW9uXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB1c2VyQW5kU2Vzc2lvbiA9IGF3YWl0IGdldFNlc3Npb25BbmRVc2VyKHNlc3Npb25Ub2tlbik7XG4gICAgICAgICAgICBpZiAodXNlckFuZFNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uID0gdXNlckFuZFNlc3Npb24uc2Vzc2lvbjtcbiAgICAgICAgICAgICAgICB1c2VyID0gdXNlckFuZFNlc3Npb24udXNlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoYWNjb3VudC50eXBlID09PSBcImVtYWlsXCIpIHtcbiAgICAgICAgLy8gSWYgc2lnbmluZyBpbiB3aXRoIGFuIGVtYWlsLCBjaGVjayBpZiBhbiBhY2NvdW50IHdpdGggdGhlIHNhbWUgZW1haWwgYWRkcmVzcyBleGlzdHMgYWxyZWFkeVxuICAgICAgICBjb25zdCB1c2VyQnlFbWFpbCA9IGF3YWl0IGdldFVzZXJCeUVtYWlsKHByb2ZpbGUuZW1haWwpO1xuICAgICAgICBpZiAodXNlckJ5RW1haWwpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZXkgYXJlIG5vdCBhbHJlYWR5IHNpZ25lZCBpbiBhcyB0aGUgc2FtZSB1c2VyLCB0aGlzIGZsb3cgd2lsbFxuICAgICAgICAgICAgLy8gc2lnbiB0aGVtIG91dCBvZiB0aGUgY3VycmVudCBzZXNzaW9uIGFuZCBzaWduIHRoZW0gaW4gYXMgdGhlIG5ldyB1c2VyXG4gICAgICAgICAgICBpZiAodXNlcj8uaWQgIT09IHVzZXJCeUVtYWlsLmlkICYmICF1c2VKd3RTZXNzaW9uICYmIHNlc3Npb25Ub2tlbikge1xuICAgICAgICAgICAgICAgIC8vIERlbGV0ZSBleGlzdGluZyBzZXNzaW9uIGlmIHRoZXkgYXJlIGN1cnJlbnRseSBzaWduZWQgaW4gYXMgYW5vdGhlciB1c2VyLlxuICAgICAgICAgICAgICAgIC8vIFRoaXMgd2lsbCBzd2l0Y2ggdXNlciBhY2NvdW50cyBmb3IgdGhlIHNlc3Npb24gaW4gY2FzZXMgd2hlcmUgdGhlIHVzZXIgd2FzXG4gICAgICAgICAgICAgICAgLy8gYWxyZWFkeSBsb2dnZWQgaW4gd2l0aCBhIGRpZmZlcmVudCBhY2NvdW50LlxuICAgICAgICAgICAgICAgIGF3YWl0IGRlbGV0ZVNlc3Npb24oc2Vzc2lvblRva2VuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBlbWFpbFZlcmlmaWVkIHByb3BlcnR5IG9uIHRoZSB1c2VyIG9iamVjdFxuICAgICAgICAgICAgdXNlciA9IGF3YWl0IHVwZGF0ZVVzZXIoe1xuICAgICAgICAgICAgICAgIGlkOiB1c2VyQnlFbWFpbC5pZCxcbiAgICAgICAgICAgICAgICBlbWFpbFZlcmlmaWVkOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhd2FpdCBldmVudHMudXBkYXRlVXNlcj8uKHsgdXNlciB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSB1c2VyIGFjY291bnQgaWYgdGhlcmUgaXNuJ3Qgb25lIGZvciB0aGUgZW1haWwgYWRkcmVzcyBhbHJlYWR5XG4gICAgICAgICAgICB1c2VyID0gYXdhaXQgY3JlYXRlVXNlcih7IC4uLnByb2ZpbGUsIGVtYWlsVmVyaWZpZWQ6IG5ldyBEYXRlKCkgfSk7XG4gICAgICAgICAgICBhd2FpdCBldmVudHMuY3JlYXRlVXNlcj8uKHsgdXNlciB9KTtcbiAgICAgICAgICAgIGlzTmV3VXNlciA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ3JlYXRlIG5ldyBzZXNzaW9uXG4gICAgICAgIHNlc3Npb24gPSB1c2VKd3RTZXNzaW9uXG4gICAgICAgICAgICA/IHt9XG4gICAgICAgICAgICA6IGF3YWl0IGNyZWF0ZVNlc3Npb24oe1xuICAgICAgICAgICAgICAgIHNlc3Npb25Ub2tlbjogZ2VuZXJhdGVTZXNzaW9uVG9rZW4oKSxcbiAgICAgICAgICAgICAgICB1c2VySWQ6IHVzZXIuaWQsXG4gICAgICAgICAgICAgICAgZXhwaXJlczogZnJvbURhdGUob3B0aW9ucy5zZXNzaW9uLm1heEFnZSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHsgc2Vzc2lvbiwgdXNlciwgaXNOZXdVc2VyIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGFjY291bnQudHlwZSA9PT0gXCJ3ZWJhdXRoblwiKSB7XG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBhY2NvdW50IGV4aXN0c1xuICAgICAgICBjb25zdCB1c2VyQnlBY2NvdW50ID0gYXdhaXQgZ2V0VXNlckJ5QWNjb3VudCh7XG4gICAgICAgICAgICBwcm92aWRlckFjY291bnRJZDogYWNjb3VudC5wcm92aWRlckFjY291bnRJZCxcbiAgICAgICAgICAgIHByb3ZpZGVyOiBhY2NvdW50LnByb3ZpZGVyLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHVzZXJCeUFjY291bnQpIHtcbiAgICAgICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHVzZXIgaXMgYWxyZWFkeSBzaWduZWQgaW4gd2l0aCB0aGlzIGFjY291bnQsIHdlIGRvbid0IG5lZWQgdG8gZG8gYW55dGhpbmdcbiAgICAgICAgICAgICAgICBpZiAodXNlckJ5QWNjb3VudC5pZCA9PT0gdXNlci5pZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50QWNjb3VudCA9IHsgLi4uYWNjb3VudCwgdXNlcklkOiB1c2VyLmlkIH07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHNlc3Npb24sIHVzZXIsIGlzTmV3VXNlciwgYWNjb3VudDogY3VycmVudEFjY291bnQgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHVzZXIgaXMgY3VycmVudGx5IHNpZ25lZCBpbiwgYnV0IHRoZSBuZXcgYWNjb3VudCB0aGV5IGFyZSBzaWduaW5nIGluXG4gICAgICAgICAgICAgICAgLy8gd2l0aCBpcyBhbHJlYWR5IGFzc29jaWF0ZWQgd2l0aCBhbm90aGVyIHVzZXIsIHRoZW4gd2UgY2Fubm90IGxpbmsgdGhlbVxuICAgICAgICAgICAgICAgIC8vIGFuZCBuZWVkIHRvIHJldHVybiBhbiBlcnJvci5cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQWNjb3VudE5vdExpbmtlZChcIlRoZSBhY2NvdW50IGlzIGFscmVhZHkgYXNzb2NpYXRlZCB3aXRoIGFub3RoZXIgdXNlclwiLCB7IHByb3ZpZGVyOiBhY2NvdW50LnByb3ZpZGVyIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gYWN0aXZlIHNlc3Npb24sIGJ1dCB0aGUgYWNjb3VudCBiZWluZyBzaWduZWQgaW4gd2l0aCBpcyBhbHJlYWR5XG4gICAgICAgICAgICAvLyBhc3NvY2lhdGVkIHdpdGggYSB2YWxpZCB1c2VyIHRoZW4gY3JlYXRlIHNlc3Npb24gdG8gc2lnbiB0aGUgdXNlciBpbi5cbiAgICAgICAgICAgIHNlc3Npb24gPSB1c2VKd3RTZXNzaW9uXG4gICAgICAgICAgICAgICAgPyB7fVxuICAgICAgICAgICAgICAgIDogYXdhaXQgY3JlYXRlU2Vzc2lvbih7XG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb25Ub2tlbjogZ2VuZXJhdGVTZXNzaW9uVG9rZW4oKSxcbiAgICAgICAgICAgICAgICAgICAgdXNlcklkOiB1c2VyQnlBY2NvdW50LmlkLFxuICAgICAgICAgICAgICAgICAgICBleHBpcmVzOiBmcm9tRGF0ZShvcHRpb25zLnNlc3Npb24ubWF4QWdlKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRBY2NvdW50ID0geyAuLi5hY2NvdW50LCB1c2VySWQ6IHVzZXJCeUFjY291bnQuaWQgfTtcbiAgICAgICAgICAgIHJldHVybiB7IHNlc3Npb24sIHVzZXI6IHVzZXJCeUFjY291bnQsIGlzTmV3VXNlciwgYWNjb3VudDogY3VycmVudEFjY291bnQgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBhY2NvdW50IGRvZXNuJ3QgZXhpc3QsIHdlJ2xsIGNyZWF0ZSBpdFxuICAgICAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgdXNlciBpcyBhbHJlYWR5IHNpZ25lZCBpbiBhbmQgdGhlIGFjY291bnQgaXNuJ3QgYWxyZWFkeSBhc3NvY2lhdGVkXG4gICAgICAgICAgICAgICAgLy8gd2l0aCBhbm90aGVyIHVzZXIgYWNjb3VudCB0aGVuIHdlIGNhbiBnbyBhaGVhZCBhbmQgbGluayB0aGUgYWNjb3VudHMgc2FmZWx5LlxuICAgICAgICAgICAgICAgIGF3YWl0IGxpbmtBY2NvdW50KHsgLi4uYWNjb3VudCwgdXNlcklkOiB1c2VyLmlkIH0pO1xuICAgICAgICAgICAgICAgIGF3YWl0IGV2ZW50cy5saW5rQWNjb3VudD8uKHsgdXNlciwgYWNjb3VudCwgcHJvZmlsZSB9KTtcbiAgICAgICAgICAgICAgICAvLyBBcyB0aGV5IGFyZSBhbHJlYWR5IHNpZ25lZCBpbiwgd2UgZG9uJ3QgbmVlZCB0byBkbyBhbnl0aGluZyBhZnRlciBsaW5raW5nIHRoZW1cbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50QWNjb3VudCA9IHsgLi4uYWNjb3VudCwgdXNlcklkOiB1c2VyLmlkIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc2Vzc2lvbiwgdXNlciwgaXNOZXdVc2VyLCBhY2NvdW50OiBjdXJyZW50QWNjb3VudCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgdGhlIHVzZXIgaXMgbm90IHNpZ25lZCBpbiBhbmQgaXQgbG9va3MgbGlrZSBhIG5ldyBhY2NvdW50IHRoZW4gd2VcbiAgICAgICAgICAgIC8vIGNoZWNrIHRoZXJlIGFsc28gaXNuJ3QgYW4gdXNlciBhY2NvdW50IGFscmVhZHkgYXNzb2NpYXRlZCB3aXRoIHRoZSBzYW1lXG4gICAgICAgICAgICAvLyBlbWFpbCBhZGRyZXNzIGFzIHRoZSBvbmUgaW4gdGhlIHJlcXVlc3QuXG4gICAgICAgICAgICBjb25zdCB1c2VyQnlFbWFpbCA9IHByb2ZpbGUuZW1haWxcbiAgICAgICAgICAgICAgICA/IGF3YWl0IGdldFVzZXJCeUVtYWlsKHByb2ZpbGUuZW1haWwpXG4gICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgaWYgKHVzZXJCeUVtYWlsKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgZG9uJ3QgdHJ1c3QgdXNlci1wcm92aWRlZCBlbWFpbCBhZGRyZXNzZXMsIHNvIHdlIGRvbid0IHdhbnQgdG8gbGluayBhY2NvdW50c1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBlbWFpbCBhZGRyZXNzIGFzc29jaWF0ZWQgd2l0aCB0aGUgbmV3IGFjY291bnQgaXMgYWxyZWFkeSBhc3NvY2lhdGVkIHdpdGhcbiAgICAgICAgICAgICAgICAvLyBhbiBleGlzdGluZyBhY2NvdW50LlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBBY2NvdW50Tm90TGlua2VkKFwiQW5vdGhlciBhY2NvdW50IGFscmVhZHkgZXhpc3RzIHdpdGggdGhlIHNhbWUgZS1tYWlsIGFkZHJlc3NcIiwgeyBwcm92aWRlcjogYWNjb3VudC5wcm92aWRlciB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBjdXJyZW50IHVzZXIgaXMgbm90IGxvZ2dlZCBpbiBhbmQgdGhlIHByb2ZpbGUgaXNuJ3QgbGlua2VkIHRvIGFueSB1c2VyXG4gICAgICAgICAgICAgICAgLy8gYWNjb3VudHMgKGJ5IGVtYWlsIG9yIHByb3ZpZGVyIGFjY291bnQgaWQpLi4uXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyBJZiBubyBhY2NvdW50IG1hdGNoaW5nIHRoZSBzYW1lIFtwcm92aWRlcl0uaWQgb3IgLmVtYWlsIGV4aXN0cywgd2UgY2FuXG4gICAgICAgICAgICAgICAgLy8gY3JlYXRlIGEgbmV3IGFjY291bnQgZm9yIHRoZSB1c2VyLCBsaW5rIGl0IHRvIHRoZSBPQXV0aCBhY2NvdW50IGFuZFxuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBhIG5ldyBzZXNzaW9uIGZvciB0aGVtIHNvIHRoZXkgYXJlIHNpZ25lZCBpbiB3aXRoIGl0LlxuICAgICAgICAgICAgICAgIHVzZXIgPSBhd2FpdCBjcmVhdGVVc2VyKHsgLi4ucHJvZmlsZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IGV2ZW50cy5jcmVhdGVVc2VyPy4oeyB1c2VyIH0pO1xuICAgICAgICAgICAgYXdhaXQgbGlua0FjY291bnQoeyAuLi5hY2NvdW50LCB1c2VySWQ6IHVzZXIuaWQgfSk7XG4gICAgICAgICAgICBhd2FpdCBldmVudHMubGlua0FjY291bnQ/Lih7IHVzZXIsIGFjY291bnQsIHByb2ZpbGUgfSk7XG4gICAgICAgICAgICBzZXNzaW9uID0gdXNlSnd0U2Vzc2lvblxuICAgICAgICAgICAgICAgID8ge31cbiAgICAgICAgICAgICAgICA6IGF3YWl0IGNyZWF0ZVNlc3Npb24oe1xuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uVG9rZW46IGdlbmVyYXRlU2Vzc2lvblRva2VuKCksXG4gICAgICAgICAgICAgICAgICAgIHVzZXJJZDogdXNlci5pZCxcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJlczogZnJvbURhdGUob3B0aW9ucy5zZXNzaW9uLm1heEFnZSksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50QWNjb3VudCA9IHsgLi4uYWNjb3VudCwgdXNlcklkOiB1c2VyLmlkIH07XG4gICAgICAgICAgICByZXR1cm4geyBzZXNzaW9uLCB1c2VyLCBpc05ld1VzZXI6IHRydWUsIGFjY291bnQ6IGN1cnJlbnRBY2NvdW50IH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gSWYgc2lnbmluZyBpbiB3aXRoIE9BdXRoIGFjY291bnQsIGNoZWNrIHRvIHNlZSBpZiB0aGUgYWNjb3VudCBleGlzdHMgYWxyZWFkeVxuICAgIGNvbnN0IHVzZXJCeUFjY291bnQgPSBhd2FpdCBnZXRVc2VyQnlBY2NvdW50KHtcbiAgICAgICAgcHJvdmlkZXJBY2NvdW50SWQ6IGFjY291bnQucHJvdmlkZXJBY2NvdW50SWQsXG4gICAgICAgIHByb3ZpZGVyOiBhY2NvdW50LnByb3ZpZGVyLFxuICAgIH0pO1xuICAgIGlmICh1c2VyQnlBY2NvdW50KSB7XG4gICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgdXNlciBpcyBhbHJlYWR5IHNpZ25lZCBpbiB3aXRoIHRoaXMgYWNjb3VudCwgd2UgZG9uJ3QgbmVlZCB0byBkbyBhbnl0aGluZ1xuICAgICAgICAgICAgaWYgKHVzZXJCeUFjY291bnQuaWQgPT09IHVzZXIuaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBzZXNzaW9uLCB1c2VyLCBpc05ld1VzZXIgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHRoZSB1c2VyIGlzIGN1cnJlbnRseSBzaWduZWQgaW4sIGJ1dCB0aGUgbmV3IGFjY291bnQgdGhleSBhcmUgc2lnbmluZyBpblxuICAgICAgICAgICAgLy8gd2l0aCBpcyBhbHJlYWR5IGFzc29jaWF0ZWQgd2l0aCBhbm90aGVyIHVzZXIsIHRoZW4gd2UgY2Fubm90IGxpbmsgdGhlbVxuICAgICAgICAgICAgLy8gYW5kIG5lZWQgdG8gcmV0dXJuIGFuIGVycm9yLlxuICAgICAgICAgICAgdGhyb3cgbmV3IE9BdXRoQWNjb3VudE5vdExpbmtlZChcIlRoZSBhY2NvdW50IGlzIGFscmVhZHkgYXNzb2NpYXRlZCB3aXRoIGFub3RoZXIgdXNlclwiLCB7IHByb3ZpZGVyOiBhY2NvdW50LnByb3ZpZGVyIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIGFjdGl2ZSBzZXNzaW9uLCBidXQgdGhlIGFjY291bnQgYmVpbmcgc2lnbmVkIGluIHdpdGggaXMgYWxyZWFkeVxuICAgICAgICAvLyBhc3NvY2lhdGVkIHdpdGggYSB2YWxpZCB1c2VyIHRoZW4gY3JlYXRlIHNlc3Npb24gdG8gc2lnbiB0aGUgdXNlciBpbi5cbiAgICAgICAgc2Vzc2lvbiA9IHVzZUp3dFNlc3Npb25cbiAgICAgICAgICAgID8ge31cbiAgICAgICAgICAgIDogYXdhaXQgY3JlYXRlU2Vzc2lvbih7XG4gICAgICAgICAgICAgICAgc2Vzc2lvblRva2VuOiBnZW5lcmF0ZVNlc3Npb25Ub2tlbigpLFxuICAgICAgICAgICAgICAgIHVzZXJJZDogdXNlckJ5QWNjb3VudC5pZCxcbiAgICAgICAgICAgICAgICBleHBpcmVzOiBmcm9tRGF0ZShvcHRpb25zLnNlc3Npb24ubWF4QWdlKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICByZXR1cm4geyBzZXNzaW9uLCB1c2VyOiB1c2VyQnlBY2NvdW50LCBpc05ld1VzZXIgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHsgcHJvdmlkZXI6IHAgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHsgdHlwZSwgcHJvdmlkZXIsIHByb3ZpZGVyQWNjb3VudElkLCB1c2VySWQsIC4uLnRva2VuU2V0IH0gPSBhY2NvdW50O1xuICAgICAgICBjb25zdCBkZWZhdWx0cyA9IHsgcHJvdmlkZXJBY2NvdW50SWQsIHByb3ZpZGVyLCB0eXBlLCB1c2VySWQgfTtcbiAgICAgICAgYWNjb3VudCA9IE9iamVjdC5hc3NpZ24ocC5hY2NvdW50KHRva2VuU2V0KSA/PyB7fSwgZGVmYXVsdHMpO1xuICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgLy8gSWYgdGhlIHVzZXIgaXMgYWxyZWFkeSBzaWduZWQgaW4gYW5kIHRoZSBPQXV0aCBhY2NvdW50IGlzbid0IGFscmVhZHkgYXNzb2NpYXRlZFxuICAgICAgICAgICAgLy8gd2l0aCBhbm90aGVyIHVzZXIgYWNjb3VudCB0aGVuIHdlIGNhbiBnbyBhaGVhZCBhbmQgbGluayB0aGUgYWNjb3VudHMgc2FmZWx5LlxuICAgICAgICAgICAgYXdhaXQgbGlua0FjY291bnQoeyAuLi5hY2NvdW50LCB1c2VySWQ6IHVzZXIuaWQgfSk7XG4gICAgICAgICAgICBhd2FpdCBldmVudHMubGlua0FjY291bnQ/Lih7IHVzZXIsIGFjY291bnQsIHByb2ZpbGUgfSk7XG4gICAgICAgICAgICAvLyBBcyB0aGV5IGFyZSBhbHJlYWR5IHNpZ25lZCBpbiwgd2UgZG9uJ3QgbmVlZCB0byBkbyBhbnl0aGluZyBhZnRlciBsaW5raW5nIHRoZW1cbiAgICAgICAgICAgIHJldHVybiB7IHNlc3Npb24sIHVzZXIsIGlzTmV3VXNlciB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZSB1c2VyIGlzIG5vdCBzaWduZWQgaW4gYW5kIGl0IGxvb2tzIGxpa2UgYSBuZXcgT0F1dGggYWNjb3VudCB0aGVuIHdlXG4gICAgICAgIC8vIGNoZWNrIHRoZXJlIGFsc28gaXNuJ3QgYW4gdXNlciBhY2NvdW50IGFscmVhZHkgYXNzb2NpYXRlZCB3aXRoIHRoZSBzYW1lXG4gICAgICAgIC8vIGVtYWlsIGFkZHJlc3MgYXMgdGhlIG9uZSBpbiB0aGUgT0F1dGggcHJvZmlsZS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBzdGVwIGlzIG9mdGVuIG92ZXJsb29rZWQgaW4gT0F1dGggaW1wbGVtZW50YXRpb25zLCBidXQgY292ZXJzIHRoZSBmb2xsb3dpbmcgY2FzZXM6XG4gICAgICAgIC8vXG4gICAgICAgIC8vIDEuIEl0IG1ha2VzIGl0IGhhcmRlciBmb3Igc29tZW9uZSB0byBhY2NpZGVudGFsbHkgY3JlYXRlIHR3byBhY2NvdW50cy5cbiAgICAgICAgLy8gICAgZS5nLiBieSBzaWduaW4gaW4gd2l0aCBlbWFpbCwgdGhlbiBhZ2FpbiB3aXRoIGFuIG9hdXRoIGFjY291bnQgY29ubmVjdGVkIHRvIHRoZSBzYW1lIGVtYWlsLlxuICAgICAgICAvLyAyLiBJdCBtYWtlcyBpdCBoYXJkZXIgdG8gaGlqYWNrIGEgdXNlciBhY2NvdW50IHVzaW5nIGEgM3JkIHBhcnR5IE9BdXRoIGFjY291bnQuXG4gICAgICAgIC8vICAgIGUuZy4gYnkgY3JlYXRpbmcgYW4gb2F1dGggYWNjb3VudCB0aGVuIGNoYW5naW5nIHRoZSBlbWFpbCBhZGRyZXNzIGFzc29jaWF0ZWQgd2l0aCBpdC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gSXQncyBxdWl0ZSBjb21tb24gZm9yIHNlcnZpY2VzIHRvIGF1dG9tYXRpY2FsbHkgbGluayBhY2NvdW50cyBpbiB0aGlzIGNhc2UsIGJ1dCBpdCdzXG4gICAgICAgIC8vIGJldHRlciBwcmFjdGljZSB0byByZXF1aXJlIHRoZSB1c2VyIHRvIHNpZ24gaW4gKnRoZW4qIGxpbmsgYWNjb3VudHMgdG8gYmUgc3VyZVxuICAgICAgICAvLyBzb21lb25lIGlzIG5vdCBleHBsb2l0aW5nIGEgcHJvYmxlbSB3aXRoIGEgdGhpcmQgcGFydHkgT0F1dGggc2VydmljZS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gT0F1dGggcHJvdmlkZXJzIHNob3VsZCByZXF1aXJlIGVtYWlsIGFkZHJlc3MgdmVyaWZpY2F0aW9uIHRvIHByZXZlbnQgdGhpcywgYnV0IGluXG4gICAgICAgIC8vIHByYWN0aWNlIHRoYXQgaXMgbm90IGFsd2F5cyB0aGUgY2FzZTsgdGhpcyBoZWxwcyBwcm90ZWN0IGFnYWluc3QgdGhhdC5cbiAgICAgICAgY29uc3QgdXNlckJ5RW1haWwgPSBwcm9maWxlLmVtYWlsXG4gICAgICAgICAgICA/IGF3YWl0IGdldFVzZXJCeUVtYWlsKHByb2ZpbGUuZW1haWwpXG4gICAgICAgICAgICA6IG51bGw7XG4gICAgICAgIGlmICh1c2VyQnlFbWFpbCkge1xuICAgICAgICAgICAgY29uc3QgcHJvdmlkZXIgPSBvcHRpb25zLnByb3ZpZGVyO1xuICAgICAgICAgICAgaWYgKHByb3ZpZGVyPy5hbGxvd0Rhbmdlcm91c0VtYWlsQWNjb3VudExpbmtpbmcpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB5b3UgdHJ1c3QgdGhlIG9hdXRoIHByb3ZpZGVyIHRvIGNvcnJlY3RseSB2ZXJpZnkgZW1haWwgYWRkcmVzc2VzLCB5b3UgY2FuIG9wdC1pbiB0b1xuICAgICAgICAgICAgICAgIC8vIGFjY291bnQgbGlua2luZyBldmVuIHdoZW4gdGhlIHVzZXIgaXMgbm90IHNpZ25lZC1pbi5cbiAgICAgICAgICAgICAgICB1c2VyID0gdXNlckJ5RW1haWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBlbmQgdXAgaGVyZSB3aGVuIHdlIGRvbid0IGhhdmUgYW4gYWNjb3VudCB3aXRoIHRoZSBzYW1lIFtwcm92aWRlcl0uaWQgKkJVVCpcbiAgICAgICAgICAgICAgICAvLyB3ZSBkbyBhbHJlYWR5IGhhdmUgYW4gYWNjb3VudCB3aXRoIHRoZSBzYW1lIGVtYWlsIGFkZHJlc3MgYXMgdGhlIG9uZSBpbiB0aGVcbiAgICAgICAgICAgICAgICAvLyBPQXV0aCBwcm9maWxlIHRoZSB1c2VyIGhhcyBqdXN0IHRyaWVkIHRvIHNpZ24gaW4gd2l0aC5cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IHdhbnQgdG8gaGF2ZSB0d28gYWNjb3VudHMgd2l0aCB0aGUgc2FtZSBlbWFpbCBhZGRyZXNzLCBhbmQgd2UgZG9uJ3RcbiAgICAgICAgICAgICAgICAvLyB3YW50IHRvIGxpbmsgdGhlbSBpbiBjYXNlIGl0J3Mgbm90IHNhZmUgdG8gZG8gc28sIHNvIGluc3RlYWQgd2UgcHJvbXB0IHRoZSB1c2VyXG4gICAgICAgICAgICAgICAgLy8gdG8gc2lnbiBpbiB2aWEgZW1haWwgdG8gdmVyaWZ5IHRoZWlyIGlkZW50aXR5IGFuZCB0aGVuIGxpbmsgdGhlIGFjY291bnRzLlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBPQXV0aEFjY291bnROb3RMaW5rZWQoXCJBbm90aGVyIGFjY291bnQgYWxyZWFkeSBleGlzdHMgd2l0aCB0aGUgc2FtZSBlLW1haWwgYWRkcmVzc1wiLCB7IHByb3ZpZGVyOiBhY2NvdW50LnByb3ZpZGVyIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgdGhlIGN1cnJlbnQgdXNlciBpcyBub3QgbG9nZ2VkIGluIGFuZCB0aGUgcHJvZmlsZSBpc24ndCBsaW5rZWQgdG8gYW55IHVzZXJcbiAgICAgICAgICAgIC8vIGFjY291bnRzIChieSBlbWFpbCBvciBwcm92aWRlciBhY2NvdW50IGlkKS4uLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIElmIG5vIGFjY291bnQgbWF0Y2hpbmcgdGhlIHNhbWUgW3Byb3ZpZGVyXS5pZCBvciAuZW1haWwgZXhpc3RzLCB3ZSBjYW5cbiAgICAgICAgICAgIC8vIGNyZWF0ZSBhIG5ldyBhY2NvdW50IGZvciB0aGUgdXNlciwgbGluayBpdCB0byB0aGUgT0F1dGggYWNjb3VudCBhbmRcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBhIG5ldyBzZXNzaW9uIGZvciB0aGVtIHNvIHRoZXkgYXJlIHNpZ25lZCBpbiB3aXRoIGl0LlxuICAgICAgICAgICAgdXNlciA9IGF3YWl0IGNyZWF0ZVVzZXIoeyAuLi5wcm9maWxlLCBlbWFpbFZlcmlmaWVkOiBudWxsIH0pO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IGV2ZW50cy5jcmVhdGVVc2VyPy4oeyB1c2VyIH0pO1xuICAgICAgICBhd2FpdCBsaW5rQWNjb3VudCh7IC4uLmFjY291bnQsIHVzZXJJZDogdXNlci5pZCB9KTtcbiAgICAgICAgYXdhaXQgZXZlbnRzLmxpbmtBY2NvdW50Py4oeyB1c2VyLCBhY2NvdW50LCBwcm9maWxlIH0pO1xuICAgICAgICBzZXNzaW9uID0gdXNlSnd0U2Vzc2lvblxuICAgICAgICAgICAgPyB7fVxuICAgICAgICAgICAgOiBhd2FpdCBjcmVhdGVTZXNzaW9uKHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uVG9rZW46IGdlbmVyYXRlU2Vzc2lvblRva2VuKCksXG4gICAgICAgICAgICAgICAgdXNlcklkOiB1c2VyLmlkLFxuICAgICAgICAgICAgICAgIGV4cGlyZXM6IGZyb21EYXRlKG9wdGlvbnMuc2Vzc2lvbi5tYXhBZ2UpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7IHNlc3Npb24sIHVzZXIsIGlzTmV3VXNlcjogdHJ1ZSB9O1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJBY2NvdW50Tm90TGlua2VkIiwiT0F1dGhBY2NvdW50Tm90TGlua2VkIiwiZnJvbURhdGUiLCJoYW5kbGVMb2dpbk9yUmVnaXN0ZXIiLCJzZXNzaW9uVG9rZW4iLCJfcHJvZmlsZSIsIl9hY2NvdW50Iiwib3B0aW9ucyIsInByb3ZpZGVyQWNjb3VudElkIiwidHlwZSIsIkVycm9yIiwiaW5jbHVkZXMiLCJhZGFwdGVyIiwiand0IiwiZXZlbnRzIiwic2Vzc2lvbiIsInN0cmF0ZWd5Iiwic2Vzc2lvblN0cmF0ZWd5IiwiZ2VuZXJhdGVTZXNzaW9uVG9rZW4iLCJ1c2VyIiwiYWNjb3VudCIsInByb2ZpbGUiLCJjcmVhdGVVc2VyIiwidXBkYXRlVXNlciIsImdldFVzZXIiLCJnZXRVc2VyQnlBY2NvdW50IiwiZ2V0VXNlckJ5RW1haWwiLCJsaW5rQWNjb3VudCIsImNyZWF0ZVNlc3Npb24iLCJnZXRTZXNzaW9uQW5kVXNlciIsImRlbGV0ZVNlc3Npb24iLCJpc05ld1VzZXIiLCJ1c2VKd3RTZXNzaW9uIiwic2FsdCIsImNvb2tpZXMiLCJuYW1lIiwiZGVjb2RlIiwidG9rZW4iLCJzdWIiLCJ1c2VyQW5kU2Vzc2lvbiIsInVzZXJCeUVtYWlsIiwiZW1haWwiLCJpZCIsImVtYWlsVmVyaWZpZWQiLCJEYXRlIiwidXNlcklkIiwiZXhwaXJlcyIsIm1heEFnZSIsInVzZXJCeUFjY291bnQiLCJwcm92aWRlciIsImN1cnJlbnRBY2NvdW50IiwicCIsInRva2VuU2V0IiwiZGVmYXVsdHMiLCJPYmplY3QiLCJhc3NpZ24iLCJhbGxvd0Rhbmdlcm91c0VtYWlsQWNjb3VudExpbmtpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/lib/actions/callback/handle-login.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/lib/actions/callback/handle-login.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@auth/core/lib/actions/callback/handle-login.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handleLoginOrRegister: () => (/* binding */ handleLoginOrRegister)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../errors.js */ \"(rsc)/./node_modules/@auth/core/errors.js\");\n/* harmony import */ var _utils_date_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/date.js */ \"(rsc)/./node_modules/@auth/core/lib/utils/date.js\");\n\n\n/**\n * This function handles the complex flow of signing users in, and either creating,\n * linking (or not linking) accounts depending on if the user is currently logged\n * in, if they have account already and the authentication mechanism they are using.\n *\n * It prevents insecure behaviour, such as linking OAuth accounts unless a user is\n * signed in and authenticated with an existing valid account.\n *\n * All verification (e.g. OAuth flows or email address verification flows) are\n * done prior to this handler being called to avoid additional complexity in this\n * handler.\n */ async function handleLoginOrRegister(sessionToken, _profile, _account, options) {\n    // Input validation\n    if (!_account?.providerAccountId || !_account.type) throw new Error(\"Missing or invalid provider account\");\n    if (![\n        \"email\",\n        \"oauth\",\n        \"oidc\",\n        \"webauthn\"\n    ].includes(_account.type)) throw new Error(\"Provider not supported\");\n    const { adapter, jwt, events, session: { strategy: sessionStrategy, generateSessionToken } } = options;\n    // If no adapter is configured then we don't have a database and cannot\n    // persist data; in this mode we just return a dummy session object.\n    if (!adapter) {\n        return {\n            user: _profile,\n            account: _account\n        };\n    }\n    const profile = _profile;\n    let account = _account;\n    const { createUser, updateUser, getUser, getUserByAccount, getUserByEmail, linkAccount, createSession, getSessionAndUser, deleteSession } = adapter;\n    let session = null;\n    let user = null;\n    let isNewUser = false;\n    const useJwtSession = sessionStrategy === \"jwt\";\n    if (sessionToken) {\n        if (useJwtSession) {\n            try {\n                const salt = options.cookies.sessionToken.name;\n                session = await jwt.decode({\n                    ...jwt,\n                    token: sessionToken,\n                    salt\n                });\n                if (session && \"sub\" in session && session.sub) {\n                    user = await getUser(session.sub);\n                }\n            } catch  {\n            // If session can't be verified, treat as no session\n            }\n        } else {\n            const userAndSession = await getSessionAndUser(sessionToken);\n            if (userAndSession) {\n                session = userAndSession.session;\n                user = userAndSession.user;\n            }\n        }\n    }\n    if (account.type === \"email\") {\n        // If signing in with an email, check if an account with the same email address exists already\n        const userByEmail = await getUserByEmail(profile.email);\n        if (userByEmail) {\n            // If they are not already signed in as the same user, this flow will\n            // sign them out of the current session and sign them in as the new user\n            if (user?.id !== userByEmail.id && !useJwtSession && sessionToken) {\n                // Delete existing session if they are currently signed in as another user.\n                // This will switch user accounts for the session in cases where the user was\n                // already logged in with a different account.\n                await deleteSession(sessionToken);\n            }\n            // Update emailVerified property on the user object\n            user = await updateUser({\n                id: userByEmail.id,\n                emailVerified: new Date()\n            });\n            await events.updateUser?.({\n                user\n            });\n        } else {\n            // Create user account if there isn't one for the email address already\n            user = await createUser({\n                ...profile,\n                emailVerified: new Date()\n            });\n            await events.createUser?.({\n                user\n            });\n            isNewUser = true;\n        }\n        // Create new session\n        session = useJwtSession ? {} : await createSession({\n            sessionToken: generateSessionToken(),\n            userId: user.id,\n            expires: (0,_utils_date_js__WEBPACK_IMPORTED_MODULE_1__.fromDate)(options.session.maxAge)\n        });\n        return {\n            session,\n            user,\n            isNewUser\n        };\n    } else if (account.type === \"webauthn\") {\n        // Check if the account exists\n        const userByAccount = await getUserByAccount({\n            providerAccountId: account.providerAccountId,\n            provider: account.provider\n        });\n        if (userByAccount) {\n            if (user) {\n                // If the user is already signed in with this account, we don't need to do anything\n                if (userByAccount.id === user.id) {\n                    const currentAccount = {\n                        ...account,\n                        userId: user.id\n                    };\n                    return {\n                        session,\n                        user,\n                        isNewUser,\n                        account: currentAccount\n                    };\n                }\n                // If the user is currently signed in, but the new account they are signing in\n                // with is already associated with another user, then we cannot link them\n                // and need to return an error.\n                throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.AccountNotLinked(\"The account is already associated with another user\", {\n                    provider: account.provider\n                });\n            }\n            // If there is no active session, but the account being signed in with is already\n            // associated with a valid user then create session to sign the user in.\n            session = useJwtSession ? {} : await createSession({\n                sessionToken: generateSessionToken(),\n                userId: userByAccount.id,\n                expires: (0,_utils_date_js__WEBPACK_IMPORTED_MODULE_1__.fromDate)(options.session.maxAge)\n            });\n            const currentAccount = {\n                ...account,\n                userId: userByAccount.id\n            };\n            return {\n                session,\n                user: userByAccount,\n                isNewUser,\n                account: currentAccount\n            };\n        } else {\n            // If the account doesn't exist, we'll create it\n            if (user) {\n                // If the user is already signed in and the account isn't already associated\n                // with another user account then we can go ahead and link the accounts safely.\n                await linkAccount({\n                    ...account,\n                    userId: user.id\n                });\n                await events.linkAccount?.({\n                    user,\n                    account,\n                    profile\n                });\n                // As they are already signed in, we don't need to do anything after linking them\n                const currentAccount = {\n                    ...account,\n                    userId: user.id\n                };\n                return {\n                    session,\n                    user,\n                    isNewUser,\n                    account: currentAccount\n                };\n            }\n            // If the user is not signed in and it looks like a new account then we\n            // check there also isn't an user account already associated with the same\n            // email address as the one in the request.\n            const userByEmail = profile.email ? await getUserByEmail(profile.email) : null;\n            if (userByEmail) {\n                // We don't trust user-provided email addresses, so we don't want to link accounts\n                // if the email address associated with the new account is already associated with\n                // an existing account.\n                throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.AccountNotLinked(\"Another account already exists with the same e-mail address\", {\n                    provider: account.provider\n                });\n            } else {\n                // If the current user is not logged in and the profile isn't linked to any user\n                // accounts (by email or provider account id)...\n                //\n                // If no account matching the same [provider].id or .email exists, we can\n                // create a new account for the user, link it to the OAuth account and\n                // create a new session for them so they are signed in with it.\n                user = await createUser({\n                    ...profile\n                });\n            }\n            await events.createUser?.({\n                user\n            });\n            await linkAccount({\n                ...account,\n                userId: user.id\n            });\n            await events.linkAccount?.({\n                user,\n                account,\n                profile\n            });\n            session = useJwtSession ? {} : await createSession({\n                sessionToken: generateSessionToken(),\n                userId: user.id,\n                expires: (0,_utils_date_js__WEBPACK_IMPORTED_MODULE_1__.fromDate)(options.session.maxAge)\n            });\n            const currentAccount = {\n                ...account,\n                userId: user.id\n            };\n            return {\n                session,\n                user,\n                isNewUser: true,\n                account: currentAccount\n            };\n        }\n    }\n    // If signing in with OAuth account, check to see if the account exists already\n    const userByAccount = await getUserByAccount({\n        providerAccountId: account.providerAccountId,\n        provider: account.provider\n    });\n    if (userByAccount) {\n        if (user) {\n            // If the user is already signed in with this account, we don't need to do anything\n            if (userByAccount.id === user.id) {\n                return {\n                    session,\n                    user,\n                    isNewUser\n                };\n            }\n            // If the user is currently signed in, but the new account they are signing in\n            // with is already associated with another user, then we cannot link them\n            // and need to return an error.\n            throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.OAuthAccountNotLinked(\"The account is already associated with another user\", {\n                provider: account.provider\n            });\n        }\n        // If there is no active session, but the account being signed in with is already\n        // associated with a valid user then create session to sign the user in.\n        session = useJwtSession ? {} : await createSession({\n            sessionToken: generateSessionToken(),\n            userId: userByAccount.id,\n            expires: (0,_utils_date_js__WEBPACK_IMPORTED_MODULE_1__.fromDate)(options.session.maxAge)\n        });\n        return {\n            session,\n            user: userByAccount,\n            isNewUser\n        };\n    } else {\n        const { provider: p } = options;\n        const { type, provider, providerAccountId, userId, ...tokenSet } = account;\n        const defaults = {\n            providerAccountId,\n            provider,\n            type,\n            userId\n        };\n        account = Object.assign(p.account(tokenSet) ?? {}, defaults);\n        if (user) {\n            // If the user is already signed in and the OAuth account isn't already associated\n            // with another user account then we can go ahead and link the accounts safely.\n            await linkAccount({\n                ...account,\n                userId: user.id\n            });\n            await events.linkAccount?.({\n                user,\n                account,\n                profile\n            });\n            // As they are already signed in, we don't need to do anything after linking them\n            return {\n                session,\n                user,\n                isNewUser\n            };\n        }\n        // If the user is not signed in and it looks like a new OAuth account then we\n        // check there also isn't an user account already associated with the same\n        // email address as the one in the OAuth profile.\n        //\n        // This step is often overlooked in OAuth implementations, but covers the following cases:\n        //\n        // 1. It makes it harder for someone to accidentally create two accounts.\n        //    e.g. by signin in with email, then again with an oauth account connected to the same email.\n        // 2. It makes it harder to hijack a user account using a 3rd party OAuth account.\n        //    e.g. by creating an oauth account then changing the email address associated with it.\n        //\n        // It's quite common for services to automatically link accounts in this case, but it's\n        // better practice to require the user to sign in *then* link accounts to be sure\n        // someone is not exploiting a problem with a third party OAuth service.\n        //\n        // OAuth providers should require email address verification to prevent this, but in\n        // practice that is not always the case; this helps protect against that.\n        const userByEmail = profile.email ? await getUserByEmail(profile.email) : null;\n        if (userByEmail) {\n            const provider = options.provider;\n            if (provider?.allowDangerousEmailAccountLinking) {\n                // If you trust the oauth provider to correctly verify email addresses, you can opt-in to\n                // account linking even when the user is not signed-in.\n                user = userByEmail;\n            } else {\n                // We end up here when we don't have an account with the same [provider].id *BUT*\n                // we do already have an account with the same email address as the one in the\n                // OAuth profile the user has just tried to sign in with.\n                //\n                // We don't want to have two accounts with the same email address, and we don't\n                // want to link them in case it's not safe to do so, so instead we prompt the user\n                // to sign in via email to verify their identity and then link the accounts.\n                throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.OAuthAccountNotLinked(\"Another account already exists with the same e-mail address\", {\n                    provider: account.provider\n                });\n            }\n        } else {\n            // If the current user is not logged in and the profile isn't linked to any user\n            // accounts (by email or provider account id)...\n            //\n            // If no account matching the same [provider].id or .email exists, we can\n            // create a new account for the user, link it to the OAuth account and\n            // create a new session for them so they are signed in with it.\n            user = await createUser({\n                ...profile,\n                emailVerified: null\n            });\n        }\n        await events.createUser?.({\n            user\n        });\n        await linkAccount({\n            ...account,\n            userId: user.id\n        });\n        await events.linkAccount?.({\n            user,\n            account,\n            profile\n        });\n        session = useJwtSession ? {} : await createSession({\n            sessionToken: generateSessionToken(),\n            userId: user.id,\n            expires: (0,_utils_date_js__WEBPACK_IMPORTED_MODULE_1__.fromDate)(options.session.maxAge)\n        });\n        return {\n            session,\n            user,\n            isNewUser: true\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvYWN0aW9ucy9jYWxsYmFjay9oYW5kbGUtbG9naW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTZFO0FBQzlCO0FBQy9DOzs7Ozs7Ozs7OztDQVdDLEdBQ00sZUFBZUcsc0JBQXNCQyxZQUFZLEVBQUVDLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxPQUFPO0lBQ2pGLG1CQUFtQjtJQUNuQixJQUFJLENBQUNELFVBQVVFLHFCQUFxQixDQUFDRixTQUFTRyxJQUFJLEVBQzlDLE1BQU0sSUFBSUMsTUFBTTtJQUNwQixJQUFJLENBQUM7UUFBQztRQUFTO1FBQVM7UUFBUTtLQUFXLENBQUNDLFFBQVEsQ0FBQ0wsU0FBU0csSUFBSSxHQUM5RCxNQUFNLElBQUlDLE1BQU07SUFDcEIsTUFBTSxFQUFFRSxPQUFPLEVBQUVDLEdBQUcsRUFBRUMsTUFBTSxFQUFFQyxTQUFTLEVBQUVDLFVBQVVDLGVBQWUsRUFBRUMsb0JBQW9CLEVBQUUsRUFBRyxHQUFHWDtJQUNoRyx1RUFBdUU7SUFDdkUsb0VBQW9FO0lBQ3BFLElBQUksQ0FBQ0ssU0FBUztRQUNWLE9BQU87WUFBRU8sTUFBTWQ7WUFBVWUsU0FBU2Q7UUFBUztJQUMvQztJQUNBLE1BQU1lLFVBQVVoQjtJQUNoQixJQUFJZSxVQUFVZDtJQUNkLE1BQU0sRUFBRWdCLFVBQVUsRUFBRUMsVUFBVSxFQUFFQyxPQUFPLEVBQUVDLGdCQUFnQixFQUFFQyxjQUFjLEVBQUVDLFdBQVcsRUFBRUMsYUFBYSxFQUFFQyxpQkFBaUIsRUFBRUMsYUFBYSxFQUFHLEdBQUdsQjtJQUM3SSxJQUFJRyxVQUFVO0lBQ2QsSUFBSUksT0FBTztJQUNYLElBQUlZLFlBQVk7SUFDaEIsTUFBTUMsZ0JBQWdCZixvQkFBb0I7SUFDMUMsSUFBSWIsY0FBYztRQUNkLElBQUk0QixlQUFlO1lBQ2YsSUFBSTtnQkFDQSxNQUFNQyxPQUFPMUIsUUFBUTJCLE9BQU8sQ0FBQzlCLFlBQVksQ0FBQytCLElBQUk7Z0JBQzlDcEIsVUFBVSxNQUFNRixJQUFJdUIsTUFBTSxDQUFDO29CQUFFLEdBQUd2QixHQUFHO29CQUFFd0IsT0FBT2pDO29CQUFjNkI7Z0JBQUs7Z0JBQy9ELElBQUlsQixXQUFXLFNBQVNBLFdBQVdBLFFBQVF1QixHQUFHLEVBQUU7b0JBQzVDbkIsT0FBTyxNQUFNSyxRQUFRVCxRQUFRdUIsR0FBRztnQkFDcEM7WUFDSixFQUNBLE9BQU07WUFDRixvREFBb0Q7WUFDeEQ7UUFDSixPQUNLO1lBQ0QsTUFBTUMsaUJBQWlCLE1BQU1WLGtCQUFrQnpCO1lBQy9DLElBQUltQyxnQkFBZ0I7Z0JBQ2hCeEIsVUFBVXdCLGVBQWV4QixPQUFPO2dCQUNoQ0ksT0FBT29CLGVBQWVwQixJQUFJO1lBQzlCO1FBQ0o7SUFDSjtJQUNBLElBQUlDLFFBQVFYLElBQUksS0FBSyxTQUFTO1FBQzFCLDhGQUE4RjtRQUM5RixNQUFNK0IsY0FBYyxNQUFNZCxlQUFlTCxRQUFRb0IsS0FBSztRQUN0RCxJQUFJRCxhQUFhO1lBQ2IscUVBQXFFO1lBQ3JFLHdFQUF3RTtZQUN4RSxJQUFJckIsTUFBTXVCLE9BQU9GLFlBQVlFLEVBQUUsSUFBSSxDQUFDVixpQkFBaUI1QixjQUFjO2dCQUMvRCwyRUFBMkU7Z0JBQzNFLDZFQUE2RTtnQkFDN0UsOENBQThDO2dCQUM5QyxNQUFNMEIsY0FBYzFCO1lBQ3hCO1lBQ0EsbURBQW1EO1lBQ25EZSxPQUFPLE1BQU1JLFdBQVc7Z0JBQ3BCbUIsSUFBSUYsWUFBWUUsRUFBRTtnQkFDbEJDLGVBQWUsSUFBSUM7WUFDdkI7WUFDQSxNQUFNOUIsT0FBT1MsVUFBVSxHQUFHO2dCQUFFSjtZQUFLO1FBQ3JDLE9BQ0s7WUFDRCx1RUFBdUU7WUFDdkVBLE9BQU8sTUFBTUcsV0FBVztnQkFBRSxHQUFHRCxPQUFPO2dCQUFFc0IsZUFBZSxJQUFJQztZQUFPO1lBQ2hFLE1BQU05QixPQUFPUSxVQUFVLEdBQUc7Z0JBQUVIO1lBQUs7WUFDakNZLFlBQVk7UUFDaEI7UUFDQSxxQkFBcUI7UUFDckJoQixVQUFVaUIsZ0JBQ0osQ0FBQyxJQUNELE1BQU1KLGNBQWM7WUFDbEJ4QixjQUFjYztZQUNkMkIsUUFBUTFCLEtBQUt1QixFQUFFO1lBQ2ZJLFNBQVM1Qyx3REFBUUEsQ0FBQ0ssUUFBUVEsT0FBTyxDQUFDZ0MsTUFBTTtRQUM1QztRQUNKLE9BQU87WUFBRWhDO1lBQVNJO1lBQU1ZO1FBQVU7SUFDdEMsT0FDSyxJQUFJWCxRQUFRWCxJQUFJLEtBQUssWUFBWTtRQUNsQyw4QkFBOEI7UUFDOUIsTUFBTXVDLGdCQUFnQixNQUFNdkIsaUJBQWlCO1lBQ3pDakIsbUJBQW1CWSxRQUFRWixpQkFBaUI7WUFDNUN5QyxVQUFVN0IsUUFBUTZCLFFBQVE7UUFDOUI7UUFDQSxJQUFJRCxlQUFlO1lBQ2YsSUFBSTdCLE1BQU07Z0JBQ04sbUZBQW1GO2dCQUNuRixJQUFJNkIsY0FBY04sRUFBRSxLQUFLdkIsS0FBS3VCLEVBQUUsRUFBRTtvQkFDOUIsTUFBTVEsaUJBQWlCO3dCQUFFLEdBQUc5QixPQUFPO3dCQUFFeUIsUUFBUTFCLEtBQUt1QixFQUFFO29CQUFDO29CQUNyRCxPQUFPO3dCQUFFM0I7d0JBQVNJO3dCQUFNWTt3QkFBV1gsU0FBUzhCO29CQUFlO2dCQUMvRDtnQkFDQSw4RUFBOEU7Z0JBQzlFLHlFQUF5RTtnQkFDekUsK0JBQStCO2dCQUMvQixNQUFNLElBQUlsRCx3REFBZ0JBLENBQUMsdURBQXVEO29CQUFFaUQsVUFBVTdCLFFBQVE2QixRQUFRO2dCQUFDO1lBQ25IO1lBQ0EsaUZBQWlGO1lBQ2pGLHdFQUF3RTtZQUN4RWxDLFVBQVVpQixnQkFDSixDQUFDLElBQ0QsTUFBTUosY0FBYztnQkFDbEJ4QixjQUFjYztnQkFDZDJCLFFBQVFHLGNBQWNOLEVBQUU7Z0JBQ3hCSSxTQUFTNUMsd0RBQVFBLENBQUNLLFFBQVFRLE9BQU8sQ0FBQ2dDLE1BQU07WUFDNUM7WUFDSixNQUFNRyxpQkFBaUI7Z0JBQUUsR0FBRzlCLE9BQU87Z0JBQUV5QixRQUFRRyxjQUFjTixFQUFFO1lBQUM7WUFDOUQsT0FBTztnQkFBRTNCO2dCQUFTSSxNQUFNNkI7Z0JBQWVqQjtnQkFBV1gsU0FBUzhCO1lBQWU7UUFDOUUsT0FDSztZQUNELGdEQUFnRDtZQUNoRCxJQUFJL0IsTUFBTTtnQkFDTiw0RUFBNEU7Z0JBQzVFLCtFQUErRTtnQkFDL0UsTUFBTVEsWUFBWTtvQkFBRSxHQUFHUCxPQUFPO29CQUFFeUIsUUFBUTFCLEtBQUt1QixFQUFFO2dCQUFDO2dCQUNoRCxNQUFNNUIsT0FBT2EsV0FBVyxHQUFHO29CQUFFUjtvQkFBTUM7b0JBQVNDO2dCQUFRO2dCQUNwRCxpRkFBaUY7Z0JBQ2pGLE1BQU02QixpQkFBaUI7b0JBQUUsR0FBRzlCLE9BQU87b0JBQUV5QixRQUFRMUIsS0FBS3VCLEVBQUU7Z0JBQUM7Z0JBQ3JELE9BQU87b0JBQUUzQjtvQkFBU0k7b0JBQU1ZO29CQUFXWCxTQUFTOEI7Z0JBQWU7WUFDL0Q7WUFDQSx1RUFBdUU7WUFDdkUsMEVBQTBFO1lBQzFFLDJDQUEyQztZQUMzQyxNQUFNVixjQUFjbkIsUUFBUW9CLEtBQUssR0FDM0IsTUFBTWYsZUFBZUwsUUFBUW9CLEtBQUssSUFDbEM7WUFDTixJQUFJRCxhQUFhO2dCQUNiLGtGQUFrRjtnQkFDbEYsa0ZBQWtGO2dCQUNsRix1QkFBdUI7Z0JBQ3ZCLE1BQU0sSUFBSXhDLHdEQUFnQkEsQ0FBQywrREFBK0Q7b0JBQUVpRCxVQUFVN0IsUUFBUTZCLFFBQVE7Z0JBQUM7WUFDM0gsT0FDSztnQkFDRCxnRkFBZ0Y7Z0JBQ2hGLGdEQUFnRDtnQkFDaEQsRUFBRTtnQkFDRix5RUFBeUU7Z0JBQ3pFLHNFQUFzRTtnQkFDdEUsK0RBQStEO2dCQUMvRDlCLE9BQU8sTUFBTUcsV0FBVztvQkFBRSxHQUFHRCxPQUFPO2dCQUFDO1lBQ3pDO1lBQ0EsTUFBTVAsT0FBT1EsVUFBVSxHQUFHO2dCQUFFSDtZQUFLO1lBQ2pDLE1BQU1RLFlBQVk7Z0JBQUUsR0FBR1AsT0FBTztnQkFBRXlCLFFBQVExQixLQUFLdUIsRUFBRTtZQUFDO1lBQ2hELE1BQU01QixPQUFPYSxXQUFXLEdBQUc7Z0JBQUVSO2dCQUFNQztnQkFBU0M7WUFBUTtZQUNwRE4sVUFBVWlCLGdCQUNKLENBQUMsSUFDRCxNQUFNSixjQUFjO2dCQUNsQnhCLGNBQWNjO2dCQUNkMkIsUUFBUTFCLEtBQUt1QixFQUFFO2dCQUNmSSxTQUFTNUMsd0RBQVFBLENBQUNLLFFBQVFRLE9BQU8sQ0FBQ2dDLE1BQU07WUFDNUM7WUFDSixNQUFNRyxpQkFBaUI7Z0JBQUUsR0FBRzlCLE9BQU87Z0JBQUV5QixRQUFRMUIsS0FBS3VCLEVBQUU7WUFBQztZQUNyRCxPQUFPO2dCQUFFM0I7Z0JBQVNJO2dCQUFNWSxXQUFXO2dCQUFNWCxTQUFTOEI7WUFBZTtRQUNyRTtJQUNKO0lBQ0EsK0VBQStFO0lBQy9FLE1BQU1GLGdCQUFnQixNQUFNdkIsaUJBQWlCO1FBQ3pDakIsbUJBQW1CWSxRQUFRWixpQkFBaUI7UUFDNUN5QyxVQUFVN0IsUUFBUTZCLFFBQVE7SUFDOUI7SUFDQSxJQUFJRCxlQUFlO1FBQ2YsSUFBSTdCLE1BQU07WUFDTixtRkFBbUY7WUFDbkYsSUFBSTZCLGNBQWNOLEVBQUUsS0FBS3ZCLEtBQUt1QixFQUFFLEVBQUU7Z0JBQzlCLE9BQU87b0JBQUUzQjtvQkFBU0k7b0JBQU1ZO2dCQUFVO1lBQ3RDO1lBQ0EsOEVBQThFO1lBQzlFLHlFQUF5RTtZQUN6RSwrQkFBK0I7WUFDL0IsTUFBTSxJQUFJOUIsNkRBQXFCQSxDQUFDLHVEQUF1RDtnQkFBRWdELFVBQVU3QixRQUFRNkIsUUFBUTtZQUFDO1FBQ3hIO1FBQ0EsaUZBQWlGO1FBQ2pGLHdFQUF3RTtRQUN4RWxDLFVBQVVpQixnQkFDSixDQUFDLElBQ0QsTUFBTUosY0FBYztZQUNsQnhCLGNBQWNjO1lBQ2QyQixRQUFRRyxjQUFjTixFQUFFO1lBQ3hCSSxTQUFTNUMsd0RBQVFBLENBQUNLLFFBQVFRLE9BQU8sQ0FBQ2dDLE1BQU07UUFDNUM7UUFDSixPQUFPO1lBQUVoQztZQUFTSSxNQUFNNkI7WUFBZWpCO1FBQVU7SUFDckQsT0FDSztRQUNELE1BQU0sRUFBRWtCLFVBQVVFLENBQUMsRUFBRSxHQUFHNUM7UUFDeEIsTUFBTSxFQUFFRSxJQUFJLEVBQUV3QyxRQUFRLEVBQUV6QyxpQkFBaUIsRUFBRXFDLE1BQU0sRUFBRSxHQUFHTyxVQUFVLEdBQUdoQztRQUNuRSxNQUFNaUMsV0FBVztZQUFFN0M7WUFBbUJ5QztZQUFVeEM7WUFBTW9DO1FBQU87UUFDN0R6QixVQUFVa0MsT0FBT0MsTUFBTSxDQUFDSixFQUFFL0IsT0FBTyxDQUFDZ0MsYUFBYSxDQUFDLEdBQUdDO1FBQ25ELElBQUlsQyxNQUFNO1lBQ04sa0ZBQWtGO1lBQ2xGLCtFQUErRTtZQUMvRSxNQUFNUSxZQUFZO2dCQUFFLEdBQUdQLE9BQU87Z0JBQUV5QixRQUFRMUIsS0FBS3VCLEVBQUU7WUFBQztZQUNoRCxNQUFNNUIsT0FBT2EsV0FBVyxHQUFHO2dCQUFFUjtnQkFBTUM7Z0JBQVNDO1lBQVE7WUFDcEQsaUZBQWlGO1lBQ2pGLE9BQU87Z0JBQUVOO2dCQUFTSTtnQkFBTVk7WUFBVTtRQUN0QztRQUNBLDZFQUE2RTtRQUM3RSwwRUFBMEU7UUFDMUUsaURBQWlEO1FBQ2pELEVBQUU7UUFDRiwwRkFBMEY7UUFDMUYsRUFBRTtRQUNGLHlFQUF5RTtRQUN6RSxpR0FBaUc7UUFDakcsa0ZBQWtGO1FBQ2xGLDJGQUEyRjtRQUMzRixFQUFFO1FBQ0YsdUZBQXVGO1FBQ3ZGLGlGQUFpRjtRQUNqRix3RUFBd0U7UUFDeEUsRUFBRTtRQUNGLG9GQUFvRjtRQUNwRix5RUFBeUU7UUFDekUsTUFBTVMsY0FBY25CLFFBQVFvQixLQUFLLEdBQzNCLE1BQU1mLGVBQWVMLFFBQVFvQixLQUFLLElBQ2xDO1FBQ04sSUFBSUQsYUFBYTtZQUNiLE1BQU1TLFdBQVcxQyxRQUFRMEMsUUFBUTtZQUNqQyxJQUFJQSxVQUFVTyxtQ0FBbUM7Z0JBQzdDLHlGQUF5RjtnQkFDekYsdURBQXVEO2dCQUN2RHJDLE9BQU9xQjtZQUNYLE9BQ0s7Z0JBQ0QsaUZBQWlGO2dCQUNqRiw4RUFBOEU7Z0JBQzlFLHlEQUF5RDtnQkFDekQsRUFBRTtnQkFDRiwrRUFBK0U7Z0JBQy9FLGtGQUFrRjtnQkFDbEYsNEVBQTRFO2dCQUM1RSxNQUFNLElBQUl2Qyw2REFBcUJBLENBQUMsK0RBQStEO29CQUFFZ0QsVUFBVTdCLFFBQVE2QixRQUFRO2dCQUFDO1lBQ2hJO1FBQ0osT0FDSztZQUNELGdGQUFnRjtZQUNoRixnREFBZ0Q7WUFDaEQsRUFBRTtZQUNGLHlFQUF5RTtZQUN6RSxzRUFBc0U7WUFDdEUsK0RBQStEO1lBQy9EOUIsT0FBTyxNQUFNRyxXQUFXO2dCQUFFLEdBQUdELE9BQU87Z0JBQUVzQixlQUFlO1lBQUs7UUFDOUQ7UUFDQSxNQUFNN0IsT0FBT1EsVUFBVSxHQUFHO1lBQUVIO1FBQUs7UUFDakMsTUFBTVEsWUFBWTtZQUFFLEdBQUdQLE9BQU87WUFBRXlCLFFBQVExQixLQUFLdUIsRUFBRTtRQUFDO1FBQ2hELE1BQU01QixPQUFPYSxXQUFXLEdBQUc7WUFBRVI7WUFBTUM7WUFBU0M7UUFBUTtRQUNwRE4sVUFBVWlCLGdCQUNKLENBQUMsSUFDRCxNQUFNSixjQUFjO1lBQ2xCeEIsY0FBY2M7WUFDZDJCLFFBQVExQixLQUFLdUIsRUFBRTtZQUNmSSxTQUFTNUMsd0RBQVFBLENBQUNLLFFBQVFRLE9BQU8sQ0FBQ2dDLE1BQU07UUFDNUM7UUFDSixPQUFPO1lBQUVoQztZQUFTSTtZQUFNWSxXQUFXO1FBQUs7SUFDNUM7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtcngvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvYWN0aW9ucy9jYWxsYmFjay9oYW5kbGUtbG9naW4uanM/Y2E4MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBY2NvdW50Tm90TGlua2VkLCBPQXV0aEFjY291bnROb3RMaW5rZWQgfSBmcm9tIFwiLi4vLi4vLi4vZXJyb3JzLmpzXCI7XG5pbXBvcnQgeyBmcm9tRGF0ZSB9IGZyb20gXCIuLi8uLi91dGlscy9kYXRlLmpzXCI7XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gaGFuZGxlcyB0aGUgY29tcGxleCBmbG93IG9mIHNpZ25pbmcgdXNlcnMgaW4sIGFuZCBlaXRoZXIgY3JlYXRpbmcsXG4gKiBsaW5raW5nIChvciBub3QgbGlua2luZykgYWNjb3VudHMgZGVwZW5kaW5nIG9uIGlmIHRoZSB1c2VyIGlzIGN1cnJlbnRseSBsb2dnZWRcbiAqIGluLCBpZiB0aGV5IGhhdmUgYWNjb3VudCBhbHJlYWR5IGFuZCB0aGUgYXV0aGVudGljYXRpb24gbWVjaGFuaXNtIHRoZXkgYXJlIHVzaW5nLlxuICpcbiAqIEl0IHByZXZlbnRzIGluc2VjdXJlIGJlaGF2aW91ciwgc3VjaCBhcyBsaW5raW5nIE9BdXRoIGFjY291bnRzIHVubGVzcyBhIHVzZXIgaXNcbiAqIHNpZ25lZCBpbiBhbmQgYXV0aGVudGljYXRlZCB3aXRoIGFuIGV4aXN0aW5nIHZhbGlkIGFjY291bnQuXG4gKlxuICogQWxsIHZlcmlmaWNhdGlvbiAoZS5nLiBPQXV0aCBmbG93cyBvciBlbWFpbCBhZGRyZXNzIHZlcmlmaWNhdGlvbiBmbG93cykgYXJlXG4gKiBkb25lIHByaW9yIHRvIHRoaXMgaGFuZGxlciBiZWluZyBjYWxsZWQgdG8gYXZvaWQgYWRkaXRpb25hbCBjb21wbGV4aXR5IGluIHRoaXNcbiAqIGhhbmRsZXIuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVMb2dpbk9yUmVnaXN0ZXIoc2Vzc2lvblRva2VuLCBfcHJvZmlsZSwgX2FjY291bnQsIG9wdGlvbnMpIHtcbiAgICAvLyBJbnB1dCB2YWxpZGF0aW9uXG4gICAgaWYgKCFfYWNjb3VudD8ucHJvdmlkZXJBY2NvdW50SWQgfHwgIV9hY2NvdW50LnR5cGUpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3Npbmcgb3IgaW52YWxpZCBwcm92aWRlciBhY2NvdW50XCIpO1xuICAgIGlmICghW1wiZW1haWxcIiwgXCJvYXV0aFwiLCBcIm9pZGNcIiwgXCJ3ZWJhdXRoblwiXS5pbmNsdWRlcyhfYWNjb3VudC50eXBlKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUHJvdmlkZXIgbm90IHN1cHBvcnRlZFwiKTtcbiAgICBjb25zdCB7IGFkYXB0ZXIsIGp3dCwgZXZlbnRzLCBzZXNzaW9uOiB7IHN0cmF0ZWd5OiBzZXNzaW9uU3RyYXRlZ3ksIGdlbmVyYXRlU2Vzc2lvblRva2VuIH0sIH0gPSBvcHRpb25zO1xuICAgIC8vIElmIG5vIGFkYXB0ZXIgaXMgY29uZmlndXJlZCB0aGVuIHdlIGRvbid0IGhhdmUgYSBkYXRhYmFzZSBhbmQgY2Fubm90XG4gICAgLy8gcGVyc2lzdCBkYXRhOyBpbiB0aGlzIG1vZGUgd2UganVzdCByZXR1cm4gYSBkdW1teSBzZXNzaW9uIG9iamVjdC5cbiAgICBpZiAoIWFkYXB0ZXIpIHtcbiAgICAgICAgcmV0dXJuIHsgdXNlcjogX3Byb2ZpbGUsIGFjY291bnQ6IF9hY2NvdW50IH07XG4gICAgfVxuICAgIGNvbnN0IHByb2ZpbGUgPSBfcHJvZmlsZTtcbiAgICBsZXQgYWNjb3VudCA9IF9hY2NvdW50O1xuICAgIGNvbnN0IHsgY3JlYXRlVXNlciwgdXBkYXRlVXNlciwgZ2V0VXNlciwgZ2V0VXNlckJ5QWNjb3VudCwgZ2V0VXNlckJ5RW1haWwsIGxpbmtBY2NvdW50LCBjcmVhdGVTZXNzaW9uLCBnZXRTZXNzaW9uQW5kVXNlciwgZGVsZXRlU2Vzc2lvbiwgfSA9IGFkYXB0ZXI7XG4gICAgbGV0IHNlc3Npb24gPSBudWxsO1xuICAgIGxldCB1c2VyID0gbnVsbDtcbiAgICBsZXQgaXNOZXdVc2VyID0gZmFsc2U7XG4gICAgY29uc3QgdXNlSnd0U2Vzc2lvbiA9IHNlc3Npb25TdHJhdGVneSA9PT0gXCJqd3RcIjtcbiAgICBpZiAoc2Vzc2lvblRva2VuKSB7XG4gICAgICAgIGlmICh1c2VKd3RTZXNzaW9uKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNhbHQgPSBvcHRpb25zLmNvb2tpZXMuc2Vzc2lvblRva2VuLm5hbWU7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbiA9IGF3YWl0IGp3dC5kZWNvZGUoeyAuLi5qd3QsIHRva2VuOiBzZXNzaW9uVG9rZW4sIHNhbHQgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHNlc3Npb24gJiYgXCJzdWJcIiBpbiBzZXNzaW9uICYmIHNlc3Npb24uc3ViKSB7XG4gICAgICAgICAgICAgICAgICAgIHVzZXIgPSBhd2FpdCBnZXRVc2VyKHNlc3Npb24uc3ViKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgLy8gSWYgc2Vzc2lvbiBjYW4ndCBiZSB2ZXJpZmllZCwgdHJlYXQgYXMgbm8gc2Vzc2lvblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdXNlckFuZFNlc3Npb24gPSBhd2FpdCBnZXRTZXNzaW9uQW5kVXNlcihzZXNzaW9uVG9rZW4pO1xuICAgICAgICAgICAgaWYgKHVzZXJBbmRTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbiA9IHVzZXJBbmRTZXNzaW9uLnNlc3Npb247XG4gICAgICAgICAgICAgICAgdXNlciA9IHVzZXJBbmRTZXNzaW9uLnVzZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGFjY291bnQudHlwZSA9PT0gXCJlbWFpbFwiKSB7XG4gICAgICAgIC8vIElmIHNpZ25pbmcgaW4gd2l0aCBhbiBlbWFpbCwgY2hlY2sgaWYgYW4gYWNjb3VudCB3aXRoIHRoZSBzYW1lIGVtYWlsIGFkZHJlc3MgZXhpc3RzIGFscmVhZHlcbiAgICAgICAgY29uc3QgdXNlckJ5RW1haWwgPSBhd2FpdCBnZXRVc2VyQnlFbWFpbChwcm9maWxlLmVtYWlsKTtcbiAgICAgICAgaWYgKHVzZXJCeUVtYWlsKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGV5IGFyZSBub3QgYWxyZWFkeSBzaWduZWQgaW4gYXMgdGhlIHNhbWUgdXNlciwgdGhpcyBmbG93IHdpbGxcbiAgICAgICAgICAgIC8vIHNpZ24gdGhlbSBvdXQgb2YgdGhlIGN1cnJlbnQgc2Vzc2lvbiBhbmQgc2lnbiB0aGVtIGluIGFzIHRoZSBuZXcgdXNlclxuICAgICAgICAgICAgaWYgKHVzZXI/LmlkICE9PSB1c2VyQnlFbWFpbC5pZCAmJiAhdXNlSnd0U2Vzc2lvbiAmJiBzZXNzaW9uVG9rZW4pIHtcbiAgICAgICAgICAgICAgICAvLyBEZWxldGUgZXhpc3Rpbmcgc2Vzc2lvbiBpZiB0aGV5IGFyZSBjdXJyZW50bHkgc2lnbmVkIGluIGFzIGFub3RoZXIgdXNlci5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIHdpbGwgc3dpdGNoIHVzZXIgYWNjb3VudHMgZm9yIHRoZSBzZXNzaW9uIGluIGNhc2VzIHdoZXJlIHRoZSB1c2VyIHdhc1xuICAgICAgICAgICAgICAgIC8vIGFscmVhZHkgbG9nZ2VkIGluIHdpdGggYSBkaWZmZXJlbnQgYWNjb3VudC5cbiAgICAgICAgICAgICAgICBhd2FpdCBkZWxldGVTZXNzaW9uKHNlc3Npb25Ub2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBVcGRhdGUgZW1haWxWZXJpZmllZCBwcm9wZXJ0eSBvbiB0aGUgdXNlciBvYmplY3RcbiAgICAgICAgICAgIHVzZXIgPSBhd2FpdCB1cGRhdGVVc2VyKHtcbiAgICAgICAgICAgICAgICBpZDogdXNlckJ5RW1haWwuaWQsXG4gICAgICAgICAgICAgICAgZW1haWxWZXJpZmllZDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYXdhaXQgZXZlbnRzLnVwZGF0ZVVzZXI/Lih7IHVzZXIgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgdXNlciBhY2NvdW50IGlmIHRoZXJlIGlzbid0IG9uZSBmb3IgdGhlIGVtYWlsIGFkZHJlc3MgYWxyZWFkeVxuICAgICAgICAgICAgdXNlciA9IGF3YWl0IGNyZWF0ZVVzZXIoeyAuLi5wcm9maWxlLCBlbWFpbFZlcmlmaWVkOiBuZXcgRGF0ZSgpIH0pO1xuICAgICAgICAgICAgYXdhaXQgZXZlbnRzLmNyZWF0ZVVzZXI/Lih7IHVzZXIgfSk7XG4gICAgICAgICAgICBpc05ld1VzZXIgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIENyZWF0ZSBuZXcgc2Vzc2lvblxuICAgICAgICBzZXNzaW9uID0gdXNlSnd0U2Vzc2lvblxuICAgICAgICAgICAgPyB7fVxuICAgICAgICAgICAgOiBhd2FpdCBjcmVhdGVTZXNzaW9uKHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uVG9rZW46IGdlbmVyYXRlU2Vzc2lvblRva2VuKCksXG4gICAgICAgICAgICAgICAgdXNlcklkOiB1c2VyLmlkLFxuICAgICAgICAgICAgICAgIGV4cGlyZXM6IGZyb21EYXRlKG9wdGlvbnMuc2Vzc2lvbi5tYXhBZ2UpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7IHNlc3Npb24sIHVzZXIsIGlzTmV3VXNlciB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChhY2NvdW50LnR5cGUgPT09IFwid2ViYXV0aG5cIikge1xuICAgICAgICAvLyBDaGVjayBpZiB0aGUgYWNjb3VudCBleGlzdHNcbiAgICAgICAgY29uc3QgdXNlckJ5QWNjb3VudCA9IGF3YWl0IGdldFVzZXJCeUFjY291bnQoe1xuICAgICAgICAgICAgcHJvdmlkZXJBY2NvdW50SWQ6IGFjY291bnQucHJvdmlkZXJBY2NvdW50SWQsXG4gICAgICAgICAgICBwcm92aWRlcjogYWNjb3VudC5wcm92aWRlcixcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh1c2VyQnlBY2NvdW50KSB7XG4gICAgICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSB1c2VyIGlzIGFscmVhZHkgc2lnbmVkIGluIHdpdGggdGhpcyBhY2NvdW50LCB3ZSBkb24ndCBuZWVkIHRvIGRvIGFueXRoaW5nXG4gICAgICAgICAgICAgICAgaWYgKHVzZXJCeUFjY291bnQuaWQgPT09IHVzZXIuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudEFjY291bnQgPSB7IC4uLmFjY291bnQsIHVzZXJJZDogdXNlci5pZCB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBzZXNzaW9uLCB1c2VyLCBpc05ld1VzZXIsIGFjY291bnQ6IGN1cnJlbnRBY2NvdW50IH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSB1c2VyIGlzIGN1cnJlbnRseSBzaWduZWQgaW4sIGJ1dCB0aGUgbmV3IGFjY291bnQgdGhleSBhcmUgc2lnbmluZyBpblxuICAgICAgICAgICAgICAgIC8vIHdpdGggaXMgYWxyZWFkeSBhc3NvY2lhdGVkIHdpdGggYW5vdGhlciB1c2VyLCB0aGVuIHdlIGNhbm5vdCBsaW5rIHRoZW1cbiAgICAgICAgICAgICAgICAvLyBhbmQgbmVlZCB0byByZXR1cm4gYW4gZXJyb3IuXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFjY291bnROb3RMaW5rZWQoXCJUaGUgYWNjb3VudCBpcyBhbHJlYWR5IGFzc29jaWF0ZWQgd2l0aCBhbm90aGVyIHVzZXJcIiwgeyBwcm92aWRlcjogYWNjb3VudC5wcm92aWRlciB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIGFjdGl2ZSBzZXNzaW9uLCBidXQgdGhlIGFjY291bnQgYmVpbmcgc2lnbmVkIGluIHdpdGggaXMgYWxyZWFkeVxuICAgICAgICAgICAgLy8gYXNzb2NpYXRlZCB3aXRoIGEgdmFsaWQgdXNlciB0aGVuIGNyZWF0ZSBzZXNzaW9uIHRvIHNpZ24gdGhlIHVzZXIgaW4uXG4gICAgICAgICAgICBzZXNzaW9uID0gdXNlSnd0U2Vzc2lvblxuICAgICAgICAgICAgICAgID8ge31cbiAgICAgICAgICAgICAgICA6IGF3YWl0IGNyZWF0ZVNlc3Npb24oe1xuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uVG9rZW46IGdlbmVyYXRlU2Vzc2lvblRva2VuKCksXG4gICAgICAgICAgICAgICAgICAgIHVzZXJJZDogdXNlckJ5QWNjb3VudC5pZCxcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJlczogZnJvbURhdGUob3B0aW9ucy5zZXNzaW9uLm1heEFnZSksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50QWNjb3VudCA9IHsgLi4uYWNjb3VudCwgdXNlcklkOiB1c2VyQnlBY2NvdW50LmlkIH07XG4gICAgICAgICAgICByZXR1cm4geyBzZXNzaW9uLCB1c2VyOiB1c2VyQnlBY2NvdW50LCBpc05ld1VzZXIsIGFjY291bnQ6IGN1cnJlbnRBY2NvdW50IH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgYWNjb3VudCBkb2Vzbid0IGV4aXN0LCB3ZSdsbCBjcmVhdGUgaXRcbiAgICAgICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHVzZXIgaXMgYWxyZWFkeSBzaWduZWQgaW4gYW5kIHRoZSBhY2NvdW50IGlzbid0IGFscmVhZHkgYXNzb2NpYXRlZFxuICAgICAgICAgICAgICAgIC8vIHdpdGggYW5vdGhlciB1c2VyIGFjY291bnQgdGhlbiB3ZSBjYW4gZ28gYWhlYWQgYW5kIGxpbmsgdGhlIGFjY291bnRzIHNhZmVseS5cbiAgICAgICAgICAgICAgICBhd2FpdCBsaW5rQWNjb3VudCh7IC4uLmFjY291bnQsIHVzZXJJZDogdXNlci5pZCB9KTtcbiAgICAgICAgICAgICAgICBhd2FpdCBldmVudHMubGlua0FjY291bnQ/Lih7IHVzZXIsIGFjY291bnQsIHByb2ZpbGUgfSk7XG4gICAgICAgICAgICAgICAgLy8gQXMgdGhleSBhcmUgYWxyZWFkeSBzaWduZWQgaW4sIHdlIGRvbid0IG5lZWQgdG8gZG8gYW55dGhpbmcgYWZ0ZXIgbGlua2luZyB0aGVtXG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudEFjY291bnQgPSB7IC4uLmFjY291bnQsIHVzZXJJZDogdXNlci5pZCB9O1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHNlc3Npb24sIHVzZXIsIGlzTmV3VXNlciwgYWNjb3VudDogY3VycmVudEFjY291bnQgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHRoZSB1c2VyIGlzIG5vdCBzaWduZWQgaW4gYW5kIGl0IGxvb2tzIGxpa2UgYSBuZXcgYWNjb3VudCB0aGVuIHdlXG4gICAgICAgICAgICAvLyBjaGVjayB0aGVyZSBhbHNvIGlzbid0IGFuIHVzZXIgYWNjb3VudCBhbHJlYWR5IGFzc29jaWF0ZWQgd2l0aCB0aGUgc2FtZVxuICAgICAgICAgICAgLy8gZW1haWwgYWRkcmVzcyBhcyB0aGUgb25lIGluIHRoZSByZXF1ZXN0LlxuICAgICAgICAgICAgY29uc3QgdXNlckJ5RW1haWwgPSBwcm9maWxlLmVtYWlsXG4gICAgICAgICAgICAgICAgPyBhd2FpdCBnZXRVc2VyQnlFbWFpbChwcm9maWxlLmVtYWlsKVxuICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgIGlmICh1c2VyQnlFbWFpbCkge1xuICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IHRydXN0IHVzZXItcHJvdmlkZWQgZW1haWwgYWRkcmVzc2VzLCBzbyB3ZSBkb24ndCB3YW50IHRvIGxpbmsgYWNjb3VudHNcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgZW1haWwgYWRkcmVzcyBhc3NvY2lhdGVkIHdpdGggdGhlIG5ldyBhY2NvdW50IGlzIGFscmVhZHkgYXNzb2NpYXRlZCB3aXRoXG4gICAgICAgICAgICAgICAgLy8gYW4gZXhpc3RpbmcgYWNjb3VudC5cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQWNjb3VudE5vdExpbmtlZChcIkFub3RoZXIgYWNjb3VudCBhbHJlYWR5IGV4aXN0cyB3aXRoIHRoZSBzYW1lIGUtbWFpbCBhZGRyZXNzXCIsIHsgcHJvdmlkZXI6IGFjY291bnQucHJvdmlkZXIgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgY3VycmVudCB1c2VyIGlzIG5vdCBsb2dnZWQgaW4gYW5kIHRoZSBwcm9maWxlIGlzbid0IGxpbmtlZCB0byBhbnkgdXNlclxuICAgICAgICAgICAgICAgIC8vIGFjY291bnRzIChieSBlbWFpbCBvciBwcm92aWRlciBhY2NvdW50IGlkKS4uLlxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gSWYgbm8gYWNjb3VudCBtYXRjaGluZyB0aGUgc2FtZSBbcHJvdmlkZXJdLmlkIG9yIC5lbWFpbCBleGlzdHMsIHdlIGNhblxuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBhIG5ldyBhY2NvdW50IGZvciB0aGUgdXNlciwgbGluayBpdCB0byB0aGUgT0F1dGggYWNjb3VudCBhbmRcbiAgICAgICAgICAgICAgICAvLyBjcmVhdGUgYSBuZXcgc2Vzc2lvbiBmb3IgdGhlbSBzbyB0aGV5IGFyZSBzaWduZWQgaW4gd2l0aCBpdC5cbiAgICAgICAgICAgICAgICB1c2VyID0gYXdhaXQgY3JlYXRlVXNlcih7IC4uLnByb2ZpbGUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCBldmVudHMuY3JlYXRlVXNlcj8uKHsgdXNlciB9KTtcbiAgICAgICAgICAgIGF3YWl0IGxpbmtBY2NvdW50KHsgLi4uYWNjb3VudCwgdXNlcklkOiB1c2VyLmlkIH0pO1xuICAgICAgICAgICAgYXdhaXQgZXZlbnRzLmxpbmtBY2NvdW50Py4oeyB1c2VyLCBhY2NvdW50LCBwcm9maWxlIH0pO1xuICAgICAgICAgICAgc2Vzc2lvbiA9IHVzZUp3dFNlc3Npb25cbiAgICAgICAgICAgICAgICA/IHt9XG4gICAgICAgICAgICAgICAgOiBhd2FpdCBjcmVhdGVTZXNzaW9uKHtcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvblRva2VuOiBnZW5lcmF0ZVNlc3Npb25Ub2tlbigpLFxuICAgICAgICAgICAgICAgICAgICB1c2VySWQ6IHVzZXIuaWQsXG4gICAgICAgICAgICAgICAgICAgIGV4cGlyZXM6IGZyb21EYXRlKG9wdGlvbnMuc2Vzc2lvbi5tYXhBZ2UpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudEFjY291bnQgPSB7IC4uLmFjY291bnQsIHVzZXJJZDogdXNlci5pZCB9O1xuICAgICAgICAgICAgcmV0dXJuIHsgc2Vzc2lvbiwgdXNlciwgaXNOZXdVc2VyOiB0cnVlLCBhY2NvdW50OiBjdXJyZW50QWNjb3VudCB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIElmIHNpZ25pbmcgaW4gd2l0aCBPQXV0aCBhY2NvdW50LCBjaGVjayB0byBzZWUgaWYgdGhlIGFjY291bnQgZXhpc3RzIGFscmVhZHlcbiAgICBjb25zdCB1c2VyQnlBY2NvdW50ID0gYXdhaXQgZ2V0VXNlckJ5QWNjb3VudCh7XG4gICAgICAgIHByb3ZpZGVyQWNjb3VudElkOiBhY2NvdW50LnByb3ZpZGVyQWNjb3VudElkLFxuICAgICAgICBwcm92aWRlcjogYWNjb3VudC5wcm92aWRlcixcbiAgICB9KTtcbiAgICBpZiAodXNlckJ5QWNjb3VudCkge1xuICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgLy8gSWYgdGhlIHVzZXIgaXMgYWxyZWFkeSBzaWduZWQgaW4gd2l0aCB0aGlzIGFjY291bnQsIHdlIGRvbid0IG5lZWQgdG8gZG8gYW55dGhpbmdcbiAgICAgICAgICAgIGlmICh1c2VyQnlBY2NvdW50LmlkID09PSB1c2VyLmlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc2Vzc2lvbiwgdXNlciwgaXNOZXdVc2VyIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB0aGUgdXNlciBpcyBjdXJyZW50bHkgc2lnbmVkIGluLCBidXQgdGhlIG5ldyBhY2NvdW50IHRoZXkgYXJlIHNpZ25pbmcgaW5cbiAgICAgICAgICAgIC8vIHdpdGggaXMgYWxyZWFkeSBhc3NvY2lhdGVkIHdpdGggYW5vdGhlciB1c2VyLCB0aGVuIHdlIGNhbm5vdCBsaW5rIHRoZW1cbiAgICAgICAgICAgIC8vIGFuZCBuZWVkIHRvIHJldHVybiBhbiBlcnJvci5cbiAgICAgICAgICAgIHRocm93IG5ldyBPQXV0aEFjY291bnROb3RMaW5rZWQoXCJUaGUgYWNjb3VudCBpcyBhbHJlYWR5IGFzc29jaWF0ZWQgd2l0aCBhbm90aGVyIHVzZXJcIiwgeyBwcm92aWRlcjogYWNjb3VudC5wcm92aWRlciB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBhY3RpdmUgc2Vzc2lvbiwgYnV0IHRoZSBhY2NvdW50IGJlaW5nIHNpZ25lZCBpbiB3aXRoIGlzIGFscmVhZHlcbiAgICAgICAgLy8gYXNzb2NpYXRlZCB3aXRoIGEgdmFsaWQgdXNlciB0aGVuIGNyZWF0ZSBzZXNzaW9uIHRvIHNpZ24gdGhlIHVzZXIgaW4uXG4gICAgICAgIHNlc3Npb24gPSB1c2VKd3RTZXNzaW9uXG4gICAgICAgICAgICA/IHt9XG4gICAgICAgICAgICA6IGF3YWl0IGNyZWF0ZVNlc3Npb24oe1xuICAgICAgICAgICAgICAgIHNlc3Npb25Ub2tlbjogZ2VuZXJhdGVTZXNzaW9uVG9rZW4oKSxcbiAgICAgICAgICAgICAgICB1c2VySWQ6IHVzZXJCeUFjY291bnQuaWQsXG4gICAgICAgICAgICAgICAgZXhwaXJlczogZnJvbURhdGUob3B0aW9ucy5zZXNzaW9uLm1heEFnZSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHsgc2Vzc2lvbiwgdXNlcjogdXNlckJ5QWNjb3VudCwgaXNOZXdVc2VyIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCB7IHByb3ZpZGVyOiBwIH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCB7IHR5cGUsIHByb3ZpZGVyLCBwcm92aWRlckFjY291bnRJZCwgdXNlcklkLCAuLi50b2tlblNldCB9ID0gYWNjb3VudDtcbiAgICAgICAgY29uc3QgZGVmYXVsdHMgPSB7IHByb3ZpZGVyQWNjb3VudElkLCBwcm92aWRlciwgdHlwZSwgdXNlcklkIH07XG4gICAgICAgIGFjY291bnQgPSBPYmplY3QuYXNzaWduKHAuYWNjb3VudCh0b2tlblNldCkgPz8ge30sIGRlZmF1bHRzKTtcbiAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSB1c2VyIGlzIGFscmVhZHkgc2lnbmVkIGluIGFuZCB0aGUgT0F1dGggYWNjb3VudCBpc24ndCBhbHJlYWR5IGFzc29jaWF0ZWRcbiAgICAgICAgICAgIC8vIHdpdGggYW5vdGhlciB1c2VyIGFjY291bnQgdGhlbiB3ZSBjYW4gZ28gYWhlYWQgYW5kIGxpbmsgdGhlIGFjY291bnRzIHNhZmVseS5cbiAgICAgICAgICAgIGF3YWl0IGxpbmtBY2NvdW50KHsgLi4uYWNjb3VudCwgdXNlcklkOiB1c2VyLmlkIH0pO1xuICAgICAgICAgICAgYXdhaXQgZXZlbnRzLmxpbmtBY2NvdW50Py4oeyB1c2VyLCBhY2NvdW50LCBwcm9maWxlIH0pO1xuICAgICAgICAgICAgLy8gQXMgdGhleSBhcmUgYWxyZWFkeSBzaWduZWQgaW4sIHdlIGRvbid0IG5lZWQgdG8gZG8gYW55dGhpbmcgYWZ0ZXIgbGlua2luZyB0aGVtXG4gICAgICAgICAgICByZXR1cm4geyBzZXNzaW9uLCB1c2VyLCBpc05ld1VzZXIgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGUgdXNlciBpcyBub3Qgc2lnbmVkIGluIGFuZCBpdCBsb29rcyBsaWtlIGEgbmV3IE9BdXRoIGFjY291bnQgdGhlbiB3ZVxuICAgICAgICAvLyBjaGVjayB0aGVyZSBhbHNvIGlzbid0IGFuIHVzZXIgYWNjb3VudCBhbHJlYWR5IGFzc29jaWF0ZWQgd2l0aCB0aGUgc2FtZVxuICAgICAgICAvLyBlbWFpbCBhZGRyZXNzIGFzIHRoZSBvbmUgaW4gdGhlIE9BdXRoIHByb2ZpbGUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoaXMgc3RlcCBpcyBvZnRlbiBvdmVybG9va2VkIGluIE9BdXRoIGltcGxlbWVudGF0aW9ucywgYnV0IGNvdmVycyB0aGUgZm9sbG93aW5nIGNhc2VzOlxuICAgICAgICAvL1xuICAgICAgICAvLyAxLiBJdCBtYWtlcyBpdCBoYXJkZXIgZm9yIHNvbWVvbmUgdG8gYWNjaWRlbnRhbGx5IGNyZWF0ZSB0d28gYWNjb3VudHMuXG4gICAgICAgIC8vICAgIGUuZy4gYnkgc2lnbmluIGluIHdpdGggZW1haWwsIHRoZW4gYWdhaW4gd2l0aCBhbiBvYXV0aCBhY2NvdW50IGNvbm5lY3RlZCB0byB0aGUgc2FtZSBlbWFpbC5cbiAgICAgICAgLy8gMi4gSXQgbWFrZXMgaXQgaGFyZGVyIHRvIGhpamFjayBhIHVzZXIgYWNjb3VudCB1c2luZyBhIDNyZCBwYXJ0eSBPQXV0aCBhY2NvdW50LlxuICAgICAgICAvLyAgICBlLmcuIGJ5IGNyZWF0aW5nIGFuIG9hdXRoIGFjY291bnQgdGhlbiBjaGFuZ2luZyB0aGUgZW1haWwgYWRkcmVzcyBhc3NvY2lhdGVkIHdpdGggaXQuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEl0J3MgcXVpdGUgY29tbW9uIGZvciBzZXJ2aWNlcyB0byBhdXRvbWF0aWNhbGx5IGxpbmsgYWNjb3VudHMgaW4gdGhpcyBjYXNlLCBidXQgaXQnc1xuICAgICAgICAvLyBiZXR0ZXIgcHJhY3RpY2UgdG8gcmVxdWlyZSB0aGUgdXNlciB0byBzaWduIGluICp0aGVuKiBsaW5rIGFjY291bnRzIHRvIGJlIHN1cmVcbiAgICAgICAgLy8gc29tZW9uZSBpcyBub3QgZXhwbG9pdGluZyBhIHByb2JsZW0gd2l0aCBhIHRoaXJkIHBhcnR5IE9BdXRoIHNlcnZpY2UuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIE9BdXRoIHByb3ZpZGVycyBzaG91bGQgcmVxdWlyZSBlbWFpbCBhZGRyZXNzIHZlcmlmaWNhdGlvbiB0byBwcmV2ZW50IHRoaXMsIGJ1dCBpblxuICAgICAgICAvLyBwcmFjdGljZSB0aGF0IGlzIG5vdCBhbHdheXMgdGhlIGNhc2U7IHRoaXMgaGVscHMgcHJvdGVjdCBhZ2FpbnN0IHRoYXQuXG4gICAgICAgIGNvbnN0IHVzZXJCeUVtYWlsID0gcHJvZmlsZS5lbWFpbFxuICAgICAgICAgICAgPyBhd2FpdCBnZXRVc2VyQnlFbWFpbChwcm9maWxlLmVtYWlsKVxuICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICBpZiAodXNlckJ5RW1haWwpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVyID0gb3B0aW9ucy5wcm92aWRlcjtcbiAgICAgICAgICAgIGlmIChwcm92aWRlcj8uYWxsb3dEYW5nZXJvdXNFbWFpbEFjY291bnRMaW5raW5nKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgeW91IHRydXN0IHRoZSBvYXV0aCBwcm92aWRlciB0byBjb3JyZWN0bHkgdmVyaWZ5IGVtYWlsIGFkZHJlc3NlcywgeW91IGNhbiBvcHQtaW4gdG9cbiAgICAgICAgICAgICAgICAvLyBhY2NvdW50IGxpbmtpbmcgZXZlbiB3aGVuIHRoZSB1c2VyIGlzIG5vdCBzaWduZWQtaW4uXG4gICAgICAgICAgICAgICAgdXNlciA9IHVzZXJCeUVtYWlsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgZW5kIHVwIGhlcmUgd2hlbiB3ZSBkb24ndCBoYXZlIGFuIGFjY291bnQgd2l0aCB0aGUgc2FtZSBbcHJvdmlkZXJdLmlkICpCVVQqXG4gICAgICAgICAgICAgICAgLy8gd2UgZG8gYWxyZWFkeSBoYXZlIGFuIGFjY291bnQgd2l0aCB0aGUgc2FtZSBlbWFpbCBhZGRyZXNzIGFzIHRoZSBvbmUgaW4gdGhlXG4gICAgICAgICAgICAgICAgLy8gT0F1dGggcHJvZmlsZSB0aGUgdXNlciBoYXMganVzdCB0cmllZCB0byBzaWduIGluIHdpdGguXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyBXZSBkb24ndCB3YW50IHRvIGhhdmUgdHdvIGFjY291bnRzIHdpdGggdGhlIHNhbWUgZW1haWwgYWRkcmVzcywgYW5kIHdlIGRvbid0XG4gICAgICAgICAgICAgICAgLy8gd2FudCB0byBsaW5rIHRoZW0gaW4gY2FzZSBpdCdzIG5vdCBzYWZlIHRvIGRvIHNvLCBzbyBpbnN0ZWFkIHdlIHByb21wdCB0aGUgdXNlclxuICAgICAgICAgICAgICAgIC8vIHRvIHNpZ24gaW4gdmlhIGVtYWlsIHRvIHZlcmlmeSB0aGVpciBpZGVudGl0eSBhbmQgdGhlbiBsaW5rIHRoZSBhY2NvdW50cy5cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT0F1dGhBY2NvdW50Tm90TGlua2VkKFwiQW5vdGhlciBhY2NvdW50IGFscmVhZHkgZXhpc3RzIHdpdGggdGhlIHNhbWUgZS1tYWlsIGFkZHJlc3NcIiwgeyBwcm92aWRlcjogYWNjb3VudC5wcm92aWRlciB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBjdXJyZW50IHVzZXIgaXMgbm90IGxvZ2dlZCBpbiBhbmQgdGhlIHByb2ZpbGUgaXNuJ3QgbGlua2VkIHRvIGFueSB1c2VyXG4gICAgICAgICAgICAvLyBhY2NvdW50cyAoYnkgZW1haWwgb3IgcHJvdmlkZXIgYWNjb3VudCBpZCkuLi5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBJZiBubyBhY2NvdW50IG1hdGNoaW5nIHRoZSBzYW1lIFtwcm92aWRlcl0uaWQgb3IgLmVtYWlsIGV4aXN0cywgd2UgY2FuXG4gICAgICAgICAgICAvLyBjcmVhdGUgYSBuZXcgYWNjb3VudCBmb3IgdGhlIHVzZXIsIGxpbmsgaXQgdG8gdGhlIE9BdXRoIGFjY291bnQgYW5kXG4gICAgICAgICAgICAvLyBjcmVhdGUgYSBuZXcgc2Vzc2lvbiBmb3IgdGhlbSBzbyB0aGV5IGFyZSBzaWduZWQgaW4gd2l0aCBpdC5cbiAgICAgICAgICAgIHVzZXIgPSBhd2FpdCBjcmVhdGVVc2VyKHsgLi4ucHJvZmlsZSwgZW1haWxWZXJpZmllZDogbnVsbCB9KTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBldmVudHMuY3JlYXRlVXNlcj8uKHsgdXNlciB9KTtcbiAgICAgICAgYXdhaXQgbGlua0FjY291bnQoeyAuLi5hY2NvdW50LCB1c2VySWQ6IHVzZXIuaWQgfSk7XG4gICAgICAgIGF3YWl0IGV2ZW50cy5saW5rQWNjb3VudD8uKHsgdXNlciwgYWNjb3VudCwgcHJvZmlsZSB9KTtcbiAgICAgICAgc2Vzc2lvbiA9IHVzZUp3dFNlc3Npb25cbiAgICAgICAgICAgID8ge31cbiAgICAgICAgICAgIDogYXdhaXQgY3JlYXRlU2Vzc2lvbih7XG4gICAgICAgICAgICAgICAgc2Vzc2lvblRva2VuOiBnZW5lcmF0ZVNlc3Npb25Ub2tlbigpLFxuICAgICAgICAgICAgICAgIHVzZXJJZDogdXNlci5pZCxcbiAgICAgICAgICAgICAgICBleHBpcmVzOiBmcm9tRGF0ZShvcHRpb25zLnNlc3Npb24ubWF4QWdlKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICByZXR1cm4geyBzZXNzaW9uLCB1c2VyLCBpc05ld1VzZXI6IHRydWUgfTtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiQWNjb3VudE5vdExpbmtlZCIsIk9BdXRoQWNjb3VudE5vdExpbmtlZCIsImZyb21EYXRlIiwiaGFuZGxlTG9naW5PclJlZ2lzdGVyIiwic2Vzc2lvblRva2VuIiwiX3Byb2ZpbGUiLCJfYWNjb3VudCIsIm9wdGlvbnMiLCJwcm92aWRlckFjY291bnRJZCIsInR5cGUiLCJFcnJvciIsImluY2x1ZGVzIiwiYWRhcHRlciIsImp3dCIsImV2ZW50cyIsInNlc3Npb24iLCJzdHJhdGVneSIsInNlc3Npb25TdHJhdGVneSIsImdlbmVyYXRlU2Vzc2lvblRva2VuIiwidXNlciIsImFjY291bnQiLCJwcm9maWxlIiwiY3JlYXRlVXNlciIsInVwZGF0ZVVzZXIiLCJnZXRVc2VyIiwiZ2V0VXNlckJ5QWNjb3VudCIsImdldFVzZXJCeUVtYWlsIiwibGlua0FjY291bnQiLCJjcmVhdGVTZXNzaW9uIiwiZ2V0U2Vzc2lvbkFuZFVzZXIiLCJkZWxldGVTZXNzaW9uIiwiaXNOZXdVc2VyIiwidXNlSnd0U2Vzc2lvbiIsInNhbHQiLCJjb29raWVzIiwibmFtZSIsImRlY29kZSIsInRva2VuIiwic3ViIiwidXNlckFuZFNlc3Npb24iLCJ1c2VyQnlFbWFpbCIsImVtYWlsIiwiaWQiLCJlbWFpbFZlcmlmaWVkIiwiRGF0ZSIsInVzZXJJZCIsImV4cGlyZXMiLCJtYXhBZ2UiLCJ1c2VyQnlBY2NvdW50IiwicHJvdmlkZXIiLCJjdXJyZW50QWNjb3VudCIsInAiLCJ0b2tlblNldCIsImRlZmF1bHRzIiwiT2JqZWN0IiwiYXNzaWduIiwiYWxsb3dEYW5nZXJvdXNFbWFpbEFjY291bnRMaW5raW5nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/lib/actions/callback/handle-login.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/lib/actions/callback/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/@auth/core/lib/actions/callback/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   callback: () => (/* binding */ callback)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../errors.js */ \"(action-browser)/./node_modules/@auth/core/errors.js\");\n/* harmony import */ var _handle_login_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./handle-login.js */ \"(action-browser)/./node_modules/@auth/core/lib/actions/callback/handle-login.js\");\n/* harmony import */ var _oauth_callback_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./oauth/callback.js */ \"(action-browser)/./node_modules/@auth/core/lib/actions/callback/oauth/callback.js\");\n/* harmony import */ var _oauth_checks_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./oauth/checks.js */ \"(action-browser)/./node_modules/@auth/core/lib/actions/callback/oauth/checks.js\");\n/* harmony import */ var _utils_web_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/web.js */ \"(action-browser)/./node_modules/@auth/core/lib/utils/web.js\");\n/* harmony import */ var _utils_webauthn_utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/webauthn-utils.js */ \"(action-browser)/./node_modules/@auth/core/lib/utils/webauthn-utils.js\");\n// TODO: Make this file smaller\n\n\n\n\n\n\n/** Handle callbacks from login services */ async function callback(request, options, sessionStore, cookies) {\n    if (!options.provider) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.InvalidProvider(\"Callback route called without provider\");\n    const { query, body, method, headers } = request;\n    const { provider, adapter, url, callbackUrl, pages, jwt, events, callbacks, session: { strategy: sessionStrategy, maxAge: sessionMaxAge }, logger } = options;\n    const useJwtSession = sessionStrategy === \"jwt\";\n    try {\n        if (provider.type === \"oauth\" || provider.type === \"oidc\") {\n            const { proxyRedirect, randomState } = (0,_oauth_checks_js__WEBPACK_IMPORTED_MODULE_3__.handleState)(query, provider, options.isOnRedirectProxy);\n            if (proxyRedirect) {\n                logger.debug(\"proxy redirect\", {\n                    proxyRedirect,\n                    randomState\n                });\n                return {\n                    redirect: proxyRedirect\n                };\n            }\n            const authorizationResult = await (0,_oauth_callback_js__WEBPACK_IMPORTED_MODULE_2__.handleOAuth)(query, request.cookies, options, randomState);\n            if (authorizationResult.cookies.length) {\n                cookies.push(...authorizationResult.cookies);\n            }\n            logger.debug(\"authorization result\", authorizationResult);\n            const { user: userFromProvider, account, profile: OAuthProfile } = authorizationResult;\n            // If we don't have a profile object then either something went wrong\n            // or the user cancelled signing in. We don't know which, so we just\n            // direct the user to the signin page for now. We could do something\n            // else in future.\n            // TODO: Handle user cancelling signin\n            if (!userFromProvider || !account || !OAuthProfile) {\n                return {\n                    redirect: `${url}/signin`,\n                    cookies\n                };\n            }\n            // Check if user is allowed to sign in\n            // Attempt to get Profile from OAuth provider details before invoking\n            // signIn callback - but if no user object is returned, that is fine\n            // (that just means it's a new user signing in for the first time).\n            let userByAccount;\n            if (adapter) {\n                const { getUserByAccount } = adapter;\n                userByAccount = await getUserByAccount({\n                    providerAccountId: account.providerAccountId,\n                    provider: provider.id\n                });\n            }\n            const redirect = await handleAuthorized({\n                user: userByAccount ?? userFromProvider,\n                account,\n                profile: OAuthProfile\n            }, options);\n            if (redirect) return {\n                redirect,\n                cookies\n            };\n            const { user, session, isNewUser } = await (0,_handle_login_js__WEBPACK_IMPORTED_MODULE_1__.handleLoginOrRegister)(sessionStore.value, userFromProvider, account, options);\n            if (useJwtSession) {\n                const defaultToken = {\n                    name: user.name,\n                    email: user.email,\n                    picture: user.image,\n                    sub: user.id?.toString()\n                };\n                const token = await callbacks.jwt({\n                    token: defaultToken,\n                    user,\n                    account,\n                    profile: OAuthProfile,\n                    isNewUser,\n                    trigger: isNewUser ? \"signUp\" : \"signIn\"\n                });\n                // Clear cookies if token is null\n                if (token === null) {\n                    cookies.push(...sessionStore.clean());\n                } else {\n                    const salt = options.cookies.sessionToken.name;\n                    // Encode token\n                    const newToken = await jwt.encode({\n                        ...jwt,\n                        token,\n                        salt\n                    });\n                    // Set cookie expiry date\n                    const cookieExpires = new Date();\n                    cookieExpires.setTime(cookieExpires.getTime() + sessionMaxAge * 1000);\n                    const sessionCookies = sessionStore.chunk(newToken, {\n                        expires: cookieExpires\n                    });\n                    cookies.push(...sessionCookies);\n                }\n            } else {\n                // Save Session Token in cookie\n                cookies.push({\n                    name: options.cookies.sessionToken.name,\n                    value: session.sessionToken,\n                    options: {\n                        ...options.cookies.sessionToken.options,\n                        expires: session.expires\n                    }\n                });\n            }\n            await events.signIn?.({\n                user,\n                account,\n                profile: OAuthProfile,\n                isNewUser\n            });\n            // Handle first logins on new accounts\n            // e.g. option to send users to a new account landing page on initial login\n            // Note that the callback URL is preserved, so the journey can still be resumed\n            if (isNewUser && pages.newUser) {\n                return {\n                    redirect: `${pages.newUser}${pages.newUser.includes(\"?\") ? \"&\" : \"?\"}${new URLSearchParams({\n                        callbackUrl\n                    })}`,\n                    cookies\n                };\n            }\n            return {\n                redirect: callbackUrl,\n                cookies\n            };\n        } else if (provider.type === \"email\") {\n            const token = query?.token;\n            const identifier = query?.email;\n            if (!token || !identifier) {\n                const e = new TypeError(\"Missing token or email. The sign-in URL was manually opened without token/identifier or the link was not sent correctly in the email.\", {\n                    cause: {\n                        hasToken: !!token,\n                        hasEmail: !!identifier\n                    }\n                });\n                e.name = \"Configuration\";\n                throw e;\n            }\n            const secret = provider.secret ?? options.secret;\n            // @ts-expect-error -- Verified in `assertConfig`.\n            const invite = await adapter.useVerificationToken({\n                identifier,\n                token: await (0,_utils_web_js__WEBPACK_IMPORTED_MODULE_4__.createHash)(`${token}${secret}`)\n            });\n            const hasInvite = !!invite;\n            const expired = invite ? invite.expires.valueOf() < Date.now() : undefined;\n            const invalidInvite = !hasInvite || expired;\n            if (invalidInvite) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.Verification({\n                hasInvite,\n                expired\n            });\n            const user = await adapter.getUserByEmail(identifier) ?? {\n                id: crypto.randomUUID(),\n                email: identifier,\n                emailVerified: null\n            };\n            const account = {\n                providerAccountId: user.email,\n                userId: user.id,\n                type: \"email\",\n                provider: provider.id\n            };\n            const redirect = await handleAuthorized({\n                user,\n                account\n            }, options);\n            if (redirect) return {\n                redirect,\n                cookies\n            };\n            // Sign user in\n            const { user: loggedInUser, session, isNewUser } = await (0,_handle_login_js__WEBPACK_IMPORTED_MODULE_1__.handleLoginOrRegister)(sessionStore.value, user, account, options);\n            if (useJwtSession) {\n                const defaultToken = {\n                    name: loggedInUser.name,\n                    email: loggedInUser.email,\n                    picture: loggedInUser.image,\n                    sub: loggedInUser.id?.toString()\n                };\n                const token = await callbacks.jwt({\n                    token: defaultToken,\n                    user: loggedInUser,\n                    account,\n                    isNewUser,\n                    trigger: isNewUser ? \"signUp\" : \"signIn\"\n                });\n                // Clear cookies if token is null\n                if (token === null) {\n                    cookies.push(...sessionStore.clean());\n                } else {\n                    const salt = options.cookies.sessionToken.name;\n                    // Encode token\n                    const newToken = await jwt.encode({\n                        ...jwt,\n                        token,\n                        salt\n                    });\n                    // Set cookie expiry date\n                    const cookieExpires = new Date();\n                    cookieExpires.setTime(cookieExpires.getTime() + sessionMaxAge * 1000);\n                    const sessionCookies = sessionStore.chunk(newToken, {\n                        expires: cookieExpires\n                    });\n                    cookies.push(...sessionCookies);\n                }\n            } else {\n                // Save Session Token in cookie\n                cookies.push({\n                    name: options.cookies.sessionToken.name,\n                    value: session.sessionToken,\n                    options: {\n                        ...options.cookies.sessionToken.options,\n                        expires: session.expires\n                    }\n                });\n            }\n            await events.signIn?.({\n                user: loggedInUser,\n                account,\n                isNewUser\n            });\n            // Handle first logins on new accounts\n            // e.g. option to send users to a new account landing page on initial login\n            // Note that the callback URL is preserved, so the journey can still be resumed\n            if (isNewUser && pages.newUser) {\n                return {\n                    redirect: `${pages.newUser}${pages.newUser.includes(\"?\") ? \"&\" : \"?\"}${new URLSearchParams({\n                        callbackUrl\n                    })}`,\n                    cookies\n                };\n            }\n            // Callback URL is already verified at this point, so safe to use if specified\n            return {\n                redirect: callbackUrl,\n                cookies\n            };\n        } else if (provider.type === \"credentials\" && method === \"POST\") {\n            const credentials = body ?? {};\n            // TODO: Forward the original request as is, instead of reconstructing it\n            Object.entries(query ?? {}).forEach(([k, v])=>url.searchParams.set(k, v));\n            const userFromAuthorize = await provider.authorize(credentials, // prettier-ignore\n            new Request(url, {\n                headers,\n                method,\n                body: JSON.stringify(body)\n            }));\n            const user = userFromAuthorize && {\n                ...userFromAuthorize,\n                id: userFromAuthorize?.id?.toString() ?? crypto.randomUUID()\n            };\n            if (!user) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.CredentialsSignin();\n            const account = {\n                providerAccountId: user.id,\n                type: \"credentials\",\n                provider: provider.id\n            };\n            const redirect = await handleAuthorized({\n                user,\n                account,\n                credentials\n            }, options);\n            if (redirect) return {\n                redirect,\n                cookies\n            };\n            const defaultToken = {\n                name: user.name,\n                email: user.email,\n                picture: user.image,\n                sub: user.id\n            };\n            const token = await callbacks.jwt({\n                token: defaultToken,\n                user,\n                account,\n                isNewUser: false,\n                trigger: \"signIn\"\n            });\n            // Clear cookies if token is null\n            if (token === null) {\n                cookies.push(...sessionStore.clean());\n            } else {\n                const salt = options.cookies.sessionToken.name;\n                // Encode token\n                const newToken = await jwt.encode({\n                    ...jwt,\n                    token,\n                    salt\n                });\n                // Set cookie expiry date\n                const cookieExpires = new Date();\n                cookieExpires.setTime(cookieExpires.getTime() + sessionMaxAge * 1000);\n                const sessionCookies = sessionStore.chunk(newToken, {\n                    expires: cookieExpires\n                });\n                cookies.push(...sessionCookies);\n            }\n            await events.signIn?.({\n                user,\n                account\n            });\n            return {\n                redirect: callbackUrl,\n                cookies\n            };\n        } else if (provider.type === \"webauthn\" && method === \"POST\") {\n            // Get callback action from request. It should be either \"authenticate\" or \"register\"\n            const action = request.body?.action;\n            if (typeof action !== \"string\" || action !== \"authenticate\" && action !== \"register\") {\n                throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.AuthError(\"Invalid action parameter\");\n            }\n            // Return an error if the adapter is missing or if the provider\n            // is not a webauthn provider.\n            const localOptions = (0,_utils_webauthn_utils_js__WEBPACK_IMPORTED_MODULE_5__.assertInternalOptionsWebAuthn)(options);\n            // Verify request to get user, account and authenticator\n            let user;\n            let account;\n            let authenticator;\n            switch(action){\n                case \"authenticate\":\n                    {\n                        const verified = await (0,_utils_webauthn_utils_js__WEBPACK_IMPORTED_MODULE_5__.verifyAuthenticate)(localOptions, request, cookies);\n                        user = verified.user;\n                        account = verified.account;\n                        break;\n                    }\n                case \"register\":\n                    {\n                        const verified = await (0,_utils_webauthn_utils_js__WEBPACK_IMPORTED_MODULE_5__.verifyRegister)(options, request, cookies);\n                        user = verified.user;\n                        account = verified.account;\n                        authenticator = verified.authenticator;\n                        break;\n                    }\n            }\n            // Check if user is allowed to sign in\n            await handleAuthorized({\n                user,\n                account\n            }, options);\n            // Sign user in, creating them and their account if needed\n            const { user: loggedInUser, isNewUser, session, account: currentAccount } = await (0,_handle_login_js__WEBPACK_IMPORTED_MODULE_1__.handleLoginOrRegister)(sessionStore.value, user, account, options);\n            if (!currentAccount) {\n                // This is mostly for type checking. It should never actually happen.\n                throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.AuthError(\"Error creating or finding account\");\n            }\n            // Create new authenticator if needed\n            if (authenticator && loggedInUser.id) {\n                await localOptions.adapter.createAuthenticator({\n                    ...authenticator,\n                    userId: loggedInUser.id\n                });\n            }\n            // Do the session registering dance\n            if (useJwtSession) {\n                const defaultToken = {\n                    name: loggedInUser.name,\n                    email: loggedInUser.email,\n                    picture: loggedInUser.image,\n                    sub: loggedInUser.id?.toString()\n                };\n                const token = await callbacks.jwt({\n                    token: defaultToken,\n                    user: loggedInUser,\n                    account: currentAccount,\n                    isNewUser,\n                    trigger: isNewUser ? \"signUp\" : \"signIn\"\n                });\n                // Clear cookies if token is null\n                if (token === null) {\n                    cookies.push(...sessionStore.clean());\n                } else {\n                    const salt = options.cookies.sessionToken.name;\n                    // Encode token\n                    const newToken = await jwt.encode({\n                        ...jwt,\n                        token,\n                        salt\n                    });\n                    // Set cookie expiry date\n                    const cookieExpires = new Date();\n                    cookieExpires.setTime(cookieExpires.getTime() + sessionMaxAge * 1000);\n                    const sessionCookies = sessionStore.chunk(newToken, {\n                        expires: cookieExpires\n                    });\n                    cookies.push(...sessionCookies);\n                }\n            } else {\n                // Save Session Token in cookie\n                cookies.push({\n                    name: options.cookies.sessionToken.name,\n                    value: session.sessionToken,\n                    options: {\n                        ...options.cookies.sessionToken.options,\n                        expires: session.expires\n                    }\n                });\n            }\n            await events.signIn?.({\n                user: loggedInUser,\n                account: currentAccount,\n                isNewUser\n            });\n            // Handle first logins on new accounts\n            // e.g. option to send users to a new account landing page on initial login\n            // Note that the callback URL is preserved, so the journey can still be resumed\n            if (isNewUser && pages.newUser) {\n                return {\n                    redirect: `${pages.newUser}${pages.newUser.includes(\"?\") ? \"&\" : \"?\"}${new URLSearchParams({\n                        callbackUrl\n                    })}`,\n                    cookies\n                };\n            }\n            // Callback URL is already verified at this point, so safe to use if specified\n            return {\n                redirect: callbackUrl,\n                cookies\n            };\n        }\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.InvalidProvider(`Callback for provider type (${provider.type}) is not supported`);\n    } catch (e) {\n        if (e instanceof _errors_js__WEBPACK_IMPORTED_MODULE_0__.AuthError) throw e;\n        const error = new _errors_js__WEBPACK_IMPORTED_MODULE_0__.CallbackRouteError(e, {\n            provider: provider.id\n        });\n        logger.debug(\"callback route error details\", {\n            method,\n            query,\n            body\n        });\n        throw error;\n    }\n}\nasync function handleAuthorized(params, config) {\n    let authorized;\n    const { signIn, redirect } = config.callbacks;\n    try {\n        authorized = await signIn(params);\n    } catch (e) {\n        if (e instanceof _errors_js__WEBPACK_IMPORTED_MODULE_0__.AuthError) throw e;\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.AuthorizedCallbackError(e);\n    }\n    if (!authorized) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.AuthorizedCallbackError(\"AccessDenied\");\n    if (typeof authorized !== \"string\") return;\n    return await redirect({\n        url: authorized,\n        baseUrl: config.url.origin\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi9hY3Rpb25zL2NhbGxiYWNrL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSwrQkFBK0I7QUFDZ0g7QUFDckY7QUFDUjtBQUNGO0FBQ0E7QUFDa0U7QUFDbEgseUNBQXlDLEdBQ2xDLGVBQWVhLFNBQVNDLE9BQU8sRUFBRUMsT0FBTyxFQUFFQyxZQUFZLEVBQUVDLE9BQU87SUFDbEUsSUFBSSxDQUFDRixRQUFRRyxRQUFRLEVBQ2pCLE1BQU0sSUFBSWQsdURBQWVBLENBQUM7SUFDOUIsTUFBTSxFQUFFZSxLQUFLLEVBQUVDLElBQUksRUFBRUMsTUFBTSxFQUFFQyxPQUFPLEVBQUUsR0FBR1I7SUFDekMsTUFBTSxFQUFFSSxRQUFRLEVBQUVLLE9BQU8sRUFBRUMsR0FBRyxFQUFFQyxXQUFXLEVBQUVDLEtBQUssRUFBRUMsR0FBRyxFQUFFQyxNQUFNLEVBQUVDLFNBQVMsRUFBRUMsU0FBUyxFQUFFQyxVQUFVQyxlQUFlLEVBQUVDLFFBQVFDLGFBQWEsRUFBRSxFQUFFQyxNQUFNLEVBQUcsR0FBR3BCO0lBQ3ZKLE1BQU1xQixnQkFBZ0JKLG9CQUFvQjtJQUMxQyxJQUFJO1FBQ0EsSUFBSWQsU0FBU21CLElBQUksS0FBSyxXQUFXbkIsU0FBU21CLElBQUksS0FBSyxRQUFRO1lBQ3ZELE1BQU0sRUFBRUMsYUFBYSxFQUFFQyxXQUFXLEVBQUUsR0FBRy9CLDZEQUFXQSxDQUFDVyxPQUFPRCxVQUFVSCxRQUFReUIsaUJBQWlCO1lBQzdGLElBQUlGLGVBQWU7Z0JBQ2ZILE9BQU9NLEtBQUssQ0FBQyxrQkFBa0I7b0JBQUVIO29CQUFlQztnQkFBWTtnQkFDNUQsT0FBTztvQkFBRUcsVUFBVUo7Z0JBQWM7WUFDckM7WUFDQSxNQUFNSyxzQkFBc0IsTUFBTXBDLCtEQUFXQSxDQUFDWSxPQUFPTCxRQUFRRyxPQUFPLEVBQUVGLFNBQVN3QjtZQUMvRSxJQUFJSSxvQkFBb0IxQixP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LE1BQU0sSUFBSSxFQUFFLElBQUlDLGdCQUFnQjt3QkFBRXpEO29CQUFZLEdBQUcsQ0FBQztvQkFDN0dSO2dCQUNKO1lBQ0o7WUFDQSw4RUFBOEU7WUFDOUUsT0FBTztnQkFBRXlCLFVBQVVqQjtnQkFBYVI7WUFBUTtRQUM1QztRQUNBLE1BQU0sSUFBSWIsdURBQWVBLENBQUMsQ0FBQyw0QkFBNEIsRUFBRWMsU0FBU21CLElBQUksQ0FBQyxrQkFBa0IsQ0FBQztJQUM5RixFQUNBLE9BQU8rQyxHQUFHO1FBQ04sSUFBSUEsYUFBYXBGLGlEQUFTQSxFQUN0QixNQUFNb0Y7UUFDVixNQUFNdUMsUUFBUSxJQUFJekgsMERBQWtCQSxDQUFDa0YsR0FBRztZQUFFbEUsVUFBVUEsU0FBU29DLEVBQUU7UUFBQztRQUNoRW5CLE9BQU9NLEtBQUssQ0FBQyxnQ0FBZ0M7WUFBRXBCO1lBQVFGO1lBQU9DO1FBQUs7UUFDbkUsTUFBTXVHO0lBQ1Y7QUFDSjtBQUNBLGVBQWVwRSxpQkFBaUJxRSxNQUFNLEVBQUVDLE1BQU07SUFDMUMsSUFBSUM7SUFDSixNQUFNLEVBQUUvQyxNQUFNLEVBQUVyQyxRQUFRLEVBQUUsR0FBR21GLE9BQU9oRyxTQUFTO0lBQzdDLElBQUk7UUFDQWlHLGFBQWEsTUFBTS9DLE9BQU82QztJQUM5QixFQUNBLE9BQU94QyxHQUFHO1FBQ04sSUFBSUEsYUFBYXBGLGlEQUFTQSxFQUN0QixNQUFNb0Y7UUFDVixNQUFNLElBQUluRiwrREFBdUJBLENBQUNtRjtJQUN0QztJQUNBLElBQUksQ0FBQzBDLFlBQ0QsTUFBTSxJQUFJN0gsK0RBQXVCQSxDQUFDO0lBQ3RDLElBQUksT0FBTzZILGVBQWUsVUFDdEI7SUFDSixPQUFPLE1BQU1wRixTQUFTO1FBQUVsQixLQUFLc0c7UUFBWUMsU0FBU0YsT0FBT3JHLEdBQUcsQ0FBQ3dHLE1BQU07SUFBQztBQUN4RSIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtcngvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvYWN0aW9ucy9jYWxsYmFjay9pbmRleC5qcz9jNWMyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRPRE86IE1ha2UgdGhpcyBmaWxlIHNtYWxsZXJcbmltcG9ydCB7IEF1dGhFcnJvciwgQXV0aG9yaXplZENhbGxiYWNrRXJyb3IsIENhbGxiYWNrUm91dGVFcnJvciwgQ3JlZGVudGlhbHNTaWduaW4sIEludmFsaWRQcm92aWRlciwgVmVyaWZpY2F0aW9uLCB9IGZyb20gXCIuLi8uLi8uLi9lcnJvcnMuanNcIjtcbmltcG9ydCB7IGhhbmRsZUxvZ2luT3JSZWdpc3RlciB9IGZyb20gXCIuL2hhbmRsZS1sb2dpbi5qc1wiO1xuaW1wb3J0IHsgaGFuZGxlT0F1dGggfSBmcm9tIFwiLi9vYXV0aC9jYWxsYmFjay5qc1wiO1xuaW1wb3J0IHsgaGFuZGxlU3RhdGUgfSBmcm9tIFwiLi9vYXV0aC9jaGVja3MuanNcIjtcbmltcG9ydCB7IGNyZWF0ZUhhc2ggfSBmcm9tIFwiLi4vLi4vdXRpbHMvd2ViLmpzXCI7XG5pbXBvcnQgeyBhc3NlcnRJbnRlcm5hbE9wdGlvbnNXZWJBdXRobiwgdmVyaWZ5QXV0aGVudGljYXRlLCB2ZXJpZnlSZWdpc3RlciB9IGZyb20gXCIuLi8uLi91dGlscy93ZWJhdXRobi11dGlscy5qc1wiO1xuLyoqIEhhbmRsZSBjYWxsYmFja3MgZnJvbSBsb2dpbiBzZXJ2aWNlcyAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNhbGxiYWNrKHJlcXVlc3QsIG9wdGlvbnMsIHNlc3Npb25TdG9yZSwgY29va2llcykge1xuICAgIGlmICghb3B0aW9ucy5wcm92aWRlcilcbiAgICAgICAgdGhyb3cgbmV3IEludmFsaWRQcm92aWRlcihcIkNhbGxiYWNrIHJvdXRlIGNhbGxlZCB3aXRob3V0IHByb3ZpZGVyXCIpO1xuICAgIGNvbnN0IHsgcXVlcnksIGJvZHksIG1ldGhvZCwgaGVhZGVycyB9ID0gcmVxdWVzdDtcbiAgICBjb25zdCB7IHByb3ZpZGVyLCBhZGFwdGVyLCB1cmwsIGNhbGxiYWNrVXJsLCBwYWdlcywgand0LCBldmVudHMsIGNhbGxiYWNrcywgc2Vzc2lvbjogeyBzdHJhdGVneTogc2Vzc2lvblN0cmF0ZWd5LCBtYXhBZ2U6IHNlc3Npb25NYXhBZ2UgfSwgbG9nZ2VyLCB9ID0gb3B0aW9ucztcbiAgICBjb25zdCB1c2VKd3RTZXNzaW9uID0gc2Vzc2lvblN0cmF0ZWd5ID09PSBcImp3dFwiO1xuICAgIHRyeSB7XG4gICAgICAgIGlmIChwcm92aWRlci50eXBlID09PSBcIm9hdXRoXCIgfHwgcHJvdmlkZXIudHlwZSA9PT0gXCJvaWRjXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgcHJveHlSZWRpcmVjdCwgcmFuZG9tU3RhdGUgfSA9IGhhbmRsZVN0YXRlKHF1ZXJ5LCBwcm92aWRlciwgb3B0aW9ucy5pc09uUmVkaXJlY3RQcm94eSk7XG4gICAgICAgICAgICBpZiAocHJveHlSZWRpcmVjdCkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhcInByb3h5IHJlZGlyZWN0XCIsIHsgcHJveHlSZWRpcmVjdCwgcmFuZG9tU3RhdGUgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgcmVkaXJlY3Q6IHByb3h5UmVkaXJlY3QgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGF1dGhvcml6YXRpb25SZXN1bHQgPSBhd2FpdCBoYW5kbGVPQXV0aChxdWVyeSwgcmVxdWVzdC5jb29raWVzLCBvcHRpb25zLCByYW5kb21TdGF0ZSk7XG4gICAgICAgICAgICBpZiAoYXV0aG9yaXphdGlvblJlc3VsdC5jb29raWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvb2tpZXMucHVzaCguLi5hdXRob3JpemF0aW9uUmVzdWx0LmNvb2tpZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKFwiYXV0aG9yaXphdGlvbiByZXN1bHRcIiwgYXV0aG9yaXphdGlvblJlc3VsdCk7XG4gICAgICAgICAgICBjb25zdCB7IHVzZXI6IHVzZXJGcm9tUHJvdmlkZXIsIGFjY291bnQsIHByb2ZpbGU6IE9BdXRoUHJvZmlsZSwgfSA9IGF1dGhvcml6YXRpb25SZXN1bHQ7XG4gICAgICAgICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGEgcHJvZmlsZSBvYmplY3QgdGhlbiBlaXRoZXIgc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgICAgICAgICAgIC8vIG9yIHRoZSB1c2VyIGNhbmNlbGxlZCBzaWduaW5nIGluLiBXZSBkb24ndCBrbm93IHdoaWNoLCBzbyB3ZSBqdXN0XG4gICAgICAgICAgICAvLyBkaXJlY3QgdGhlIHVzZXIgdG8gdGhlIHNpZ25pbiBwYWdlIGZvciBub3cuIFdlIGNvdWxkIGRvIHNvbWV0aGluZ1xuICAgICAgICAgICAgLy8gZWxzZSBpbiBmdXR1cmUuXG4gICAgICAgICAgICAvLyBUT0RPOiBIYW5kbGUgdXNlciBjYW5jZWxsaW5nIHNpZ25pblxuICAgICAgICAgICAgaWYgKCF1c2VyRnJvbVByb3ZpZGVyIHx8ICFhY2NvdW50IHx8ICFPQXV0aFByb2ZpbGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyByZWRpcmVjdDogYCR7dXJsfS9zaWduaW5gLCBjb29raWVzIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDaGVjayBpZiB1c2VyIGlzIGFsbG93ZWQgdG8gc2lnbiBpblxuICAgICAgICAgICAgLy8gQXR0ZW1wdCB0byBnZXQgUHJvZmlsZSBmcm9tIE9BdXRoIHByb3ZpZGVyIGRldGFpbHMgYmVmb3JlIGludm9raW5nXG4gICAgICAgICAgICAvLyBzaWduSW4gY2FsbGJhY2sgLSBidXQgaWYgbm8gdXNlciBvYmplY3QgaXMgcmV0dXJuZWQsIHRoYXQgaXMgZmluZVxuICAgICAgICAgICAgLy8gKHRoYXQganVzdCBtZWFucyBpdCdzIGEgbmV3IHVzZXIgc2lnbmluZyBpbiBmb3IgdGhlIGZpcnN0IHRpbWUpLlxuICAgICAgICAgICAgbGV0IHVzZXJCeUFjY291bnQ7XG4gICAgICAgICAgICBpZiAoYWRhcHRlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZ2V0VXNlckJ5QWNjb3VudCB9ID0gYWRhcHRlcjtcbiAgICAgICAgICAgICAgICB1c2VyQnlBY2NvdW50ID0gYXdhaXQgZ2V0VXNlckJ5QWNjb3VudCh7XG4gICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyQWNjb3VudElkOiBhY2NvdW50LnByb3ZpZGVyQWNjb3VudElkLFxuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcjogcHJvdmlkZXIuaWQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZWRpcmVjdCA9IGF3YWl0IGhhbmRsZUF1dGhvcml6ZWQoe1xuICAgICAgICAgICAgICAgIHVzZXI6IHVzZXJCeUFjY291bnQgPz8gdXNlckZyb21Qcm92aWRlcixcbiAgICAgICAgICAgICAgICBhY2NvdW50LFxuICAgICAgICAgICAgICAgIHByb2ZpbGU6IE9BdXRoUHJvZmlsZSxcbiAgICAgICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKHJlZGlyZWN0KVxuICAgICAgICAgICAgICAgIHJldHVybiB7IHJlZGlyZWN0LCBjb29raWVzIH07XG4gICAgICAgICAgICBjb25zdCB7IHVzZXIsIHNlc3Npb24sIGlzTmV3VXNlciB9ID0gYXdhaXQgaGFuZGxlTG9naW5PclJlZ2lzdGVyKHNlc3Npb25TdG9yZS52YWx1ZSwgdXNlckZyb21Qcm92aWRlciwgYWNjb3VudCwgb3B0aW9ucyk7XG4gICAgICAgICAgICBpZiAodXNlSnd0U2Vzc2lvbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRUb2tlbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgcGljdHVyZTogdXNlci5pbWFnZSxcbiAgICAgICAgICAgICAgICAgICAgc3ViOiB1c2VyLmlkPy50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCBjYWxsYmFja3Muand0KHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW46IGRlZmF1bHRUb2tlbixcbiAgICAgICAgICAgICAgICAgICAgdXNlcixcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudCxcbiAgICAgICAgICAgICAgICAgICAgcHJvZmlsZTogT0F1dGhQcm9maWxlLFxuICAgICAgICAgICAgICAgICAgICBpc05ld1VzZXIsXG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXI6IGlzTmV3VXNlciA/IFwic2lnblVwXCIgOiBcInNpZ25JblwiLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIENsZWFyIGNvb2tpZXMgaWYgdG9rZW4gaXMgbnVsbFxuICAgICAgICAgICAgICAgIGlmICh0b2tlbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb29raWVzLnB1c2goLi4uc2Vzc2lvblN0b3JlLmNsZWFuKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2FsdCA9IG9wdGlvbnMuY29va2llcy5zZXNzaW9uVG9rZW4ubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gRW5jb2RlIHRva2VuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1Rva2VuID0gYXdhaXQgand0LmVuY29kZSh7IC4uLmp3dCwgdG9rZW4sIHNhbHQgfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNldCBjb29raWUgZXhwaXJ5IGRhdGVcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29va2llRXhwaXJlcyA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvb2tpZUV4cGlyZXMuc2V0VGltZShjb29raWVFeHBpcmVzLmdldFRpbWUoKSArIHNlc3Npb25NYXhBZ2UgKiAxMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbkNvb2tpZXMgPSBzZXNzaW9uU3RvcmUuY2h1bmsobmV3VG9rZW4sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZXM6IGNvb2tpZUV4cGlyZXMsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb29raWVzLnB1c2goLi4uc2Vzc2lvbkNvb2tpZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFNhdmUgU2Vzc2lvbiBUb2tlbiBpbiBjb29raWVcbiAgICAgICAgICAgICAgICBjb29raWVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBvcHRpb25zLmNvb2tpZXMuc2Vzc2lvblRva2VuLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzZXNzaW9uLnNlc3Npb25Ub2tlbixcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ub3B0aW9ucy5jb29raWVzLnNlc3Npb25Ub2tlbi5vcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlczogc2Vzc2lvbi5leHBpcmVzLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgZXZlbnRzLnNpZ25Jbj8uKHtcbiAgICAgICAgICAgICAgICB1c2VyLFxuICAgICAgICAgICAgICAgIGFjY291bnQsXG4gICAgICAgICAgICAgICAgcHJvZmlsZTogT0F1dGhQcm9maWxlLFxuICAgICAgICAgICAgICAgIGlzTmV3VXNlcixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gSGFuZGxlIGZpcnN0IGxvZ2lucyBvbiBuZXcgYWNjb3VudHNcbiAgICAgICAgICAgIC8vIGUuZy4gb3B0aW9uIHRvIHNlbmQgdXNlcnMgdG8gYSBuZXcgYWNjb3VudCBsYW5kaW5nIHBhZ2Ugb24gaW5pdGlhbCBsb2dpblxuICAgICAgICAgICAgLy8gTm90ZSB0aGF0IHRoZSBjYWxsYmFjayBVUkwgaXMgcHJlc2VydmVkLCBzbyB0aGUgam91cm5leSBjYW4gc3RpbGwgYmUgcmVzdW1lZFxuICAgICAgICAgICAgaWYgKGlzTmV3VXNlciAmJiBwYWdlcy5uZXdVc2VyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3Q6IGAke3BhZ2VzLm5ld1VzZXJ9JHtwYWdlcy5uZXdVc2VyLmluY2x1ZGVzKFwiP1wiKSA/IFwiJlwiIDogXCI/XCJ9JHtuZXcgVVJMU2VhcmNoUGFyYW1zKHsgY2FsbGJhY2tVcmwgfSl9YCxcbiAgICAgICAgICAgICAgICAgICAgY29va2llcyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgcmVkaXJlY3Q6IGNhbGxiYWNrVXJsLCBjb29raWVzIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvdmlkZXIudHlwZSA9PT0gXCJlbWFpbFwiKSB7XG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IHF1ZXJ5Py50b2tlbjtcbiAgICAgICAgICAgIGNvbnN0IGlkZW50aWZpZXIgPSBxdWVyeT8uZW1haWw7XG4gICAgICAgICAgICBpZiAoIXRva2VuIHx8ICFpZGVudGlmaWVyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IG5ldyBUeXBlRXJyb3IoXCJNaXNzaW5nIHRva2VuIG9yIGVtYWlsLiBUaGUgc2lnbi1pbiBVUkwgd2FzIG1hbnVhbGx5IG9wZW5lZCB3aXRob3V0IHRva2VuL2lkZW50aWZpZXIgb3IgdGhlIGxpbmsgd2FzIG5vdCBzZW50IGNvcnJlY3RseSBpbiB0aGUgZW1haWwuXCIsIHsgY2F1c2U6IHsgaGFzVG9rZW46ICEhdG9rZW4sIGhhc0VtYWlsOiAhIWlkZW50aWZpZXIgfSB9KTtcbiAgICAgICAgICAgICAgICBlLm5hbWUgPSBcIkNvbmZpZ3VyYXRpb25cIjtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc2VjcmV0ID0gcHJvdmlkZXIuc2VjcmV0ID8/IG9wdGlvbnMuc2VjcmV0O1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtLSBWZXJpZmllZCBpbiBgYXNzZXJ0Q29uZmlnYC5cbiAgICAgICAgICAgIGNvbnN0IGludml0ZSA9IGF3YWl0IGFkYXB0ZXIudXNlVmVyaWZpY2F0aW9uVG9rZW4oe1xuICAgICAgICAgICAgICAgIGlkZW50aWZpZXIsXG4gICAgICAgICAgICAgICAgdG9rZW46IGF3YWl0IGNyZWF0ZUhhc2goYCR7dG9rZW59JHtzZWNyZXR9YCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGhhc0ludml0ZSA9ICEhaW52aXRlO1xuICAgICAgICAgICAgY29uc3QgZXhwaXJlZCA9IGludml0ZSA/IGludml0ZS5leHBpcmVzLnZhbHVlT2YoKSA8IERhdGUubm93KCkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb25zdCBpbnZhbGlkSW52aXRlID0gIWhhc0ludml0ZSB8fCBleHBpcmVkO1xuICAgICAgICAgICAgaWYgKGludmFsaWRJbnZpdGUpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFZlcmlmaWNhdGlvbih7IGhhc0ludml0ZSwgZXhwaXJlZCB9KTtcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSAoYXdhaXQgYWRhcHRlci5nZXRVc2VyQnlFbWFpbChpZGVudGlmaWVyKSkgPz8ge1xuICAgICAgICAgICAgICAgIGlkOiBjcnlwdG8ucmFuZG9tVVVJRCgpLFxuICAgICAgICAgICAgICAgIGVtYWlsOiBpZGVudGlmaWVyLFxuICAgICAgICAgICAgICAgIGVtYWlsVmVyaWZpZWQ6IG51bGwsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYWNjb3VudCA9IHtcbiAgICAgICAgICAgICAgICBwcm92aWRlckFjY291bnRJZDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgICAgICB1c2VySWQ6IHVzZXIuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJlbWFpbFwiLFxuICAgICAgICAgICAgICAgIHByb3ZpZGVyOiBwcm92aWRlci5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZWRpcmVjdCA9IGF3YWl0IGhhbmRsZUF1dGhvcml6ZWQoeyB1c2VyLCBhY2NvdW50IH0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKHJlZGlyZWN0KVxuICAgICAgICAgICAgICAgIHJldHVybiB7IHJlZGlyZWN0LCBjb29raWVzIH07XG4gICAgICAgICAgICAvLyBTaWduIHVzZXIgaW5cbiAgICAgICAgICAgIGNvbnN0IHsgdXNlcjogbG9nZ2VkSW5Vc2VyLCBzZXNzaW9uLCBpc05ld1VzZXIsIH0gPSBhd2FpdCBoYW5kbGVMb2dpbk9yUmVnaXN0ZXIoc2Vzc2lvblN0b3JlLnZhbHVlLCB1c2VyLCBhY2NvdW50LCBvcHRpb25zKTtcbiAgICAgICAgICAgIGlmICh1c2VKd3RTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVmYXVsdFRva2VuID0ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBsb2dnZWRJblVzZXIubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IGxvZ2dlZEluVXNlci5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgcGljdHVyZTogbG9nZ2VkSW5Vc2VyLmltYWdlLFxuICAgICAgICAgICAgICAgICAgICBzdWI6IGxvZ2dlZEluVXNlci5pZD8udG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuID0gYXdhaXQgY2FsbGJhY2tzLmp3dCh7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiBkZWZhdWx0VG9rZW4sXG4gICAgICAgICAgICAgICAgICAgIHVzZXI6IGxvZ2dlZEluVXNlcixcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudCxcbiAgICAgICAgICAgICAgICAgICAgaXNOZXdVc2VyLFxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiBpc05ld1VzZXIgPyBcInNpZ25VcFwiIDogXCJzaWduSW5cIixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBDbGVhciBjb29raWVzIGlmIHRva2VuIGlzIG51bGxcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29va2llcy5wdXNoKC4uLnNlc3Npb25TdG9yZS5jbGVhbigpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNhbHQgPSBvcHRpb25zLmNvb2tpZXMuc2Vzc2lvblRva2VuLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIEVuY29kZSB0b2tlblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdUb2tlbiA9IGF3YWl0IGp3dC5lbmNvZGUoeyAuLi5qd3QsIHRva2VuLCBzYWx0IH0pO1xuICAgICAgICAgICAgICAgICAgICAvLyBTZXQgY29va2llIGV4cGlyeSBkYXRlXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvb2tpZUV4cGlyZXMgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb29raWVFeHBpcmVzLnNldFRpbWUoY29va2llRXhwaXJlcy5nZXRUaW1lKCkgKyBzZXNzaW9uTWF4QWdlICogMTAwMCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlc3Npb25Db29raWVzID0gc2Vzc2lvblN0b3JlLmNodW5rKG5ld1Rva2VuLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBpcmVzOiBjb29raWVFeHBpcmVzLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29va2llcy5wdXNoKC4uLnNlc3Npb25Db29raWVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBTYXZlIFNlc3Npb24gVG9rZW4gaW4gY29va2llXG4gICAgICAgICAgICAgICAgY29va2llcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogb3B0aW9ucy5jb29raWVzLnNlc3Npb25Ub2tlbi5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogc2Vzc2lvbi5zZXNzaW9uVG9rZW4sXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMuY29va2llcy5zZXNzaW9uVG9rZW4ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZXM6IHNlc3Npb24uZXhwaXJlcyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IGV2ZW50cy5zaWduSW4/Lih7IHVzZXI6IGxvZ2dlZEluVXNlciwgYWNjb3VudCwgaXNOZXdVc2VyIH0pO1xuICAgICAgICAgICAgLy8gSGFuZGxlIGZpcnN0IGxvZ2lucyBvbiBuZXcgYWNjb3VudHNcbiAgICAgICAgICAgIC8vIGUuZy4gb3B0aW9uIHRvIHNlbmQgdXNlcnMgdG8gYSBuZXcgYWNjb3VudCBsYW5kaW5nIHBhZ2Ugb24gaW5pdGlhbCBsb2dpblxuICAgICAgICAgICAgLy8gTm90ZSB0aGF0IHRoZSBjYWxsYmFjayBVUkwgaXMgcHJlc2VydmVkLCBzbyB0aGUgam91cm5leSBjYW4gc3RpbGwgYmUgcmVzdW1lZFxuICAgICAgICAgICAgaWYgKGlzTmV3VXNlciAmJiBwYWdlcy5uZXdVc2VyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3Q6IGAke3BhZ2VzLm5ld1VzZXJ9JHtwYWdlcy5uZXdVc2VyLmluY2x1ZGVzKFwiP1wiKSA/IFwiJlwiIDogXCI/XCJ9JHtuZXcgVVJMU2VhcmNoUGFyYW1zKHsgY2FsbGJhY2tVcmwgfSl9YCxcbiAgICAgICAgICAgICAgICAgICAgY29va2llcyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ2FsbGJhY2sgVVJMIGlzIGFscmVhZHkgdmVyaWZpZWQgYXQgdGhpcyBwb2ludCwgc28gc2FmZSB0byB1c2UgaWYgc3BlY2lmaWVkXG4gICAgICAgICAgICByZXR1cm4geyByZWRpcmVjdDogY2FsbGJhY2tVcmwsIGNvb2tpZXMgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm92aWRlci50eXBlID09PSBcImNyZWRlbnRpYWxzXCIgJiYgbWV0aG9kID09PSBcIlBPU1RcIikge1xuICAgICAgICAgICAgY29uc3QgY3JlZGVudGlhbHMgPSBib2R5ID8/IHt9O1xuICAgICAgICAgICAgLy8gVE9ETzogRm9yd2FyZCB0aGUgb3JpZ2luYWwgcmVxdWVzdCBhcyBpcywgaW5zdGVhZCBvZiByZWNvbnN0cnVjdGluZyBpdFxuICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMocXVlcnkgPz8ge30pLmZvckVhY2goKFtrLCB2XSkgPT4gdXJsLnNlYXJjaFBhcmFtcy5zZXQoaywgdikpO1xuICAgICAgICAgICAgY29uc3QgdXNlckZyb21BdXRob3JpemUgPSBhd2FpdCBwcm92aWRlci5hdXRob3JpemUoY3JlZGVudGlhbHMsIFxuICAgICAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgICAgICAgICBuZXcgUmVxdWVzdCh1cmwsIHsgaGVhZGVycywgbWV0aG9kLCBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSB9KSk7XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gdXNlckZyb21BdXRob3JpemUgJiYge1xuICAgICAgICAgICAgICAgIC4uLnVzZXJGcm9tQXV0aG9yaXplLFxuICAgICAgICAgICAgICAgIGlkOiB1c2VyRnJvbUF1dGhvcml6ZT8uaWQ/LnRvU3RyaW5nKCkgPz8gY3J5cHRvLnJhbmRvbVVVSUQoKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoIXVzZXIpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IENyZWRlbnRpYWxzU2lnbmluKCk7XG4gICAgICAgICAgICBjb25zdCBhY2NvdW50ID0ge1xuICAgICAgICAgICAgICAgIHByb3ZpZGVyQWNjb3VudElkOiB1c2VyLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY3JlZGVudGlhbHNcIixcbiAgICAgICAgICAgICAgICBwcm92aWRlcjogcHJvdmlkZXIuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVkaXJlY3QgPSBhd2FpdCBoYW5kbGVBdXRob3JpemVkKHsgdXNlciwgYWNjb3VudCwgY3JlZGVudGlhbHMgfSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBpZiAocmVkaXJlY3QpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgcmVkaXJlY3QsIGNvb2tpZXMgfTtcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRUb2tlbiA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICAgICAgcGljdHVyZTogdXNlci5pbWFnZSxcbiAgICAgICAgICAgICAgICBzdWI6IHVzZXIuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCBjYWxsYmFja3Muand0KHtcbiAgICAgICAgICAgICAgICB0b2tlbjogZGVmYXVsdFRva2VuLFxuICAgICAgICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgICAgICAgYWNjb3VudCxcbiAgICAgICAgICAgICAgICBpc05ld1VzZXI6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRyaWdnZXI6IFwic2lnbkluXCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIENsZWFyIGNvb2tpZXMgaWYgdG9rZW4gaXMgbnVsbFxuICAgICAgICAgICAgaWYgKHRva2VuID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29va2llcy5wdXNoKC4uLnNlc3Npb25TdG9yZS5jbGVhbigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNhbHQgPSBvcHRpb25zLmNvb2tpZXMuc2Vzc2lvblRva2VuLm5hbWU7XG4gICAgICAgICAgICAgICAgLy8gRW5jb2RlIHRva2VuXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VG9rZW4gPSBhd2FpdCBqd3QuZW5jb2RlKHsgLi4uand0LCB0b2tlbiwgc2FsdCB9KTtcbiAgICAgICAgICAgICAgICAvLyBTZXQgY29va2llIGV4cGlyeSBkYXRlXG4gICAgICAgICAgICAgICAgY29uc3QgY29va2llRXhwaXJlcyA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgY29va2llRXhwaXJlcy5zZXRUaW1lKGNvb2tpZUV4cGlyZXMuZ2V0VGltZSgpICsgc2Vzc2lvbk1heEFnZSAqIDEwMDApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlc3Npb25Db29raWVzID0gc2Vzc2lvblN0b3JlLmNodW5rKG5ld1Rva2VuLCB7XG4gICAgICAgICAgICAgICAgICAgIGV4cGlyZXM6IGNvb2tpZUV4cGlyZXMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29va2llcy5wdXNoKC4uLnNlc3Npb25Db29raWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IGV2ZW50cy5zaWduSW4/Lih7IHVzZXIsIGFjY291bnQgfSk7XG4gICAgICAgICAgICByZXR1cm4geyByZWRpcmVjdDogY2FsbGJhY2tVcmwsIGNvb2tpZXMgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwcm92aWRlci50eXBlID09PSBcIndlYmF1dGhuXCIgJiYgbWV0aG9kID09PSBcIlBPU1RcIikge1xuICAgICAgICAgICAgLy8gR2V0IGNhbGxiYWNrIGFjdGlvbiBmcm9tIHJlcXVlc3QuIEl0IHNob3VsZCBiZSBlaXRoZXIgXCJhdXRoZW50aWNhdGVcIiBvciBcInJlZ2lzdGVyXCJcbiAgICAgICAgICAgIGNvbnN0IGFjdGlvbiA9IHJlcXVlc3QuYm9keT8uYWN0aW9uO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBhY3Rpb24gIT09IFwic3RyaW5nXCIgfHwgKGFjdGlvbiAhPT0gXCJhdXRoZW50aWNhdGVcIiAmJiBhY3Rpb24gIT09IFwicmVnaXN0ZXJcIikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQXV0aEVycm9yKFwiSW52YWxpZCBhY3Rpb24gcGFyYW1ldGVyXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmV0dXJuIGFuIGVycm9yIGlmIHRoZSBhZGFwdGVyIGlzIG1pc3Npbmcgb3IgaWYgdGhlIHByb3ZpZGVyXG4gICAgICAgICAgICAvLyBpcyBub3QgYSB3ZWJhdXRobiBwcm92aWRlci5cbiAgICAgICAgICAgIGNvbnN0IGxvY2FsT3B0aW9ucyA9IGFzc2VydEludGVybmFsT3B0aW9uc1dlYkF1dGhuKG9wdGlvbnMpO1xuICAgICAgICAgICAgLy8gVmVyaWZ5IHJlcXVlc3QgdG8gZ2V0IHVzZXIsIGFjY291bnQgYW5kIGF1dGhlbnRpY2F0b3JcbiAgICAgICAgICAgIGxldCB1c2VyO1xuICAgICAgICAgICAgbGV0IGFjY291bnQ7XG4gICAgICAgICAgICBsZXQgYXV0aGVudGljYXRvcjtcbiAgICAgICAgICAgIHN3aXRjaCAoYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImF1dGhlbnRpY2F0ZVwiOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZlcmlmaWVkID0gYXdhaXQgdmVyaWZ5QXV0aGVudGljYXRlKGxvY2FsT3B0aW9ucywgcmVxdWVzdCwgY29va2llcyk7XG4gICAgICAgICAgICAgICAgICAgIHVzZXIgPSB2ZXJpZmllZC51c2VyO1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50ID0gdmVyaWZpZWQuYWNjb3VudDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgXCJyZWdpc3RlclwiOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZlcmlmaWVkID0gYXdhaXQgdmVyaWZ5UmVnaXN0ZXIob3B0aW9ucywgcmVxdWVzdCwgY29va2llcyk7XG4gICAgICAgICAgICAgICAgICAgIHVzZXIgPSB2ZXJpZmllZC51c2VyO1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50ID0gdmVyaWZpZWQuYWNjb3VudDtcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRvciA9IHZlcmlmaWVkLmF1dGhlbnRpY2F0b3I7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHVzZXIgaXMgYWxsb3dlZCB0byBzaWduIGluXG4gICAgICAgICAgICBhd2FpdCBoYW5kbGVBdXRob3JpemVkKHsgdXNlciwgYWNjb3VudCB9LCBvcHRpb25zKTtcbiAgICAgICAgICAgIC8vIFNpZ24gdXNlciBpbiwgY3JlYXRpbmcgdGhlbSBhbmQgdGhlaXIgYWNjb3VudCBpZiBuZWVkZWRcbiAgICAgICAgICAgIGNvbnN0IHsgdXNlcjogbG9nZ2VkSW5Vc2VyLCBpc05ld1VzZXIsIHNlc3Npb24sIGFjY291bnQ6IGN1cnJlbnRBY2NvdW50IH0gPSBhd2FpdCBoYW5kbGVMb2dpbk9yUmVnaXN0ZXIoc2Vzc2lvblN0b3JlLnZhbHVlLCB1c2VyLCBhY2NvdW50LCBvcHRpb25zKTtcbiAgICAgICAgICAgIGlmICghY3VycmVudEFjY291bnQpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIG1vc3RseSBmb3IgdHlwZSBjaGVja2luZy4gSXQgc2hvdWxkIG5ldmVyIGFjdHVhbGx5IGhhcHBlbi5cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQXV0aEVycm9yKFwiRXJyb3IgY3JlYXRpbmcgb3IgZmluZGluZyBhY2NvdW50XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ3JlYXRlIG5ldyBhdXRoZW50aWNhdG9yIGlmIG5lZWRlZFxuICAgICAgICAgICAgaWYgKGF1dGhlbnRpY2F0b3IgJiYgbG9nZ2VkSW5Vc2VyLmlkKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgbG9jYWxPcHRpb25zLmFkYXB0ZXIuY3JlYXRlQXV0aGVudGljYXRvcih7IC4uLmF1dGhlbnRpY2F0b3IsIHVzZXJJZDogbG9nZ2VkSW5Vc2VyLmlkIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRG8gdGhlIHNlc3Npb24gcmVnaXN0ZXJpbmcgZGFuY2VcbiAgICAgICAgICAgIGlmICh1c2VKd3RTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVmYXVsdFRva2VuID0ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBsb2dnZWRJblVzZXIubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IGxvZ2dlZEluVXNlci5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgcGljdHVyZTogbG9nZ2VkSW5Vc2VyLmltYWdlLFxuICAgICAgICAgICAgICAgICAgICBzdWI6IGxvZ2dlZEluVXNlci5pZD8udG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuID0gYXdhaXQgY2FsbGJhY2tzLmp3dCh7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiBkZWZhdWx0VG9rZW4sXG4gICAgICAgICAgICAgICAgICAgIHVzZXI6IGxvZ2dlZEluVXNlcixcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudDogY3VycmVudEFjY291bnQsXG4gICAgICAgICAgICAgICAgICAgIGlzTmV3VXNlcixcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogaXNOZXdVc2VyID8gXCJzaWduVXBcIiA6IFwic2lnbkluXCIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgY29va2llcyBpZiB0b2tlbiBpcyBudWxsXG4gICAgICAgICAgICAgICAgaWYgKHRva2VuID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvb2tpZXMucHVzaCguLi5zZXNzaW9uU3RvcmUuY2xlYW4oKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzYWx0ID0gb3B0aW9ucy5jb29raWVzLnNlc3Npb25Ub2tlbi5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAvLyBFbmNvZGUgdG9rZW5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3VG9rZW4gPSBhd2FpdCBqd3QuZW5jb2RlKHsgLi4uand0LCB0b2tlbiwgc2FsdCB9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2V0IGNvb2tpZSBleHBpcnkgZGF0ZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb29raWVFeHBpcmVzID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgY29va2llRXhwaXJlcy5zZXRUaW1lKGNvb2tpZUV4cGlyZXMuZ2V0VGltZSgpICsgc2Vzc2lvbk1heEFnZSAqIDEwMDApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXNzaW9uQ29va2llcyA9IHNlc3Npb25TdG9yZS5jaHVuayhuZXdUb2tlbiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlczogY29va2llRXhwaXJlcyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvb2tpZXMucHVzaCguLi5zZXNzaW9uQ29va2llcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gU2F2ZSBTZXNzaW9uIFRva2VuIGluIGNvb2tpZVxuICAgICAgICAgICAgICAgIGNvb2tpZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG9wdGlvbnMuY29va2llcy5zZXNzaW9uVG9rZW4ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHNlc3Npb24uc2Vzc2lvblRva2VuLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5vcHRpb25zLmNvb2tpZXMuc2Vzc2lvblRva2VuLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBpcmVzOiBzZXNzaW9uLmV4cGlyZXMsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCBldmVudHMuc2lnbkluPy4oeyB1c2VyOiBsb2dnZWRJblVzZXIsIGFjY291bnQ6IGN1cnJlbnRBY2NvdW50LCBpc05ld1VzZXIgfSk7XG4gICAgICAgICAgICAvLyBIYW5kbGUgZmlyc3QgbG9naW5zIG9uIG5ldyBhY2NvdW50c1xuICAgICAgICAgICAgLy8gZS5nLiBvcHRpb24gdG8gc2VuZCB1c2VycyB0byBhIG5ldyBhY2NvdW50IGxhbmRpbmcgcGFnZSBvbiBpbml0aWFsIGxvZ2luXG4gICAgICAgICAgICAvLyBOb3RlIHRoYXQgdGhlIGNhbGxiYWNrIFVSTCBpcyBwcmVzZXJ2ZWQsIHNvIHRoZSBqb3VybmV5IGNhbiBzdGlsbCBiZSByZXN1bWVkXG4gICAgICAgICAgICBpZiAoaXNOZXdVc2VyICYmIHBhZ2VzLm5ld1VzZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICByZWRpcmVjdDogYCR7cGFnZXMubmV3VXNlcn0ke3BhZ2VzLm5ld1VzZXIuaW5jbHVkZXMoXCI/XCIpID8gXCImXCIgOiBcIj9cIn0ke25ldyBVUkxTZWFyY2hQYXJhbXMoeyBjYWxsYmFja1VybCB9KX1gLFxuICAgICAgICAgICAgICAgICAgICBjb29raWVzLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDYWxsYmFjayBVUkwgaXMgYWxyZWFkeSB2ZXJpZmllZCBhdCB0aGlzIHBvaW50LCBzbyBzYWZlIHRvIHVzZSBpZiBzcGVjaWZpZWRcbiAgICAgICAgICAgIHJldHVybiB7IHJlZGlyZWN0OiBjYWxsYmFja1VybCwgY29va2llcyB9O1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBJbnZhbGlkUHJvdmlkZXIoYENhbGxiYWNrIGZvciBwcm92aWRlciB0eXBlICgke3Byb3ZpZGVyLnR5cGV9KSBpcyBub3Qgc3VwcG9ydGVkYCk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgQXV0aEVycm9yKVxuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgQ2FsbGJhY2tSb3V0ZUVycm9yKGUsIHsgcHJvdmlkZXI6IHByb3ZpZGVyLmlkIH0pO1xuICAgICAgICBsb2dnZXIuZGVidWcoXCJjYWxsYmFjayByb3V0ZSBlcnJvciBkZXRhaWxzXCIsIHsgbWV0aG9kLCBxdWVyeSwgYm9keSB9KTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxufVxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlQXV0aG9yaXplZChwYXJhbXMsIGNvbmZpZykge1xuICAgIGxldCBhdXRob3JpemVkO1xuICAgIGNvbnN0IHsgc2lnbkluLCByZWRpcmVjdCB9ID0gY29uZmlnLmNhbGxiYWNrcztcbiAgICB0cnkge1xuICAgICAgICBhdXRob3JpemVkID0gYXdhaXQgc2lnbkluKHBhcmFtcyk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgQXV0aEVycm9yKVxuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgdGhyb3cgbmV3IEF1dGhvcml6ZWRDYWxsYmFja0Vycm9yKGUpO1xuICAgIH1cbiAgICBpZiAoIWF1dGhvcml6ZWQpXG4gICAgICAgIHRocm93IG5ldyBBdXRob3JpemVkQ2FsbGJhY2tFcnJvcihcIkFjY2Vzc0RlbmllZFwiKTtcbiAgICBpZiAodHlwZW9mIGF1dGhvcml6ZWQgIT09IFwic3RyaW5nXCIpXG4gICAgICAgIHJldHVybjtcbiAgICByZXR1cm4gYXdhaXQgcmVkaXJlY3QoeyB1cmw6IGF1dGhvcml6ZWQsIGJhc2VVcmw6IGNvbmZpZy51cmwub3JpZ2luIH0pO1xufVxuIl0sIm5hbWVzIjpbIkF1dGhFcnJvciIsIkF1dGhvcml6ZWRDYWxsYmFja0Vycm9yIiwiQ2FsbGJhY2tSb3V0ZUVycm9yIiwiQ3JlZGVudGlhbHNTaWduaW4iLCJJbnZhbGlkUHJvdmlkZXIiLCJWZXJpZmljYXRpb24iLCJoYW5kbGVMb2dpbk9yUmVnaXN0ZXIiLCJoYW5kbGVPQXV0aCIsImhhbmRsZVN0YXRlIiwiY3JlYXRlSGFzaCIsImFzc2VydEludGVybmFsT3B0aW9uc1dlYkF1dGhuIiwidmVyaWZ5QXV0aGVudGljYXRlIiwidmVyaWZ5UmVnaXN0ZXIiLCJjYWxsYmFjayIsInJlcXVlc3QiLCJvcHRpb25zIiwic2Vzc2lvblN0b3JlIiwiY29va2llcyIsInByb3ZpZGVyIiwicXVlcnkiLCJib2R5IiwibWV0aG9kIiwiaGVhZGVycyIsImFkYXB0ZXIiLCJ1cmwiLCJjYWxsYmFja1VybCIsInBhZ2VzIiwiand0IiwiZXZlbnRzIiwiY2FsbGJhY2tzIiwic2Vzc2lvbiIsInN0cmF0ZWd5Iiwic2Vzc2lvblN0cmF0ZWd5IiwibWF4QWdlIiwic2Vzc2lvbk1heEFnZSIsImxvZ2dlciIsInVzZUp3dFNlc3Npb24iLCJ0eXBlIiwicHJveHlSZWRpcmVjdCIsInJhbmRvbVN0YXRlIiwiaXNPblJlZGlyZWN0UHJveHkiLCJkZWJ1ZyIsInJlZGlyZWN0IiwiYXV0aG9yaXphdGlvblJlc3VsdCIsImxlbmd0aCIsInB1c2giLCJ1c2VyIiwidXNlckZyb21Qcm92aWRlciIsImFjY291bnQiLCJwcm9maWxlIiwiT0F1dGhQcm9maWxlIiwidXNlckJ5QWNjb3VudCIsImdldFVzZXJCeUFjY291bnQiLCJwcm92aWRlckFjY291bnRJZCIsImlkIiwiaGFuZGxlQXV0aG9yaXplZCIsImlzTmV3VXNlciIsInZhbHVlIiwiZGVmYXVsdFRva2VuIiwibmFtZSIsImVtYWlsIiwicGljdHVyZSIsImltYWdlIiwic3ViIiwidG9TdHJpbmciLCJ0b2tlbiIsInRyaWdnZXIiLCJjbGVhbiIsInNhbHQiLCJzZXNzaW9uVG9rZW4iLCJuZXdUb2tlbiIsImVuY29kZSIsImNvb2tpZUV4cGlyZXMiLCJEYXRlIiwic2V0VGltZSIsImdldFRpbWUiLCJzZXNzaW9uQ29va2llcyIsImNodW5rIiwiZXhwaXJlcyIsInNpZ25JbiIsIm5ld1VzZXIiLCJpbmNsdWRlcyIsIlVSTFNlYXJjaFBhcmFtcyIsImlkZW50aWZpZXIiLCJlIiwiVHlwZUVycm9yIiwiY2F1c2UiLCJoYXNUb2tlbiIsImhhc0VtYWlsIiwic2VjcmV0IiwiaW52aXRlIiwidXNlVmVyaWZpY2F0aW9uVG9rZW4iLCJoYXNJbnZpdGUiLCJleHBpcmVkIiwidmFsdWVPZiIsIm5vdyIsInVuZGVmaW5lZCIsImludmFsaWRJbnZpdGUiLCJnZXRVc2VyQnlFbWFpbCIsImNyeXB0byIsInJhbmRvbVVVSUQiLCJlbWFpbFZlcmlmaWVkIiwidXNlcklkIiwibG9nZ2VkSW5Vc2VyIiwiY3JlZGVudGlhbHMiLCJPYmplY3QiLCJlbnRyaWVzIiwiZm9yRWFjaCIsImsiLCJ2Iiwic2VhcmNoUGFyYW1zIiwic2V0IiwidXNlckZyb21BdXRob3JpemUiLCJhdXRob3JpemUiLCJSZXF1ZXN0IiwiSlNPTiIsInN0cmluZ2lmeSIsImFjdGlvbiIsImxvY2FsT3B0aW9ucyIsImF1dGhlbnRpY2F0b3IiLCJ2ZXJpZmllZCIsImN1cnJlbnRBY2NvdW50IiwiY3JlYXRlQXV0aGVudGljYXRvciIsImVycm9yIiwicGFyYW1zIiwiY29uZmlnIiwiYXV0aG9yaXplZCIsImJhc2VVcmwiLCJvcmlnaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/lib/actions/callback/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/lib/actions/callback/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/@auth/core/lib/actions/callback/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   callback: () => (/* binding */ callback)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../errors.js */ \"(rsc)/./node_modules/@auth/core/errors.js\");\n/* harmony import */ var _handle_login_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./handle-login.js */ \"(rsc)/./node_modules/@auth/core/lib/actions/callback/handle-login.js\");\n/* harmony import */ var _oauth_callback_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./oauth/callback.js */ \"(rsc)/./node_modules/@auth/core/lib/actions/callback/oauth/callback.js\");\n/* harmony import */ var _oauth_checks_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./oauth/checks.js */ \"(rsc)/./node_modules/@auth/core/lib/actions/callback/oauth/checks.js\");\n/* harmony import */ var _utils_web_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/web.js */ \"(rsc)/./node_modules/@auth/core/lib/utils/web.js\");\n/* harmony import */ var _utils_webauthn_utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/webauthn-utils.js */ \"(rsc)/./node_modules/@auth/core/lib/utils/webauthn-utils.js\");\n// TODO: Make this file smaller\n\n\n\n\n\n\n/** Handle callbacks from login services */ async function callback(request, options, sessionStore, cookies) {\n    if (!options.provider) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.InvalidProvider(\"Callback route called without provider\");\n    const { query, body, method, headers } = request;\n    const { provider, adapter, url, callbackUrl, pages, jwt, events, callbacks, session: { strategy: sessionStrategy, maxAge: sessionMaxAge }, logger } = options;\n    const useJwtSession = sessionStrategy === \"jwt\";\n    try {\n        if (provider.type === \"oauth\" || provider.type === \"oidc\") {\n            const { proxyRedirect, randomState } = (0,_oauth_checks_js__WEBPACK_IMPORTED_MODULE_3__.handleState)(query, provider, options.isOnRedirectProxy);\n            if (proxyRedirect) {\n                logger.debug(\"proxy redirect\", {\n                    proxyRedirect,\n                    randomState\n                });\n                return {\n                    redirect: proxyRedirect\n                };\n            }\n            const authorizationResult = await (0,_oauth_callback_js__WEBPACK_IMPORTED_MODULE_2__.handleOAuth)(query, request.cookies, options, randomState);\n            if (authorizationResult.cookies.length) {\n                cookies.push(...authorizationResult.cookies);\n            }\n            logger.debug(\"authorization result\", authorizationResult);\n            const { user: userFromProvider, account, profile: OAuthProfile } = authorizationResult;\n            // If we don't have a profile object then either something went wrong\n            // or the user cancelled signing in. We don't know which, so we just\n            // direct the user to the signin page for now. We could do something\n            // else in future.\n            // TODO: Handle user cancelling signin\n            if (!userFromProvider || !account || !OAuthProfile) {\n                return {\n                    redirect: `${url}/signin`,\n                    cookies\n                };\n            }\n            // Check if user is allowed to sign in\n            // Attempt to get Profile from OAuth provider details before invoking\n            // signIn callback - but if no user object is returned, that is fine\n            // (that just means it's a new user signing in for the first time).\n            let userByAccount;\n            if (adapter) {\n                const { getUserByAccount } = adapter;\n                userByAccount = await getUserByAccount({\n                    providerAccountId: account.providerAccountId,\n                    provider: provider.id\n                });\n            }\n            const redirect = await handleAuthorized({\n                user: userByAccount ?? userFromProvider,\n                account,\n                profile: OAuthProfile\n            }, options);\n            if (redirect) return {\n                redirect,\n                cookies\n            };\n            const { user, session, isNewUser } = await (0,_handle_login_js__WEBPACK_IMPORTED_MODULE_1__.handleLoginOrRegister)(sessionStore.value, userFromProvider, account, options);\n            if (useJwtSession) {\n                const defaultToken = {\n                    name: user.name,\n                    email: user.email,\n                    picture: user.image,\n                    sub: user.id?.toString()\n                };\n                const token = await callbacks.jwt({\n                    token: defaultToken,\n                    user,\n                    account,\n                    profile: OAuthProfile,\n                    isNewUser,\n                    trigger: isNewUser ? \"signUp\" : \"signIn\"\n                });\n                // Clear cookies if token is null\n                if (token === null) {\n                    cookies.push(...sessionStore.clean());\n                } else {\n                    const salt = options.cookies.sessionToken.name;\n                    // Encode token\n                    const newToken = await jwt.encode({\n                        ...jwt,\n                        token,\n                        salt\n                    });\n                    // Set cookie expiry date\n                    const cookieExpires = new Date();\n                    cookieExpires.setTime(cookieExpires.getTime() + sessionMaxAge * 1000);\n                    const sessionCookies = sessionStore.chunk(newToken, {\n                        expires: cookieExpires\n                    });\n                    cookies.push(...sessionCookies);\n                }\n            } else {\n                // Save Session Token in cookie\n                cookies.push({\n                    name: options.cookies.sessionToken.name,\n                    value: session.sessionToken,\n                    options: {\n                        ...options.cookies.sessionToken.options,\n                        expires: session.expires\n                    }\n                });\n            }\n            await events.signIn?.({\n                user,\n                account,\n                profile: OAuthProfile,\n                isNewUser\n            });\n            // Handle first logins on new accounts\n            // e.g. option to send users to a new account landing page on initial login\n            // Note that the callback URL is preserved, so the journey can still be resumed\n            if (isNewUser && pages.newUser) {\n                return {\n                    redirect: `${pages.newUser}${pages.newUser.includes(\"?\") ? \"&\" : \"?\"}${new URLSearchParams({\n                        callbackUrl\n                    })}`,\n                    cookies\n                };\n            }\n            return {\n                redirect: callbackUrl,\n                cookies\n            };\n        } else if (provider.type === \"email\") {\n            const token = query?.token;\n            const identifier = query?.email;\n            if (!token || !identifier) {\n                const e = new TypeError(\"Missing token or email. The sign-in URL was manually opened without token/identifier or the link was not sent correctly in the email.\", {\n                    cause: {\n                        hasToken: !!token,\n                        hasEmail: !!identifier\n                    }\n                });\n                e.name = \"Configuration\";\n                throw e;\n            }\n            const secret = provider.secret ?? options.secret;\n            // @ts-expect-error -- Verified in `assertConfig`.\n            const invite = await adapter.useVerificationToken({\n                identifier,\n                token: await (0,_utils_web_js__WEBPACK_IMPORTED_MODULE_4__.createHash)(`${token}${secret}`)\n            });\n            const hasInvite = !!invite;\n            const expired = invite ? invite.expires.valueOf() < Date.now() : undefined;\n            const invalidInvite = !hasInvite || expired;\n            if (invalidInvite) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.Verification({\n                hasInvite,\n                expired\n            });\n            const user = await adapter.getUserByEmail(identifier) ?? {\n                id: crypto.randomUUID(),\n                email: identifier,\n                emailVerified: null\n            };\n            const account = {\n                providerAccountId: user.email,\n                userId: user.id,\n                type: \"email\",\n                provider: provider.id\n            };\n            const redirect = await handleAuthorized({\n                user,\n                account\n            }, options);\n            if (redirect) return {\n                redirect,\n                cookies\n            };\n            // Sign user in\n            const { user: loggedInUser, session, isNewUser } = await (0,_handle_login_js__WEBPACK_IMPORTED_MODULE_1__.handleLoginOrRegister)(sessionStore.value, user, account, options);\n            if (useJwtSession) {\n                const defaultToken = {\n                    name: loggedInUser.name,\n                    email: loggedInUser.email,\n                    picture: loggedInUser.image,\n                    sub: loggedInUser.id?.toString()\n                };\n                const token = await callbacks.jwt({\n                    token: defaultToken,\n                    user: loggedInUser,\n                    account,\n                    isNewUser,\n                    trigger: isNewUser ? \"signUp\" : \"signIn\"\n                });\n                // Clear cookies if token is null\n                if (token === null) {\n                    cookies.push(...sessionStore.clean());\n                } else {\n                    const salt = options.cookies.sessionToken.name;\n                    // Encode token\n                    const newToken = await jwt.encode({\n                        ...jwt,\n                        token,\n                        salt\n                    });\n                    // Set cookie expiry date\n                    const cookieExpires = new Date();\n                    cookieExpires.setTime(cookieExpires.getTime() + sessionMaxAge * 1000);\n                    const sessionCookies = sessionStore.chunk(newToken, {\n                        expires: cookieExpires\n                    });\n                    cookies.push(...sessionCookies);\n                }\n            } else {\n                // Save Session Token in cookie\n                cookies.push({\n                    name: options.cookies.sessionToken.name,\n                    value: session.sessionToken,\n                    options: {\n                        ...options.cookies.sessionToken.options,\n                        expires: session.expires\n                    }\n                });\n            }\n            await events.signIn?.({\n                user: loggedInUser,\n                account,\n                isNewUser\n            });\n            // Handle first logins on new accounts\n            // e.g. option to send users to a new account landing page on initial login\n            // Note that the callback URL is preserved, so the journey can still be resumed\n            if (isNewUser && pages.newUser) {\n                return {\n                    redirect: `${pages.newUser}${pages.newUser.includes(\"?\") ? \"&\" : \"?\"}${new URLSearchParams({\n                        callbackUrl\n                    })}`,\n                    cookies\n                };\n            }\n            // Callback URL is already verified at this point, so safe to use if specified\n            return {\n                redirect: callbackUrl,\n                cookies\n            };\n        } else if (provider.type === \"credentials\" && method === \"POST\") {\n            const credentials = body ?? {};\n            // TODO: Forward the original request as is, instead of reconstructing it\n            Object.entries(query ?? {}).forEach(([k, v])=>url.searchParams.set(k, v));\n            const userFromAuthorize = await provider.authorize(credentials, // prettier-ignore\n            new Request(url, {\n                headers,\n                method,\n                body: JSON.stringify(body)\n            }));\n            const user = userFromAuthorize && {\n                ...userFromAuthorize,\n                id: userFromAuthorize?.id?.toString() ?? crypto.randomUUID()\n            };\n            if (!user) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.CredentialsSignin();\n            const account = {\n                providerAccountId: user.id,\n                type: \"credentials\",\n                provider: provider.id\n            };\n            const redirect = await handleAuthorized({\n                user,\n                account,\n                credentials\n            }, options);\n            if (redirect) return {\n                redirect,\n                cookies\n            };\n            const defaultToken = {\n                name: user.name,\n                email: user.email,\n                picture: user.image,\n                sub: user.id\n            };\n            const token = await callbacks.jwt({\n                token: defaultToken,\n                user,\n                account,\n                isNewUser: false,\n                trigger: \"signIn\"\n            });\n            // Clear cookies if token is null\n            if (token === null) {\n                cookies.push(...sessionStore.clean());\n            } else {\n                const salt = options.cookies.sessionToken.name;\n                // Encode token\n                const newToken = await jwt.encode({\n                    ...jwt,\n                    token,\n                    salt\n                });\n                // Set cookie expiry date\n                const cookieExpires = new Date();\n                cookieExpires.setTime(cookieExpires.getTime() + sessionMaxAge * 1000);\n                const sessionCookies = sessionStore.chunk(newToken, {\n                    expires: cookieExpires\n                });\n                cookies.push(...sessionCookies);\n            }\n            await events.signIn?.({\n                user,\n                account\n            });\n            return {\n                redirect: callbackUrl,\n                cookies\n            };\n        } else if (provider.type === \"webauthn\" && method === \"POST\") {\n            // Get callback action from request. It should be either \"authenticate\" or \"register\"\n            const action = request.body?.action;\n            if (typeof action !== \"string\" || action !== \"authenticate\" && action !== \"register\") {\n                throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.AuthError(\"Invalid action parameter\");\n            }\n            // Return an error if the adapter is missing or if the provider\n            // is not a webauthn provider.\n            const localOptions = (0,_utils_webauthn_utils_js__WEBPACK_IMPORTED_MODULE_5__.assertInternalOptionsWebAuthn)(options);\n            // Verify request to get user, account and authenticator\n            let user;\n            let account;\n            let authenticator;\n            switch(action){\n                case \"authenticate\":\n                    {\n                        const verified = await (0,_utils_webauthn_utils_js__WEBPACK_IMPORTED_MODULE_5__.verifyAuthenticate)(localOptions, request, cookies);\n                        user = verified.user;\n                        account = verified.account;\n                        break;\n                    }\n                case \"register\":\n                    {\n                        const verified = await (0,_utils_webauthn_utils_js__WEBPACK_IMPORTED_MODULE_5__.verifyRegister)(options, request, cookies);\n                        user = verified.user;\n                        account = verified.account;\n                        authenticator = verified.authenticator;\n                        break;\n                    }\n            }\n            // Check if user is allowed to sign in\n            await handleAuthorized({\n                user,\n                account\n            }, options);\n            // Sign user in, creating them and their account if needed\n            const { user: loggedInUser, isNewUser, session, account: currentAccount } = await (0,_handle_login_js__WEBPACK_IMPORTED_MODULE_1__.handleLoginOrRegister)(sessionStore.value, user, account, options);\n            if (!currentAccount) {\n                // This is mostly for type checking. It should never actually happen.\n                throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.AuthError(\"Error creating or finding account\");\n            }\n            // Create new authenticator if needed\n            if (authenticator && loggedInUser.id) {\n                await localOptions.adapter.createAuthenticator({\n                    ...authenticator,\n                    userId: loggedInUser.id\n                });\n            }\n            // Do the session registering dance\n            if (useJwtSession) {\n                const defaultToken = {\n                    name: loggedInUser.name,\n                    email: loggedInUser.email,\n                    picture: loggedInUser.image,\n                    sub: loggedInUser.id?.toString()\n                };\n                const token = await callbacks.jwt({\n                    token: defaultToken,\n                    user: loggedInUser,\n                    account: currentAccount,\n                    isNewUser,\n                    trigger: isNewUser ? \"signUp\" : \"signIn\"\n                });\n                // Clear cookies if token is null\n                if (token === null) {\n                    cookies.push(...sessionStore.clean());\n                } else {\n                    const salt = options.cookies.sessionToken.name;\n                    // Encode token\n                    const newToken = await jwt.encode({\n                        ...jwt,\n                        token,\n                        salt\n                    });\n                    // Set cookie expiry date\n                    const cookieExpires = new Date();\n                    cookieExpires.setTime(cookieExpires.getTime() + sessionMaxAge * 1000);\n                    const sessionCookies = sessionStore.chunk(newToken, {\n                        expires: cookieExpires\n                    });\n                    cookies.push(...sessionCookies);\n                }\n            } else {\n                // Save Session Token in cookie\n                cookies.push({\n                    name: options.cookies.sessionToken.name,\n                    value: session.sessionToken,\n                    options: {\n                        ...options.cookies.sessionToken.options,\n                        expires: session.expires\n                    }\n                });\n            }\n            await events.signIn?.({\n                user: loggedInUser,\n                account: currentAccount,\n                isNewUser\n            });\n            // Handle first logins on new accounts\n            // e.g. option to send users to a new account landing page on initial login\n            // Note that the callback URL is preserved, so the journey can still be resumed\n            if (isNewUser && pages.newUser) {\n                return {\n                    redirect: `${pages.newUser}${pages.newUser.includes(\"?\") ? \"&\" : \"?\"}${new URLSearchParams({\n                        callbackUrl\n                    })}`,\n                    cookies\n                };\n            }\n            // Callback URL is already verified at this point, so safe to use if specified\n            return {\n                redirect: callbackUrl,\n                cookies\n            };\n        }\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.InvalidProvider(`Callback for provider type (${provider.type}) is not supported`);\n    } catch (e) {\n        if (e instanceof _errors_js__WEBPACK_IMPORTED_MODULE_0__.AuthError) throw e;\n        const error = new _errors_js__WEBPACK_IMPORTED_MODULE_0__.CallbackRouteError(e, {\n            provider: provider.id\n        });\n        logger.debug(\"callback route error details\", {\n            method,\n            query,\n            body\n        });\n        throw error;\n    }\n}\nasync function handleAuthorized(params, config) {\n    let authorized;\n    const { signIn, redirect } = config.callbacks;\n    try {\n        authorized = await signIn(params);\n    } catch (e) {\n        if (e instanceof _errors_js__WEBPACK_IMPORTED_MODULE_0__.AuthError) throw e;\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.AuthorizedCallbackError(e);\n    }\n    if (!authorized) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.AuthorizedCallbackError(\"AccessDenied\");\n    if (typeof authorized !== \"string\") return;\n    return await redirect({\n        url: authorized,\n        baseUrl: config.url.origin\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvYWN0aW9ucy9jYWxsYmFjay9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsK0JBQStCO0FBQ2dIO0FBQ3JGO0FBQ1I7QUFDRjtBQUNBO0FBQ2tFO0FBQ2xILHlDQUF5QyxHQUNsQyxlQUFlYSxTQUFTQyxPQUFPLEVBQUVDLE9BQU8sRUFBRUMsWUFBWSxFQUFFQyxPQUFPO0lBQ2xFLElBQUksQ0FBQ0YsUUFBUUcsUUFBUSxFQUNqQixNQUFNLElBQUlkLHVEQUFlQSxDQUFDO0lBQzlCLE1BQU0sRUFBRWUsS0FBSyxFQUFFQyxJQUFJLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxFQUFFLEdBQUdSO0lBQ3pDLE1BQU0sRUFBRUksUUFBUSxFQUFFSyxPQUFPLEVBQUVDLEdBQUcsRUFBRUMsV0FBVyxFQUFFQyxLQUFLLEVBQUVDLEdBQUcsRUFBRUMsTUFBTSxFQUFFQyxTQUFTLEVBQUVDLFNBQVMsRUFBRUMsVUFBVUMsZUFBZSxFQUFFQyxRQUFRQyxhQUFhLEVBQUUsRUFBRUMsTUFBTSxFQUFHLEdBQUdwQjtJQUN2SixNQUFNcUIsZ0JBQWdCSixvQkFBb0I7SUFDMUMsSUFBSTtRQUNBLElBQUlkLFNBQVNtQixJQUFJLEtBQUssV0FBV25CLFNBQVNtQixJQUFJLEtBQUssUUFBUTtZQUN2RCxNQUFNLEVBQUVDLGFBQWEsRUFBRUMsV0FBVyxFQUFFLEdBQUcvQiw2REFBV0EsQ0FBQ1csT0FBT0QsVUFBVUgsUUFBUXlCLGlCQUFpQjtZQUM3RixJQUFJRixlQUFlO2dCQUNmSCxPQUFPTSxLQUFLLENBQUMsa0JBQWtCO29CQUFFSDtvQkFBZUM7Z0JBQVk7Z0JBQzVELE9BQU87b0JBQUVHLFVBQVVKO2dCQUFjO1lBQ3JDO1lBQ0EsTUFBTUssc0JBQXNCLE1BQU1wQywrREFBV0EsQ0FBQ1ksT0FBT0wsUUFBUUcsT0FBTyxFQUFFRixTQUFTd0I7WUFDL0UsSUFBSUksb0JBQW9CMUIsT0FBTyxDQUFDMkIs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RUFBRSxJQUFJQyxnQkFBZ0I7d0JBQUV6RDtvQkFBWSxHQUFHLENBQUM7b0JBQzdHUjtnQkFDSjtZQUNKO1lBQ0EsOEVBQThFO1lBQzlFLE9BQU87Z0JBQUV5QixVQUFVakI7Z0JBQWFSO1lBQVE7UUFDNUM7UUFDQSxNQUFNLElBQUliLHVEQUFlQSxDQUFDLENBQUMsNEJBQTRCLEVBQUVjLFNBQVNtQixJQUFJLENBQUMsa0JBQWtCLENBQUM7SUFDOUYsRUFDQSxPQUFPK0MsR0FBRztRQUNOLElBQUlBLGFBQWFwRixpREFBU0EsRUFDdEIsTUFBTW9GO1FBQ1YsTUFBTXVDLFFBQVEsSUFBSXpILDBEQUFrQkEsQ0FBQ2tGLEdBQUc7WUFBRWxFLFVBQVVBLFNBQVNvQyxFQUFFO1FBQUM7UUFDaEVuQixPQUFPTSxLQUFLLENBQUMsZ0NBQWdDO1lBQUVwQjtZQUFRRjtZQUFPQztRQUFLO1FBQ25FLE1BQU11RztJQUNWO0FBQ0o7QUFDQSxlQUFlcEUsaUJBQWlCcUUsTUFBTSxFQUFFQyxNQUFNO0lBQzFDLElBQUlDO0lBQ0osTUFBTSxFQUFFL0MsTUFBTSxFQUFFckMsUUFBUSxFQUFFLEdBQUdtRixPQUFPaEcsU0FBUztJQUM3QyxJQUFJO1FBQ0FpRyxhQUFhLE1BQU0vQyxPQUFPNkM7SUFDOUIsRUFDQSxPQUFPeEMsR0FBRztRQUNOLElBQUlBLGFBQWFwRixpREFBU0EsRUFDdEIsTUFBTW9GO1FBQ1YsTUFBTSxJQUFJbkYsK0RBQXVCQSxDQUFDbUY7SUFDdEM7SUFDQSxJQUFJLENBQUMwQyxZQUNELE1BQU0sSUFBSTdILCtEQUF1QkEsQ0FBQztJQUN0QyxJQUFJLE9BQU82SCxlQUFlLFVBQ3RCO0lBQ0osT0FBTyxNQUFNcEYsU0FBUztRQUFFbEIsS0FBS3NHO1FBQVlDLFNBQVNGLE9BQU9yRyxHQUFHLENBQUN3RyxNQUFNO0lBQUM7QUFDeEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LXJ4Ly4vbm9kZV9tb2R1bGVzL0BhdXRoL2NvcmUvbGliL2FjdGlvbnMvY2FsbGJhY2svaW5kZXguanM/YzVjMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUT0RPOiBNYWtlIHRoaXMgZmlsZSBzbWFsbGVyXG5pbXBvcnQgeyBBdXRoRXJyb3IsIEF1dGhvcml6ZWRDYWxsYmFja0Vycm9yLCBDYWxsYmFja1JvdXRlRXJyb3IsIENyZWRlbnRpYWxzU2lnbmluLCBJbnZhbGlkUHJvdmlkZXIsIFZlcmlmaWNhdGlvbiwgfSBmcm9tIFwiLi4vLi4vLi4vZXJyb3JzLmpzXCI7XG5pbXBvcnQgeyBoYW5kbGVMb2dpbk9yUmVnaXN0ZXIgfSBmcm9tIFwiLi9oYW5kbGUtbG9naW4uanNcIjtcbmltcG9ydCB7IGhhbmRsZU9BdXRoIH0gZnJvbSBcIi4vb2F1dGgvY2FsbGJhY2suanNcIjtcbmltcG9ydCB7IGhhbmRsZVN0YXRlIH0gZnJvbSBcIi4vb2F1dGgvY2hlY2tzLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVIYXNoIH0gZnJvbSBcIi4uLy4uL3V0aWxzL3dlYi5qc1wiO1xuaW1wb3J0IHsgYXNzZXJ0SW50ZXJuYWxPcHRpb25zV2ViQXV0aG4sIHZlcmlmeUF1dGhlbnRpY2F0ZSwgdmVyaWZ5UmVnaXN0ZXIgfSBmcm9tIFwiLi4vLi4vdXRpbHMvd2ViYXV0aG4tdXRpbHMuanNcIjtcbi8qKiBIYW5kbGUgY2FsbGJhY2tzIGZyb20gbG9naW4gc2VydmljZXMgKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjYWxsYmFjayhyZXF1ZXN0LCBvcHRpb25zLCBzZXNzaW9uU3RvcmUsIGNvb2tpZXMpIHtcbiAgICBpZiAoIW9wdGlvbnMucHJvdmlkZXIpXG4gICAgICAgIHRocm93IG5ldyBJbnZhbGlkUHJvdmlkZXIoXCJDYWxsYmFjayByb3V0ZSBjYWxsZWQgd2l0aG91dCBwcm92aWRlclwiKTtcbiAgICBjb25zdCB7IHF1ZXJ5LCBib2R5LCBtZXRob2QsIGhlYWRlcnMgfSA9IHJlcXVlc3Q7XG4gICAgY29uc3QgeyBwcm92aWRlciwgYWRhcHRlciwgdXJsLCBjYWxsYmFja1VybCwgcGFnZXMsIGp3dCwgZXZlbnRzLCBjYWxsYmFja3MsIHNlc3Npb246IHsgc3RyYXRlZ3k6IHNlc3Npb25TdHJhdGVneSwgbWF4QWdlOiBzZXNzaW9uTWF4QWdlIH0sIGxvZ2dlciwgfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgdXNlSnd0U2Vzc2lvbiA9IHNlc3Npb25TdHJhdGVneSA9PT0gXCJqd3RcIjtcbiAgICB0cnkge1xuICAgICAgICBpZiAocHJvdmlkZXIudHlwZSA9PT0gXCJvYXV0aFwiIHx8IHByb3ZpZGVyLnR5cGUgPT09IFwib2lkY1wiKSB7XG4gICAgICAgICAgICBjb25zdCB7IHByb3h5UmVkaXJlY3QsIHJhbmRvbVN0YXRlIH0gPSBoYW5kbGVTdGF0ZShxdWVyeSwgcHJvdmlkZXIsIG9wdGlvbnMuaXNPblJlZGlyZWN0UHJveHkpO1xuICAgICAgICAgICAgaWYgKHByb3h5UmVkaXJlY3QpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoXCJwcm94eSByZWRpcmVjdFwiLCB7IHByb3h5UmVkaXJlY3QsIHJhbmRvbVN0YXRlIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHJlZGlyZWN0OiBwcm94eVJlZGlyZWN0IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBhdXRob3JpemF0aW9uUmVzdWx0ID0gYXdhaXQgaGFuZGxlT0F1dGgocXVlcnksIHJlcXVlc3QuY29va2llcywgb3B0aW9ucywgcmFuZG9tU3RhdGUpO1xuICAgICAgICAgICAgaWYgKGF1dGhvcml6YXRpb25SZXN1bHQuY29va2llcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb29raWVzLnB1c2goLi4uYXV0aG9yaXphdGlvblJlc3VsdC5jb29raWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhcImF1dGhvcml6YXRpb24gcmVzdWx0XCIsIGF1dGhvcml6YXRpb25SZXN1bHQpO1xuICAgICAgICAgICAgY29uc3QgeyB1c2VyOiB1c2VyRnJvbVByb3ZpZGVyLCBhY2NvdW50LCBwcm9maWxlOiBPQXV0aFByb2ZpbGUsIH0gPSBhdXRob3JpemF0aW9uUmVzdWx0O1xuICAgICAgICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIHByb2ZpbGUgb2JqZWN0IHRoZW4gZWl0aGVyIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gICAgICAgICAgICAvLyBvciB0aGUgdXNlciBjYW5jZWxsZWQgc2lnbmluZyBpbi4gV2UgZG9uJ3Qga25vdyB3aGljaCwgc28gd2UganVzdFxuICAgICAgICAgICAgLy8gZGlyZWN0IHRoZSB1c2VyIHRvIHRoZSBzaWduaW4gcGFnZSBmb3Igbm93LiBXZSBjb3VsZCBkbyBzb21ldGhpbmdcbiAgICAgICAgICAgIC8vIGVsc2UgaW4gZnV0dXJlLlxuICAgICAgICAgICAgLy8gVE9ETzogSGFuZGxlIHVzZXIgY2FuY2VsbGluZyBzaWduaW5cbiAgICAgICAgICAgIGlmICghdXNlckZyb21Qcm92aWRlciB8fCAhYWNjb3VudCB8fCAhT0F1dGhQcm9maWxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgcmVkaXJlY3Q6IGAke3VybH0vc2lnbmluYCwgY29va2llcyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdXNlciBpcyBhbGxvd2VkIHRvIHNpZ24gaW5cbiAgICAgICAgICAgIC8vIEF0dGVtcHQgdG8gZ2V0IFByb2ZpbGUgZnJvbSBPQXV0aCBwcm92aWRlciBkZXRhaWxzIGJlZm9yZSBpbnZva2luZ1xuICAgICAgICAgICAgLy8gc2lnbkluIGNhbGxiYWNrIC0gYnV0IGlmIG5vIHVzZXIgb2JqZWN0IGlzIHJldHVybmVkLCB0aGF0IGlzIGZpbmVcbiAgICAgICAgICAgIC8vICh0aGF0IGp1c3QgbWVhbnMgaXQncyBhIG5ldyB1c2VyIHNpZ25pbmcgaW4gZm9yIHRoZSBmaXJzdCB0aW1lKS5cbiAgICAgICAgICAgIGxldCB1c2VyQnlBY2NvdW50O1xuICAgICAgICAgICAgaWYgKGFkYXB0ZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGdldFVzZXJCeUFjY291bnQgfSA9IGFkYXB0ZXI7XG4gICAgICAgICAgICAgICAgdXNlckJ5QWNjb3VudCA9IGF3YWl0IGdldFVzZXJCeUFjY291bnQoe1xuICAgICAgICAgICAgICAgICAgICBwcm92aWRlckFjY291bnRJZDogYWNjb3VudC5wcm92aWRlckFjY291bnRJZCxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXI6IHByb3ZpZGVyLmlkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVkaXJlY3QgPSBhd2FpdCBoYW5kbGVBdXRob3JpemVkKHtcbiAgICAgICAgICAgICAgICB1c2VyOiB1c2VyQnlBY2NvdW50ID8/IHVzZXJGcm9tUHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgYWNjb3VudCxcbiAgICAgICAgICAgICAgICBwcm9maWxlOiBPQXV0aFByb2ZpbGUsXG4gICAgICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgICAgIGlmIChyZWRpcmVjdClcbiAgICAgICAgICAgICAgICByZXR1cm4geyByZWRpcmVjdCwgY29va2llcyB9O1xuICAgICAgICAgICAgY29uc3QgeyB1c2VyLCBzZXNzaW9uLCBpc05ld1VzZXIgfSA9IGF3YWl0IGhhbmRsZUxvZ2luT3JSZWdpc3RlcihzZXNzaW9uU3RvcmUudmFsdWUsIHVzZXJGcm9tUHJvdmlkZXIsIGFjY291bnQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKHVzZUp3dFNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0VG9rZW4gPSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgIHBpY3R1cmU6IHVzZXIuaW1hZ2UsXG4gICAgICAgICAgICAgICAgICAgIHN1YjogdXNlci5pZD8udG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuID0gYXdhaXQgY2FsbGJhY2tzLmp3dCh7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiBkZWZhdWx0VG9rZW4sXG4gICAgICAgICAgICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgICAgICAgICAgIGFjY291bnQsXG4gICAgICAgICAgICAgICAgICAgIHByb2ZpbGU6IE9BdXRoUHJvZmlsZSxcbiAgICAgICAgICAgICAgICAgICAgaXNOZXdVc2VyLFxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiBpc05ld1VzZXIgPyBcInNpZ25VcFwiIDogXCJzaWduSW5cIixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBDbGVhciBjb29raWVzIGlmIHRva2VuIGlzIG51bGxcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29va2llcy5wdXNoKC4uLnNlc3Npb25TdG9yZS5jbGVhbigpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNhbHQgPSBvcHRpb25zLmNvb2tpZXMuc2Vzc2lvblRva2VuLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIEVuY29kZSB0b2tlblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdUb2tlbiA9IGF3YWl0IGp3dC5lbmNvZGUoeyAuLi5qd3QsIHRva2VuLCBzYWx0IH0pO1xuICAgICAgICAgICAgICAgICAgICAvLyBTZXQgY29va2llIGV4cGlyeSBkYXRlXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvb2tpZUV4cGlyZXMgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb29raWVFeHBpcmVzLnNldFRpbWUoY29va2llRXhwaXJlcy5nZXRUaW1lKCkgKyBzZXNzaW9uTWF4QWdlICogMTAwMCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlc3Npb25Db29raWVzID0gc2Vzc2lvblN0b3JlLmNodW5rKG5ld1Rva2VuLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBpcmVzOiBjb29raWVFeHBpcmVzLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29va2llcy5wdXNoKC4uLnNlc3Npb25Db29raWVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBTYXZlIFNlc3Npb24gVG9rZW4gaW4gY29va2llXG4gICAgICAgICAgICAgICAgY29va2llcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogb3B0aW9ucy5jb29raWVzLnNlc3Npb25Ub2tlbi5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogc2Vzc2lvbi5zZXNzaW9uVG9rZW4sXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMuY29va2llcy5zZXNzaW9uVG9rZW4ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZXM6IHNlc3Npb24uZXhwaXJlcyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IGV2ZW50cy5zaWduSW4/Lih7XG4gICAgICAgICAgICAgICAgdXNlcixcbiAgICAgICAgICAgICAgICBhY2NvdW50LFxuICAgICAgICAgICAgICAgIHByb2ZpbGU6IE9BdXRoUHJvZmlsZSxcbiAgICAgICAgICAgICAgICBpc05ld1VzZXIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBmaXJzdCBsb2dpbnMgb24gbmV3IGFjY291bnRzXG4gICAgICAgICAgICAvLyBlLmcuIG9wdGlvbiB0byBzZW5kIHVzZXJzIHRvIGEgbmV3IGFjY291bnQgbGFuZGluZyBwYWdlIG9uIGluaXRpYWwgbG9naW5cbiAgICAgICAgICAgIC8vIE5vdGUgdGhhdCB0aGUgY2FsbGJhY2sgVVJMIGlzIHByZXNlcnZlZCwgc28gdGhlIGpvdXJuZXkgY2FuIHN0aWxsIGJlIHJlc3VtZWRcbiAgICAgICAgICAgIGlmIChpc05ld1VzZXIgJiYgcGFnZXMubmV3VXNlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0OiBgJHtwYWdlcy5uZXdVc2VyfSR7cGFnZXMubmV3VXNlci5pbmNsdWRlcyhcIj9cIikgPyBcIiZcIiA6IFwiP1wifSR7bmV3IFVSTFNlYXJjaFBhcmFtcyh7IGNhbGxiYWNrVXJsIH0pfWAsXG4gICAgICAgICAgICAgICAgICAgIGNvb2tpZXMsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IHJlZGlyZWN0OiBjYWxsYmFja1VybCwgY29va2llcyB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb3ZpZGVyLnR5cGUgPT09IFwiZW1haWxcIikge1xuICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBxdWVyeT8udG9rZW47XG4gICAgICAgICAgICBjb25zdCBpZGVudGlmaWVyID0gcXVlcnk/LmVtYWlsO1xuICAgICAgICAgICAgaWYgKCF0b2tlbiB8fCAhaWRlbnRpZmllcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBuZXcgVHlwZUVycm9yKFwiTWlzc2luZyB0b2tlbiBvciBlbWFpbC4gVGhlIHNpZ24taW4gVVJMIHdhcyBtYW51YWxseSBvcGVuZWQgd2l0aG91dCB0b2tlbi9pZGVudGlmaWVyIG9yIHRoZSBsaW5rIHdhcyBub3Qgc2VudCBjb3JyZWN0bHkgaW4gdGhlIGVtYWlsLlwiLCB7IGNhdXNlOiB7IGhhc1Rva2VuOiAhIXRva2VuLCBoYXNFbWFpbDogISFpZGVudGlmaWVyIH0gfSk7XG4gICAgICAgICAgICAgICAgZS5uYW1lID0gXCJDb25maWd1cmF0aW9uXCI7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNlY3JldCA9IHByb3ZpZGVyLnNlY3JldCA/PyBvcHRpb25zLnNlY3JldDtcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLS0gVmVyaWZpZWQgaW4gYGFzc2VydENvbmZpZ2AuXG4gICAgICAgICAgICBjb25zdCBpbnZpdGUgPSBhd2FpdCBhZGFwdGVyLnVzZVZlcmlmaWNhdGlvblRva2VuKHtcbiAgICAgICAgICAgICAgICBpZGVudGlmaWVyLFxuICAgICAgICAgICAgICAgIHRva2VuOiBhd2FpdCBjcmVhdGVIYXNoKGAke3Rva2VufSR7c2VjcmV0fWApLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBoYXNJbnZpdGUgPSAhIWludml0ZTtcbiAgICAgICAgICAgIGNvbnN0IGV4cGlyZWQgPSBpbnZpdGUgPyBpbnZpdGUuZXhwaXJlcy52YWx1ZU9mKCkgPCBEYXRlLm5vdygpIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29uc3QgaW52YWxpZEludml0ZSA9ICFoYXNJbnZpdGUgfHwgZXhwaXJlZDtcbiAgICAgICAgICAgIGlmIChpbnZhbGlkSW52aXRlKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBWZXJpZmljYXRpb24oeyBoYXNJbnZpdGUsIGV4cGlyZWQgfSk7XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gKGF3YWl0IGFkYXB0ZXIuZ2V0VXNlckJ5RW1haWwoaWRlbnRpZmllcikpID8/IHtcbiAgICAgICAgICAgICAgICBpZDogY3J5cHRvLnJhbmRvbVVVSUQoKSxcbiAgICAgICAgICAgICAgICBlbWFpbDogaWRlbnRpZmllcixcbiAgICAgICAgICAgICAgICBlbWFpbFZlcmlmaWVkOiBudWxsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGFjY291bnQgPSB7XG4gICAgICAgICAgICAgICAgcHJvdmlkZXJBY2NvdW50SWQ6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICAgICAgdXNlcklkOiB1c2VyLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiZW1haWxcIixcbiAgICAgICAgICAgICAgICBwcm92aWRlcjogcHJvdmlkZXIuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVkaXJlY3QgPSBhd2FpdCBoYW5kbGVBdXRob3JpemVkKHsgdXNlciwgYWNjb3VudCB9LCBvcHRpb25zKTtcbiAgICAgICAgICAgIGlmIChyZWRpcmVjdClcbiAgICAgICAgICAgICAgICByZXR1cm4geyByZWRpcmVjdCwgY29va2llcyB9O1xuICAgICAgICAgICAgLy8gU2lnbiB1c2VyIGluXG4gICAgICAgICAgICBjb25zdCB7IHVzZXI6IGxvZ2dlZEluVXNlciwgc2Vzc2lvbiwgaXNOZXdVc2VyLCB9ID0gYXdhaXQgaGFuZGxlTG9naW5PclJlZ2lzdGVyKHNlc3Npb25TdG9yZS52YWx1ZSwgdXNlciwgYWNjb3VudCwgb3B0aW9ucyk7XG4gICAgICAgICAgICBpZiAodXNlSnd0U2Vzc2lvbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRUb2tlbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbG9nZ2VkSW5Vc2VyLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGVtYWlsOiBsb2dnZWRJblVzZXIuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgIHBpY3R1cmU6IGxvZ2dlZEluVXNlci5pbWFnZSxcbiAgICAgICAgICAgICAgICAgICAgc3ViOiBsb2dnZWRJblVzZXIuaWQ/LnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbiA9IGF3YWl0IGNhbGxiYWNrcy5qd3Qoe1xuICAgICAgICAgICAgICAgICAgICB0b2tlbjogZGVmYXVsdFRva2VuLFxuICAgICAgICAgICAgICAgICAgICB1c2VyOiBsb2dnZWRJblVzZXIsXG4gICAgICAgICAgICAgICAgICAgIGFjY291bnQsXG4gICAgICAgICAgICAgICAgICAgIGlzTmV3VXNlcixcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogaXNOZXdVc2VyID8gXCJzaWduVXBcIiA6IFwic2lnbkluXCIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgY29va2llcyBpZiB0b2tlbiBpcyBudWxsXG4gICAgICAgICAgICAgICAgaWYgKHRva2VuID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvb2tpZXMucHVzaCguLi5zZXNzaW9uU3RvcmUuY2xlYW4oKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzYWx0ID0gb3B0aW9ucy5jb29raWVzLnNlc3Npb25Ub2tlbi5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAvLyBFbmNvZGUgdG9rZW5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3VG9rZW4gPSBhd2FpdCBqd3QuZW5jb2RlKHsgLi4uand0LCB0b2tlbiwgc2FsdCB9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2V0IGNvb2tpZSBleHBpcnkgZGF0ZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb29raWVFeHBpcmVzID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgY29va2llRXhwaXJlcy5zZXRUaW1lKGNvb2tpZUV4cGlyZXMuZ2V0VGltZSgpICsgc2Vzc2lvbk1heEFnZSAqIDEwMDApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXNzaW9uQ29va2llcyA9IHNlc3Npb25TdG9yZS5jaHVuayhuZXdUb2tlbiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlczogY29va2llRXhwaXJlcyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvb2tpZXMucHVzaCguLi5zZXNzaW9uQ29va2llcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gU2F2ZSBTZXNzaW9uIFRva2VuIGluIGNvb2tpZVxuICAgICAgICAgICAgICAgIGNvb2tpZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG9wdGlvbnMuY29va2llcy5zZXNzaW9uVG9rZW4ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHNlc3Npb24uc2Vzc2lvblRva2VuLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5vcHRpb25zLmNvb2tpZXMuc2Vzc2lvblRva2VuLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBpcmVzOiBzZXNzaW9uLmV4cGlyZXMsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCBldmVudHMuc2lnbkluPy4oeyB1c2VyOiBsb2dnZWRJblVzZXIsIGFjY291bnQsIGlzTmV3VXNlciB9KTtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBmaXJzdCBsb2dpbnMgb24gbmV3IGFjY291bnRzXG4gICAgICAgICAgICAvLyBlLmcuIG9wdGlvbiB0byBzZW5kIHVzZXJzIHRvIGEgbmV3IGFjY291bnQgbGFuZGluZyBwYWdlIG9uIGluaXRpYWwgbG9naW5cbiAgICAgICAgICAgIC8vIE5vdGUgdGhhdCB0aGUgY2FsbGJhY2sgVVJMIGlzIHByZXNlcnZlZCwgc28gdGhlIGpvdXJuZXkgY2FuIHN0aWxsIGJlIHJlc3VtZWRcbiAgICAgICAgICAgIGlmIChpc05ld1VzZXIgJiYgcGFnZXMubmV3VXNlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0OiBgJHtwYWdlcy5uZXdVc2VyfSR7cGFnZXMubmV3VXNlci5pbmNsdWRlcyhcIj9cIikgPyBcIiZcIiA6IFwiP1wifSR7bmV3IFVSTFNlYXJjaFBhcmFtcyh7IGNhbGxiYWNrVXJsIH0pfWAsXG4gICAgICAgICAgICAgICAgICAgIGNvb2tpZXMsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENhbGxiYWNrIFVSTCBpcyBhbHJlYWR5IHZlcmlmaWVkIGF0IHRoaXMgcG9pbnQsIHNvIHNhZmUgdG8gdXNlIGlmIHNwZWNpZmllZFxuICAgICAgICAgICAgcmV0dXJuIHsgcmVkaXJlY3Q6IGNhbGxiYWNrVXJsLCBjb29raWVzIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvdmlkZXIudHlwZSA9PT0gXCJjcmVkZW50aWFsc1wiICYmIG1ldGhvZCA9PT0gXCJQT1NUXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNyZWRlbnRpYWxzID0gYm9keSA/PyB7fTtcbiAgICAgICAgICAgIC8vIFRPRE86IEZvcndhcmQgdGhlIG9yaWdpbmFsIHJlcXVlc3QgYXMgaXMsIGluc3RlYWQgb2YgcmVjb25zdHJ1Y3RpbmcgaXRcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKHF1ZXJ5ID8/IHt9KS5mb3JFYWNoKChbaywgdl0pID0+IHVybC5zZWFyY2hQYXJhbXMuc2V0KGssIHYpKTtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJGcm9tQXV0aG9yaXplID0gYXdhaXQgcHJvdmlkZXIuYXV0aG9yaXplKGNyZWRlbnRpYWxzLCBcbiAgICAgICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgICAgICAgICAgbmV3IFJlcXVlc3QodXJsLCB7IGhlYWRlcnMsIG1ldGhvZCwgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSkgfSkpO1xuICAgICAgICAgICAgY29uc3QgdXNlciA9IHVzZXJGcm9tQXV0aG9yaXplICYmIHtcbiAgICAgICAgICAgICAgICAuLi51c2VyRnJvbUF1dGhvcml6ZSxcbiAgICAgICAgICAgICAgICBpZDogdXNlckZyb21BdXRob3JpemU/LmlkPy50b1N0cmluZygpID8/IGNyeXB0by5yYW5kb21VVUlEKCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKCF1c2VyKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBDcmVkZW50aWFsc1NpZ25pbigpO1xuICAgICAgICAgICAgY29uc3QgYWNjb3VudCA9IHtcbiAgICAgICAgICAgICAgICBwcm92aWRlckFjY291bnRJZDogdXNlci5pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNyZWRlbnRpYWxzXCIsXG4gICAgICAgICAgICAgICAgcHJvdmlkZXI6IHByb3ZpZGVyLmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlZGlyZWN0ID0gYXdhaXQgaGFuZGxlQXV0aG9yaXplZCh7IHVzZXIsIGFjY291bnQsIGNyZWRlbnRpYWxzIH0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKHJlZGlyZWN0KVxuICAgICAgICAgICAgICAgIHJldHVybiB7IHJlZGlyZWN0LCBjb29raWVzIH07XG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0VG9rZW4gPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgICAgIHBpY3R1cmU6IHVzZXIuaW1hZ2UsXG4gICAgICAgICAgICAgICAgc3ViOiB1c2VyLmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuID0gYXdhaXQgY2FsbGJhY2tzLmp3dCh7XG4gICAgICAgICAgICAgICAgdG9rZW46IGRlZmF1bHRUb2tlbixcbiAgICAgICAgICAgICAgICB1c2VyLFxuICAgICAgICAgICAgICAgIGFjY291bnQsXG4gICAgICAgICAgICAgICAgaXNOZXdVc2VyOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0cmlnZ2VyOiBcInNpZ25JblwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBDbGVhciBjb29raWVzIGlmIHRva2VuIGlzIG51bGxcbiAgICAgICAgICAgIGlmICh0b2tlbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvb2tpZXMucHVzaCguLi5zZXNzaW9uU3RvcmUuY2xlYW4oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzYWx0ID0gb3B0aW9ucy5jb29raWVzLnNlc3Npb25Ub2tlbi5uYW1lO1xuICAgICAgICAgICAgICAgIC8vIEVuY29kZSB0b2tlblxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1Rva2VuID0gYXdhaXQgand0LmVuY29kZSh7IC4uLmp3dCwgdG9rZW4sIHNhbHQgfSk7XG4gICAgICAgICAgICAgICAgLy8gU2V0IGNvb2tpZSBleHBpcnkgZGF0ZVxuICAgICAgICAgICAgICAgIGNvbnN0IGNvb2tpZUV4cGlyZXMgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgIGNvb2tpZUV4cGlyZXMuc2V0VGltZShjb29raWVFeHBpcmVzLmdldFRpbWUoKSArIHNlc3Npb25NYXhBZ2UgKiAxMDAwKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXNzaW9uQ29va2llcyA9IHNlc3Npb25TdG9yZS5jaHVuayhuZXdUb2tlbiwge1xuICAgICAgICAgICAgICAgICAgICBleHBpcmVzOiBjb29raWVFeHBpcmVzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvb2tpZXMucHVzaCguLi5zZXNzaW9uQ29va2llcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCBldmVudHMuc2lnbkluPy4oeyB1c2VyLCBhY2NvdW50IH0pO1xuICAgICAgICAgICAgcmV0dXJuIHsgcmVkaXJlY3Q6IGNhbGxiYWNrVXJsLCBjb29raWVzIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJvdmlkZXIudHlwZSA9PT0gXCJ3ZWJhdXRoblwiICYmIG1ldGhvZCA9PT0gXCJQT1NUXCIpIHtcbiAgICAgICAgICAgIC8vIEdldCBjYWxsYmFjayBhY3Rpb24gZnJvbSByZXF1ZXN0LiBJdCBzaG91bGQgYmUgZWl0aGVyIFwiYXV0aGVudGljYXRlXCIgb3IgXCJyZWdpc3RlclwiXG4gICAgICAgICAgICBjb25zdCBhY3Rpb24gPSByZXF1ZXN0LmJvZHk/LmFjdGlvbjtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYWN0aW9uICE9PSBcInN0cmluZ1wiIHx8IChhY3Rpb24gIT09IFwiYXV0aGVudGljYXRlXCIgJiYgYWN0aW9uICE9PSBcInJlZ2lzdGVyXCIpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEF1dGhFcnJvcihcIkludmFsaWQgYWN0aW9uIHBhcmFtZXRlclwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJldHVybiBhbiBlcnJvciBpZiB0aGUgYWRhcHRlciBpcyBtaXNzaW5nIG9yIGlmIHRoZSBwcm92aWRlclxuICAgICAgICAgICAgLy8gaXMgbm90IGEgd2ViYXV0aG4gcHJvdmlkZXIuXG4gICAgICAgICAgICBjb25zdCBsb2NhbE9wdGlvbnMgPSBhc3NlcnRJbnRlcm5hbE9wdGlvbnNXZWJBdXRobihvcHRpb25zKTtcbiAgICAgICAgICAgIC8vIFZlcmlmeSByZXF1ZXN0IHRvIGdldCB1c2VyLCBhY2NvdW50IGFuZCBhdXRoZW50aWNhdG9yXG4gICAgICAgICAgICBsZXQgdXNlcjtcbiAgICAgICAgICAgIGxldCBhY2NvdW50O1xuICAgICAgICAgICAgbGV0IGF1dGhlbnRpY2F0b3I7XG4gICAgICAgICAgICBzd2l0Y2ggKGFjdGlvbikge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJhdXRoZW50aWNhdGVcIjoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2ZXJpZmllZCA9IGF3YWl0IHZlcmlmeUF1dGhlbnRpY2F0ZShsb2NhbE9wdGlvbnMsIHJlcXVlc3QsIGNvb2tpZXMpO1xuICAgICAgICAgICAgICAgICAgICB1c2VyID0gdmVyaWZpZWQudXNlcjtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudCA9IHZlcmlmaWVkLmFjY291bnQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFwicmVnaXN0ZXJcIjoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2ZXJpZmllZCA9IGF3YWl0IHZlcmlmeVJlZ2lzdGVyKG9wdGlvbnMsIHJlcXVlc3QsIGNvb2tpZXMpO1xuICAgICAgICAgICAgICAgICAgICB1c2VyID0gdmVyaWZpZWQudXNlcjtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudCA9IHZlcmlmaWVkLmFjY291bnQ7XG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0b3IgPSB2ZXJpZmllZC5hdXRoZW50aWNhdG9yO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDaGVjayBpZiB1c2VyIGlzIGFsbG93ZWQgdG8gc2lnbiBpblxuICAgICAgICAgICAgYXdhaXQgaGFuZGxlQXV0aG9yaXplZCh7IHVzZXIsIGFjY291bnQgfSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAvLyBTaWduIHVzZXIgaW4sIGNyZWF0aW5nIHRoZW0gYW5kIHRoZWlyIGFjY291bnQgaWYgbmVlZGVkXG4gICAgICAgICAgICBjb25zdCB7IHVzZXI6IGxvZ2dlZEluVXNlciwgaXNOZXdVc2VyLCBzZXNzaW9uLCBhY2NvdW50OiBjdXJyZW50QWNjb3VudCB9ID0gYXdhaXQgaGFuZGxlTG9naW5PclJlZ2lzdGVyKHNlc3Npb25TdG9yZS52YWx1ZSwgdXNlciwgYWNjb3VudCwgb3B0aW9ucyk7XG4gICAgICAgICAgICBpZiAoIWN1cnJlbnRBY2NvdW50KSB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBtb3N0bHkgZm9yIHR5cGUgY2hlY2tpbmcuIEl0IHNob3VsZCBuZXZlciBhY3R1YWxseSBoYXBwZW4uXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEF1dGhFcnJvcihcIkVycm9yIGNyZWF0aW5nIG9yIGZpbmRpbmcgYWNjb3VudFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENyZWF0ZSBuZXcgYXV0aGVudGljYXRvciBpZiBuZWVkZWRcbiAgICAgICAgICAgIGlmIChhdXRoZW50aWNhdG9yICYmIGxvZ2dlZEluVXNlci5pZCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IGxvY2FsT3B0aW9ucy5hZGFwdGVyLmNyZWF0ZUF1dGhlbnRpY2F0b3IoeyAuLi5hdXRoZW50aWNhdG9yLCB1c2VySWQ6IGxvZ2dlZEluVXNlci5pZCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIERvIHRoZSBzZXNzaW9uIHJlZ2lzdGVyaW5nIGRhbmNlXG4gICAgICAgICAgICBpZiAodXNlSnd0U2Vzc2lvbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRUb2tlbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbG9nZ2VkSW5Vc2VyLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGVtYWlsOiBsb2dnZWRJblVzZXIuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgIHBpY3R1cmU6IGxvZ2dlZEluVXNlci5pbWFnZSxcbiAgICAgICAgICAgICAgICAgICAgc3ViOiBsb2dnZWRJblVzZXIuaWQ/LnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbiA9IGF3YWl0IGNhbGxiYWNrcy5qd3Qoe1xuICAgICAgICAgICAgICAgICAgICB0b2tlbjogZGVmYXVsdFRva2VuLFxuICAgICAgICAgICAgICAgICAgICB1c2VyOiBsb2dnZWRJblVzZXIsXG4gICAgICAgICAgICAgICAgICAgIGFjY291bnQ6IGN1cnJlbnRBY2NvdW50LFxuICAgICAgICAgICAgICAgICAgICBpc05ld1VzZXIsXG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXI6IGlzTmV3VXNlciA/IFwic2lnblVwXCIgOiBcInNpZ25JblwiLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIENsZWFyIGNvb2tpZXMgaWYgdG9rZW4gaXMgbnVsbFxuICAgICAgICAgICAgICAgIGlmICh0b2tlbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb29raWVzLnB1c2goLi4uc2Vzc2lvblN0b3JlLmNsZWFuKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2FsdCA9IG9wdGlvbnMuY29va2llcy5zZXNzaW9uVG9rZW4ubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gRW5jb2RlIHRva2VuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1Rva2VuID0gYXdhaXQgand0LmVuY29kZSh7IC4uLmp3dCwgdG9rZW4sIHNhbHQgfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNldCBjb29raWUgZXhwaXJ5IGRhdGVcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29va2llRXhwaXJlcyA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvb2tpZUV4cGlyZXMuc2V0VGltZShjb29raWVFeHBpcmVzLmdldFRpbWUoKSArIHNlc3Npb25NYXhBZ2UgKiAxMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbkNvb2tpZXMgPSBzZXNzaW9uU3RvcmUuY2h1bmsobmV3VG9rZW4sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZXM6IGNvb2tpZUV4cGlyZXMsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb29raWVzLnB1c2goLi4uc2Vzc2lvbkNvb2tpZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFNhdmUgU2Vzc2lvbiBUb2tlbiBpbiBjb29raWVcbiAgICAgICAgICAgICAgICBjb29raWVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBvcHRpb25zLmNvb2tpZXMuc2Vzc2lvblRva2VuLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzZXNzaW9uLnNlc3Npb25Ub2tlbixcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ub3B0aW9ucy5jb29raWVzLnNlc3Npb25Ub2tlbi5vcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlczogc2Vzc2lvbi5leHBpcmVzLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgZXZlbnRzLnNpZ25Jbj8uKHsgdXNlcjogbG9nZ2VkSW5Vc2VyLCBhY2NvdW50OiBjdXJyZW50QWNjb3VudCwgaXNOZXdVc2VyIH0pO1xuICAgICAgICAgICAgLy8gSGFuZGxlIGZpcnN0IGxvZ2lucyBvbiBuZXcgYWNjb3VudHNcbiAgICAgICAgICAgIC8vIGUuZy4gb3B0aW9uIHRvIHNlbmQgdXNlcnMgdG8gYSBuZXcgYWNjb3VudCBsYW5kaW5nIHBhZ2Ugb24gaW5pdGlhbCBsb2dpblxuICAgICAgICAgICAgLy8gTm90ZSB0aGF0IHRoZSBjYWxsYmFjayBVUkwgaXMgcHJlc2VydmVkLCBzbyB0aGUgam91cm5leSBjYW4gc3RpbGwgYmUgcmVzdW1lZFxuICAgICAgICAgICAgaWYgKGlzTmV3VXNlciAmJiBwYWdlcy5uZXdVc2VyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3Q6IGAke3BhZ2VzLm5ld1VzZXJ9JHtwYWdlcy5uZXdVc2VyLmluY2x1ZGVzKFwiP1wiKSA/IFwiJlwiIDogXCI/XCJ9JHtuZXcgVVJMU2VhcmNoUGFyYW1zKHsgY2FsbGJhY2tVcmwgfSl9YCxcbiAgICAgICAgICAgICAgICAgICAgY29va2llcyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ2FsbGJhY2sgVVJMIGlzIGFscmVhZHkgdmVyaWZpZWQgYXQgdGhpcyBwb2ludCwgc28gc2FmZSB0byB1c2UgaWYgc3BlY2lmaWVkXG4gICAgICAgICAgICByZXR1cm4geyByZWRpcmVjdDogY2FsbGJhY2tVcmwsIGNvb2tpZXMgfTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgSW52YWxpZFByb3ZpZGVyKGBDYWxsYmFjayBmb3IgcHJvdmlkZXIgdHlwZSAoJHtwcm92aWRlci50eXBlfSkgaXMgbm90IHN1cHBvcnRlZGApO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEF1dGhFcnJvcilcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIGNvbnN0IGVycm9yID0gbmV3IENhbGxiYWNrUm91dGVFcnJvcihlLCB7IHByb3ZpZGVyOiBwcm92aWRlci5pZCB9KTtcbiAgICAgICAgbG9nZ2VyLmRlYnVnKFwiY2FsbGJhY2sgcm91dGUgZXJyb3IgZGV0YWlsc1wiLCB7IG1ldGhvZCwgcXVlcnksIGJvZHkgfSk7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn1cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZUF1dGhvcml6ZWQocGFyYW1zLCBjb25maWcpIHtcbiAgICBsZXQgYXV0aG9yaXplZDtcbiAgICBjb25zdCB7IHNpZ25JbiwgcmVkaXJlY3QgfSA9IGNvbmZpZy5jYWxsYmFja3M7XG4gICAgdHJ5IHtcbiAgICAgICAgYXV0aG9yaXplZCA9IGF3YWl0IHNpZ25JbihwYXJhbXMpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEF1dGhFcnJvcilcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIHRocm93IG5ldyBBdXRob3JpemVkQ2FsbGJhY2tFcnJvcihlKTtcbiAgICB9XG4gICAgaWYgKCFhdXRob3JpemVkKVxuICAgICAgICB0aHJvdyBuZXcgQXV0aG9yaXplZENhbGxiYWNrRXJyb3IoXCJBY2Nlc3NEZW5pZWRcIik7XG4gICAgaWYgKHR5cGVvZiBhdXRob3JpemVkICE9PSBcInN0cmluZ1wiKVxuICAgICAgICByZXR1cm47XG4gICAgcmV0dXJuIGF3YWl0IHJlZGlyZWN0KHsgdXJsOiBhdXRob3JpemVkLCBiYXNlVXJsOiBjb25maWcudXJsLm9yaWdpbiB9KTtcbn1cbiJdLCJuYW1lcyI6WyJBdXRoRXJyb3IiLCJBdXRob3JpemVkQ2FsbGJhY2tFcnJvciIsIkNhbGxiYWNrUm91dGVFcnJvciIsIkNyZWRlbnRpYWxzU2lnbmluIiwiSW52YWxpZFByb3ZpZGVyIiwiVmVyaWZpY2F0aW9uIiwiaGFuZGxlTG9naW5PclJlZ2lzdGVyIiwiaGFuZGxlT0F1dGgiLCJoYW5kbGVTdGF0ZSIsImNyZWF0ZUhhc2giLCJhc3NlcnRJbnRlcm5hbE9wdGlvbnNXZWJBdXRobiIsInZlcmlmeUF1dGhlbnRpY2F0ZSIsInZlcmlmeVJlZ2lzdGVyIiwiY2FsbGJhY2siLCJyZXF1ZXN0Iiwib3B0aW9ucyIsInNlc3Npb25TdG9yZSIsImNvb2tpZXMiLCJwcm92aWRlciIsInF1ZXJ5IiwiYm9keSIsIm1ldGhvZCIsImhlYWRlcnMiLCJhZGFwdGVyIiwidXJsIiwiY2FsbGJhY2tVcmwiLCJwYWdlcyIsImp3dCIsImV2ZW50cyIsImNhbGxiYWNrcyIsInNlc3Npb24iLCJzdHJhdGVneSIsInNlc3Npb25TdHJhdGVneSIsIm1heEFnZSIsInNlc3Npb25NYXhBZ2UiLCJsb2dnZXIiLCJ1c2VKd3RTZXNzaW9uIiwidHlwZSIsInByb3h5UmVkaXJlY3QiLCJyYW5kb21TdGF0ZSIsImlzT25SZWRpcmVjdFByb3h5IiwiZGVidWciLCJyZWRpcmVjdCIsImF1dGhvcml6YXRpb25SZXN1bHQiLCJsZW5ndGgiLCJwdXNoIiwidXNlciIsInVzZXJGcm9tUHJvdmlkZXIiLCJhY2NvdW50IiwicHJvZmlsZSIsIk9BdXRoUHJvZmlsZSIsInVzZXJCeUFjY291bnQiLCJnZXRVc2VyQnlBY2NvdW50IiwicHJvdmlkZXJBY2NvdW50SWQiLCJpZCIsImhhbmRsZUF1dGhvcml6ZWQiLCJpc05ld1VzZXIiLCJ2YWx1ZSIsImRlZmF1bHRUb2tlbiIsIm5hbWUiLCJlbWFpbCIsInBpY3R1cmUiLCJpbWFnZSIsInN1YiIsInRvU3RyaW5nIiwidG9rZW4iLCJ0cmlnZ2VyIiwiY2xlYW4iLCJzYWx0Iiwic2Vzc2lvblRva2VuIiwibmV3VG9rZW4iLCJlbmNvZGUiLCJjb29raWVFeHBpcmVzIiwiRGF0ZSIsInNldFRpbWUiLCJnZXRUaW1lIiwic2Vzc2lvbkNvb2tpZXMiLCJjaHVuayIsImV4cGlyZXMiLCJzaWduSW4iLCJuZXdVc2VyIiwiaW5jbHVkZXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJpZGVudGlmaWVyIiwiZSIsIlR5cGVFcnJvciIsImNhdXNlIiwiaGFzVG9rZW4iLCJoYXNFbWFpbCIsInNlY3JldCIsImludml0ZSIsInVzZVZlcmlmaWNhdGlvblRva2VuIiwiaGFzSW52aXRlIiwiZXhwaXJlZCIsInZhbHVlT2YiLCJub3ciLCJ1bmRlZmluZWQiLCJpbnZhbGlkSW52aXRlIiwiZ2V0VXNlckJ5RW1haWwiLCJjcnlwdG8iLCJyYW5kb21VVUlEIiwiZW1haWxWZXJpZmllZCIsInVzZXJJZCIsImxvZ2dlZEluVXNlciIsImNyZWRlbnRpYWxzIiwiT2JqZWN0IiwiZW50cmllcyIsImZvckVhY2giLCJrIiwidiIsInNlYXJjaFBhcmFtcyIsInNldCIsInVzZXJGcm9tQXV0aG9yaXplIiwiYXV0aG9yaXplIiwiUmVxdWVzdCIsIkpTT04iLCJzdHJpbmdpZnkiLCJhY3Rpb24iLCJsb2NhbE9wdGlvbnMiLCJhdXRoZW50aWNhdG9yIiwidmVyaWZpZWQiLCJjdXJyZW50QWNjb3VudCIsImNyZWF0ZUF1dGhlbnRpY2F0b3IiLCJlcnJvciIsInBhcmFtcyIsImNvbmZpZyIsImF1dGhvcml6ZWQiLCJiYXNlVXJsIiwib3JpZ2luIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/lib/actions/callback/index.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/lib/actions/callback/oauth/callback.js":
/*!************************************************************************!*\
  !*** ./node_modules/@auth/core/lib/actions/callback/oauth/callback.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getUserAndAccount: () => (/* binding */ getUserAndAccount),\n/* harmony export */   handleOAuth: () => (/* binding */ handleOAuth)\n/* harmony export */ });\n/* harmony import */ var _checks_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./checks.js */ \"(action-browser)/./node_modules/@auth/core/lib/actions/callback/oauth/checks.js\");\n/* harmony import */ var oauth4webapi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! oauth4webapi */ \"(action-browser)/./node_modules/oauth4webapi/build/index.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../errors.js */ \"(action-browser)/./node_modules/@auth/core/errors.js\");\n\n\n\n/**\n * Handles the following OAuth steps.\n * https://www.rfc-editor.org/rfc/rfc6749#section-4.1.1\n * https://www.rfc-editor.org/rfc/rfc6749#section-4.1.3\n * https://openid.net/specs/openid-connect-core-1_0.html#UserInfoRequest\n *\n * @note Although requesting userinfo is not required by the OAuth2.0 spec,\n * we fetch it anyway. This is because we always want a user profile.\n */ async function handleOAuth(query, cookies, options, randomState) {\n    const { logger, provider } = options;\n    let as;\n    const { token, userinfo } = provider;\n    // Falls back to authjs.dev if the user only passed params\n    if ((!token?.url || token.url.host === \"authjs.dev\") && (!userinfo?.url || userinfo.url.host === \"authjs.dev\")) {\n        // We assume that issuer is always defined as this has been asserted earlier\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const issuer = new URL(provider.issuer);\n        const discoveryResponse = await oauth4webapi__WEBPACK_IMPORTED_MODULE_2__.discoveryRequest(issuer);\n        const discoveredAs = await oauth4webapi__WEBPACK_IMPORTED_MODULE_2__.processDiscoveryResponse(issuer, discoveryResponse);\n        if (!discoveredAs.token_endpoint) throw new TypeError(\"TODO: Authorization server did not provide a token endpoint.\");\n        if (!discoveredAs.userinfo_endpoint) throw new TypeError(\"TODO: Authorization server did not provide a userinfo endpoint.\");\n        as = discoveredAs;\n    } else {\n        as = {\n            issuer: provider.issuer ?? \"https://authjs.dev\",\n            token_endpoint: token?.url.toString(),\n            userinfo_endpoint: userinfo?.url.toString()\n        };\n    }\n    const client = {\n        client_id: provider.clientId,\n        client_secret: provider.clientSecret,\n        ...provider.client\n    };\n    const resCookies = [];\n    const state = await _checks_js__WEBPACK_IMPORTED_MODULE_0__.state.use(cookies, resCookies, options, randomState);\n    const codeGrantParams = oauth4webapi__WEBPACK_IMPORTED_MODULE_2__.validateAuthResponse(as, client, new URLSearchParams(query), provider.checks.includes(\"state\") ? state : oauth4webapi__WEBPACK_IMPORTED_MODULE_2__.skipStateCheck);\n    /** https://www.rfc-editor.org/rfc/rfc6749#section-4.1.2.1 */ if (oauth4webapi__WEBPACK_IMPORTED_MODULE_2__.isOAuth2Error(codeGrantParams)) {\n        const cause = {\n            providerId: provider.id,\n            ...codeGrantParams\n        };\n        logger.debug(\"OAuthCallbackError\", cause);\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.OAuthCallbackError(\"OAuth Provider returned an error\", cause);\n    }\n    const codeVerifier = await _checks_js__WEBPACK_IMPORTED_MODULE_0__.pkce.use(cookies, resCookies, options);\n    let redirect_uri = provider.callbackUrl;\n    if (!options.isOnRedirectProxy && provider.redirectProxyUrl) {\n        redirect_uri = provider.redirectProxyUrl;\n    }\n    let codeGrantResponse = await oauth4webapi__WEBPACK_IMPORTED_MODULE_2__.authorizationCodeGrantRequest(as, client, codeGrantParams, redirect_uri, codeVerifier ?? \"auth\" // TODO: review fallback code verifier\n    );\n    if (provider.token?.conform) {\n        codeGrantResponse = await provider.token.conform(codeGrantResponse.clone()) ?? codeGrantResponse;\n    }\n    let challenges;\n    if (challenges = oauth4webapi__WEBPACK_IMPORTED_MODULE_2__.parseWwwAuthenticateChallenges(codeGrantResponse)) {\n        for (const challenge of challenges){\n            console.log(\"challenge\", challenge);\n        }\n        throw new Error(\"TODO: Handle www-authenticate challenges as needed\");\n    }\n    let profile = {};\n    let tokens;\n    if (provider.type === \"oidc\") {\n        const nonce = await _checks_js__WEBPACK_IMPORTED_MODULE_0__.nonce.use(cookies, resCookies, options);\n        const result = await oauth4webapi__WEBPACK_IMPORTED_MODULE_2__.processAuthorizationCodeOpenIDResponse(as, client, codeGrantResponse, nonce ?? oauth4webapi__WEBPACK_IMPORTED_MODULE_2__.expectNoNonce);\n        if (oauth4webapi__WEBPACK_IMPORTED_MODULE_2__.isOAuth2Error(result)) {\n            console.log(\"error\", result);\n            throw new Error(\"TODO: Handle OIDC response body error\");\n        }\n        profile = oauth4webapi__WEBPACK_IMPORTED_MODULE_2__.getValidatedIdTokenClaims(result);\n        tokens = result;\n    } else {\n        tokens = await oauth4webapi__WEBPACK_IMPORTED_MODULE_2__.processAuthorizationCodeOAuth2Response(as, client, codeGrantResponse);\n        if (oauth4webapi__WEBPACK_IMPORTED_MODULE_2__.isOAuth2Error(tokens)) {\n            console.log(\"error\", tokens);\n            throw new Error(\"TODO: Handle OAuth 2.0 response body error\");\n        }\n        if (userinfo?.request) {\n            const _profile = await userinfo.request({\n                tokens,\n                provider\n            });\n            if (_profile instanceof Object) profile = _profile;\n        } else if (userinfo?.url) {\n            const userinfoResponse = await oauth4webapi__WEBPACK_IMPORTED_MODULE_2__.userInfoRequest(as, client, tokens.access_token);\n            profile = await userinfoResponse.json();\n        } else {\n            throw new TypeError(\"No userinfo endpoint configured\");\n        }\n    }\n    if (tokens.expires_in) {\n        tokens.expires_at = Math.floor(Date.now() / 1000) + Number(tokens.expires_in);\n    }\n    const profileResult = await getUserAndAccount(profile, provider, tokens, logger);\n    return {\n        ...profileResult,\n        profile,\n        cookies: resCookies\n    };\n}\n/**\n * Returns the user and account that is going to be created in the database.\n * @internal\n */ async function getUserAndAccount(OAuthProfile, provider, tokens, logger) {\n    try {\n        const userFromProfile = await provider.profile(OAuthProfile, tokens);\n        const user = {\n            ...userFromProfile,\n            id: crypto.randomUUID(),\n            email: userFromProfile.email?.toLowerCase()\n        };\n        return {\n            user,\n            account: {\n                ...tokens,\n                provider: provider.id,\n                type: provider.type,\n                providerAccountId: userFromProfile.id ?? crypto.randomUUID()\n            }\n        };\n    } catch (e) {\n        // If we didn't get a response either there was a problem with the provider\n        // response *or* the user cancelled the action with the provider.\n        //\n        // Unfortunately, we can't tell which - at least not in a way that works for\n        // all providers, so we return an empty object; the user should then be\n        // redirected back to the sign up page. We log the error to help developers\n        // who might be trying to debug this when configuring a new provider.\n        logger.debug(\"getProfile error details\", OAuthProfile);\n        logger.error(new _errors_js__WEBPACK_IMPORTED_MODULE_1__.OAuthProfileParseError(e, {\n            provider: provider.id\n        }));\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi9hY3Rpb25zL2NhbGxiYWNrL29hdXRoL2NhbGxiYWNrLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXNDO0FBQ0o7QUFDa0Q7QUFDcEY7Ozs7Ozs7O0NBUUMsR0FDTSxlQUFlSSxZQUFZQyxLQUFLLEVBQUVDLE9BQU8sRUFBRUMsT0FBTyxFQUFFQyxXQUFXO0lBQ2xFLE1BQU0sRUFBRUMsTUFBTSxFQUFFQyxRQUFRLEVBQUUsR0FBR0g7SUFDN0IsSUFBSUk7SUFDSixNQUFNLEVBQUVDLEtBQUssRUFBRUMsUUFBUSxFQUFFLEdBQUdIO0lBQzVCLDBEQUEwRDtJQUMxRCxJQUFJLENBQUMsQ0FBQ0UsT0FBT0UsT0FBT0YsTUFBTUUsR0FBRyxDQUFDQyxJQUFJLEtBQUssWUFBVyxLQUM3QyxFQUFDRixVQUFVQyxPQUFPRCxTQUFTQyxHQUFHLENBQUNDLElBQUksS0FBSyxZQUFXLEdBQUk7UUFDeEQsNEVBQTRFO1FBQzVFLG9FQUFvRTtRQUNwRSxNQUFNQyxTQUFTLElBQUlDLElBQUlQLFNBQVNNLE1BQU07UUFDdEMsTUFBTUUsb0JBQW9CLE1BQU1qQiwwREFBa0IsQ0FBQ2U7UUFDbkQsTUFBTUksZUFBZSxNQUFNbkIsa0VBQTBCLENBQUNlLFFBQVFFO1FBQzlELElBQUksQ0FBQ0UsYUFBYUUsY0FBYyxFQUM1QixNQUFNLElBQUlDLFVBQVU7UUFDeEIsSUFBSSxDQUFDSCxhQUFhSSxpQkFBaUIsRUFDL0IsTUFBTSxJQUFJRCxVQUFVO1FBQ3hCWixLQUFLUztJQUNULE9BQ0s7UUFDRFQsS0FBSztZQUNESyxRQUFRTixTQUFTTSxNQUFNLElBQUk7WUFDM0JNLGdCQUFnQlYsT0FBT0UsSUFBSVc7WUFDM0JELG1CQUFtQlgsVUFBVUMsSUFBSVc7UUFDckM7SUFDSjtJQUNBLE1BQU1DLFNBQVM7UUFDWEMsV0FBV2pCLFNBQVNrQixRQUFRO1FBQzVCQyxlQUFlbkIsU0FBU29CLFlBQVk7UUFD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ZSxVQUFVO0lBQ2hFO0lBQ0EsTUFBTU8sZ0JBQWdCLE1BQU1DLGtCQUFrQnhCLFNBQVNsRCxVQUFVbUQsUUFBUXBEO0lBQ3pFLE9BQU87UUFBRSxHQUFHMEUsYUFBYTtRQUFFdkI7UUFBU3RELFNBQVN5QjtJQUFXO0FBQzVEO0FBQ0E7OztDQUdDLEdBQ00sZUFBZXFELGtCQUFrQkMsWUFBWSxFQUFFM0UsUUFBUSxFQUFFbUQsTUFBTSxFQUFFcEQsTUFBTTtJQUMxRSxJQUFJO1FBQ0EsTUFBTTZFLGtCQUFrQixNQUFNNUUsU0FBU2tELE9BQU8sQ0FBQ3lCLGNBQWN4QjtRQUM3RCxNQUFNMEIsT0FBTztZQUNULEdBQUdELGVBQWU7WUFDbEI1QyxJQUFJOEMsT0FBT0MsVUFBVTtZQUNyQkMsT0FBT0osZ0JBQWdCSSxLQUFLLEVBQUVDO1FBQ2xDO1FBQ0EsT0FBTztZQUNISjtZQUNBSyxTQUFTO2dCQUNMLEdBQUcvQixNQUFNO2dCQUNUbkQsVUFBVUEsU0FBU2dDLEVBQUU7Z0JBQ3JCb0IsTUFBTXBELFNBQVNvRCxJQUFJO2dCQUNuQitCLG1CQUFtQlAsZ0JBQWdCNUMsRUFBRSxJQUFJOEMsT0FBT0MsVUFBVTtZQUM5RDtRQUNKO0lBQ0osRUFDQSxPQUFPSyxHQUFHO1FBQ04sMkVBQTJFO1FBQzNFLGlFQUFpRTtRQUNqRSxFQUFFO1FBQ0YsNEVBQTRFO1FBQzVFLHVFQUF1RTtRQUN2RSwyRUFBMkU7UUFDM0UscUVBQXFFO1FBQ3JFckYsT0FBT2tDLEtBQUssQ0FBQyw0QkFBNEIwQztRQUN6QzVFLE9BQU9zRixLQUFLLENBQUMsSUFBSTVGLDhEQUFzQkEsQ0FBQzJGLEdBQUc7WUFBRXBGLFVBQVVBLFNBQVNnQyxFQUFFO1FBQUM7SUFDdkU7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtcngvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvYWN0aW9ucy9jYWxsYmFjay9vYXV0aC9jYWxsYmFjay5qcz9lZjhjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGNoZWNrcyBmcm9tIFwiLi9jaGVja3MuanNcIjtcbmltcG9ydCAqIGFzIG8gZnJvbSBcIm9hdXRoNHdlYmFwaVwiO1xuaW1wb3J0IHsgT0F1dGhDYWxsYmFja0Vycm9yLCBPQXV0aFByb2ZpbGVQYXJzZUVycm9yLCB9IGZyb20gXCIuLi8uLi8uLi8uLi9lcnJvcnMuanNcIjtcbi8qKlxuICogSGFuZGxlcyB0aGUgZm9sbG93aW5nIE9BdXRoIHN0ZXBzLlxuICogaHR0cHM6Ly93d3cucmZjLWVkaXRvci5vcmcvcmZjL3JmYzY3NDkjc2VjdGlvbi00LjEuMVxuICogaHR0cHM6Ly93d3cucmZjLWVkaXRvci5vcmcvcmZjL3JmYzY3NDkjc2VjdGlvbi00LjEuM1xuICogaHR0cHM6Ly9vcGVuaWQubmV0L3NwZWNzL29wZW5pZC1jb25uZWN0LWNvcmUtMV8wLmh0bWwjVXNlckluZm9SZXF1ZXN0XG4gKlxuICogQG5vdGUgQWx0aG91Z2ggcmVxdWVzdGluZyB1c2VyaW5mbyBpcyBub3QgcmVxdWlyZWQgYnkgdGhlIE9BdXRoMi4wIHNwZWMsXG4gKiB3ZSBmZXRjaCBpdCBhbnl3YXkuIFRoaXMgaXMgYmVjYXVzZSB3ZSBhbHdheXMgd2FudCBhIHVzZXIgcHJvZmlsZS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZU9BdXRoKHF1ZXJ5LCBjb29raWVzLCBvcHRpb25zLCByYW5kb21TdGF0ZSkge1xuICAgIGNvbnN0IHsgbG9nZ2VyLCBwcm92aWRlciB9ID0gb3B0aW9ucztcbiAgICBsZXQgYXM7XG4gICAgY29uc3QgeyB0b2tlbiwgdXNlcmluZm8gfSA9IHByb3ZpZGVyO1xuICAgIC8vIEZhbGxzIGJhY2sgdG8gYXV0aGpzLmRldiBpZiB0aGUgdXNlciBvbmx5IHBhc3NlZCBwYXJhbXNcbiAgICBpZiAoKCF0b2tlbj8udXJsIHx8IHRva2VuLnVybC5ob3N0ID09PSBcImF1dGhqcy5kZXZcIikgJiZcbiAgICAgICAgKCF1c2VyaW5mbz8udXJsIHx8IHVzZXJpbmZvLnVybC5ob3N0ID09PSBcImF1dGhqcy5kZXZcIikpIHtcbiAgICAgICAgLy8gV2UgYXNzdW1lIHRoYXQgaXNzdWVyIGlzIGFsd2F5cyBkZWZpbmVkIGFzIHRoaXMgaGFzIGJlZW4gYXNzZXJ0ZWQgZWFybGllclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICBjb25zdCBpc3N1ZXIgPSBuZXcgVVJMKHByb3ZpZGVyLmlzc3Vlcik7XG4gICAgICAgIGNvbnN0IGRpc2NvdmVyeVJlc3BvbnNlID0gYXdhaXQgby5kaXNjb3ZlcnlSZXF1ZXN0KGlzc3Vlcik7XG4gICAgICAgIGNvbnN0IGRpc2NvdmVyZWRBcyA9IGF3YWl0IG8ucHJvY2Vzc0Rpc2NvdmVyeVJlc3BvbnNlKGlzc3VlciwgZGlzY292ZXJ5UmVzcG9uc2UpO1xuICAgICAgICBpZiAoIWRpc2NvdmVyZWRBcy50b2tlbl9lbmRwb2ludClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJUT0RPOiBBdXRob3JpemF0aW9uIHNlcnZlciBkaWQgbm90IHByb3ZpZGUgYSB0b2tlbiBlbmRwb2ludC5cIik7XG4gICAgICAgIGlmICghZGlzY292ZXJlZEFzLnVzZXJpbmZvX2VuZHBvaW50KVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlRPRE86IEF1dGhvcml6YXRpb24gc2VydmVyIGRpZCBub3QgcHJvdmlkZSBhIHVzZXJpbmZvIGVuZHBvaW50LlwiKTtcbiAgICAgICAgYXMgPSBkaXNjb3ZlcmVkQXM7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhcyA9IHtcbiAgICAgICAgICAgIGlzc3VlcjogcHJvdmlkZXIuaXNzdWVyID8/IFwiaHR0cHM6Ly9hdXRoanMuZGV2XCIsIC8vIFRPRE86IHJldmlldyBmYWxsYmFjayBpc3N1ZXJcbiAgICAgICAgICAgIHRva2VuX2VuZHBvaW50OiB0b2tlbj8udXJsLnRvU3RyaW5nKCksXG4gICAgICAgICAgICB1c2VyaW5mb19lbmRwb2ludDogdXNlcmluZm8/LnVybC50b1N0cmluZygpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBjbGllbnQgPSB7XG4gICAgICAgIGNsaWVudF9pZDogcHJvdmlkZXIuY2xpZW50SWQsXG4gICAgICAgIGNsaWVudF9zZWNyZXQ6IHByb3ZpZGVyLmNsaWVudFNlY3JldCxcbiAgICAgICAgLi4ucHJvdmlkZXIuY2xpZW50LFxuICAgIH07XG4gICAgY29uc3QgcmVzQ29va2llcyA9IFtdO1xuICAgIGNvbnN0IHN0YXRlID0gYXdhaXQgY2hlY2tzLnN0YXRlLnVzZShjb29raWVzLCByZXNDb29raWVzLCBvcHRpb25zLCByYW5kb21TdGF0ZSk7XG4gICAgY29uc3QgY29kZUdyYW50UGFyYW1zID0gby52YWxpZGF0ZUF1dGhSZXNwb25zZShhcywgY2xpZW50LCBuZXcgVVJMU2VhcmNoUGFyYW1zKHF1ZXJ5KSwgcHJvdmlkZXIuY2hlY2tzLmluY2x1ZGVzKFwic3RhdGVcIikgPyBzdGF0ZSA6IG8uc2tpcFN0YXRlQ2hlY2spO1xuICAgIC8qKiBodHRwczovL3d3dy5yZmMtZWRpdG9yLm9yZy9yZmMvcmZjNjc0OSNzZWN0aW9uLTQuMS4yLjEgKi9cbiAgICBpZiAoby5pc09BdXRoMkVycm9yKGNvZGVHcmFudFBhcmFtcykpIHtcbiAgICAgICAgY29uc3QgY2F1c2UgPSB7IHByb3ZpZGVySWQ6IHByb3ZpZGVyLmlkLCAuLi5jb2RlR3JhbnRQYXJhbXMgfTtcbiAgICAgICAgbG9nZ2VyLmRlYnVnKFwiT0F1dGhDYWxsYmFja0Vycm9yXCIsIGNhdXNlKTtcbiAgICAgICAgdGhyb3cgbmV3IE9BdXRoQ2FsbGJhY2tFcnJvcihcIk9BdXRoIFByb3ZpZGVyIHJldHVybmVkIGFuIGVycm9yXCIsIGNhdXNlKTtcbiAgICB9XG4gICAgY29uc3QgY29kZVZlcmlmaWVyID0gYXdhaXQgY2hlY2tzLnBrY2UudXNlKGNvb2tpZXMsIHJlc0Nvb2tpZXMsIG9wdGlvbnMpO1xuICAgIGxldCByZWRpcmVjdF91cmkgPSBwcm92aWRlci5jYWxsYmFja1VybDtcbiAgICBpZiAoIW9wdGlvbnMuaXNPblJlZGlyZWN0UHJveHkgJiYgcHJvdmlkZXIucmVkaXJlY3RQcm94eVVybCkge1xuICAgICAgICByZWRpcmVjdF91cmkgPSBwcm92aWRlci5yZWRpcmVjdFByb3h5VXJsO1xuICAgIH1cbiAgICBsZXQgY29kZUdyYW50UmVzcG9uc2UgPSBhd2FpdCBvLmF1dGhvcml6YXRpb25Db2RlR3JhbnRSZXF1ZXN0KGFzLCBjbGllbnQsIGNvZGVHcmFudFBhcmFtcywgcmVkaXJlY3RfdXJpLCBjb2RlVmVyaWZpZXIgPz8gXCJhdXRoXCIgLy8gVE9ETzogcmV2aWV3IGZhbGxiYWNrIGNvZGUgdmVyaWZpZXJcbiAgICApO1xuICAgIGlmIChwcm92aWRlci50b2tlbj8uY29uZm9ybSkge1xuICAgICAgICBjb2RlR3JhbnRSZXNwb25zZSA9XG4gICAgICAgICAgICAoYXdhaXQgcHJvdmlkZXIudG9rZW4uY29uZm9ybShjb2RlR3JhbnRSZXNwb25zZS5jbG9uZSgpKSkgPz9cbiAgICAgICAgICAgICAgICBjb2RlR3JhbnRSZXNwb25zZTtcbiAgICB9XG4gICAgbGV0IGNoYWxsZW5nZXM7XG4gICAgaWYgKChjaGFsbGVuZ2VzID0gby5wYXJzZVd3d0F1dGhlbnRpY2F0ZUNoYWxsZW5nZXMoY29kZUdyYW50UmVzcG9uc2UpKSkge1xuICAgICAgICBmb3IgKGNvbnN0IGNoYWxsZW5nZSBvZiBjaGFsbGVuZ2VzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImNoYWxsZW5nZVwiLCBjaGFsbGVuZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRPRE86IEhhbmRsZSB3d3ctYXV0aGVudGljYXRlIGNoYWxsZW5nZXMgYXMgbmVlZGVkXCIpO1xuICAgIH1cbiAgICBsZXQgcHJvZmlsZSA9IHt9O1xuICAgIGxldCB0b2tlbnM7XG4gICAgaWYgKHByb3ZpZGVyLnR5cGUgPT09IFwib2lkY1wiKSB7XG4gICAgICAgIGNvbnN0IG5vbmNlID0gYXdhaXQgY2hlY2tzLm5vbmNlLnVzZShjb29raWVzLCByZXNDb29raWVzLCBvcHRpb25zKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgby5wcm9jZXNzQXV0aG9yaXphdGlvbkNvZGVPcGVuSURSZXNwb25zZShhcywgY2xpZW50LCBjb2RlR3JhbnRSZXNwb25zZSwgbm9uY2UgPz8gby5leHBlY3ROb05vbmNlKTtcbiAgICAgICAgaWYgKG8uaXNPQXV0aDJFcnJvcihyZXN1bHQpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImVycm9yXCIsIHJlc3VsdCk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUT0RPOiBIYW5kbGUgT0lEQyByZXNwb25zZSBib2R5IGVycm9yXCIpO1xuICAgICAgICB9XG4gICAgICAgIHByb2ZpbGUgPSBvLmdldFZhbGlkYXRlZElkVG9rZW5DbGFpbXMocmVzdWx0KTtcbiAgICAgICAgdG9rZW5zID0gcmVzdWx0O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdG9rZW5zID0gYXdhaXQgby5wcm9jZXNzQXV0aG9yaXphdGlvbkNvZGVPQXV0aDJSZXNwb25zZShhcywgY2xpZW50LCBjb2RlR3JhbnRSZXNwb25zZSk7XG4gICAgICAgIGlmIChvLmlzT0F1dGgyRXJyb3IodG9rZW5zKSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJlcnJvclwiLCB0b2tlbnMpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVE9ETzogSGFuZGxlIE9BdXRoIDIuMCByZXNwb25zZSBib2R5IGVycm9yXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1c2VyaW5mbz8ucmVxdWVzdCkge1xuICAgICAgICAgICAgY29uc3QgX3Byb2ZpbGUgPSBhd2FpdCB1c2VyaW5mby5yZXF1ZXN0KHsgdG9rZW5zLCBwcm92aWRlciB9KTtcbiAgICAgICAgICAgIGlmIChfcHJvZmlsZSBpbnN0YW5jZW9mIE9iamVjdClcbiAgICAgICAgICAgICAgICBwcm9maWxlID0gX3Byb2ZpbGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodXNlcmluZm8/LnVybCkge1xuICAgICAgICAgICAgY29uc3QgdXNlcmluZm9SZXNwb25zZSA9IGF3YWl0IG8udXNlckluZm9SZXF1ZXN0KGFzLCBjbGllbnQsIHRva2Vucy5hY2Nlc3NfdG9rZW4pO1xuICAgICAgICAgICAgcHJvZmlsZSA9IGF3YWl0IHVzZXJpbmZvUmVzcG9uc2UuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk5vIHVzZXJpbmZvIGVuZHBvaW50IGNvbmZpZ3VyZWRcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRva2Vucy5leHBpcmVzX2luKSB7XG4gICAgICAgIHRva2Vucy5leHBpcmVzX2F0ID1cbiAgICAgICAgICAgIE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApICsgTnVtYmVyKHRva2Vucy5leHBpcmVzX2luKTtcbiAgICB9XG4gICAgY29uc3QgcHJvZmlsZVJlc3VsdCA9IGF3YWl0IGdldFVzZXJBbmRBY2NvdW50KHByb2ZpbGUsIHByb3ZpZGVyLCB0b2tlbnMsIGxvZ2dlcik7XG4gICAgcmV0dXJuIHsgLi4ucHJvZmlsZVJlc3VsdCwgcHJvZmlsZSwgY29va2llczogcmVzQ29va2llcyB9O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSB1c2VyIGFuZCBhY2NvdW50IHRoYXQgaXMgZ29pbmcgdG8gYmUgY3JlYXRlZCBpbiB0aGUgZGF0YWJhc2UuXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzZXJBbmRBY2NvdW50KE9BdXRoUHJvZmlsZSwgcHJvdmlkZXIsIHRva2VucywgbG9nZ2VyKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXNlckZyb21Qcm9maWxlID0gYXdhaXQgcHJvdmlkZXIucHJvZmlsZShPQXV0aFByb2ZpbGUsIHRva2Vucyk7XG4gICAgICAgIGNvbnN0IHVzZXIgPSB7XG4gICAgICAgICAgICAuLi51c2VyRnJvbVByb2ZpbGUsXG4gICAgICAgICAgICBpZDogY3J5cHRvLnJhbmRvbVVVSUQoKSxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyRnJvbVByb2ZpbGUuZW1haWw/LnRvTG93ZXJDYXNlKCksXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB1c2VyLFxuICAgICAgICAgICAgYWNjb3VudDoge1xuICAgICAgICAgICAgICAgIC4uLnRva2VucyxcbiAgICAgICAgICAgICAgICBwcm92aWRlcjogcHJvdmlkZXIuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogcHJvdmlkZXIudHlwZSxcbiAgICAgICAgICAgICAgICBwcm92aWRlckFjY291bnRJZDogdXNlckZyb21Qcm9maWxlLmlkID8/IGNyeXB0by5yYW5kb21VVUlEKCksXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICAvLyBJZiB3ZSBkaWRuJ3QgZ2V0IGEgcmVzcG9uc2UgZWl0aGVyIHRoZXJlIHdhcyBhIHByb2JsZW0gd2l0aCB0aGUgcHJvdmlkZXJcbiAgICAgICAgLy8gcmVzcG9uc2UgKm9yKiB0aGUgdXNlciBjYW5jZWxsZWQgdGhlIGFjdGlvbiB3aXRoIHRoZSBwcm92aWRlci5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVW5mb3J0dW5hdGVseSwgd2UgY2FuJ3QgdGVsbCB3aGljaCAtIGF0IGxlYXN0IG5vdCBpbiBhIHdheSB0aGF0IHdvcmtzIGZvclxuICAgICAgICAvLyBhbGwgcHJvdmlkZXJzLCBzbyB3ZSByZXR1cm4gYW4gZW1wdHkgb2JqZWN0OyB0aGUgdXNlciBzaG91bGQgdGhlbiBiZVxuICAgICAgICAvLyByZWRpcmVjdGVkIGJhY2sgdG8gdGhlIHNpZ24gdXAgcGFnZS4gV2UgbG9nIHRoZSBlcnJvciB0byBoZWxwIGRldmVsb3BlcnNcbiAgICAgICAgLy8gd2hvIG1pZ2h0IGJlIHRyeWluZyB0byBkZWJ1ZyB0aGlzIHdoZW4gY29uZmlndXJpbmcgYSBuZXcgcHJvdmlkZXIuXG4gICAgICAgIGxvZ2dlci5kZWJ1ZyhcImdldFByb2ZpbGUgZXJyb3IgZGV0YWlsc1wiLCBPQXV0aFByb2ZpbGUpO1xuICAgICAgICBsb2dnZXIuZXJyb3IobmV3IE9BdXRoUHJvZmlsZVBhcnNlRXJyb3IoZSwgeyBwcm92aWRlcjogcHJvdmlkZXIuaWQgfSkpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJjaGVja3MiLCJvIiwiT0F1dGhDYWxsYmFja0Vycm9yIiwiT0F1dGhQcm9maWxlUGFyc2VFcnJvciIsImhhbmRsZU9BdXRoIiwicXVlcnkiLCJjb29raWVzIiwib3B0aW9ucyIsInJhbmRvbVN0YXRlIiwibG9nZ2VyIiwicHJvdmlkZXIiLCJhcyIsInRva2VuIiwidXNlcmluZm8iLCJ1cmwiLCJob3N0IiwiaXNzdWVyIiwiVVJMIiwiZGlzY292ZXJ5UmVzcG9uc2UiLCJkaXNjb3ZlcnlSZXF1ZXN0IiwiZGlzY292ZXJlZEFzIiwicHJvY2Vzc0Rpc2NvdmVyeVJlc3BvbnNlIiwidG9rZW5fZW5kcG9pbnQiLCJUeXBlRXJyb3IiLCJ1c2VyaW5mb19lbmRwb2ludCIsInRvU3RyaW5nIiwiY2xpZW50IiwiY2xpZW50X2lkIiwiY2xpZW50SWQiLCJjbGllbnRfc2VjcmV0IiwiY2xpZW50U2VjcmV0IiwicmVzQ29va2llcyIsInN0YXRlIiwidXNlIiwiY29kZUdyYW50UGFyYW1zIiwidmFsaWRhdGVBdXRoUmVzcG9uc2UiLCJVUkxTZWFyY2hQYXJhbXMiLCJpbmNsdWRlcyIsInNraXBTdGF0ZUNoZWNrIiwiaXNPQXV0aDJFcnJvciIsImNhdXNlIiwicHJvdmlkZXJJZCIsImlkIiwiZGVidWciLCJjb2RlVmVyaWZpZXIiLCJwa2NlIiwicmVkaXJlY3RfdXJpIiwiY2FsbGJhY2tVcmwiLCJpc09uUmVkaXJlY3RQcm94eSIsInJlZGlyZWN0UHJveHlVcmwiLCJjb2RlR3JhbnRSZXNwb25zZSIsImF1dGhvcml6YXRpb25Db2RlR3JhbnRSZXF1ZXN0IiwiY29uZm9ybSIsImNsb25lIiwiY2hhbGxlbmdlcyIsInBhcnNlV3d3QXV0aGVudGljYXRlQ2hhbGxlbmdlcyIsImNoYWxsZW5nZSIsImNvbnNvbGUiLCJsb2ciLCJFcnJvciIsInByb2ZpbGUiLCJ0b2tlbnMiLCJ0eXBlIiwibm9uY2UiLCJyZXN1bHQiLCJwcm9jZXNzQXV0aG9yaXphdGlvbkNvZGVPcGVuSURSZXNwb25zZSIsImV4cGVjdE5vTm9uY2UiLCJnZXRWYWxpZGF0ZWRJZFRva2VuQ2xhaW1zIiwicHJvY2Vzc0F1dGhvcml6YXRpb25Db2RlT0F1dGgyUmVzcG9uc2UiLCJyZXF1ZXN0IiwiX3Byb2ZpbGUiLCJPYmplY3QiLCJ1c2VyaW5mb1Jlc3BvbnNlIiwidXNlckluZm9SZXF1ZXN0IiwiYWNjZXNzX3Rva2VuIiwianNvbiIsImV4cGlyZXNfaW4iLCJleHBpcmVzX2F0IiwiTWF0aCIsImZsb29yIiwiRGF0ZSIsIm5vdyIsIk51bWJlciIsInByb2ZpbGVSZXN1bHQiLCJnZXRVc2VyQW5kQWNjb3VudCIsIk9BdXRoUHJvZmlsZSIsInVzZXJGcm9tUHJvZmlsZSIsInVzZXIiLCJjcnlwdG8iLCJyYW5kb21VVUlEIiwiZW1haWwiLCJ0b0xvd2VyQ2FzZSIsImFjY291bnQiLCJwcm92aWRlckFjY291bnRJZCIsImUiLCJlcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/lib/actions/callback/oauth/callback.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/lib/actions/callback/oauth/callback.js":
/*!************************************************************************!*\
  !*** ./node_modules/@auth/core/lib/actions/callback/oauth/callback.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getUserAndAccount: () => (/* binding */ getUserAndAccount),\n/* harmony export */   handleOAuth: () => (/* binding */ handleOAuth)\n/* harmony export */ });\n/* harmony import */ var _checks_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./checks.js */ \"(rsc)/./node_modules/@auth/core/lib/actions/callback/oauth/checks.js\");\n/* harmony import */ var oauth4webapi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! oauth4webapi */ \"(rsc)/./node_modules/oauth4webapi/build/index.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../errors.js */ \"(rsc)/./node_modules/@auth/core/errors.js\");\n\n\n\n/**\n * Handles the following OAuth steps.\n * https://www.rfc-editor.org/rfc/rfc6749#section-4.1.1\n * https://www.rfc-editor.org/rfc/rfc6749#section-4.1.3\n * https://openid.net/specs/openid-connect-core-1_0.html#UserInfoRequest\n *\n * @note Although requesting userinfo is not required by the OAuth2.0 spec,\n * we fetch it anyway. This is because we always want a user profile.\n */ async function handleOAuth(query, cookies, options, randomState) {\n    const { logger, provider } = options;\n    let as;\n    const { token, userinfo } = provider;\n    // Falls back to authjs.dev if the user only passed params\n    if ((!token?.url || token.url.host === \"authjs.dev\") && (!userinfo?.url || userinfo.url.host === \"authjs.dev\")) {\n        // We assume that issuer is always defined as this has been asserted earlier\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const issuer = new URL(provider.issuer);\n        const discoveryResponse = await oauth4webapi__WEBPACK_IMPORTED_MODULE_2__.discoveryRequest(issuer);\n        const discoveredAs = await oauth4webapi__WEBPACK_IMPORTED_MODULE_2__.processDiscoveryResponse(issuer, discoveryResponse);\n        if (!discoveredAs.token_endpoint) throw new TypeError(\"TODO: Authorization server did not provide a token endpoint.\");\n        if (!discoveredAs.userinfo_endpoint) throw new TypeError(\"TODO: Authorization server did not provide a userinfo endpoint.\");\n        as = discoveredAs;\n    } else {\n        as = {\n            issuer: provider.issuer ?? \"https://authjs.dev\",\n            token_endpoint: token?.url.toString(),\n            userinfo_endpoint: userinfo?.url.toString()\n        };\n    }\n    const client = {\n        client_id: provider.clientId,\n        client_secret: provider.clientSecret,\n        ...provider.client\n    };\n    const resCookies = [];\n    const state = await _checks_js__WEBPACK_IMPORTED_MODULE_0__.state.use(cookies, resCookies, options, randomState);\n    const codeGrantParams = oauth4webapi__WEBPACK_IMPORTED_MODULE_2__.validateAuthResponse(as, client, new URLSearchParams(query), provider.checks.includes(\"state\") ? state : oauth4webapi__WEBPACK_IMPORTED_MODULE_2__.skipStateCheck);\n    /** https://www.rfc-editor.org/rfc/rfc6749#section-4.1.2.1 */ if (oauth4webapi__WEBPACK_IMPORTED_MODULE_2__.isOAuth2Error(codeGrantParams)) {\n        const cause = {\n            providerId: provider.id,\n            ...codeGrantParams\n        };\n        logger.debug(\"OAuthCallbackError\", cause);\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.OAuthCallbackError(\"OAuth Provider returned an error\", cause);\n    }\n    const codeVerifier = await _checks_js__WEBPACK_IMPORTED_MODULE_0__.pkce.use(cookies, resCookies, options);\n    let redirect_uri = provider.callbackUrl;\n    if (!options.isOnRedirectProxy && provider.redirectProxyUrl) {\n        redirect_uri = provider.redirectProxyUrl;\n    }\n    let codeGrantResponse = await oauth4webapi__WEBPACK_IMPORTED_MODULE_2__.authorizationCodeGrantRequest(as, client, codeGrantParams, redirect_uri, codeVerifier ?? \"auth\" // TODO: review fallback code verifier\n    );\n    if (provider.token?.conform) {\n        codeGrantResponse = await provider.token.conform(codeGrantResponse.clone()) ?? codeGrantResponse;\n    }\n    let challenges;\n    if (challenges = oauth4webapi__WEBPACK_IMPORTED_MODULE_2__.parseWwwAuthenticateChallenges(codeGrantResponse)) {\n        for (const challenge of challenges){\n            console.log(\"challenge\", challenge);\n        }\n        throw new Error(\"TODO: Handle www-authenticate challenges as needed\");\n    }\n    let profile = {};\n    let tokens;\n    if (provider.type === \"oidc\") {\n        const nonce = await _checks_js__WEBPACK_IMPORTED_MODULE_0__.nonce.use(cookies, resCookies, options);\n        const result = await oauth4webapi__WEBPACK_IMPORTED_MODULE_2__.processAuthorizationCodeOpenIDResponse(as, client, codeGrantResponse, nonce ?? oauth4webapi__WEBPACK_IMPORTED_MODULE_2__.expectNoNonce);\n        if (oauth4webapi__WEBPACK_IMPORTED_MODULE_2__.isOAuth2Error(result)) {\n            console.log(\"error\", result);\n            throw new Error(\"TODO: Handle OIDC response body error\");\n        }\n        profile = oauth4webapi__WEBPACK_IMPORTED_MODULE_2__.getValidatedIdTokenClaims(result);\n        tokens = result;\n    } else {\n        tokens = await oauth4webapi__WEBPACK_IMPORTED_MODULE_2__.processAuthorizationCodeOAuth2Response(as, client, codeGrantResponse);\n        if (oauth4webapi__WEBPACK_IMPORTED_MODULE_2__.isOAuth2Error(tokens)) {\n            console.log(\"error\", tokens);\n            throw new Error(\"TODO: Handle OAuth 2.0 response body error\");\n        }\n        if (userinfo?.request) {\n            const _profile = await userinfo.request({\n                tokens,\n                provider\n            });\n            if (_profile instanceof Object) profile = _profile;\n        } else if (userinfo?.url) {\n            const userinfoResponse = await oauth4webapi__WEBPACK_IMPORTED_MODULE_2__.userInfoRequest(as, client, tokens.access_token);\n            profile = await userinfoResponse.json();\n        } else {\n            throw new TypeError(\"No userinfo endpoint configured\");\n        }\n    }\n    if (tokens.expires_in) {\n        tokens.expires_at = Math.floor(Date.now() / 1000) + Number(tokens.expires_in);\n    }\n    const profileResult = await getUserAndAccount(profile, provider, tokens, logger);\n    return {\n        ...profileResult,\n        profile,\n        cookies: resCookies\n    };\n}\n/**\n * Returns the user and account that is going to be created in the database.\n * @internal\n */ async function getUserAndAccount(OAuthProfile, provider, tokens, logger) {\n    try {\n        const userFromProfile = await provider.profile(OAuthProfile, tokens);\n        const user = {\n            ...userFromProfile,\n            id: crypto.randomUUID(),\n            email: userFromProfile.email?.toLowerCase()\n        };\n        return {\n            user,\n            account: {\n                ...tokens,\n                provider: provider.id,\n                type: provider.type,\n                providerAccountId: userFromProfile.id ?? crypto.randomUUID()\n            }\n        };\n    } catch (e) {\n        // If we didn't get a response either there was a problem with the provider\n        // response *or* the user cancelled the action with the provider.\n        //\n        // Unfortunately, we can't tell which - at least not in a way that works for\n        // all providers, so we return an empty object; the user should then be\n        // redirected back to the sign up page. We log the error to help developers\n        // who might be trying to debug this when configuring a new provider.\n        logger.debug(\"getProfile error details\", OAuthProfile);\n        logger.error(new _errors_js__WEBPACK_IMPORTED_MODULE_1__.OAuthProfileParseError(e, {\n            provider: provider.id\n        }));\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvYWN0aW9ucy9jYWxsYmFjay9vYXV0aC9jYWxsYmFjay5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFzQztBQUNKO0FBQ2tEO0FBQ3BGOzs7Ozs7OztDQVFDLEdBQ00sZUFBZUksWUFBWUMsS0FBSyxFQUFFQyxPQUFPLEVBQUVDLE9BQU8sRUFBRUMsV0FBVztJQUNsRSxNQUFNLEVBQUVDLE1BQU0sRUFBRUMsUUFBUSxFQUFFLEdBQUdIO0lBQzdCLElBQUlJO0lBQ0osTUFBTSxFQUFFQyxLQUFLLEVBQUVDLFFBQVEsRUFBRSxHQUFHSDtJQUM1QiwwREFBMEQ7SUFDMUQsSUFBSSxDQUFDLENBQUNFLE9BQU9FLE9BQU9GLE1BQU1FLEdBQUcsQ0FBQ0MsSUFBSSxLQUFLLFlBQVcsS0FDN0MsRUFBQ0YsVUFBVUMsT0FBT0QsU0FBU0MsR0FBRyxDQUFDQyxJQUFJLEtBQUssWUFBVyxHQUFJO1FBQ3hELDRFQUE0RTtRQUM1RSxvRUFBb0U7UUFDcEUsTUFBTUMsU0FBUyxJQUFJQyxJQUFJUCxTQUFTTSxNQUFNO1FBQ3RDLE1BQU1FLG9CQUFvQixNQUFNakIsMERBQWtCLENBQUNlO1FBQ25ELE1BQU1JLGVBQWUsTUFBTW5CLGtFQUEwQixDQUFDZSxRQUFRRTtRQUM5RCxJQUFJLENBQUNFLGFBQWFFLGNBQWMsRUFDNUIsTUFBTSxJQUFJQyxVQUFVO1FBQ3hCLElBQUksQ0FBQ0gsYUFBYUksaUJBQWlCLEVBQy9CLE1BQU0sSUFBSUQsVUFBVTtRQUN4QlosS0FBS1M7SUFDVCxPQUNLO1FBQ0RULEtBQUs7WUFDREssUUFBUU4sU0FBU00sTUFBTSxJQUFJO1lBQzNCTSxnQkFBZ0JWLE9BQU9FLElBQUlXO1lBQzNCRCxtQkFBbUJYLFVBQVVDLElBQUlXO1FBQ3JDO0lBQ0o7SUFDQSxNQUFNQyxTQUFTO1FBQ1hDLFdBQVdqQixTQUFTa0IsUUFBUTtRQUM1QkMsZUFBZW5CLFNBQVNvQixZQUFZO1FBQ3BDLEdBQUdwQixT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RTtJQUNBLE1BQU1PLGdCQUFnQixNQUFNQyxrQkFBa0J4QixTQUFTbEQsVUFBVW1ELFFBQVFwRDtJQUN6RSxPQUFPO1FBQUUsR0FBRzBFLGFBQWE7UUFBRXZCO1FBQVN0RCxTQUFTeUI7SUFBVztBQUM1RDtBQUNBOzs7Q0FHQyxHQUNNLGVBQWVxRCxrQkFBa0JDLFlBQVksRUFBRTNFLFFBQVEsRUFBRW1ELE1BQU0sRUFBRXBELE1BQU07SUFDMUUsSUFBSTtRQUNBLE1BQU02RSxrQkFBa0IsTUFBTTVFLFNBQVNrRCxPQUFPLENBQUN5QixjQUFjeEI7UUFDN0QsTUFBTTBCLE9BQU87WUFDVCxHQUFHRCxlQUFlO1lBQ2xCNUMsSUFBSThDLE9BQU9DLFVBQVU7WUFDckJDLE9BQU9KLGdCQUFnQkksS0FBSyxFQUFFQztRQUNsQztRQUNBLE9BQU87WUFDSEo7WUFDQUssU0FBUztnQkFDTCxHQUFHL0IsTUFBTTtnQkFDVG5ELFVBQVVBLFNBQVNnQyxFQUFFO2dCQUNyQm9CLE1BQU1wRCxTQUFTb0QsSUFBSTtnQkFDbkIrQixtQkFBbUJQLGdCQUFnQjVDLEVBQUUsSUFBSThDLE9BQU9DLFVBQVU7WUFDOUQ7UUFDSjtJQUNKLEVBQ0EsT0FBT0ssR0FBRztRQUNOLDJFQUEyRTtRQUMzRSxpRUFBaUU7UUFDakUsRUFBRTtRQUNGLDRFQUE0RTtRQUM1RSx1RUFBdUU7UUFDdkUsMkVBQTJFO1FBQzNFLHFFQUFxRTtRQUNyRXJGLE9BQU9rQyxLQUFLLENBQUMsNEJBQTRCMEM7UUFDekM1RSxPQUFPc0YsS0FBSyxDQUFDLElBQUk1Riw4REFBc0JBLENBQUMyRixHQUFHO1lBQUVwRixVQUFVQSxTQUFTZ0MsRUFBRTtRQUFDO0lBQ3ZFO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LXJ4Ly4vbm9kZV9tb2R1bGVzL0BhdXRoL2NvcmUvbGliL2FjdGlvbnMvY2FsbGJhY2svb2F1dGgvY2FsbGJhY2suanM/ZWY4YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBjaGVja3MgZnJvbSBcIi4vY2hlY2tzLmpzXCI7XG5pbXBvcnQgKiBhcyBvIGZyb20gXCJvYXV0aDR3ZWJhcGlcIjtcbmltcG9ydCB7IE9BdXRoQ2FsbGJhY2tFcnJvciwgT0F1dGhQcm9maWxlUGFyc2VFcnJvciwgfSBmcm9tIFwiLi4vLi4vLi4vLi4vZXJyb3JzLmpzXCI7XG4vKipcbiAqIEhhbmRsZXMgdGhlIGZvbGxvd2luZyBPQXV0aCBzdGVwcy5cbiAqIGh0dHBzOi8vd3d3LnJmYy1lZGl0b3Iub3JnL3JmYy9yZmM2NzQ5I3NlY3Rpb24tNC4xLjFcbiAqIGh0dHBzOi8vd3d3LnJmYy1lZGl0b3Iub3JnL3JmYy9yZmM2NzQ5I3NlY3Rpb24tNC4xLjNcbiAqIGh0dHBzOi8vb3BlbmlkLm5ldC9zcGVjcy9vcGVuaWQtY29ubmVjdC1jb3JlLTFfMC5odG1sI1VzZXJJbmZvUmVxdWVzdFxuICpcbiAqIEBub3RlIEFsdGhvdWdoIHJlcXVlc3RpbmcgdXNlcmluZm8gaXMgbm90IHJlcXVpcmVkIGJ5IHRoZSBPQXV0aDIuMCBzcGVjLFxuICogd2UgZmV0Y2ggaXQgYW55d2F5LiBUaGlzIGlzIGJlY2F1c2Ugd2UgYWx3YXlzIHdhbnQgYSB1c2VyIHByb2ZpbGUuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVPQXV0aChxdWVyeSwgY29va2llcywgb3B0aW9ucywgcmFuZG9tU3RhdGUpIHtcbiAgICBjb25zdCB7IGxvZ2dlciwgcHJvdmlkZXIgfSA9IG9wdGlvbnM7XG4gICAgbGV0IGFzO1xuICAgIGNvbnN0IHsgdG9rZW4sIHVzZXJpbmZvIH0gPSBwcm92aWRlcjtcbiAgICAvLyBGYWxscyBiYWNrIHRvIGF1dGhqcy5kZXYgaWYgdGhlIHVzZXIgb25seSBwYXNzZWQgcGFyYW1zXG4gICAgaWYgKCghdG9rZW4/LnVybCB8fCB0b2tlbi51cmwuaG9zdCA9PT0gXCJhdXRoanMuZGV2XCIpICYmXG4gICAgICAgICghdXNlcmluZm8/LnVybCB8fCB1c2VyaW5mby51cmwuaG9zdCA9PT0gXCJhdXRoanMuZGV2XCIpKSB7XG4gICAgICAgIC8vIFdlIGFzc3VtZSB0aGF0IGlzc3VlciBpcyBhbHdheXMgZGVmaW5lZCBhcyB0aGlzIGhhcyBiZWVuIGFzc2VydGVkIGVhcmxpZXJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgY29uc3QgaXNzdWVyID0gbmV3IFVSTChwcm92aWRlci5pc3N1ZXIpO1xuICAgICAgICBjb25zdCBkaXNjb3ZlcnlSZXNwb25zZSA9IGF3YWl0IG8uZGlzY292ZXJ5UmVxdWVzdChpc3N1ZXIpO1xuICAgICAgICBjb25zdCBkaXNjb3ZlcmVkQXMgPSBhd2FpdCBvLnByb2Nlc3NEaXNjb3ZlcnlSZXNwb25zZShpc3N1ZXIsIGRpc2NvdmVyeVJlc3BvbnNlKTtcbiAgICAgICAgaWYgKCFkaXNjb3ZlcmVkQXMudG9rZW5fZW5kcG9pbnQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiVE9ETzogQXV0aG9yaXphdGlvbiBzZXJ2ZXIgZGlkIG5vdCBwcm92aWRlIGEgdG9rZW4gZW5kcG9pbnQuXCIpO1xuICAgICAgICBpZiAoIWRpc2NvdmVyZWRBcy51c2VyaW5mb19lbmRwb2ludClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJUT0RPOiBBdXRob3JpemF0aW9uIHNlcnZlciBkaWQgbm90IHByb3ZpZGUgYSB1c2VyaW5mbyBlbmRwb2ludC5cIik7XG4gICAgICAgIGFzID0gZGlzY292ZXJlZEFzO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYXMgPSB7XG4gICAgICAgICAgICBpc3N1ZXI6IHByb3ZpZGVyLmlzc3VlciA/PyBcImh0dHBzOi8vYXV0aGpzLmRldlwiLCAvLyBUT0RPOiByZXZpZXcgZmFsbGJhY2sgaXNzdWVyXG4gICAgICAgICAgICB0b2tlbl9lbmRwb2ludDogdG9rZW4/LnVybC50b1N0cmluZygpLFxuICAgICAgICAgICAgdXNlcmluZm9fZW5kcG9pbnQ6IHVzZXJpbmZvPy51cmwudG9TdHJpbmcoKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgY2xpZW50ID0ge1xuICAgICAgICBjbGllbnRfaWQ6IHByb3ZpZGVyLmNsaWVudElkLFxuICAgICAgICBjbGllbnRfc2VjcmV0OiBwcm92aWRlci5jbGllbnRTZWNyZXQsXG4gICAgICAgIC4uLnByb3ZpZGVyLmNsaWVudCxcbiAgICB9O1xuICAgIGNvbnN0IHJlc0Nvb2tpZXMgPSBbXTtcbiAgICBjb25zdCBzdGF0ZSA9IGF3YWl0IGNoZWNrcy5zdGF0ZS51c2UoY29va2llcywgcmVzQ29va2llcywgb3B0aW9ucywgcmFuZG9tU3RhdGUpO1xuICAgIGNvbnN0IGNvZGVHcmFudFBhcmFtcyA9IG8udmFsaWRhdGVBdXRoUmVzcG9uc2UoYXMsIGNsaWVudCwgbmV3IFVSTFNlYXJjaFBhcmFtcyhxdWVyeSksIHByb3ZpZGVyLmNoZWNrcy5pbmNsdWRlcyhcInN0YXRlXCIpID8gc3RhdGUgOiBvLnNraXBTdGF0ZUNoZWNrKTtcbiAgICAvKiogaHR0cHM6Ly93d3cucmZjLWVkaXRvci5vcmcvcmZjL3JmYzY3NDkjc2VjdGlvbi00LjEuMi4xICovXG4gICAgaWYgKG8uaXNPQXV0aDJFcnJvcihjb2RlR3JhbnRQYXJhbXMpKSB7XG4gICAgICAgIGNvbnN0IGNhdXNlID0geyBwcm92aWRlcklkOiBwcm92aWRlci5pZCwgLi4uY29kZUdyYW50UGFyYW1zIH07XG4gICAgICAgIGxvZ2dlci5kZWJ1ZyhcIk9BdXRoQ2FsbGJhY2tFcnJvclwiLCBjYXVzZSk7XG4gICAgICAgIHRocm93IG5ldyBPQXV0aENhbGxiYWNrRXJyb3IoXCJPQXV0aCBQcm92aWRlciByZXR1cm5lZCBhbiBlcnJvclwiLCBjYXVzZSk7XG4gICAgfVxuICAgIGNvbnN0IGNvZGVWZXJpZmllciA9IGF3YWl0IGNoZWNrcy5wa2NlLnVzZShjb29raWVzLCByZXNDb29raWVzLCBvcHRpb25zKTtcbiAgICBsZXQgcmVkaXJlY3RfdXJpID0gcHJvdmlkZXIuY2FsbGJhY2tVcmw7XG4gICAgaWYgKCFvcHRpb25zLmlzT25SZWRpcmVjdFByb3h5ICYmIHByb3ZpZGVyLnJlZGlyZWN0UHJveHlVcmwpIHtcbiAgICAgICAgcmVkaXJlY3RfdXJpID0gcHJvdmlkZXIucmVkaXJlY3RQcm94eVVybDtcbiAgICB9XG4gICAgbGV0IGNvZGVHcmFudFJlc3BvbnNlID0gYXdhaXQgby5hdXRob3JpemF0aW9uQ29kZUdyYW50UmVxdWVzdChhcywgY2xpZW50LCBjb2RlR3JhbnRQYXJhbXMsIHJlZGlyZWN0X3VyaSwgY29kZVZlcmlmaWVyID8/IFwiYXV0aFwiIC8vIFRPRE86IHJldmlldyBmYWxsYmFjayBjb2RlIHZlcmlmaWVyXG4gICAgKTtcbiAgICBpZiAocHJvdmlkZXIudG9rZW4/LmNvbmZvcm0pIHtcbiAgICAgICAgY29kZUdyYW50UmVzcG9uc2UgPVxuICAgICAgICAgICAgKGF3YWl0IHByb3ZpZGVyLnRva2VuLmNvbmZvcm0oY29kZUdyYW50UmVzcG9uc2UuY2xvbmUoKSkpID8/XG4gICAgICAgICAgICAgICAgY29kZUdyYW50UmVzcG9uc2U7XG4gICAgfVxuICAgIGxldCBjaGFsbGVuZ2VzO1xuICAgIGlmICgoY2hhbGxlbmdlcyA9IG8ucGFyc2VXd3dBdXRoZW50aWNhdGVDaGFsbGVuZ2VzKGNvZGVHcmFudFJlc3BvbnNlKSkpIHtcbiAgICAgICAgZm9yIChjb25zdCBjaGFsbGVuZ2Ugb2YgY2hhbGxlbmdlcykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJjaGFsbGVuZ2VcIiwgY2hhbGxlbmdlKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUT0RPOiBIYW5kbGUgd3d3LWF1dGhlbnRpY2F0ZSBjaGFsbGVuZ2VzIGFzIG5lZWRlZFwiKTtcbiAgICB9XG4gICAgbGV0IHByb2ZpbGUgPSB7fTtcbiAgICBsZXQgdG9rZW5zO1xuICAgIGlmIChwcm92aWRlci50eXBlID09PSBcIm9pZGNcIikge1xuICAgICAgICBjb25zdCBub25jZSA9IGF3YWl0IGNoZWNrcy5ub25jZS51c2UoY29va2llcywgcmVzQ29va2llcywgb3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG8ucHJvY2Vzc0F1dGhvcml6YXRpb25Db2RlT3BlbklEUmVzcG9uc2UoYXMsIGNsaWVudCwgY29kZUdyYW50UmVzcG9uc2UsIG5vbmNlID8/IG8uZXhwZWN0Tm9Ob25jZSk7XG4gICAgICAgIGlmIChvLmlzT0F1dGgyRXJyb3IocmVzdWx0KSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJlcnJvclwiLCByZXN1bHQpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVE9ETzogSGFuZGxlIE9JREMgcmVzcG9uc2UgYm9keSBlcnJvclwiKTtcbiAgICAgICAgfVxuICAgICAgICBwcm9maWxlID0gby5nZXRWYWxpZGF0ZWRJZFRva2VuQ2xhaW1zKHJlc3VsdCk7XG4gICAgICAgIHRva2VucyA9IHJlc3VsdDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRva2VucyA9IGF3YWl0IG8ucHJvY2Vzc0F1dGhvcml6YXRpb25Db2RlT0F1dGgyUmVzcG9uc2UoYXMsIGNsaWVudCwgY29kZUdyYW50UmVzcG9uc2UpO1xuICAgICAgICBpZiAoby5pc09BdXRoMkVycm9yKHRva2VucykpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZXJyb3JcIiwgdG9rZW5zKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRPRE86IEhhbmRsZSBPQXV0aCAyLjAgcmVzcG9uc2UgYm9keSBlcnJvclwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXNlcmluZm8/LnJlcXVlc3QpIHtcbiAgICAgICAgICAgIGNvbnN0IF9wcm9maWxlID0gYXdhaXQgdXNlcmluZm8ucmVxdWVzdCh7IHRva2VucywgcHJvdmlkZXIgfSk7XG4gICAgICAgICAgICBpZiAoX3Byb2ZpbGUgaW5zdGFuY2VvZiBPYmplY3QpXG4gICAgICAgICAgICAgICAgcHJvZmlsZSA9IF9wcm9maWxlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHVzZXJpbmZvPy51cmwpIHtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJpbmZvUmVzcG9uc2UgPSBhd2FpdCBvLnVzZXJJbmZvUmVxdWVzdChhcywgY2xpZW50LCB0b2tlbnMuYWNjZXNzX3Rva2VuKTtcbiAgICAgICAgICAgIHByb2ZpbGUgPSBhd2FpdCB1c2VyaW5mb1Jlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJObyB1c2VyaW5mbyBlbmRwb2ludCBjb25maWd1cmVkXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh0b2tlbnMuZXhwaXJlc19pbikge1xuICAgICAgICB0b2tlbnMuZXhwaXJlc19hdCA9XG4gICAgICAgICAgICBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKSArIE51bWJlcih0b2tlbnMuZXhwaXJlc19pbik7XG4gICAgfVxuICAgIGNvbnN0IHByb2ZpbGVSZXN1bHQgPSBhd2FpdCBnZXRVc2VyQW5kQWNjb3VudChwcm9maWxlLCBwcm92aWRlciwgdG9rZW5zLCBsb2dnZXIpO1xuICAgIHJldHVybiB7IC4uLnByb2ZpbGVSZXN1bHQsIHByb2ZpbGUsIGNvb2tpZXM6IHJlc0Nvb2tpZXMgfTtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgdXNlciBhbmQgYWNjb3VudCB0aGF0IGlzIGdvaW5nIHRvIGJlIGNyZWF0ZWQgaW4gdGhlIGRhdGFiYXNlLlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyQW5kQWNjb3VudChPQXV0aFByb2ZpbGUsIHByb3ZpZGVyLCB0b2tlbnMsIGxvZ2dlcikge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVzZXJGcm9tUHJvZmlsZSA9IGF3YWl0IHByb3ZpZGVyLnByb2ZpbGUoT0F1dGhQcm9maWxlLCB0b2tlbnMpO1xuICAgICAgICBjb25zdCB1c2VyID0ge1xuICAgICAgICAgICAgLi4udXNlckZyb21Qcm9maWxlLFxuICAgICAgICAgICAgaWQ6IGNyeXB0by5yYW5kb21VVUlEKCksXG4gICAgICAgICAgICBlbWFpbDogdXNlckZyb21Qcm9maWxlLmVtYWlsPy50b0xvd2VyQ2FzZSgpLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdXNlcixcbiAgICAgICAgICAgIGFjY291bnQ6IHtcbiAgICAgICAgICAgICAgICAuLi50b2tlbnMsXG4gICAgICAgICAgICAgICAgcHJvdmlkZXI6IHByb3ZpZGVyLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IHByb3ZpZGVyLnR5cGUsXG4gICAgICAgICAgICAgICAgcHJvdmlkZXJBY2NvdW50SWQ6IHVzZXJGcm9tUHJvZmlsZS5pZCA/PyBjcnlwdG8ucmFuZG9tVVVJRCgpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gSWYgd2UgZGlkbid0IGdldCBhIHJlc3BvbnNlIGVpdGhlciB0aGVyZSB3YXMgYSBwcm9ibGVtIHdpdGggdGhlIHByb3ZpZGVyXG4gICAgICAgIC8vIHJlc3BvbnNlICpvciogdGhlIHVzZXIgY2FuY2VsbGVkIHRoZSBhY3Rpb24gd2l0aCB0aGUgcHJvdmlkZXIuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFVuZm9ydHVuYXRlbHksIHdlIGNhbid0IHRlbGwgd2hpY2ggLSBhdCBsZWFzdCBub3QgaW4gYSB3YXkgdGhhdCB3b3JrcyBmb3JcbiAgICAgICAgLy8gYWxsIHByb3ZpZGVycywgc28gd2UgcmV0dXJuIGFuIGVtcHR5IG9iamVjdDsgdGhlIHVzZXIgc2hvdWxkIHRoZW4gYmVcbiAgICAgICAgLy8gcmVkaXJlY3RlZCBiYWNrIHRvIHRoZSBzaWduIHVwIHBhZ2UuIFdlIGxvZyB0aGUgZXJyb3IgdG8gaGVscCBkZXZlbG9wZXJzXG4gICAgICAgIC8vIHdobyBtaWdodCBiZSB0cnlpbmcgdG8gZGVidWcgdGhpcyB3aGVuIGNvbmZpZ3VyaW5nIGEgbmV3IHByb3ZpZGVyLlxuICAgICAgICBsb2dnZXIuZGVidWcoXCJnZXRQcm9maWxlIGVycm9yIGRldGFpbHNcIiwgT0F1dGhQcm9maWxlKTtcbiAgICAgICAgbG9nZ2VyLmVycm9yKG5ldyBPQXV0aFByb2ZpbGVQYXJzZUVycm9yKGUsIHsgcHJvdmlkZXI6IHByb3ZpZGVyLmlkIH0pKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiY2hlY2tzIiwibyIsIk9BdXRoQ2FsbGJhY2tFcnJvciIsIk9BdXRoUHJvZmlsZVBhcnNlRXJyb3IiLCJoYW5kbGVPQXV0aCIsInF1ZXJ5IiwiY29va2llcyIsIm9wdGlvbnMiLCJyYW5kb21TdGF0ZSIsImxvZ2dlciIsInByb3ZpZGVyIiwiYXMiLCJ0b2tlbiIsInVzZXJpbmZvIiwidXJsIiwiaG9zdCIsImlzc3VlciIsIlVSTCIsImRpc2NvdmVyeVJlc3BvbnNlIiwiZGlzY292ZXJ5UmVxdWVzdCIsImRpc2NvdmVyZWRBcyIsInByb2Nlc3NEaXNjb3ZlcnlSZXNwb25zZSIsInRva2VuX2VuZHBvaW50IiwiVHlwZUVycm9yIiwidXNlcmluZm9fZW5kcG9pbnQiLCJ0b1N0cmluZyIsImNsaWVudCIsImNsaWVudF9pZCIsImNsaWVudElkIiwiY2xpZW50X3NlY3JldCIsImNsaWVudFNlY3JldCIsInJlc0Nvb2tpZXMiLCJzdGF0ZSIsInVzZSIsImNvZGVHcmFudFBhcmFtcyIsInZhbGlkYXRlQXV0aFJlc3BvbnNlIiwiVVJMU2VhcmNoUGFyYW1zIiwiaW5jbHVkZXMiLCJza2lwU3RhdGVDaGVjayIsImlzT0F1dGgyRXJyb3IiLCJjYXVzZSIsInByb3ZpZGVySWQiLCJpZCIsImRlYnVnIiwiY29kZVZlcmlmaWVyIiwicGtjZSIsInJlZGlyZWN0X3VyaSIsImNhbGxiYWNrVXJsIiwiaXNPblJlZGlyZWN0UHJveHkiLCJyZWRpcmVjdFByb3h5VXJsIiwiY29kZUdyYW50UmVzcG9uc2UiLCJhdXRob3JpemF0aW9uQ29kZUdyYW50UmVxdWVzdCIsImNvbmZvcm0iLCJjbG9uZSIsImNoYWxsZW5nZXMiLCJwYXJzZVd3d0F1dGhlbnRpY2F0ZUNoYWxsZW5nZXMiLCJjaGFsbGVuZ2UiLCJjb25zb2xlIiwibG9nIiwiRXJyb3IiLCJwcm9maWxlIiwidG9rZW5zIiwidHlwZSIsIm5vbmNlIiwicmVzdWx0IiwicHJvY2Vzc0F1dGhvcml6YXRpb25Db2RlT3BlbklEUmVzcG9uc2UiLCJleHBlY3ROb05vbmNlIiwiZ2V0VmFsaWRhdGVkSWRUb2tlbkNsYWltcyIsInByb2Nlc3NBdXRob3JpemF0aW9uQ29kZU9BdXRoMlJlc3BvbnNlIiwicmVxdWVzdCIsIl9wcm9maWxlIiwiT2JqZWN0IiwidXNlcmluZm9SZXNwb25zZSIsInVzZXJJbmZvUmVxdWVzdCIsImFjY2Vzc190b2tlbiIsImpzb24iLCJleHBpcmVzX2luIiwiZXhwaXJlc19hdCIsIk1hdGgiLCJmbG9vciIsIkRhdGUiLCJub3ciLCJOdW1iZXIiLCJwcm9maWxlUmVzdWx0IiwiZ2V0VXNlckFuZEFjY291bnQiLCJPQXV0aFByb2ZpbGUiLCJ1c2VyRnJvbVByb2ZpbGUiLCJ1c2VyIiwiY3J5cHRvIiwicmFuZG9tVVVJRCIsImVtYWlsIiwidG9Mb3dlckNhc2UiLCJhY2NvdW50IiwicHJvdmlkZXJBY2NvdW50SWQiLCJlIiwiZXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/lib/actions/callback/oauth/callback.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/lib/actions/callback/oauth/checks.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@auth/core/lib/actions/callback/oauth/checks.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   decodeState: () => (/* binding */ decodeState),\n/* harmony export */   handleState: () => (/* binding */ handleState),\n/* harmony export */   nonce: () => (/* binding */ nonce),\n/* harmony export */   pkce: () => (/* binding */ pkce),\n/* harmony export */   signCookie: () => (/* binding */ signCookie),\n/* harmony export */   state: () => (/* binding */ state),\n/* harmony export */   webauthnChallenge: () => (/* binding */ webauthnChallenge)\n/* harmony export */ });\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jose */ \"(action-browser)/./node_modules/jose/dist/node/esm/index.js\");\n/* harmony import */ var oauth4webapi__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! oauth4webapi */ \"(action-browser)/./node_modules/oauth4webapi/build/index.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../errors.js */ \"(action-browser)/./node_modules/@auth/core/errors.js\");\n/* harmony import */ var _jwt_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../jwt.js */ \"(action-browser)/./node_modules/@auth/core/jwt.js\");\n\n\n\n\n/** Returns a signed cookie. */ async function signCookie(type, value, maxAge, options, data) {\n    const { cookies, logger } = options;\n    logger.debug(`CREATE_${type.toUpperCase()}`, {\n        value,\n        maxAge\n    });\n    const expires = new Date();\n    expires.setTime(expires.getTime() + maxAge * 1000);\n    const token = {\n        value\n    };\n    if (type === \"state\" && data) token.data = data;\n    const name = cookies[type].name;\n    return {\n        name,\n        value: await (0,_jwt_js__WEBPACK_IMPORTED_MODULE_2__.encode)({\n            ...options.jwt,\n            maxAge,\n            token,\n            salt: name\n        }),\n        options: {\n            ...cookies[type].options,\n            expires\n        }\n    };\n}\nconst PKCE_MAX_AGE = 60 * 15; // 15 minutes in seconds\nconst pkce = {\n    async create (options) {\n        const code_verifier = oauth4webapi__WEBPACK_IMPORTED_MODULE_3__.generateRandomCodeVerifier();\n        const value = await oauth4webapi__WEBPACK_IMPORTED_MODULE_3__.calculatePKCECodeChallenge(code_verifier);\n        const maxAge = PKCE_MAX_AGE;\n        const cookie = await signCookie(\"pkceCodeVerifier\", code_verifier, maxAge, options);\n        return {\n            cookie,\n            value\n        };\n    },\n    /**\n     * Returns code_verifier if the provider is configured to use PKCE,\n     * and clears the container cookie afterwards.\n     * An error is thrown if the code_verifier is missing or invalid.\n     * @see https://www.rfc-editor.org/rfc/rfc7636\n     * @see https://danielfett.de/2020/05/16/pkce-vs-nonce-equivalent-or-not/#pkce\n     */ async use (cookies, resCookies, options) {\n        const { provider } = options;\n        if (!provider?.checks?.includes(\"pkce\")) return;\n        const codeVerifier = cookies?.[options.cookies.pkceCodeVerifier.name];\n        if (!codeVerifier) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.InvalidCheck(\"PKCE code_verifier cookie was missing.\");\n        const value = await (0,_jwt_js__WEBPACK_IMPORTED_MODULE_2__.decode)({\n            ...options.jwt,\n            token: codeVerifier,\n            salt: options.cookies.pkceCodeVerifier.name\n        });\n        if (!value?.value) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.InvalidCheck(\"PKCE code_verifier value could not be parsed.\");\n        // Clear the pkce code verifier cookie after use\n        resCookies.push({\n            name: options.cookies.pkceCodeVerifier.name,\n            value: \"\",\n            options: {\n                ...options.cookies.pkceCodeVerifier.options,\n                maxAge: 0\n            }\n        });\n        return value.value;\n    }\n};\nconst STATE_MAX_AGE = 60 * 15; // 15 minutes in seconds\nfunction decodeState(value) {\n    try {\n        const decoder = new TextDecoder();\n        return JSON.parse(decoder.decode(jose__WEBPACK_IMPORTED_MODULE_0__.base64url.decode(value)));\n    } catch  {}\n}\nconst state = {\n    async create (options, data) {\n        const { provider } = options;\n        if (!provider.checks.includes(\"state\")) {\n            if (data) {\n                throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.InvalidCheck(\"State data was provided but the provider is not configured to use state.\");\n            }\n            return;\n        }\n        const encodedState = jose__WEBPACK_IMPORTED_MODULE_0__.base64url.encode(JSON.stringify({\n            ...data,\n            random: oauth4webapi__WEBPACK_IMPORTED_MODULE_3__.generateRandomState()\n        }));\n        const maxAge = STATE_MAX_AGE;\n        const cookie = await signCookie(\"state\", encodedState, maxAge, options, data);\n        return {\n            cookie,\n            value: encodedState\n        };\n    },\n    /**\n     * Returns state if the provider is configured to use state,\n     * and clears the container cookie afterwards.\n     * An error is thrown if the state is missing or invalid.\n     * @see https://www.rfc-editor.org/rfc/rfc6749#section-10.12\n     * @see https://www.rfc-editor.org/rfc/rfc6749#section-4.1.1\n     */ async use (cookies, resCookies, options, paramRandom) {\n        const { provider } = options;\n        if (!provider.checks.includes(\"state\")) return;\n        const state = cookies?.[options.cookies.state.name];\n        if (!state) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.InvalidCheck(\"State cookie was missing.\");\n        // IDEA: Let the user do something with the returned state\n        const encodedState = await (0,_jwt_js__WEBPACK_IMPORTED_MODULE_2__.decode)({\n            ...options.jwt,\n            token: state,\n            salt: options.cookies.state.name\n        });\n        if (!encodedState?.value) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.InvalidCheck(\"State (cookie) value could not be parsed.\");\n        const decodedState = decodeState(encodedState.value);\n        if (!decodedState) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.InvalidCheck(\"State (encoded) value could not be parsed.\");\n        if (decodedState.random !== paramRandom) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.InvalidCheck(`Random state values did not match. Expected: ${decodedState.random}. Got: ${paramRandom}`);\n        // Clear the state cookie after use\n        resCookies.push({\n            name: options.cookies.state.name,\n            value: \"\",\n            options: {\n                ...options.cookies.state.options,\n                maxAge: 0\n            }\n        });\n        return encodedState.value;\n    }\n};\nconst NONCE_MAX_AGE = 60 * 15; // 15 minutes in seconds\nconst nonce = {\n    async create (options) {\n        if (!options.provider.checks.includes(\"nonce\")) return;\n        const value = oauth4webapi__WEBPACK_IMPORTED_MODULE_3__.generateRandomNonce();\n        const maxAge = NONCE_MAX_AGE;\n        const cookie = await signCookie(\"nonce\", value, maxAge, options);\n        return {\n            cookie,\n            value\n        };\n    },\n    /**\n     * Returns nonce if the provider is configured to use nonce,\n     * and clears the container cookie afterwards.\n     * An error is thrown if the nonce is missing or invalid.\n     * @see https://openid.net/specs/openid-connect-core-1_0.html#NonceNotes\n     * @see https://danielfett.de/2020/05/16/pkce-vs-nonce-equivalent-or-not/#nonce\n     */ async use (cookies, resCookies, options) {\n        const { provider } = options;\n        if (!provider?.checks?.includes(\"nonce\")) return;\n        const nonce = cookies?.[options.cookies.nonce.name];\n        if (!nonce) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.InvalidCheck(\"Nonce cookie was missing.\");\n        const value = await (0,_jwt_js__WEBPACK_IMPORTED_MODULE_2__.decode)({\n            ...options.jwt,\n            token: nonce,\n            salt: options.cookies.nonce.name\n        });\n        if (!value?.value) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.InvalidCheck(\"Nonce value could not be parsed.\");\n        // Clear the nonce cookie after use\n        resCookies.push({\n            name: options.cookies.nonce.name,\n            value: \"\",\n            options: {\n                ...options.cookies.nonce.options,\n                maxAge: 0\n            }\n        });\n        return value.value;\n    }\n};\n/**\n * When the authorization flow contains a state, we check if it's a redirect proxy\n * and if so, we return the random state and the original redirect URL.\n */ function handleState(query, provider, isOnRedirectProxy) {\n    let randomState;\n    let proxyRedirect;\n    if (provider.redirectProxyUrl && !query?.state) {\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.InvalidCheck(\"Missing state in query, but required for redirect proxy\");\n    }\n    const state = decodeState(query?.state);\n    randomState = state?.random;\n    if (isOnRedirectProxy) {\n        if (!state?.origin) return {\n            randomState\n        };\n        proxyRedirect = `${state.origin}?${new URLSearchParams(query)}`;\n    }\n    return {\n        randomState,\n        proxyRedirect\n    };\n}\nconst WEBAUTHN_CHALLENGE_MAX_AGE = 60 * 15; // 15 minutes in seconds\nconst webauthnChallenge = {\n    async create (options, challenge, registerData) {\n        const maxAge = WEBAUTHN_CHALLENGE_MAX_AGE;\n        const data = {\n            challenge,\n            registerData\n        };\n        const cookie = await signCookie(\"webauthnChallenge\", JSON.stringify(data), maxAge, options);\n        return {\n            cookie\n        };\n    },\n    /**\n     * Returns challenge if present,\n     */ async use (options, cookies, resCookies) {\n        const challenge = cookies?.[options.cookies.webauthnChallenge.name];\n        if (!challenge) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.InvalidCheck(\"Challenge cookie missing.\");\n        const value = await (0,_jwt_js__WEBPACK_IMPORTED_MODULE_2__.decode)({\n            ...options.jwt,\n            token: challenge,\n            salt: options.cookies.webauthnChallenge.name\n        });\n        if (!value?.value) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.InvalidCheck(\"Challenge value could not be parsed.\");\n        // Clear the pkce code verifier cookie after use\n        const cookie = {\n            name: options.cookies.webauthnChallenge.name,\n            value: \"\",\n            options: {\n                ...options.cookies.webauthnChallenge.options,\n                maxAge: 0\n            }\n        };\n        resCookies.push(cookie);\n        return JSON.parse(value.value);\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi9hY3Rpb25zL2NhbGxiYWNrL29hdXRoL2NoZWNrcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUE2QjtBQUNLO0FBQ21CO0FBQ0Q7QUFDcEQsNkJBQTZCLEdBQ3RCLGVBQWVLLFdBQVdDLElBQUksRUFBRUMsS0FBSyxFQUFFQyxNQUFNLEVBQUVDLE9BQU8sRUFBRUMsSUFBSTtJQUMvRCxNQUFNLEVBQUVDLE9BQU8sRUFBRUMsTUFBTSxFQUFFLEdBQUdIO0lBQzVCRyxPQUFPQyxLQUFLLENBQUMsQ0FBQyxPQUFPLEVBQUVQLEtBQUtRLFdBQVcsR0FBRyxDQUFDLEVBQUU7UUFBRVA7UUFBT0M7SUFBTztJQUM3RCxNQUFNTyxVQUFVLElBQUlDO0lBQ3BCRCxRQUFRRSxPQUFPLENBQUNGLFFBQVFHLE9BQU8sS0FBS1YsU0FBUztJQUM3QyxNQUFNVyxRQUFRO1FBQUVaO0lBQU07SUFDdEIsSUFBSUQsU0FBUyxXQUFXSSxNQUNwQlMsTUFBTVQsSUFBSSxHQUFHQTtJQUNqQixNQUFNVSxPQUFPVCxPQUFPLENBQUNMLEtBQUssQ0FBQ2MsSUFBSTtJQUMvQixPQUFPO1FBQ0hBO1FBQ0FiLE9BQU8sTUFBTUgsK0NBQU1BLENBQUM7WUFBRSxHQUFHSyxRQUFRWSxHQUFHO1lBQUViO1lBQVFXO1lBQU9HLE1BQU1GO1FBQUs7UUFDaEVYLFNBQVM7WUFBRSxHQUFHRSxPQUFPLENBQUNMLEtBQUssQ0FBQ0csT0FBTztZQUFFTTtRQUFRO0lBQ2pEO0FBQ0o7QUFDQSxNQUFNUSxlQUFlLEtBQUssSUFBSSx3QkFBd0I7QUFDL0MsTUFBTUMsT0FBTztJQUNoQixNQUFNQyxRQUFPaEIsT0FBTztRQUNoQixNQUFNaUIsZ0JBQWdCekIsb0VBQTRCO1FBQ2xELE1BQU1NLFFBQVEsTUFBTU4sb0VBQTRCLENBQUN5QjtRQUNqRCxNQUFNbEIsU0FBU2U7UUFDZixNQUFNTSxTQUFTLE1BQU14QixXQUFX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RXdELFNBQVMsRUFBRUMsWUFBWTtRQUN6QyxNQUFNMUQsU0FBU3VEO1FBQ2YsTUFBTXJELE9BQU87WUFBRXVEO1lBQVdDO1FBQWE7UUFDdkMsTUFBTXJDLFNBQVMsTUFBTXhCLFdBQVcscUJBQXFCcUMsS0FBS0ssU0FBUyxDQUFDckMsT0FBT0YsUUFBUUM7UUFDbkYsT0FBTztZQUFFb0I7UUFBTztJQUNwQjtJQUNBOztLQUVDLEdBQ0QsTUFBTUMsS0FBSXJCLE9BQU8sRUFBRUUsT0FBTyxFQUFFb0IsVUFBVTtRQUNsQyxNQUFNa0MsWUFBWXRELFNBQVMsQ0FBQ0YsUUFBUUUsT0FBTyxDQUFDcUQsaUJBQWlCLENBQUM1QyxJQUFJLENBQUM7UUFDbkUsSUFBSSxDQUFDNkMsV0FDRCxNQUFNLElBQUkvRCxvREFBWUEsQ0FBQztRQUMzQixNQUFNSyxRQUFRLE1BQU1KLCtDQUFNQSxDQUFDO1lBQ3ZCLEdBQUdNLFFBQVFZLEdBQUc7WUFDZEYsT0FBTzhDO1lBQ1AzQyxNQUFNYixRQUFRRSxPQUFPLENBQUNxRCxpQkFBaUIsQ0FBQzVDLElBQUk7UUFDaEQ7UUFDQSxJQUFJLENBQUNiLE9BQU9BLE9BQ1IsTUFBTSxJQUFJTCxvREFBWUEsQ0FBQztRQUMzQixnREFBZ0Q7UUFDaEQsTUFBTTJCLFNBQVM7WUFDWFQsTUFBTVgsUUFBUUUsT0FBTyxDQUFDcUQsaUJBQWlCLENBQUM1QyxJQUFJO1lBQzVDYixPQUFPO1lBQ1BFLFNBQVM7Z0JBQUUsR0FBR0EsUUFBUUUsT0FBTyxDQUFDcUQsaUJBQWlCLENBQUN2RCxPQUFPO2dCQUFFRCxRQUFRO1lBQUU7UUFDdkU7UUFDQXVCLFdBQVdNLElBQUksQ0FBQ1I7UUFDaEIsT0FBT2EsS0FBS0MsS0FBSyxDQUFDcEMsTUFBTUEsS0FBSztJQUNqQztBQUNKLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LXJ4Ly4vbm9kZV9tb2R1bGVzL0BhdXRoL2NvcmUvbGliL2FjdGlvbnMvY2FsbGJhY2svb2F1dGgvY2hlY2tzLmpzP2I4N2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgam9zZSBmcm9tIFwiam9zZVwiO1xuaW1wb3J0ICogYXMgbyBmcm9tIFwib2F1dGg0d2ViYXBpXCI7XG5pbXBvcnQgeyBJbnZhbGlkQ2hlY2sgfSBmcm9tIFwiLi4vLi4vLi4vLi4vZXJyb3JzLmpzXCI7XG5pbXBvcnQgeyBkZWNvZGUsIGVuY29kZSB9IGZyb20gXCIuLi8uLi8uLi8uLi9qd3QuanNcIjtcbi8qKiBSZXR1cm5zIGEgc2lnbmVkIGNvb2tpZS4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaWduQ29va2llKHR5cGUsIHZhbHVlLCBtYXhBZ2UsIG9wdGlvbnMsIGRhdGEpIHtcbiAgICBjb25zdCB7IGNvb2tpZXMsIGxvZ2dlciB9ID0gb3B0aW9ucztcbiAgICBsb2dnZXIuZGVidWcoYENSRUFURV8ke3R5cGUudG9VcHBlckNhc2UoKX1gLCB7IHZhbHVlLCBtYXhBZ2UgfSk7XG4gICAgY29uc3QgZXhwaXJlcyA9IG5ldyBEYXRlKCk7XG4gICAgZXhwaXJlcy5zZXRUaW1lKGV4cGlyZXMuZ2V0VGltZSgpICsgbWF4QWdlICogMTAwMCk7XG4gICAgY29uc3QgdG9rZW4gPSB7IHZhbHVlIH07XG4gICAgaWYgKHR5cGUgPT09IFwic3RhdGVcIiAmJiBkYXRhKVxuICAgICAgICB0b2tlbi5kYXRhID0gZGF0YTtcbiAgICBjb25zdCBuYW1lID0gY29va2llc1t0eXBlXS5uYW1lO1xuICAgIHJldHVybiB7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIHZhbHVlOiBhd2FpdCBlbmNvZGUoeyAuLi5vcHRpb25zLmp3dCwgbWF4QWdlLCB0b2tlbiwgc2FsdDogbmFtZSB9KSxcbiAgICAgICAgb3B0aW9uczogeyAuLi5jb29raWVzW3R5cGVdLm9wdGlvbnMsIGV4cGlyZXMgfSxcbiAgICB9O1xufVxuY29uc3QgUEtDRV9NQVhfQUdFID0gNjAgKiAxNTsgLy8gMTUgbWludXRlcyBpbiBzZWNvbmRzXG5leHBvcnQgY29uc3QgcGtjZSA9IHtcbiAgICBhc3luYyBjcmVhdGUob3B0aW9ucykge1xuICAgICAgICBjb25zdCBjb2RlX3ZlcmlmaWVyID0gby5nZW5lcmF0ZVJhbmRvbUNvZGVWZXJpZmllcigpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IG8uY2FsY3VsYXRlUEtDRUNvZGVDaGFsbGVuZ2UoY29kZV92ZXJpZmllcik7XG4gICAgICAgIGNvbnN0IG1heEFnZSA9IFBLQ0VfTUFYX0FHRTtcbiAgICAgICAgY29uc3QgY29va2llID0gYXdhaXQgc2lnbkNvb2tpZShcInBrY2VDb2RlVmVyaWZpZXJcIiwgY29kZV92ZXJpZmllciwgbWF4QWdlLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHsgY29va2llLCB2YWx1ZSB9O1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjb2RlX3ZlcmlmaWVyIGlmIHRoZSBwcm92aWRlciBpcyBjb25maWd1cmVkIHRvIHVzZSBQS0NFLFxuICAgICAqIGFuZCBjbGVhcnMgdGhlIGNvbnRhaW5lciBjb29raWUgYWZ0ZXJ3YXJkcy5cbiAgICAgKiBBbiBlcnJvciBpcyB0aHJvd24gaWYgdGhlIGNvZGVfdmVyaWZpZXIgaXMgbWlzc2luZyBvciBpbnZhbGlkLlxuICAgICAqIEBzZWUgaHR0cHM6Ly93d3cucmZjLWVkaXRvci5vcmcvcmZjL3JmYzc2MzZcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGFuaWVsZmV0dC5kZS8yMDIwLzA1LzE2L3BrY2UtdnMtbm9uY2UtZXF1aXZhbGVudC1vci1ub3QvI3BrY2VcbiAgICAgKi9cbiAgICBhc3luYyB1c2UoY29va2llcywgcmVzQ29va2llcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IHByb3ZpZGVyIH0gPSBvcHRpb25zO1xuICAgICAgICBpZiAoIXByb3ZpZGVyPy5jaGVja3M/LmluY2x1ZGVzKFwicGtjZVwiKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgY29kZVZlcmlmaWVyID0gY29va2llcz8uW29wdGlvbnMuY29va2llcy5wa2NlQ29kZVZlcmlmaWVyLm5hbWVdO1xuICAgICAgICBpZiAoIWNvZGVWZXJpZmllcilcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQ2hlY2soXCJQS0NFIGNvZGVfdmVyaWZpZXIgY29va2llIHdhcyBtaXNzaW5nLlwiKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCBkZWNvZGUoe1xuICAgICAgICAgICAgLi4ub3B0aW9ucy5qd3QsXG4gICAgICAgICAgICB0b2tlbjogY29kZVZlcmlmaWVyLFxuICAgICAgICAgICAgc2FsdDogb3B0aW9ucy5jb29raWVzLnBrY2VDb2RlVmVyaWZpZXIubmFtZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghdmFsdWU/LnZhbHVlKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRDaGVjayhcIlBLQ0UgY29kZV92ZXJpZmllciB2YWx1ZSBjb3VsZCBub3QgYmUgcGFyc2VkLlwiKTtcbiAgICAgICAgLy8gQ2xlYXIgdGhlIHBrY2UgY29kZSB2ZXJpZmllciBjb29raWUgYWZ0ZXIgdXNlXG4gICAgICAgIHJlc0Nvb2tpZXMucHVzaCh7XG4gICAgICAgICAgICBuYW1lOiBvcHRpb25zLmNvb2tpZXMucGtjZUNvZGVWZXJpZmllci5uYW1lLFxuICAgICAgICAgICAgdmFsdWU6IFwiXCIsXG4gICAgICAgICAgICBvcHRpb25zOiB7IC4uLm9wdGlvbnMuY29va2llcy5wa2NlQ29kZVZlcmlmaWVyLm9wdGlvbnMsIG1heEFnZTogMCB9LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHZhbHVlLnZhbHVlO1xuICAgIH0sXG59O1xuY29uc3QgU1RBVEVfTUFYX0FHRSA9IDYwICogMTU7IC8vIDE1IG1pbnV0ZXMgaW4gc2Vjb25kc1xuZXhwb3J0IGZ1bmN0aW9uIGRlY29kZVN0YXRlKHZhbHVlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpO1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShkZWNvZGVyLmRlY29kZShqb3NlLmJhc2U2NHVybC5kZWNvZGUodmFsdWUpKSk7XG4gICAgfVxuICAgIGNhdGNoIHsgfVxufVxuZXhwb3J0IGNvbnN0IHN0YXRlID0ge1xuICAgIGFzeW5jIGNyZWF0ZShvcHRpb25zLCBkYXRhKSB7XG4gICAgICAgIGNvbnN0IHsgcHJvdmlkZXIgfSA9IG9wdGlvbnM7XG4gICAgICAgIGlmICghcHJvdmlkZXIuY2hlY2tzLmluY2x1ZGVzKFwic3RhdGVcIikpIHtcbiAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRDaGVjayhcIlN0YXRlIGRhdGEgd2FzIHByb3ZpZGVkIGJ1dCB0aGUgcHJvdmlkZXIgaXMgbm90IGNvbmZpZ3VyZWQgdG8gdXNlIHN0YXRlLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbmNvZGVkU3RhdGUgPSBqb3NlLmJhc2U2NHVybC5lbmNvZGUoSlNPTi5zdHJpbmdpZnkoeyAuLi5kYXRhLCByYW5kb206IG8uZ2VuZXJhdGVSYW5kb21TdGF0ZSgpIH0pKTtcbiAgICAgICAgY29uc3QgbWF4QWdlID0gU1RBVEVfTUFYX0FHRTtcbiAgICAgICAgY29uc3QgY29va2llID0gYXdhaXQgc2lnbkNvb2tpZShcInN0YXRlXCIsIGVuY29kZWRTdGF0ZSwgbWF4QWdlLCBvcHRpb25zLCBkYXRhKTtcbiAgICAgICAgcmV0dXJuIHsgY29va2llLCB2YWx1ZTogZW5jb2RlZFN0YXRlIH07XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN0YXRlIGlmIHRoZSBwcm92aWRlciBpcyBjb25maWd1cmVkIHRvIHVzZSBzdGF0ZSxcbiAgICAgKiBhbmQgY2xlYXJzIHRoZSBjb250YWluZXIgY29va2llIGFmdGVyd2FyZHMuXG4gICAgICogQW4gZXJyb3IgaXMgdGhyb3duIGlmIHRoZSBzdGF0ZSBpcyBtaXNzaW5nIG9yIGludmFsaWQuXG4gICAgICogQHNlZSBodHRwczovL3d3dy5yZmMtZWRpdG9yLm9yZy9yZmMvcmZjNjc0OSNzZWN0aW9uLTEwLjEyXG4gICAgICogQHNlZSBodHRwczovL3d3dy5yZmMtZWRpdG9yLm9yZy9yZmMvcmZjNjc0OSNzZWN0aW9uLTQuMS4xXG4gICAgICovXG4gICAgYXN5bmMgdXNlKGNvb2tpZXMsIHJlc0Nvb2tpZXMsIG9wdGlvbnMsIHBhcmFtUmFuZG9tKSB7XG4gICAgICAgIGNvbnN0IHsgcHJvdmlkZXIgfSA9IG9wdGlvbnM7XG4gICAgICAgIGlmICghcHJvdmlkZXIuY2hlY2tzLmluY2x1ZGVzKFwic3RhdGVcIikpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHN0YXRlID0gY29va2llcz8uW29wdGlvbnMuY29va2llcy5zdGF0ZS5uYW1lXTtcbiAgICAgICAgaWYgKCFzdGF0ZSlcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQ2hlY2soXCJTdGF0ZSBjb29raWUgd2FzIG1pc3NpbmcuXCIpO1xuICAgICAgICAvLyBJREVBOiBMZXQgdGhlIHVzZXIgZG8gc29tZXRoaW5nIHdpdGggdGhlIHJldHVybmVkIHN0YXRlXG4gICAgICAgIGNvbnN0IGVuY29kZWRTdGF0ZSA9IGF3YWl0IGRlY29kZSh7XG4gICAgICAgICAgICAuLi5vcHRpb25zLmp3dCxcbiAgICAgICAgICAgIHRva2VuOiBzdGF0ZSxcbiAgICAgICAgICAgIHNhbHQ6IG9wdGlvbnMuY29va2llcy5zdGF0ZS5uYW1lLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFlbmNvZGVkU3RhdGU/LnZhbHVlKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRDaGVjayhcIlN0YXRlIChjb29raWUpIHZhbHVlIGNvdWxkIG5vdCBiZSBwYXJzZWQuXCIpO1xuICAgICAgICBjb25zdCBkZWNvZGVkU3RhdGUgPSBkZWNvZGVTdGF0ZShlbmNvZGVkU3RhdGUudmFsdWUpO1xuICAgICAgICBpZiAoIWRlY29kZWRTdGF0ZSlcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQ2hlY2soXCJTdGF0ZSAoZW5jb2RlZCkgdmFsdWUgY291bGQgbm90IGJlIHBhcnNlZC5cIik7XG4gICAgICAgIGlmIChkZWNvZGVkU3RhdGUucmFuZG9tICE9PSBwYXJhbVJhbmRvbSlcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQ2hlY2soYFJhbmRvbSBzdGF0ZSB2YWx1ZXMgZGlkIG5vdCBtYXRjaC4gRXhwZWN0ZWQ6ICR7ZGVjb2RlZFN0YXRlLnJhbmRvbX0uIEdvdDogJHtwYXJhbVJhbmRvbX1gKTtcbiAgICAgICAgLy8gQ2xlYXIgdGhlIHN0YXRlIGNvb2tpZSBhZnRlciB1c2VcbiAgICAgICAgcmVzQ29va2llcy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IG9wdGlvbnMuY29va2llcy5zdGF0ZS5uYW1lLFxuICAgICAgICAgICAgdmFsdWU6IFwiXCIsXG4gICAgICAgICAgICBvcHRpb25zOiB7IC4uLm9wdGlvbnMuY29va2llcy5zdGF0ZS5vcHRpb25zLCBtYXhBZ2U6IDAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBlbmNvZGVkU3RhdGUudmFsdWU7XG4gICAgfSxcbn07XG5jb25zdCBOT05DRV9NQVhfQUdFID0gNjAgKiAxNTsgLy8gMTUgbWludXRlcyBpbiBzZWNvbmRzXG5leHBvcnQgY29uc3Qgbm9uY2UgPSB7XG4gICAgYXN5bmMgY3JlYXRlKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCFvcHRpb25zLnByb3ZpZGVyLmNoZWNrcy5pbmNsdWRlcyhcIm5vbmNlXCIpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IG8uZ2VuZXJhdGVSYW5kb21Ob25jZSgpO1xuICAgICAgICBjb25zdCBtYXhBZ2UgPSBOT05DRV9NQVhfQUdFO1xuICAgICAgICBjb25zdCBjb29raWUgPSBhd2FpdCBzaWduQ29va2llKFwibm9uY2VcIiwgdmFsdWUsIG1heEFnZSwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB7IGNvb2tpZSwgdmFsdWUgfTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFJldHVybnMgbm9uY2UgaWYgdGhlIHByb3ZpZGVyIGlzIGNvbmZpZ3VyZWQgdG8gdXNlIG5vbmNlLFxuICAgICAqIGFuZCBjbGVhcnMgdGhlIGNvbnRhaW5lciBjb29raWUgYWZ0ZXJ3YXJkcy5cbiAgICAgKiBBbiBlcnJvciBpcyB0aHJvd24gaWYgdGhlIG5vbmNlIGlzIG1pc3Npbmcgb3IgaW52YWxpZC5cbiAgICAgKiBAc2VlIGh0dHBzOi8vb3BlbmlkLm5ldC9zcGVjcy9vcGVuaWQtY29ubmVjdC1jb3JlLTFfMC5odG1sI05vbmNlTm90ZXNcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGFuaWVsZmV0dC5kZS8yMDIwLzA1LzE2L3BrY2UtdnMtbm9uY2UtZXF1aXZhbGVudC1vci1ub3QvI25vbmNlXG4gICAgICovXG4gICAgYXN5bmMgdXNlKGNvb2tpZXMsIHJlc0Nvb2tpZXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBwcm92aWRlciB9ID0gb3B0aW9ucztcbiAgICAgICAgaWYgKCFwcm92aWRlcj8uY2hlY2tzPy5pbmNsdWRlcyhcIm5vbmNlXCIpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBub25jZSA9IGNvb2tpZXM/LltvcHRpb25zLmNvb2tpZXMubm9uY2UubmFtZV07XG4gICAgICAgIGlmICghbm9uY2UpXG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZENoZWNrKFwiTm9uY2UgY29va2llIHdhcyBtaXNzaW5nLlwiKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCBkZWNvZGUoe1xuICAgICAgICAgICAgLi4ub3B0aW9ucy5qd3QsXG4gICAgICAgICAgICB0b2tlbjogbm9uY2UsXG4gICAgICAgICAgICBzYWx0OiBvcHRpb25zLmNvb2tpZXMubm9uY2UubmFtZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghdmFsdWU/LnZhbHVlKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRDaGVjayhcIk5vbmNlIHZhbHVlIGNvdWxkIG5vdCBiZSBwYXJzZWQuXCIpO1xuICAgICAgICAvLyBDbGVhciB0aGUgbm9uY2UgY29va2llIGFmdGVyIHVzZVxuICAgICAgICByZXNDb29raWVzLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogb3B0aW9ucy5jb29raWVzLm5vbmNlLm5hbWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJcIixcbiAgICAgICAgICAgIG9wdGlvbnM6IHsgLi4ub3B0aW9ucy5jb29raWVzLm5vbmNlLm9wdGlvbnMsIG1heEFnZTogMCB9LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHZhbHVlLnZhbHVlO1xuICAgIH0sXG59O1xuLyoqXG4gKiBXaGVuIHRoZSBhdXRob3JpemF0aW9uIGZsb3cgY29udGFpbnMgYSBzdGF0ZSwgd2UgY2hlY2sgaWYgaXQncyBhIHJlZGlyZWN0IHByb3h5XG4gKiBhbmQgaWYgc28sIHdlIHJldHVybiB0aGUgcmFuZG9tIHN0YXRlIGFuZCB0aGUgb3JpZ2luYWwgcmVkaXJlY3QgVVJMLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlU3RhdGUocXVlcnksIHByb3ZpZGVyLCBpc09uUmVkaXJlY3RQcm94eSkge1xuICAgIGxldCByYW5kb21TdGF0ZTtcbiAgICBsZXQgcHJveHlSZWRpcmVjdDtcbiAgICBpZiAocHJvdmlkZXIucmVkaXJlY3RQcm94eVVybCAmJiAhcXVlcnk/LnN0YXRlKSB7XG4gICAgICAgIHRocm93IG5ldyBJbnZhbGlkQ2hlY2soXCJNaXNzaW5nIHN0YXRlIGluIHF1ZXJ5LCBidXQgcmVxdWlyZWQgZm9yIHJlZGlyZWN0IHByb3h5XCIpO1xuICAgIH1cbiAgICBjb25zdCBzdGF0ZSA9IGRlY29kZVN0YXRlKHF1ZXJ5Py5zdGF0ZSk7XG4gICAgcmFuZG9tU3RhdGUgPSBzdGF0ZT8ucmFuZG9tO1xuICAgIGlmIChpc09uUmVkaXJlY3RQcm94eSkge1xuICAgICAgICBpZiAoIXN0YXRlPy5vcmlnaW4pXG4gICAgICAgICAgICByZXR1cm4geyByYW5kb21TdGF0ZSB9O1xuICAgICAgICBwcm94eVJlZGlyZWN0ID0gYCR7c3RhdGUub3JpZ2lufT8ke25ldyBVUkxTZWFyY2hQYXJhbXMocXVlcnkpfWA7XG4gICAgfVxuICAgIHJldHVybiB7IHJhbmRvbVN0YXRlLCBwcm94eVJlZGlyZWN0IH07XG59XG5jb25zdCBXRUJBVVRITl9DSEFMTEVOR0VfTUFYX0FHRSA9IDYwICogMTU7IC8vIDE1IG1pbnV0ZXMgaW4gc2Vjb25kc1xuZXhwb3J0IGNvbnN0IHdlYmF1dGhuQ2hhbGxlbmdlID0ge1xuICAgIGFzeW5jIGNyZWF0ZShvcHRpb25zLCBjaGFsbGVuZ2UsIHJlZ2lzdGVyRGF0YSkge1xuICAgICAgICBjb25zdCBtYXhBZ2UgPSBXRUJBVVRITl9DSEFMTEVOR0VfTUFYX0FHRTtcbiAgICAgICAgY29uc3QgZGF0YSA9IHsgY2hhbGxlbmdlLCByZWdpc3RlckRhdGEgfTtcbiAgICAgICAgY29uc3QgY29va2llID0gYXdhaXQgc2lnbkNvb2tpZShcIndlYmF1dGhuQ2hhbGxlbmdlXCIsIEpTT04uc3RyaW5naWZ5KGRhdGEpLCBtYXhBZ2UsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4geyBjb29raWUgfTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY2hhbGxlbmdlIGlmIHByZXNlbnQsXG4gICAgICovXG4gICAgYXN5bmMgdXNlKG9wdGlvbnMsIGNvb2tpZXMsIHJlc0Nvb2tpZXMpIHtcbiAgICAgICAgY29uc3QgY2hhbGxlbmdlID0gY29va2llcz8uW29wdGlvbnMuY29va2llcy53ZWJhdXRobkNoYWxsZW5nZS5uYW1lXTtcbiAgICAgICAgaWYgKCFjaGFsbGVuZ2UpXG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZENoZWNrKFwiQ2hhbGxlbmdlIGNvb2tpZSBtaXNzaW5nLlwiKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCBkZWNvZGUoe1xuICAgICAgICAgICAgLi4ub3B0aW9ucy5qd3QsXG4gICAgICAgICAgICB0b2tlbjogY2hhbGxlbmdlLFxuICAgICAgICAgICAgc2FsdDogb3B0aW9ucy5jb29raWVzLndlYmF1dGhuQ2hhbGxlbmdlLm5hbWUsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXZhbHVlPy52YWx1ZSlcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQ2hlY2soXCJDaGFsbGVuZ2UgdmFsdWUgY291bGQgbm90IGJlIHBhcnNlZC5cIik7XG4gICAgICAgIC8vIENsZWFyIHRoZSBwa2NlIGNvZGUgdmVyaWZpZXIgY29va2llIGFmdGVyIHVzZVxuICAgICAgICBjb25zdCBjb29raWUgPSB7XG4gICAgICAgICAgICBuYW1lOiBvcHRpb25zLmNvb2tpZXMud2ViYXV0aG5DaGFsbGVuZ2UubmFtZSxcbiAgICAgICAgICAgIHZhbHVlOiBcIlwiLFxuICAgICAgICAgICAgb3B0aW9uczogeyAuLi5vcHRpb25zLmNvb2tpZXMud2ViYXV0aG5DaGFsbGVuZ2Uub3B0aW9ucywgbWF4QWdlOiAwIH0sXG4gICAgICAgIH07XG4gICAgICAgIHJlc0Nvb2tpZXMucHVzaChjb29raWUpO1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZS52YWx1ZSk7XG4gICAgfSxcbn07XG4iXSwibmFtZXMiOlsiam9zZSIsIm8iLCJJbnZhbGlkQ2hlY2siLCJkZWNvZGUiLCJlbmNvZGUiLCJzaWduQ29va2llIiwidHlwZSIsInZhbHVlIiwibWF4QWdlIiwib3B0aW9ucyIsImRhdGEiLCJjb29raWVzIiwibG9nZ2VyIiwiZGVidWciLCJ0b1VwcGVyQ2FzZSIsImV4cGlyZXMiLCJEYXRlIiwic2V0VGltZSIsImdldFRpbWUiLCJ0b2tlbiIsIm5hbWUiLCJqd3QiLCJzYWx0IiwiUEtDRV9NQVhfQUdFIiwicGtjZSIsImNyZWF0ZSIsImNvZGVfdmVyaWZpZXIiLCJnZW5lcmF0ZVJhbmRvbUNvZGVWZXJpZmllciIsImNhbGN1bGF0ZVBLQ0VDb2RlQ2hhbGxlbmdlIiwiY29va2llIiwidXNlIiwicmVzQ29va2llcyIsInByb3ZpZGVyIiwiY2hlY2tzIiwiaW5jbHVkZXMiLCJjb2RlVmVyaWZpZXIiLCJwa2NlQ29kZVZlcmlmaWVyIiwicHVzaCIsIlNUQVRFX01BWF9BR0UiLCJkZWNvZGVTdGF0ZSIsImRlY29kZXIiLCJUZXh0RGVjb2RlciIsIkpTT04iLCJwYXJzZSIsImJhc2U2NHVybCIsInN0YXRlIiwiZW5jb2RlZFN0YXRlIiwic3RyaW5naWZ5IiwicmFuZG9tIiwiZ2VuZXJhdGVSYW5kb21TdGF0ZSIsInBhcmFtUmFuZG9tIiwiZGVjb2RlZFN0YXRlIiwiTk9OQ0VfTUFYX0FHRSIsIm5vbmNlIiwiZ2VuZXJhdGVSYW5kb21Ob25jZSIsImhhbmRsZVN0YXRlIiwicXVlcnkiLCJpc09uUmVkaXJlY3RQcm94eSIsInJhbmRvbVN0YXRlIiwicHJveHlSZWRpcmVjdCIsInJlZGlyZWN0UHJveHlVcmwiLCJvcmlnaW4iLCJVUkxTZWFyY2hQYXJhbXMiLCJXRUJBVVRITl9DSEFMTEVOR0VfTUFYX0FHRSIsIndlYmF1dGhuQ2hhbGxlbmdlIiwiY2hhbGxlbmdlIiwicmVnaXN0ZXJEYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/lib/actions/callback/oauth/checks.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/lib/actions/callback/oauth/checks.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@auth/core/lib/actions/callback/oauth/checks.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   decodeState: () => (/* binding */ decodeState),\n/* harmony export */   handleState: () => (/* binding */ handleState),\n/* harmony export */   nonce: () => (/* binding */ nonce),\n/* harmony export */   pkce: () => (/* binding */ pkce),\n/* harmony export */   signCookie: () => (/* binding */ signCookie),\n/* harmony export */   state: () => (/* binding */ state),\n/* harmony export */   webauthnChallenge: () => (/* binding */ webauthnChallenge)\n/* harmony export */ });\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jose */ \"(rsc)/./node_modules/jose/dist/node/esm/index.js\");\n/* harmony import */ var oauth4webapi__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! oauth4webapi */ \"(rsc)/./node_modules/oauth4webapi/build/index.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../errors.js */ \"(rsc)/./node_modules/@auth/core/errors.js\");\n/* harmony import */ var _jwt_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../jwt.js */ \"(rsc)/./node_modules/@auth/core/jwt.js\");\n\n\n\n\n/** Returns a signed cookie. */ async function signCookie(type, value, maxAge, options, data) {\n    const { cookies, logger } = options;\n    logger.debug(`CREATE_${type.toUpperCase()}`, {\n        value,\n        maxAge\n    });\n    const expires = new Date();\n    expires.setTime(expires.getTime() + maxAge * 1000);\n    const token = {\n        value\n    };\n    if (type === \"state\" && data) token.data = data;\n    const name = cookies[type].name;\n    return {\n        name,\n        value: await (0,_jwt_js__WEBPACK_IMPORTED_MODULE_2__.encode)({\n            ...options.jwt,\n            maxAge,\n            token,\n            salt: name\n        }),\n        options: {\n            ...cookies[type].options,\n            expires\n        }\n    };\n}\nconst PKCE_MAX_AGE = 60 * 15; // 15 minutes in seconds\nconst pkce = {\n    async create (options) {\n        const code_verifier = oauth4webapi__WEBPACK_IMPORTED_MODULE_3__.generateRandomCodeVerifier();\n        const value = await oauth4webapi__WEBPACK_IMPORTED_MODULE_3__.calculatePKCECodeChallenge(code_verifier);\n        const maxAge = PKCE_MAX_AGE;\n        const cookie = await signCookie(\"pkceCodeVerifier\", code_verifier, maxAge, options);\n        return {\n            cookie,\n            value\n        };\n    },\n    /**\n     * Returns code_verifier if the provider is configured to use PKCE,\n     * and clears the container cookie afterwards.\n     * An error is thrown if the code_verifier is missing or invalid.\n     * @see https://www.rfc-editor.org/rfc/rfc7636\n     * @see https://danielfett.de/2020/05/16/pkce-vs-nonce-equivalent-or-not/#pkce\n     */ async use (cookies, resCookies, options) {\n        const { provider } = options;\n        if (!provider?.checks?.includes(\"pkce\")) return;\n        const codeVerifier = cookies?.[options.cookies.pkceCodeVerifier.name];\n        if (!codeVerifier) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.InvalidCheck(\"PKCE code_verifier cookie was missing.\");\n        const value = await (0,_jwt_js__WEBPACK_IMPORTED_MODULE_2__.decode)({\n            ...options.jwt,\n            token: codeVerifier,\n            salt: options.cookies.pkceCodeVerifier.name\n        });\n        if (!value?.value) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.InvalidCheck(\"PKCE code_verifier value could not be parsed.\");\n        // Clear the pkce code verifier cookie after use\n        resCookies.push({\n            name: options.cookies.pkceCodeVerifier.name,\n            value: \"\",\n            options: {\n                ...options.cookies.pkceCodeVerifier.options,\n                maxAge: 0\n            }\n        });\n        return value.value;\n    }\n};\nconst STATE_MAX_AGE = 60 * 15; // 15 minutes in seconds\nfunction decodeState(value) {\n    try {\n        const decoder = new TextDecoder();\n        return JSON.parse(decoder.decode(jose__WEBPACK_IMPORTED_MODULE_0__.base64url.decode(value)));\n    } catch  {}\n}\nconst state = {\n    async create (options, data) {\n        const { provider } = options;\n        if (!provider.checks.includes(\"state\")) {\n            if (data) {\n                throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.InvalidCheck(\"State data was provided but the provider is not configured to use state.\");\n            }\n            return;\n        }\n        const encodedState = jose__WEBPACK_IMPORTED_MODULE_0__.base64url.encode(JSON.stringify({\n            ...data,\n            random: oauth4webapi__WEBPACK_IMPORTED_MODULE_3__.generateRandomState()\n        }));\n        const maxAge = STATE_MAX_AGE;\n        const cookie = await signCookie(\"state\", encodedState, maxAge, options, data);\n        return {\n            cookie,\n            value: encodedState\n        };\n    },\n    /**\n     * Returns state if the provider is configured to use state,\n     * and clears the container cookie afterwards.\n     * An error is thrown if the state is missing or invalid.\n     * @see https://www.rfc-editor.org/rfc/rfc6749#section-10.12\n     * @see https://www.rfc-editor.org/rfc/rfc6749#section-4.1.1\n     */ async use (cookies, resCookies, options, paramRandom) {\n        const { provider } = options;\n        if (!provider.checks.includes(\"state\")) return;\n        const state = cookies?.[options.cookies.state.name];\n        if (!state) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.InvalidCheck(\"State cookie was missing.\");\n        // IDEA: Let the user do something with the returned state\n        const encodedState = await (0,_jwt_js__WEBPACK_IMPORTED_MODULE_2__.decode)({\n            ...options.jwt,\n            token: state,\n            salt: options.cookies.state.name\n        });\n        if (!encodedState?.value) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.InvalidCheck(\"State (cookie) value could not be parsed.\");\n        const decodedState = decodeState(encodedState.value);\n        if (!decodedState) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.InvalidCheck(\"State (encoded) value could not be parsed.\");\n        if (decodedState.random !== paramRandom) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.InvalidCheck(`Random state values did not match. Expected: ${decodedState.random}. Got: ${paramRandom}`);\n        // Clear the state cookie after use\n        resCookies.push({\n            name: options.cookies.state.name,\n            value: \"\",\n            options: {\n                ...options.cookies.state.options,\n                maxAge: 0\n            }\n        });\n        return encodedState.value;\n    }\n};\nconst NONCE_MAX_AGE = 60 * 15; // 15 minutes in seconds\nconst nonce = {\n    async create (options) {\n        if (!options.provider.checks.includes(\"nonce\")) return;\n        const value = oauth4webapi__WEBPACK_IMPORTED_MODULE_3__.generateRandomNonce();\n        const maxAge = NONCE_MAX_AGE;\n        const cookie = await signCookie(\"nonce\", value, maxAge, options);\n        return {\n            cookie,\n            value\n        };\n    },\n    /**\n     * Returns nonce if the provider is configured to use nonce,\n     * and clears the container cookie afterwards.\n     * An error is thrown if the nonce is missing or invalid.\n     * @see https://openid.net/specs/openid-connect-core-1_0.html#NonceNotes\n     * @see https://danielfett.de/2020/05/16/pkce-vs-nonce-equivalent-or-not/#nonce\n     */ async use (cookies, resCookies, options) {\n        const { provider } = options;\n        if (!provider?.checks?.includes(\"nonce\")) return;\n        const nonce = cookies?.[options.cookies.nonce.name];\n        if (!nonce) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.InvalidCheck(\"Nonce cookie was missing.\");\n        const value = await (0,_jwt_js__WEBPACK_IMPORTED_MODULE_2__.decode)({\n            ...options.jwt,\n            token: nonce,\n            salt: options.cookies.nonce.name\n        });\n        if (!value?.value) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.InvalidCheck(\"Nonce value could not be parsed.\");\n        // Clear the nonce cookie after use\n        resCookies.push({\n            name: options.cookies.nonce.name,\n            value: \"\",\n            options: {\n                ...options.cookies.nonce.options,\n                maxAge: 0\n            }\n        });\n        return value.value;\n    }\n};\n/**\n * When the authorization flow contains a state, we check if it's a redirect proxy\n * and if so, we return the random state and the original redirect URL.\n */ function handleState(query, provider, isOnRedirectProxy) {\n    let randomState;\n    let proxyRedirect;\n    if (provider.redirectProxyUrl && !query?.state) {\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.InvalidCheck(\"Missing state in query, but required for redirect proxy\");\n    }\n    const state = decodeState(query?.state);\n    randomState = state?.random;\n    if (isOnRedirectProxy) {\n        if (!state?.origin) return {\n            randomState\n        };\n        proxyRedirect = `${state.origin}?${new URLSearchParams(query)}`;\n    }\n    return {\n        randomState,\n        proxyRedirect\n    };\n}\nconst WEBAUTHN_CHALLENGE_MAX_AGE = 60 * 15; // 15 minutes in seconds\nconst webauthnChallenge = {\n    async create (options, challenge, registerData) {\n        const maxAge = WEBAUTHN_CHALLENGE_MAX_AGE;\n        const data = {\n            challenge,\n            registerData\n        };\n        const cookie = await signCookie(\"webauthnChallenge\", JSON.stringify(data), maxAge, options);\n        return {\n            cookie\n        };\n    },\n    /**\n     * Returns challenge if present,\n     */ async use (options, cookies, resCookies) {\n        const challenge = cookies?.[options.cookies.webauthnChallenge.name];\n        if (!challenge) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.InvalidCheck(\"Challenge cookie missing.\");\n        const value = await (0,_jwt_js__WEBPACK_IMPORTED_MODULE_2__.decode)({\n            ...options.jwt,\n            token: challenge,\n            salt: options.cookies.webauthnChallenge.name\n        });\n        if (!value?.value) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.InvalidCheck(\"Challenge value could not be parsed.\");\n        // Clear the pkce code verifier cookie after use\n        const cookie = {\n            name: options.cookies.webauthnChallenge.name,\n            value: \"\",\n            options: {\n                ...options.cookies.webauthnChallenge.options,\n                maxAge: 0\n            }\n        };\n        resCookies.push(cookie);\n        return JSON.parse(value.value);\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvYWN0aW9ucy9jYWxsYmFjay9vYXV0aC9jaGVja3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBNkI7QUFDSztBQUNtQjtBQUNEO0FBQ3BELDZCQUE2QixHQUN0QixlQUFlSyxXQUFXQyxJQUFJLEVBQUVDLEtBQUssRUFBRUMsTUFBTSxFQUFFQyxPQUFPLEVBQUVDLElBQUk7SUFDL0QsTUFBTSxFQUFFQyxPQUFPLEVBQUVDLE1BQU0sRUFBRSxHQUFHSDtJQUM1QkcsT0FBT0MsS0FBSyxDQUFDLENBQUMsT0FBTyxFQUFFUCxLQUFLUSxXQUFXLEdBQUcsQ0FBQyxFQUFFO1FBQUVQO1FBQU9DO0lBQU87SUFDN0QsTUFBTU8sVUFBVSxJQUFJQztJQUNwQkQsUUFBUUUsT0FBTyxDQUFDRixRQUFRRyxPQUFPLEtBQUtWLFNBQVM7SUFDN0MsTUFBTVcsUUFBUTtRQUFFWjtJQUFNO0lBQ3RCLElBQUlELFNBQVMsV0FBV0ksTUFDcEJTLE1BQU1ULElBQUksR0FBR0E7SUFDakIsTUFBTVUsT0FBT1QsT0FBTyxDQUFDTCxLQUFLLENBQUNjLElBQUk7SUFDL0IsT0FBTztRQUNIQTtRQUNBYixPQUFPLE1BQU1ILCtDQUFNQSxDQUFDO1lBQUUsR0FBR0ssUUFBUVksR0FBRztZQUFFYjtZQUFRVztZQUFPRyxNQUFNRjtRQUFLO1FBQ2hFWCxTQUFTO1lBQUUsR0FBR0UsT0FBTyxDQUFDTCxLQUFLLENBQUNHLE9BQU87WUFBRU07UUFBUTtJQUNqRDtBQUNKO0FBQ0EsTUFBTVEsZUFBZSxLQUFLLElBQUksd0JBQXdCO0FBQy9DLE1BQU1DLE9BQU87SUFDaEIsTUFBTUMsUUFBT2hCLE9BQU87UUFDaEIsTUFBTWlCLGdCQUFnQnpCLG9FQUE0QjtRQUNsRCxNQUFNTSxRQUFRLE1BQU1OLG9FQUE0QixDQUFDeUI7UUFDakQsTUFBTWxCLFNBQVNlO1FBQ2YsTUFBTU0sU0FBUyxNQUFNeEIsV0FBVyxvQkFBb0JxQixl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RCxTQUFTdUQ7UUFDZixNQUFNckQsT0FBTztZQUFFdUQ7WUFBV0M7UUFBYTtRQUN2QyxNQUFNckMsU0FBUyxNQUFNeEIsV0FBVyxxQkFBcUJxQyxLQUFLSyxTQUFTLENBQUNyQyxPQUFPRixRQUFRQztRQUNuRixPQUFPO1lBQUVvQjtRQUFPO0lBQ3BCO0lBQ0E7O0tBRUMsR0FDRCxNQUFNQyxLQUFJckIsT0FBTyxFQUFFRSxPQUFPLEVBQUVvQixVQUFVO1FBQ2xDLE1BQU1rQyxZQUFZdEQsU0FBUyxDQUFDRixRQUFRRSxPQUFPLENBQUNxRCxpQkFBaUIsQ0FBQzVDLElBQUksQ0FBQztRQUNuRSxJQUFJLENBQUM2QyxXQUNELE1BQU0sSUFBSS9ELG9EQUFZQSxDQUFDO1FBQzNCLE1BQU1LLFFBQVEsTUFBTUosK0NBQU1BLENBQUM7WUFDdkIsR0FBR00sUUFBUVksR0FBRztZQUNkRixPQUFPOEM7WUFDUDNDLE1BQU1iLFFBQVFFLE9BQU8sQ0FBQ3FELGlCQUFpQixDQUFDNUMsSUFBSTtRQUNoRDtRQUNBLElBQUksQ0FBQ2IsT0FBT0EsT0FDUixNQUFNLElBQUlMLG9EQUFZQSxDQUFDO1FBQzNCLGdEQUFnRDtRQUNoRCxNQUFNMkIsU0FBUztZQUNYVCxNQUFNWCxRQUFRRSxPQUFPLENBQUNxRCxpQkFBaUIsQ0FBQzVDLElBQUk7WUFDNUNiLE9BQU87WUFDUEUsU0FBUztnQkFBRSxHQUFHQSxRQUFRRSxPQUFPLENBQUNxRCxpQkFBaUIsQ0FBQ3ZELE9BQU87Z0JBQUVELFFBQVE7WUFBRTtRQUN2RTtRQUNBdUIsV0FBV00sSUFBSSxDQUFDUjtRQUNoQixPQUFPYSxLQUFLQyxLQUFLLENBQUNwQyxNQUFNQSxLQUFLO0lBQ2pDO0FBQ0osRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtcngvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvYWN0aW9ucy9jYWxsYmFjay9vYXV0aC9jaGVja3MuanM/Yjg3YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBqb3NlIGZyb20gXCJqb3NlXCI7XG5pbXBvcnQgKiBhcyBvIGZyb20gXCJvYXV0aDR3ZWJhcGlcIjtcbmltcG9ydCB7IEludmFsaWRDaGVjayB9IGZyb20gXCIuLi8uLi8uLi8uLi9lcnJvcnMuanNcIjtcbmltcG9ydCB7IGRlY29kZSwgZW5jb2RlIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2p3dC5qc1wiO1xuLyoqIFJldHVybnMgYSBzaWduZWQgY29va2llLiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25Db29raWUodHlwZSwgdmFsdWUsIG1heEFnZSwgb3B0aW9ucywgZGF0YSkge1xuICAgIGNvbnN0IHsgY29va2llcywgbG9nZ2VyIH0gPSBvcHRpb25zO1xuICAgIGxvZ2dlci5kZWJ1ZyhgQ1JFQVRFXyR7dHlwZS50b1VwcGVyQ2FzZSgpfWAsIHsgdmFsdWUsIG1heEFnZSB9KTtcbiAgICBjb25zdCBleHBpcmVzID0gbmV3IERhdGUoKTtcbiAgICBleHBpcmVzLnNldFRpbWUoZXhwaXJlcy5nZXRUaW1lKCkgKyBtYXhBZ2UgKiAxMDAwKTtcbiAgICBjb25zdCB0b2tlbiA9IHsgdmFsdWUgfTtcbiAgICBpZiAodHlwZSA9PT0gXCJzdGF0ZVwiICYmIGRhdGEpXG4gICAgICAgIHRva2VuLmRhdGEgPSBkYXRhO1xuICAgIGNvbnN0IG5hbWUgPSBjb29raWVzW3R5cGVdLm5hbWU7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgdmFsdWU6IGF3YWl0IGVuY29kZSh7IC4uLm9wdGlvbnMuand0LCBtYXhBZ2UsIHRva2VuLCBzYWx0OiBuYW1lIH0pLFxuICAgICAgICBvcHRpb25zOiB7IC4uLmNvb2tpZXNbdHlwZV0ub3B0aW9ucywgZXhwaXJlcyB9LFxuICAgIH07XG59XG5jb25zdCBQS0NFX01BWF9BR0UgPSA2MCAqIDE1OyAvLyAxNSBtaW51dGVzIGluIHNlY29uZHNcbmV4cG9ydCBjb25zdCBwa2NlID0ge1xuICAgIGFzeW5jIGNyZWF0ZShvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGNvZGVfdmVyaWZpZXIgPSBvLmdlbmVyYXRlUmFuZG9tQ29kZVZlcmlmaWVyKCk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgby5jYWxjdWxhdGVQS0NFQ29kZUNoYWxsZW5nZShjb2RlX3ZlcmlmaWVyKTtcbiAgICAgICAgY29uc3QgbWF4QWdlID0gUEtDRV9NQVhfQUdFO1xuICAgICAgICBjb25zdCBjb29raWUgPSBhd2FpdCBzaWduQ29va2llKFwicGtjZUNvZGVWZXJpZmllclwiLCBjb2RlX3ZlcmlmaWVyLCBtYXhBZ2UsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4geyBjb29raWUsIHZhbHVlIH07XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNvZGVfdmVyaWZpZXIgaWYgdGhlIHByb3ZpZGVyIGlzIGNvbmZpZ3VyZWQgdG8gdXNlIFBLQ0UsXG4gICAgICogYW5kIGNsZWFycyB0aGUgY29udGFpbmVyIGNvb2tpZSBhZnRlcndhcmRzLlxuICAgICAqIEFuIGVycm9yIGlzIHRocm93biBpZiB0aGUgY29kZV92ZXJpZmllciBpcyBtaXNzaW5nIG9yIGludmFsaWQuXG4gICAgICogQHNlZSBodHRwczovL3d3dy5yZmMtZWRpdG9yLm9yZy9yZmMvcmZjNzYzNlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kYW5pZWxmZXR0LmRlLzIwMjAvMDUvMTYvcGtjZS12cy1ub25jZS1lcXVpdmFsZW50LW9yLW5vdC8jcGtjZVxuICAgICAqL1xuICAgIGFzeW5jIHVzZShjb29raWVzLCByZXNDb29raWVzLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgcHJvdmlkZXIgfSA9IG9wdGlvbnM7XG4gICAgICAgIGlmICghcHJvdmlkZXI/LmNoZWNrcz8uaW5jbHVkZXMoXCJwa2NlXCIpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBjb2RlVmVyaWZpZXIgPSBjb29raWVzPy5bb3B0aW9ucy5jb29raWVzLnBrY2VDb2RlVmVyaWZpZXIubmFtZV07XG4gICAgICAgIGlmICghY29kZVZlcmlmaWVyKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRDaGVjayhcIlBLQ0UgY29kZV92ZXJpZmllciBjb29raWUgd2FzIG1pc3NpbmcuXCIpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IGRlY29kZSh7XG4gICAgICAgICAgICAuLi5vcHRpb25zLmp3dCxcbiAgICAgICAgICAgIHRva2VuOiBjb2RlVmVyaWZpZXIsXG4gICAgICAgICAgICBzYWx0OiBvcHRpb25zLmNvb2tpZXMucGtjZUNvZGVWZXJpZmllci5uYW1lLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCF2YWx1ZT8udmFsdWUpXG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZENoZWNrKFwiUEtDRSBjb2RlX3ZlcmlmaWVyIHZhbHVlIGNvdWxkIG5vdCBiZSBwYXJzZWQuXCIpO1xuICAgICAgICAvLyBDbGVhciB0aGUgcGtjZSBjb2RlIHZlcmlmaWVyIGNvb2tpZSBhZnRlciB1c2VcbiAgICAgICAgcmVzQ29va2llcy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IG9wdGlvbnMuY29va2llcy5wa2NlQ29kZVZlcmlmaWVyLm5hbWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJcIixcbiAgICAgICAgICAgIG9wdGlvbnM6IHsgLi4ub3B0aW9ucy5jb29raWVzLnBrY2VDb2RlVmVyaWZpZXIub3B0aW9ucywgbWF4QWdlOiAwIH0sXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdmFsdWUudmFsdWU7XG4gICAgfSxcbn07XG5jb25zdCBTVEFURV9NQVhfQUdFID0gNjAgKiAxNTsgLy8gMTUgbWludXRlcyBpbiBzZWNvbmRzXG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlU3RhdGUodmFsdWUpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCk7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGRlY29kZXIuZGVjb2RlKGpvc2UuYmFzZTY0dXJsLmRlY29kZSh2YWx1ZSkpKTtcbiAgICB9XG4gICAgY2F0Y2ggeyB9XG59XG5leHBvcnQgY29uc3Qgc3RhdGUgPSB7XG4gICAgYXN5bmMgY3JlYXRlKG9wdGlvbnMsIGRhdGEpIHtcbiAgICAgICAgY29uc3QgeyBwcm92aWRlciB9ID0gb3B0aW9ucztcbiAgICAgICAgaWYgKCFwcm92aWRlci5jaGVja3MuaW5jbHVkZXMoXCJzdGF0ZVwiKSkge1xuICAgICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZENoZWNrKFwiU3RhdGUgZGF0YSB3YXMgcHJvdmlkZWQgYnV0IHRoZSBwcm92aWRlciBpcyBub3QgY29uZmlndXJlZCB0byB1c2Ugc3RhdGUuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVuY29kZWRTdGF0ZSA9IGpvc2UuYmFzZTY0dXJsLmVuY29kZShKU09OLnN0cmluZ2lmeSh7IC4uLmRhdGEsIHJhbmRvbTogby5nZW5lcmF0ZVJhbmRvbVN0YXRlKCkgfSkpO1xuICAgICAgICBjb25zdCBtYXhBZ2UgPSBTVEFURV9NQVhfQUdFO1xuICAgICAgICBjb25zdCBjb29raWUgPSBhd2FpdCBzaWduQ29va2llKFwic3RhdGVcIiwgZW5jb2RlZFN0YXRlLCBtYXhBZ2UsIG9wdGlvbnMsIGRhdGEpO1xuICAgICAgICByZXR1cm4geyBjb29raWUsIHZhbHVlOiBlbmNvZGVkU3RhdGUgfTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3RhdGUgaWYgdGhlIHByb3ZpZGVyIGlzIGNvbmZpZ3VyZWQgdG8gdXNlIHN0YXRlLFxuICAgICAqIGFuZCBjbGVhcnMgdGhlIGNvbnRhaW5lciBjb29raWUgYWZ0ZXJ3YXJkcy5cbiAgICAgKiBBbiBlcnJvciBpcyB0aHJvd24gaWYgdGhlIHN0YXRlIGlzIG1pc3Npbmcgb3IgaW52YWxpZC5cbiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnJmYy1lZGl0b3Iub3JnL3JmYy9yZmM2NzQ5I3NlY3Rpb24tMTAuMTJcbiAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnJmYy1lZGl0b3Iub3JnL3JmYy9yZmM2NzQ5I3NlY3Rpb24tNC4xLjFcbiAgICAgKi9cbiAgICBhc3luYyB1c2UoY29va2llcywgcmVzQ29va2llcywgb3B0aW9ucywgcGFyYW1SYW5kb20pIHtcbiAgICAgICAgY29uc3QgeyBwcm92aWRlciB9ID0gb3B0aW9ucztcbiAgICAgICAgaWYgKCFwcm92aWRlci5jaGVja3MuaW5jbHVkZXMoXCJzdGF0ZVwiKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBjb29raWVzPy5bb3B0aW9ucy5jb29raWVzLnN0YXRlLm5hbWVdO1xuICAgICAgICBpZiAoIXN0YXRlKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRDaGVjayhcIlN0YXRlIGNvb2tpZSB3YXMgbWlzc2luZy5cIik7XG4gICAgICAgIC8vIElERUE6IExldCB0aGUgdXNlciBkbyBzb21ldGhpbmcgd2l0aCB0aGUgcmV0dXJuZWQgc3RhdGVcbiAgICAgICAgY29uc3QgZW5jb2RlZFN0YXRlID0gYXdhaXQgZGVjb2RlKHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMuand0LFxuICAgICAgICAgICAgdG9rZW46IHN0YXRlLFxuICAgICAgICAgICAgc2FsdDogb3B0aW9ucy5jb29raWVzLnN0YXRlLm5hbWUsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIWVuY29kZWRTdGF0ZT8udmFsdWUpXG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZENoZWNrKFwiU3RhdGUgKGNvb2tpZSkgdmFsdWUgY291bGQgbm90IGJlIHBhcnNlZC5cIik7XG4gICAgICAgIGNvbnN0IGRlY29kZWRTdGF0ZSA9IGRlY29kZVN0YXRlKGVuY29kZWRTdGF0ZS52YWx1ZSk7XG4gICAgICAgIGlmICghZGVjb2RlZFN0YXRlKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRDaGVjayhcIlN0YXRlIChlbmNvZGVkKSB2YWx1ZSBjb3VsZCBub3QgYmUgcGFyc2VkLlwiKTtcbiAgICAgICAgaWYgKGRlY29kZWRTdGF0ZS5yYW5kb20gIT09IHBhcmFtUmFuZG9tKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRDaGVjayhgUmFuZG9tIHN0YXRlIHZhbHVlcyBkaWQgbm90IG1hdGNoLiBFeHBlY3RlZDogJHtkZWNvZGVkU3RhdGUucmFuZG9tfS4gR290OiAke3BhcmFtUmFuZG9tfWApO1xuICAgICAgICAvLyBDbGVhciB0aGUgc3RhdGUgY29va2llIGFmdGVyIHVzZVxuICAgICAgICByZXNDb29raWVzLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogb3B0aW9ucy5jb29raWVzLnN0YXRlLm5hbWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJcIixcbiAgICAgICAgICAgIG9wdGlvbnM6IHsgLi4ub3B0aW9ucy5jb29raWVzLnN0YXRlLm9wdGlvbnMsIG1heEFnZTogMCB9LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGVuY29kZWRTdGF0ZS52YWx1ZTtcbiAgICB9LFxufTtcbmNvbnN0IE5PTkNFX01BWF9BR0UgPSA2MCAqIDE1OyAvLyAxNSBtaW51dGVzIGluIHNlY29uZHNcbmV4cG9ydCBjb25zdCBub25jZSA9IHtcbiAgICBhc3luYyBjcmVhdGUob3B0aW9ucykge1xuICAgICAgICBpZiAoIW9wdGlvbnMucHJvdmlkZXIuY2hlY2tzLmluY2x1ZGVzKFwibm9uY2VcIikpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHZhbHVlID0gby5nZW5lcmF0ZVJhbmRvbU5vbmNlKCk7XG4gICAgICAgIGNvbnN0IG1heEFnZSA9IE5PTkNFX01BWF9BR0U7XG4gICAgICAgIGNvbnN0IGNvb2tpZSA9IGF3YWl0IHNpZ25Db29raWUoXCJub25jZVwiLCB2YWx1ZSwgbWF4QWdlLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHsgY29va2llLCB2YWx1ZSB9O1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBub25jZSBpZiB0aGUgcHJvdmlkZXIgaXMgY29uZmlndXJlZCB0byB1c2Ugbm9uY2UsXG4gICAgICogYW5kIGNsZWFycyB0aGUgY29udGFpbmVyIGNvb2tpZSBhZnRlcndhcmRzLlxuICAgICAqIEFuIGVycm9yIGlzIHRocm93biBpZiB0aGUgbm9uY2UgaXMgbWlzc2luZyBvciBpbnZhbGlkLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9vcGVuaWQubmV0L3NwZWNzL29wZW5pZC1jb25uZWN0LWNvcmUtMV8wLmh0bWwjTm9uY2VOb3Rlc1xuICAgICAqIEBzZWUgaHR0cHM6Ly9kYW5pZWxmZXR0LmRlLzIwMjAvMDUvMTYvcGtjZS12cy1ub25jZS1lcXVpdmFsZW50LW9yLW5vdC8jbm9uY2VcbiAgICAgKi9cbiAgICBhc3luYyB1c2UoY29va2llcywgcmVzQ29va2llcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IHByb3ZpZGVyIH0gPSBvcHRpb25zO1xuICAgICAgICBpZiAoIXByb3ZpZGVyPy5jaGVja3M/LmluY2x1ZGVzKFwibm9uY2VcIikpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IG5vbmNlID0gY29va2llcz8uW29wdGlvbnMuY29va2llcy5ub25jZS5uYW1lXTtcbiAgICAgICAgaWYgKCFub25jZSlcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQ2hlY2soXCJOb25jZSBjb29raWUgd2FzIG1pc3NpbmcuXCIpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IGRlY29kZSh7XG4gICAgICAgICAgICAuLi5vcHRpb25zLmp3dCxcbiAgICAgICAgICAgIHRva2VuOiBub25jZSxcbiAgICAgICAgICAgIHNhbHQ6IG9wdGlvbnMuY29va2llcy5ub25jZS5uYW1lLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCF2YWx1ZT8udmFsdWUpXG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZENoZWNrKFwiTm9uY2UgdmFsdWUgY291bGQgbm90IGJlIHBhcnNlZC5cIik7XG4gICAgICAgIC8vIENsZWFyIHRoZSBub25jZSBjb29raWUgYWZ0ZXIgdXNlXG4gICAgICAgIHJlc0Nvb2tpZXMucHVzaCh7XG4gICAgICAgICAgICBuYW1lOiBvcHRpb25zLmNvb2tpZXMubm9uY2UubmFtZSxcbiAgICAgICAgICAgIHZhbHVlOiBcIlwiLFxuICAgICAgICAgICAgb3B0aW9uczogeyAuLi5vcHRpb25zLmNvb2tpZXMubm9uY2Uub3B0aW9ucywgbWF4QWdlOiAwIH0sXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdmFsdWUudmFsdWU7XG4gICAgfSxcbn07XG4vKipcbiAqIFdoZW4gdGhlIGF1dGhvcml6YXRpb24gZmxvdyBjb250YWlucyBhIHN0YXRlLCB3ZSBjaGVjayBpZiBpdCdzIGEgcmVkaXJlY3QgcHJveHlcbiAqIGFuZCBpZiBzbywgd2UgcmV0dXJuIHRoZSByYW5kb20gc3RhdGUgYW5kIHRoZSBvcmlnaW5hbCByZWRpcmVjdCBVUkwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVTdGF0ZShxdWVyeSwgcHJvdmlkZXIsIGlzT25SZWRpcmVjdFByb3h5KSB7XG4gICAgbGV0IHJhbmRvbVN0YXRlO1xuICAgIGxldCBwcm94eVJlZGlyZWN0O1xuICAgIGlmIChwcm92aWRlci5yZWRpcmVjdFByb3h5VXJsICYmICFxdWVyeT8uc3RhdGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEludmFsaWRDaGVjayhcIk1pc3Npbmcgc3RhdGUgaW4gcXVlcnksIGJ1dCByZXF1aXJlZCBmb3IgcmVkaXJlY3QgcHJveHlcIik7XG4gICAgfVxuICAgIGNvbnN0IHN0YXRlID0gZGVjb2RlU3RhdGUocXVlcnk/LnN0YXRlKTtcbiAgICByYW5kb21TdGF0ZSA9IHN0YXRlPy5yYW5kb207XG4gICAgaWYgKGlzT25SZWRpcmVjdFByb3h5KSB7XG4gICAgICAgIGlmICghc3RhdGU/Lm9yaWdpbilcbiAgICAgICAgICAgIHJldHVybiB7IHJhbmRvbVN0YXRlIH07XG4gICAgICAgIHByb3h5UmVkaXJlY3QgPSBgJHtzdGF0ZS5vcmlnaW59PyR7bmV3IFVSTFNlYXJjaFBhcmFtcyhxdWVyeSl9YDtcbiAgICB9XG4gICAgcmV0dXJuIHsgcmFuZG9tU3RhdGUsIHByb3h5UmVkaXJlY3QgfTtcbn1cbmNvbnN0IFdFQkFVVEhOX0NIQUxMRU5HRV9NQVhfQUdFID0gNjAgKiAxNTsgLy8gMTUgbWludXRlcyBpbiBzZWNvbmRzXG5leHBvcnQgY29uc3Qgd2ViYXV0aG5DaGFsbGVuZ2UgPSB7XG4gICAgYXN5bmMgY3JlYXRlKG9wdGlvbnMsIGNoYWxsZW5nZSwgcmVnaXN0ZXJEYXRhKSB7XG4gICAgICAgIGNvbnN0IG1heEFnZSA9IFdFQkFVVEhOX0NIQUxMRU5HRV9NQVhfQUdFO1xuICAgICAgICBjb25zdCBkYXRhID0geyBjaGFsbGVuZ2UsIHJlZ2lzdGVyRGF0YSB9O1xuICAgICAgICBjb25zdCBjb29raWUgPSBhd2FpdCBzaWduQ29va2llKFwid2ViYXV0aG5DaGFsbGVuZ2VcIiwgSlNPTi5zdHJpbmdpZnkoZGF0YSksIG1heEFnZSwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB7IGNvb2tpZSB9O1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjaGFsbGVuZ2UgaWYgcHJlc2VudCxcbiAgICAgKi9cbiAgICBhc3luYyB1c2Uob3B0aW9ucywgY29va2llcywgcmVzQ29va2llcykge1xuICAgICAgICBjb25zdCBjaGFsbGVuZ2UgPSBjb29raWVzPy5bb3B0aW9ucy5jb29raWVzLndlYmF1dGhuQ2hhbGxlbmdlLm5hbWVdO1xuICAgICAgICBpZiAoIWNoYWxsZW5nZSlcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQ2hlY2soXCJDaGFsbGVuZ2UgY29va2llIG1pc3NpbmcuXCIpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IGRlY29kZSh7XG4gICAgICAgICAgICAuLi5vcHRpb25zLmp3dCxcbiAgICAgICAgICAgIHRva2VuOiBjaGFsbGVuZ2UsXG4gICAgICAgICAgICBzYWx0OiBvcHRpb25zLmNvb2tpZXMud2ViYXV0aG5DaGFsbGVuZ2UubmFtZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghdmFsdWU/LnZhbHVlKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRDaGVjayhcIkNoYWxsZW5nZSB2YWx1ZSBjb3VsZCBub3QgYmUgcGFyc2VkLlwiKTtcbiAgICAgICAgLy8gQ2xlYXIgdGhlIHBrY2UgY29kZSB2ZXJpZmllciBjb29raWUgYWZ0ZXIgdXNlXG4gICAgICAgIGNvbnN0IGNvb2tpZSA9IHtcbiAgICAgICAgICAgIG5hbWU6IG9wdGlvbnMuY29va2llcy53ZWJhdXRobkNoYWxsZW5nZS5uYW1lLFxuICAgICAgICAgICAgdmFsdWU6IFwiXCIsXG4gICAgICAgICAgICBvcHRpb25zOiB7IC4uLm9wdGlvbnMuY29va2llcy53ZWJhdXRobkNoYWxsZW5nZS5vcHRpb25zLCBtYXhBZ2U6IDAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgcmVzQ29va2llcy5wdXNoKGNvb2tpZSk7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHZhbHVlLnZhbHVlKTtcbiAgICB9LFxufTtcbiJdLCJuYW1lcyI6WyJqb3NlIiwibyIsIkludmFsaWRDaGVjayIsImRlY29kZSIsImVuY29kZSIsInNpZ25Db29raWUiLCJ0eXBlIiwidmFsdWUiLCJtYXhBZ2UiLCJvcHRpb25zIiwiZGF0YSIsImNvb2tpZXMiLCJsb2dnZXIiLCJkZWJ1ZyIsInRvVXBwZXJDYXNlIiwiZXhwaXJlcyIsIkRhdGUiLCJzZXRUaW1lIiwiZ2V0VGltZSIsInRva2VuIiwibmFtZSIsImp3dCIsInNhbHQiLCJQS0NFX01BWF9BR0UiLCJwa2NlIiwiY3JlYXRlIiwiY29kZV92ZXJpZmllciIsImdlbmVyYXRlUmFuZG9tQ29kZVZlcmlmaWVyIiwiY2FsY3VsYXRlUEtDRUNvZGVDaGFsbGVuZ2UiLCJjb29raWUiLCJ1c2UiLCJyZXNDb29raWVzIiwicHJvdmlkZXIiLCJjaGVja3MiLCJpbmNsdWRlcyIsImNvZGVWZXJpZmllciIsInBrY2VDb2RlVmVyaWZpZXIiLCJwdXNoIiwiU1RBVEVfTUFYX0FHRSIsImRlY29kZVN0YXRlIiwiZGVjb2RlciIsIlRleHREZWNvZGVyIiwiSlNPTiIsInBhcnNlIiwiYmFzZTY0dXJsIiwic3RhdGUiLCJlbmNvZGVkU3RhdGUiLCJzdHJpbmdpZnkiLCJyYW5kb20iLCJnZW5lcmF0ZVJhbmRvbVN0YXRlIiwicGFyYW1SYW5kb20iLCJkZWNvZGVkU3RhdGUiLCJOT05DRV9NQVhfQUdFIiwibm9uY2UiLCJnZW5lcmF0ZVJhbmRvbU5vbmNlIiwiaGFuZGxlU3RhdGUiLCJxdWVyeSIsImlzT25SZWRpcmVjdFByb3h5IiwicmFuZG9tU3RhdGUiLCJwcm94eVJlZGlyZWN0IiwicmVkaXJlY3RQcm94eVVybCIsIm9yaWdpbiIsIlVSTFNlYXJjaFBhcmFtcyIsIldFQkFVVEhOX0NIQUxMRU5HRV9NQVhfQUdFIiwid2ViYXV0aG5DaGFsbGVuZ2UiLCJjaGFsbGVuZ2UiLCJyZWdpc3RlckRhdGEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/lib/actions/callback/oauth/checks.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/lib/actions/callback/oauth/csrf-token.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@auth/core/lib/actions/callback/oauth/csrf-token.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createCSRFToken: () => (/* binding */ createCSRFToken),\n/* harmony export */   validateCSRF: () => (/* binding */ validateCSRF)\n/* harmony export */ });\n/* harmony import */ var _utils_web_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utils/web.js */ \"(action-browser)/./node_modules/@auth/core/lib/utils/web.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../errors.js */ \"(action-browser)/./node_modules/@auth/core/errors.js\");\n\n\n/**\n * Ensure CSRF Token cookie is set for any subsequent requests.\n * Used as part of the strategy for mitigation for CSRF tokens.\n *\n * Creates a cookie like 'next-auth.csrf-token' with the value 'token|hash',\n * where 'token' is the CSRF token and 'hash' is a hash made of the token and\n * the secret, and the two values are joined by a pipe '|'. By storing the\n * value and the hash of the value (with the secret used as a salt) we can\n * verify the cookie was set by the server and not by a malicious attacker.\n *\n * For more details, see the following OWASP links:\n * https://cheatsheetseries.owasp.org/cheatsheets/Cross-Site_Request_Forgery_Prevention_Cheat_Sheet.html#double-submit-cookie\n * https://owasp.org/www-chapter-london/assets/slides/David_Johansson-Double_Defeat_of_Double-Submit_Cookie.pdf\n */ async function createCSRFToken({ options, cookieValue, isPost, bodyValue }) {\n    if (cookieValue) {\n        const [csrfToken, csrfTokenHash] = cookieValue.split(\"|\");\n        const expectedCsrfTokenHash = await (0,_utils_web_js__WEBPACK_IMPORTED_MODULE_0__.createHash)(`${csrfToken}${options.secret}`);\n        if (csrfTokenHash === expectedCsrfTokenHash) {\n            // If hash matches then we trust the CSRF token value\n            // If this is a POST request and the CSRF Token in the POST request matches\n            // the cookie we have already verified is the one we have set, then the token is verified!\n            const csrfTokenVerified = isPost && csrfToken === bodyValue;\n            return {\n                csrfTokenVerified,\n                csrfToken\n            };\n        }\n    }\n    // New CSRF token\n    const csrfToken = (0,_utils_web_js__WEBPACK_IMPORTED_MODULE_0__.randomString)(32);\n    const csrfTokenHash = await (0,_utils_web_js__WEBPACK_IMPORTED_MODULE_0__.createHash)(`${csrfToken}${options.secret}`);\n    const cookie = `${csrfToken}|${csrfTokenHash}`;\n    return {\n        cookie,\n        csrfToken\n    };\n}\nfunction validateCSRF(action, verified) {\n    if (verified) return;\n    throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.MissingCSRF(`CSRF token was missing during an action ${action}.`);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi9hY3Rpb25zL2NhbGxiYWNrL29hdXRoL2NzcmYtdG9rZW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFpRTtBQUNiO0FBQ3BEOzs7Ozs7Ozs7Ozs7O0NBYUMsR0FDTSxlQUFlRyxnQkFBZ0IsRUFBRUMsT0FBTyxFQUFFQyxXQUFXLEVBQUVDLE1BQU0sRUFBRUMsU0FBUyxFQUFHO0lBQzlFLElBQUlGLGFBQWE7UUFDYixNQUFNLENBQUNHLFdBQVdDLGNBQWMsR0FBR0osWUFBWUssS0FBSyxDQUFDO1FBQ3JELE1BQU1DLHdCQUF3QixNQUFNWCx5REFBVUEsQ0FBQyxDQUFDLEVBQUVRLFVBQVUsRUFBRUosUUFBUVEsTUFBTSxDQUFDLENBQUM7UUFDOUUsSUFBSUgsa0JBQWtCRSx1QkFBdUI7WUFDekMscURBQXFEO1lBQ3JELDJFQUEyRTtZQUMzRSwwRkFBMEY7WUFDMUYsTUFBTUUsb0JBQW9CUCxVQUFVRSxjQUFjRDtZQUNsRCxPQUFPO2dCQUFFTTtnQkFBbUJMO1lBQVU7UUFDMUM7SUFDSjtJQUNBLGlCQUFpQjtJQUNqQixNQUFNQSxZQUFZUCwyREFBWUEsQ0FBQztJQUMvQixNQUFNUSxnQkFBZ0IsTUFBTVQseURBQVVBLENBQUMsQ0FBQyxFQUFFUSxVQUFVLEVBQUVKLFFBQVFRLE1BQU0sQ0FBQyxDQUFDO0lBQ3RFLE1BQU1FLFNBQVMsQ0FBQyxFQUFFTixVQUFVLENBQUMsRUFBRUMsY0FBYyxDQUFDO0lBQzlDLE9BQU87UUFBRUs7UUFBUU47SUFBVTtBQUMvQjtBQUNPLFNBQVNPLGFBQWFDLE1BQU0sRUFBRUMsUUFBUTtJQUN6QyxJQUFJQSxVQUNBO0lBQ0osTUFBTSxJQUFJZixtREFBV0EsQ0FBQyxDQUFDLHdDQUF3QyxFQUFFYyxPQUFPLENBQUMsQ0FBQztBQUM5RSIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtcngvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvYWN0aW9ucy9jYWxsYmFjay9vYXV0aC9jc3JmLXRva2VuLmpzPzAzMWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlSGFzaCwgcmFuZG9tU3RyaW5nIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL3dlYi5qc1wiO1xuaW1wb3J0IHsgTWlzc2luZ0NTUkYgfSBmcm9tIFwiLi4vLi4vLi4vLi4vZXJyb3JzLmpzXCI7XG4vKipcbiAqIEVuc3VyZSBDU1JGIFRva2VuIGNvb2tpZSBpcyBzZXQgZm9yIGFueSBzdWJzZXF1ZW50IHJlcXVlc3RzLlxuICogVXNlZCBhcyBwYXJ0IG9mIHRoZSBzdHJhdGVneSBmb3IgbWl0aWdhdGlvbiBmb3IgQ1NSRiB0b2tlbnMuXG4gKlxuICogQ3JlYXRlcyBhIGNvb2tpZSBsaWtlICduZXh0LWF1dGguY3NyZi10b2tlbicgd2l0aCB0aGUgdmFsdWUgJ3Rva2VufGhhc2gnLFxuICogd2hlcmUgJ3Rva2VuJyBpcyB0aGUgQ1NSRiB0b2tlbiBhbmQgJ2hhc2gnIGlzIGEgaGFzaCBtYWRlIG9mIHRoZSB0b2tlbiBhbmRcbiAqIHRoZSBzZWNyZXQsIGFuZCB0aGUgdHdvIHZhbHVlcyBhcmUgam9pbmVkIGJ5IGEgcGlwZSAnfCcuIEJ5IHN0b3JpbmcgdGhlXG4gKiB2YWx1ZSBhbmQgdGhlIGhhc2ggb2YgdGhlIHZhbHVlICh3aXRoIHRoZSBzZWNyZXQgdXNlZCBhcyBhIHNhbHQpIHdlIGNhblxuICogdmVyaWZ5IHRoZSBjb29raWUgd2FzIHNldCBieSB0aGUgc2VydmVyIGFuZCBub3QgYnkgYSBtYWxpY2lvdXMgYXR0YWNrZXIuXG4gKlxuICogRm9yIG1vcmUgZGV0YWlscywgc2VlIHRoZSBmb2xsb3dpbmcgT1dBU1AgbGlua3M6XG4gKiBodHRwczovL2NoZWF0c2hlZXRzZXJpZXMub3dhc3Aub3JnL2NoZWF0c2hlZXRzL0Nyb3NzLVNpdGVfUmVxdWVzdF9Gb3JnZXJ5X1ByZXZlbnRpb25fQ2hlYXRfU2hlZXQuaHRtbCNkb3VibGUtc3VibWl0LWNvb2tpZVxuICogaHR0cHM6Ly9vd2FzcC5vcmcvd3d3LWNoYXB0ZXItbG9uZG9uL2Fzc2V0cy9zbGlkZXMvRGF2aWRfSm9oYW5zc29uLURvdWJsZV9EZWZlYXRfb2ZfRG91YmxlLVN1Ym1pdF9Db29raWUucGRmXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVDU1JGVG9rZW4oeyBvcHRpb25zLCBjb29raWVWYWx1ZSwgaXNQb3N0LCBib2R5VmFsdWUsIH0pIHtcbiAgICBpZiAoY29va2llVmFsdWUpIHtcbiAgICAgICAgY29uc3QgW2NzcmZUb2tlbiwgY3NyZlRva2VuSGFzaF0gPSBjb29raWVWYWx1ZS5zcGxpdChcInxcIik7XG4gICAgICAgIGNvbnN0IGV4cGVjdGVkQ3NyZlRva2VuSGFzaCA9IGF3YWl0IGNyZWF0ZUhhc2goYCR7Y3NyZlRva2VufSR7b3B0aW9ucy5zZWNyZXR9YCk7XG4gICAgICAgIGlmIChjc3JmVG9rZW5IYXNoID09PSBleHBlY3RlZENzcmZUb2tlbkhhc2gpIHtcbiAgICAgICAgICAgIC8vIElmIGhhc2ggbWF0Y2hlcyB0aGVuIHdlIHRydXN0IHRoZSBDU1JGIHRva2VuIHZhbHVlXG4gICAgICAgICAgICAvLyBJZiB0aGlzIGlzIGEgUE9TVCByZXF1ZXN0IGFuZCB0aGUgQ1NSRiBUb2tlbiBpbiB0aGUgUE9TVCByZXF1ZXN0IG1hdGNoZXNcbiAgICAgICAgICAgIC8vIHRoZSBjb29raWUgd2UgaGF2ZSBhbHJlYWR5IHZlcmlmaWVkIGlzIHRoZSBvbmUgd2UgaGF2ZSBzZXQsIHRoZW4gdGhlIHRva2VuIGlzIHZlcmlmaWVkIVxuICAgICAgICAgICAgY29uc3QgY3NyZlRva2VuVmVyaWZpZWQgPSBpc1Bvc3QgJiYgY3NyZlRva2VuID09PSBib2R5VmFsdWU7XG4gICAgICAgICAgICByZXR1cm4geyBjc3JmVG9rZW5WZXJpZmllZCwgY3NyZlRva2VuIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gTmV3IENTUkYgdG9rZW5cbiAgICBjb25zdCBjc3JmVG9rZW4gPSByYW5kb21TdHJpbmcoMzIpO1xuICAgIGNvbnN0IGNzcmZUb2tlbkhhc2ggPSBhd2FpdCBjcmVhdGVIYXNoKGAke2NzcmZUb2tlbn0ke29wdGlvbnMuc2VjcmV0fWApO1xuICAgIGNvbnN0IGNvb2tpZSA9IGAke2NzcmZUb2tlbn18JHtjc3JmVG9rZW5IYXNofWA7XG4gICAgcmV0dXJuIHsgY29va2llLCBjc3JmVG9rZW4gfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUNTUkYoYWN0aW9uLCB2ZXJpZmllZCkge1xuICAgIGlmICh2ZXJpZmllZClcbiAgICAgICAgcmV0dXJuO1xuICAgIHRocm93IG5ldyBNaXNzaW5nQ1NSRihgQ1NSRiB0b2tlbiB3YXMgbWlzc2luZyBkdXJpbmcgYW4gYWN0aW9uICR7YWN0aW9ufS5gKTtcbn1cbiJdLCJuYW1lcyI6WyJjcmVhdGVIYXNoIiwicmFuZG9tU3RyaW5nIiwiTWlzc2luZ0NTUkYiLCJjcmVhdGVDU1JGVG9rZW4iLCJvcHRpb25zIiwiY29va2llVmFsdWUiLCJpc1Bvc3QiLCJib2R5VmFsdWUiLCJjc3JmVG9rZW4iLCJjc3JmVG9rZW5IYXNoIiwic3BsaXQiLCJleHBlY3RlZENzcmZUb2tlbkhhc2giLCJzZWNyZXQiLCJjc3JmVG9rZW5WZXJpZmllZCIsImNvb2tpZSIsInZhbGlkYXRlQ1NSRiIsImFjdGlvbiIsInZlcmlmaWVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/lib/actions/callback/oauth/csrf-token.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/lib/actions/callback/oauth/csrf-token.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@auth/core/lib/actions/callback/oauth/csrf-token.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createCSRFToken: () => (/* binding */ createCSRFToken),\n/* harmony export */   validateCSRF: () => (/* binding */ validateCSRF)\n/* harmony export */ });\n/* harmony import */ var _utils_web_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utils/web.js */ \"(rsc)/./node_modules/@auth/core/lib/utils/web.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../errors.js */ \"(rsc)/./node_modules/@auth/core/errors.js\");\n\n\n/**\n * Ensure CSRF Token cookie is set for any subsequent requests.\n * Used as part of the strategy for mitigation for CSRF tokens.\n *\n * Creates a cookie like 'next-auth.csrf-token' with the value 'token|hash',\n * where 'token' is the CSRF token and 'hash' is a hash made of the token and\n * the secret, and the two values are joined by a pipe '|'. By storing the\n * value and the hash of the value (with the secret used as a salt) we can\n * verify the cookie was set by the server and not by a malicious attacker.\n *\n * For more details, see the following OWASP links:\n * https://cheatsheetseries.owasp.org/cheatsheets/Cross-Site_Request_Forgery_Prevention_Cheat_Sheet.html#double-submit-cookie\n * https://owasp.org/www-chapter-london/assets/slides/David_Johansson-Double_Defeat_of_Double-Submit_Cookie.pdf\n */ async function createCSRFToken({ options, cookieValue, isPost, bodyValue }) {\n    if (cookieValue) {\n        const [csrfToken, csrfTokenHash] = cookieValue.split(\"|\");\n        const expectedCsrfTokenHash = await (0,_utils_web_js__WEBPACK_IMPORTED_MODULE_0__.createHash)(`${csrfToken}${options.secret}`);\n        if (csrfTokenHash === expectedCsrfTokenHash) {\n            // If hash matches then we trust the CSRF token value\n            // If this is a POST request and the CSRF Token in the POST request matches\n            // the cookie we have already verified is the one we have set, then the token is verified!\n            const csrfTokenVerified = isPost && csrfToken === bodyValue;\n            return {\n                csrfTokenVerified,\n                csrfToken\n            };\n        }\n    }\n    // New CSRF token\n    const csrfToken = (0,_utils_web_js__WEBPACK_IMPORTED_MODULE_0__.randomString)(32);\n    const csrfTokenHash = await (0,_utils_web_js__WEBPACK_IMPORTED_MODULE_0__.createHash)(`${csrfToken}${options.secret}`);\n    const cookie = `${csrfToken}|${csrfTokenHash}`;\n    return {\n        cookie,\n        csrfToken\n    };\n}\nfunction validateCSRF(action, verified) {\n    if (verified) return;\n    throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.MissingCSRF(`CSRF token was missing during an action ${action}.`);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvYWN0aW9ucy9jYWxsYmFjay9vYXV0aC9jc3JmLXRva2VuLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBaUU7QUFDYjtBQUNwRDs7Ozs7Ozs7Ozs7OztDQWFDLEdBQ00sZUFBZUcsZ0JBQWdCLEVBQUVDLE9BQU8sRUFBRUMsV0FBVyxFQUFFQyxNQUFNLEVBQUVDLFNBQVMsRUFBRztJQUM5RSxJQUFJRixhQUFhO1FBQ2IsTUFBTSxDQUFDRyxXQUFXQyxjQUFjLEdBQUdKLFlBQVlLLEtBQUssQ0FBQztRQUNyRCxNQUFNQyx3QkFBd0IsTUFBTVgseURBQVVBLENBQUMsQ0FBQyxFQUFFUSxVQUFVLEVBQUVKLFFBQVFRLE1BQU0sQ0FBQyxDQUFDO1FBQzlFLElBQUlILGtCQUFrQkUsdUJBQXVCO1lBQ3pDLHFEQUFxRDtZQUNyRCwyRUFBMkU7WUFDM0UsMEZBQTBGO1lBQzFGLE1BQU1FLG9CQUFvQlAsVUFBVUUsY0FBY0Q7WUFDbEQsT0FBTztnQkFBRU07Z0JBQW1CTDtZQUFVO1FBQzFDO0lBQ0o7SUFDQSxpQkFBaUI7SUFDakIsTUFBTUEsWUFBWVAsMkRBQVlBLENBQUM7SUFDL0IsTUFBTVEsZ0JBQWdCLE1BQU1ULHlEQUFVQSxDQUFDLENBQUMsRUFBRVEsVUFBVSxFQUFFSixRQUFRUSxNQUFNLENBQUMsQ0FBQztJQUN0RSxNQUFNRSxTQUFTLENBQUMsRUFBRU4sVUFBVSxDQUFDLEVBQUVDLGNBQWMsQ0FBQztJQUM5QyxPQUFPO1FBQUVLO1FBQVFOO0lBQVU7QUFDL0I7QUFDTyxTQUFTTyxhQUFhQyxNQUFNLEVBQUVDLFFBQVE7SUFDekMsSUFBSUEsVUFDQTtJQUNKLE1BQU0sSUFBSWYsbURBQVdBLENBQUMsQ0FBQyx3Q0FBd0MsRUFBRWMsT0FBTyxDQUFDLENBQUM7QUFDOUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LXJ4Ly4vbm9kZV9tb2R1bGVzL0BhdXRoL2NvcmUvbGliL2FjdGlvbnMvY2FsbGJhY2svb2F1dGgvY3NyZi10b2tlbi5qcz8wMzFjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUhhc2gsIHJhbmRvbVN0cmluZyB9IGZyb20gXCIuLi8uLi8uLi91dGlscy93ZWIuanNcIjtcbmltcG9ydCB7IE1pc3NpbmdDU1JGIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2Vycm9ycy5qc1wiO1xuLyoqXG4gKiBFbnN1cmUgQ1NSRiBUb2tlbiBjb29raWUgaXMgc2V0IGZvciBhbnkgc3Vic2VxdWVudCByZXF1ZXN0cy5cbiAqIFVzZWQgYXMgcGFydCBvZiB0aGUgc3RyYXRlZ3kgZm9yIG1pdGlnYXRpb24gZm9yIENTUkYgdG9rZW5zLlxuICpcbiAqIENyZWF0ZXMgYSBjb29raWUgbGlrZSAnbmV4dC1hdXRoLmNzcmYtdG9rZW4nIHdpdGggdGhlIHZhbHVlICd0b2tlbnxoYXNoJyxcbiAqIHdoZXJlICd0b2tlbicgaXMgdGhlIENTUkYgdG9rZW4gYW5kICdoYXNoJyBpcyBhIGhhc2ggbWFkZSBvZiB0aGUgdG9rZW4gYW5kXG4gKiB0aGUgc2VjcmV0LCBhbmQgdGhlIHR3byB2YWx1ZXMgYXJlIGpvaW5lZCBieSBhIHBpcGUgJ3wnLiBCeSBzdG9yaW5nIHRoZVxuICogdmFsdWUgYW5kIHRoZSBoYXNoIG9mIHRoZSB2YWx1ZSAod2l0aCB0aGUgc2VjcmV0IHVzZWQgYXMgYSBzYWx0KSB3ZSBjYW5cbiAqIHZlcmlmeSB0aGUgY29va2llIHdhcyBzZXQgYnkgdGhlIHNlcnZlciBhbmQgbm90IGJ5IGEgbWFsaWNpb3VzIGF0dGFja2VyLlxuICpcbiAqIEZvciBtb3JlIGRldGFpbHMsIHNlZSB0aGUgZm9sbG93aW5nIE9XQVNQIGxpbmtzOlxuICogaHR0cHM6Ly9jaGVhdHNoZWV0c2VyaWVzLm93YXNwLm9yZy9jaGVhdHNoZWV0cy9Dcm9zcy1TaXRlX1JlcXVlc3RfRm9yZ2VyeV9QcmV2ZW50aW9uX0NoZWF0X1NoZWV0Lmh0bWwjZG91YmxlLXN1Ym1pdC1jb29raWVcbiAqIGh0dHBzOi8vb3dhc3Aub3JnL3d3dy1jaGFwdGVyLWxvbmRvbi9hc3NldHMvc2xpZGVzL0RhdmlkX0pvaGFuc3Nvbi1Eb3VibGVfRGVmZWF0X29mX0RvdWJsZS1TdWJtaXRfQ29va2llLnBkZlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlQ1NSRlRva2VuKHsgb3B0aW9ucywgY29va2llVmFsdWUsIGlzUG9zdCwgYm9keVZhbHVlLCB9KSB7XG4gICAgaWYgKGNvb2tpZVZhbHVlKSB7XG4gICAgICAgIGNvbnN0IFtjc3JmVG9rZW4sIGNzcmZUb2tlbkhhc2hdID0gY29va2llVmFsdWUuc3BsaXQoXCJ8XCIpO1xuICAgICAgICBjb25zdCBleHBlY3RlZENzcmZUb2tlbkhhc2ggPSBhd2FpdCBjcmVhdGVIYXNoKGAke2NzcmZUb2tlbn0ke29wdGlvbnMuc2VjcmV0fWApO1xuICAgICAgICBpZiAoY3NyZlRva2VuSGFzaCA9PT0gZXhwZWN0ZWRDc3JmVG9rZW5IYXNoKSB7XG4gICAgICAgICAgICAvLyBJZiBoYXNoIG1hdGNoZXMgdGhlbiB3ZSB0cnVzdCB0aGUgQ1NSRiB0b2tlbiB2YWx1ZVxuICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBhIFBPU1QgcmVxdWVzdCBhbmQgdGhlIENTUkYgVG9rZW4gaW4gdGhlIFBPU1QgcmVxdWVzdCBtYXRjaGVzXG4gICAgICAgICAgICAvLyB0aGUgY29va2llIHdlIGhhdmUgYWxyZWFkeSB2ZXJpZmllZCBpcyB0aGUgb25lIHdlIGhhdmUgc2V0LCB0aGVuIHRoZSB0b2tlbiBpcyB2ZXJpZmllZCFcbiAgICAgICAgICAgIGNvbnN0IGNzcmZUb2tlblZlcmlmaWVkID0gaXNQb3N0ICYmIGNzcmZUb2tlbiA9PT0gYm9keVZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHsgY3NyZlRva2VuVmVyaWZpZWQsIGNzcmZUb2tlbiB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIE5ldyBDU1JGIHRva2VuXG4gICAgY29uc3QgY3NyZlRva2VuID0gcmFuZG9tU3RyaW5nKDMyKTtcbiAgICBjb25zdCBjc3JmVG9rZW5IYXNoID0gYXdhaXQgY3JlYXRlSGFzaChgJHtjc3JmVG9rZW59JHtvcHRpb25zLnNlY3JldH1gKTtcbiAgICBjb25zdCBjb29raWUgPSBgJHtjc3JmVG9rZW59fCR7Y3NyZlRva2VuSGFzaH1gO1xuICAgIHJldHVybiB7IGNvb2tpZSwgY3NyZlRva2VuIH07XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVDU1JGKGFjdGlvbiwgdmVyaWZpZWQpIHtcbiAgICBpZiAodmVyaWZpZWQpXG4gICAgICAgIHJldHVybjtcbiAgICB0aHJvdyBuZXcgTWlzc2luZ0NTUkYoYENTUkYgdG9rZW4gd2FzIG1pc3NpbmcgZHVyaW5nIGFuIGFjdGlvbiAke2FjdGlvbn0uYCk7XG59XG4iXSwibmFtZXMiOlsiY3JlYXRlSGFzaCIsInJhbmRvbVN0cmluZyIsIk1pc3NpbmdDU1JGIiwiY3JlYXRlQ1NSRlRva2VuIiwib3B0aW9ucyIsImNvb2tpZVZhbHVlIiwiaXNQb3N0IiwiYm9keVZhbHVlIiwiY3NyZlRva2VuIiwiY3NyZlRva2VuSGFzaCIsInNwbGl0IiwiZXhwZWN0ZWRDc3JmVG9rZW5IYXNoIiwic2VjcmV0IiwiY3NyZlRva2VuVmVyaWZpZWQiLCJjb29raWUiLCJ2YWxpZGF0ZUNTUkYiLCJhY3Rpb24iLCJ2ZXJpZmllZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/lib/actions/callback/oauth/csrf-token.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/lib/actions/index.js":
/*!******************************************************!*\
  !*** ./node_modules/@auth/core/lib/actions/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   callback: () => (/* reexport safe */ _callback_index_js__WEBPACK_IMPORTED_MODULE_0__.callback),\n/* harmony export */   session: () => (/* reexport safe */ _session_js__WEBPACK_IMPORTED_MODULE_1__.session),\n/* harmony export */   signIn: () => (/* reexport safe */ _signin_index_js__WEBPACK_IMPORTED_MODULE_2__.signIn),\n/* harmony export */   signOut: () => (/* reexport safe */ _signout_js__WEBPACK_IMPORTED_MODULE_3__.signOut),\n/* harmony export */   webAuthnOptions: () => (/* reexport safe */ _webauthn_options_js__WEBPACK_IMPORTED_MODULE_4__.webAuthnOptions)\n/* harmony export */ });\n/* harmony import */ var _callback_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./callback/index.js */ \"(action-browser)/./node_modules/@auth/core/lib/actions/callback/index.js\");\n/* harmony import */ var _session_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./session.js */ \"(action-browser)/./node_modules/@auth/core/lib/actions/session.js\");\n/* harmony import */ var _signin_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./signin/index.js */ \"(action-browser)/./node_modules/@auth/core/lib/actions/signin/index.js\");\n/* harmony import */ var _signout_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./signout.js */ \"(action-browser)/./node_modules/@auth/core/lib/actions/signout.js\");\n/* harmony import */ var _webauthn_options_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./webauthn-options.js */ \"(action-browser)/./node_modules/@auth/core/lib/actions/webauthn-options.js\");\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi9hY3Rpb25zL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBK0M7QUFDUjtBQUNJO0FBQ0o7QUFDaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LXJ4Ly4vbm9kZV9tb2R1bGVzL0BhdXRoL2NvcmUvbGliL2FjdGlvbnMvaW5kZXguanM/NGJhMiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgeyBjYWxsYmFjayB9IGZyb20gXCIuL2NhbGxiYWNrL2luZGV4LmpzXCI7XG5leHBvcnQgeyBzZXNzaW9uIH0gZnJvbSBcIi4vc2Vzc2lvbi5qc1wiO1xuZXhwb3J0IHsgc2lnbkluIH0gZnJvbSBcIi4vc2lnbmluL2luZGV4LmpzXCI7XG5leHBvcnQgeyBzaWduT3V0IH0gZnJvbSBcIi4vc2lnbm91dC5qc1wiO1xuZXhwb3J0IHsgd2ViQXV0aG5PcHRpb25zIH0gZnJvbSBcIi4vd2ViYXV0aG4tb3B0aW9ucy5qc1wiO1xuIl0sIm5hbWVzIjpbImNhbGxiYWNrIiwic2Vzc2lvbiIsInNpZ25JbiIsInNpZ25PdXQiLCJ3ZWJBdXRobk9wdGlvbnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/lib/actions/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/lib/actions/index.js":
/*!******************************************************!*\
  !*** ./node_modules/@auth/core/lib/actions/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   callback: () => (/* reexport safe */ _callback_index_js__WEBPACK_IMPORTED_MODULE_0__.callback),\n/* harmony export */   session: () => (/* reexport safe */ _session_js__WEBPACK_IMPORTED_MODULE_1__.session),\n/* harmony export */   signIn: () => (/* reexport safe */ _signin_index_js__WEBPACK_IMPORTED_MODULE_2__.signIn),\n/* harmony export */   signOut: () => (/* reexport safe */ _signout_js__WEBPACK_IMPORTED_MODULE_3__.signOut),\n/* harmony export */   webAuthnOptions: () => (/* reexport safe */ _webauthn_options_js__WEBPACK_IMPORTED_MODULE_4__.webAuthnOptions)\n/* harmony export */ });\n/* harmony import */ var _callback_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./callback/index.js */ \"(rsc)/./node_modules/@auth/core/lib/actions/callback/index.js\");\n/* harmony import */ var _session_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./session.js */ \"(rsc)/./node_modules/@auth/core/lib/actions/session.js\");\n/* harmony import */ var _signin_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./signin/index.js */ \"(rsc)/./node_modules/@auth/core/lib/actions/signin/index.js\");\n/* harmony import */ var _signout_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./signout.js */ \"(rsc)/./node_modules/@auth/core/lib/actions/signout.js\");\n/* harmony import */ var _webauthn_options_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./webauthn-options.js */ \"(rsc)/./node_modules/@auth/core/lib/actions/webauthn-options.js\");\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvYWN0aW9ucy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQStDO0FBQ1I7QUFDSTtBQUNKO0FBQ2lCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC1yeC8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi9hY3Rpb25zL2luZGV4LmpzPzRiYTIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgY2FsbGJhY2sgfSBmcm9tIFwiLi9jYWxsYmFjay9pbmRleC5qc1wiO1xuZXhwb3J0IHsgc2Vzc2lvbiB9IGZyb20gXCIuL3Nlc3Npb24uanNcIjtcbmV4cG9ydCB7IHNpZ25JbiB9IGZyb20gXCIuL3NpZ25pbi9pbmRleC5qc1wiO1xuZXhwb3J0IHsgc2lnbk91dCB9IGZyb20gXCIuL3NpZ25vdXQuanNcIjtcbmV4cG9ydCB7IHdlYkF1dGhuT3B0aW9ucyB9IGZyb20gXCIuL3dlYmF1dGhuLW9wdGlvbnMuanNcIjtcbiJdLCJuYW1lcyI6WyJjYWxsYmFjayIsInNlc3Npb24iLCJzaWduSW4iLCJzaWduT3V0Iiwid2ViQXV0aG5PcHRpb25zIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/lib/actions/index.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/lib/actions/session.js":
/*!********************************************************!*\
  !*** ./node_modules/@auth/core/lib/actions/session.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   session: () => (/* binding */ session)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../errors.js */ \"(action-browser)/./node_modules/@auth/core/errors.js\");\n/* harmony import */ var _utils_date_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/date.js */ \"(action-browser)/./node_modules/@auth/core/lib/utils/date.js\");\n\n\n/** Return a session object filtered via `callbacks.session` */ async function session(options, sessionStore, cookies, isUpdate, newSession) {\n    const { adapter, jwt, events, callbacks, logger, session: { strategy: sessionStrategy, maxAge: sessionMaxAge } } = options;\n    const response = {\n        body: null,\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        cookies\n    };\n    const sessionToken = sessionStore.value;\n    if (!sessionToken) return response;\n    if (sessionStrategy === \"jwt\") {\n        try {\n            const salt = options.cookies.sessionToken.name;\n            const payload = await jwt.decode({\n                ...jwt,\n                token: sessionToken,\n                salt\n            });\n            if (!payload) throw new Error(\"Invalid JWT\");\n            // @ts-expect-error\n            const token = await callbacks.jwt({\n                token: payload,\n                ...isUpdate && {\n                    trigger: \"update\"\n                },\n                session: newSession\n            });\n            const newExpires = (0,_utils_date_js__WEBPACK_IMPORTED_MODULE_1__.fromDate)(sessionMaxAge);\n            if (token !== null) {\n                // By default, only exposes a limited subset of information to the client\n                // as needed for presentation purposes (e.g. \"you are logged in as...\").\n                const session = {\n                    user: {\n                        name: token.name,\n                        email: token.email,\n                        image: token.picture\n                    },\n                    expires: newExpires.toISOString()\n                };\n                // @ts-expect-error\n                const newSession = await callbacks.session({\n                    session,\n                    token\n                });\n                // Return session payload as response\n                response.body = newSession;\n                // Refresh JWT expiry by re-signing it, with an updated expiry date\n                const newToken = await jwt.encode({\n                    ...jwt,\n                    token,\n                    salt\n                });\n                // Set cookie, to also update expiry date on cookie\n                const sessionCookies = sessionStore.chunk(newToken, {\n                    expires: newExpires\n                });\n                response.cookies?.push(...sessionCookies);\n                await events.session?.({\n                    session: newSession,\n                    token\n                });\n            } else {\n                response.cookies?.push(...sessionStore.clean());\n            }\n        } catch (e) {\n            logger.error(new _errors_js__WEBPACK_IMPORTED_MODULE_0__.JWTSessionError(e));\n            // If the JWT is not verifiable remove the broken session cookie(s).\n            response.cookies?.push(...sessionStore.clean());\n        }\n        return response;\n    }\n    // Retrieve session from database\n    try {\n        const { getSessionAndUser, deleteSession, updateSession } = adapter;\n        let userAndSession = await getSessionAndUser(sessionToken);\n        // If session has expired, clean up the database\n        if (userAndSession && userAndSession.session.expires.valueOf() < Date.now()) {\n            await deleteSession(sessionToken);\n            userAndSession = null;\n        }\n        if (userAndSession) {\n            const { user, session } = userAndSession;\n            const sessionUpdateAge = options.session.updateAge;\n            // Calculate last updated date to throttle write updates to database\n            // Formula: ({expiry date} - sessionMaxAge) + sessionUpdateAge\n            //     e.g. ({expiry date} - 30 days) + 1 hour\n            const sessionIsDueToBeUpdatedDate = session.expires.valueOf() - sessionMaxAge * 1000 + sessionUpdateAge * 1000;\n            const newExpires = (0,_utils_date_js__WEBPACK_IMPORTED_MODULE_1__.fromDate)(sessionMaxAge);\n            // Trigger update of session expiry date and write to database, only\n            // if the session was last updated more than {sessionUpdateAge} ago\n            if (sessionIsDueToBeUpdatedDate <= Date.now()) {\n                await updateSession({\n                    sessionToken: sessionToken,\n                    expires: newExpires\n                });\n            }\n            // Pass Session through to the session callback\n            const sessionPayload = await callbacks.session({\n                // TODO: user already passed below,\n                // remove from session object in https://github.com/nextauthjs/next-auth/pull/9702\n                // @ts-expect-error\n                session: {\n                    ...session,\n                    user\n                },\n                user,\n                newSession,\n                ...isUpdate ? {\n                    trigger: \"update\"\n                } : {}\n            });\n            // Return session payload as response\n            response.body = sessionPayload;\n            // Set cookie again to update expiry\n            response.cookies?.push({\n                name: options.cookies.sessionToken.name,\n                value: sessionToken,\n                options: {\n                    ...options.cookies.sessionToken.options,\n                    expires: newExpires\n                }\n            });\n            // @ts-expect-error\n            await events.session?.({\n                session: sessionPayload\n            });\n        } else if (sessionToken) {\n            // If `sessionToken` was found set but it's not valid for a session then\n            // remove the sessionToken cookie from browser.\n            response.cookies?.push(...sessionStore.clean());\n        }\n    } catch (e) {\n        logger.error(new _errors_js__WEBPACK_IMPORTED_MODULE_0__.SessionTokenError(e));\n    }\n    return response;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi9hY3Rpb25zL3Nlc3Npb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXFFO0FBQ3pCO0FBQzVDLDZEQUE2RCxHQUN0RCxlQUFlRyxRQUFRQyxPQUFPLEVBQUVDLFlBQVksRUFBRUMsT0FBTyxFQUFFQyxRQUFRLEVBQUVDLFVBQVU7SUFDOUUsTUFBTSxFQUFFQyxPQUFPLEVBQUVDLEdBQUcsRUFBRUMsTUFBTSxFQUFFQyxTQUFTLEVBQUVDLE1BQU0sRUFBRVYsU0FBUyxFQUFFVyxVQUFVQyxlQUFlLEVBQUVDLFFBQVFDLGFBQWEsRUFBRSxFQUFHLEdBQUdiO0lBQ3BILE1BQU1jLFdBQVc7UUFDYkMsTUFBTTtRQUNOQyxTQUFTO1lBQUUsZ0JBQWdCO1FBQW1CO1FBQzlDZDtJQUNKO0lBQ0EsTUFBTWUsZUFBZWhCLGFBQWFpQixLQUFLO0lBQ3ZDLElBQUksQ0FBQ0QsY0FDRCxPQUFPSDtJQUNYLElBQUlILG9CQUFvQixPQUFPO1FBQzNCLElBQUk7WUFDQSxNQUFNUSxPQUFPbkIsUUFBUUUsT0FBTyxDQUFDZSxZQUFZLENBQUNHLElBQUk7WUFDOUMsTUFBTUMsVUFBVSxNQUFNZixJQUFJZ0IsTUFBTSxDQUFDO2dCQUFFLEdBQUdoQixHQUFHO2dCQUFFaUIsT0FBT047Z0JBQWNFO1lBQUs7WUFDckUsSUFBSSxDQUFDRSxTQUNELE1BQU0sSUFBSUcsTUFBTTtZQUNwQixtQkFBbUI7WUFDbkIsTUFBTUQsUUFBUSxNQUFNZixVQUFVRixHQUFHLENBQUM7Z0JBQzlCaUIsT0FBT0Y7Z0JBQ1AsR0FBSWxCLFlBQVk7b0JBQUVzQixTQUFTO2dCQUFTLENBQUM7Z0JBQ3JDMUIsU0FBU0s7WUFDYjtZQUNBLE1BQU1zQixhQUFhNUIsd0RBQVFBLENBQUNlO1lBQzVCLElBQUlVLFVBQVUsTUFBTTtnQkFDaEIseUVBQXlFO2dCQUN6RSx3RUFBd0U7Z0JBQ3hFLE1BQU14QixVQUFVO29CQUNaNEIsTUFB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QUc7Z0JBQUVBLFNBQVNvRDtZQUFlO1FBQ3JELE9BQ0ssSUFBSWxDLGNBQWM7WUFDbkIsd0VBQXdFO1lBQ3hFLCtDQUErQztZQUMvQ0gsU0FBU1osT0FBTyxFQUFFbUMsUUFBUXBDLGFBQWFxQyxLQUFLO1FBQ2hEO0lBQ0osRUFDQSxPQUFPQyxHQUFHO1FBQ045QixPQUFPK0IsS0FBSyxDQUFDLElBQUkzQyx5REFBaUJBLENBQUMwQztJQUN2QztJQUNBLE9BQU96QjtBQUNYIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC1yeC8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi9hY3Rpb25zL3Nlc3Npb24uanM/NmZkOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBKV1RTZXNzaW9uRXJyb3IsIFNlc3Npb25Ub2tlbkVycm9yIH0gZnJvbSBcIi4uLy4uL2Vycm9ycy5qc1wiO1xuaW1wb3J0IHsgZnJvbURhdGUgfSBmcm9tIFwiLi4vdXRpbHMvZGF0ZS5qc1wiO1xuLyoqIFJldHVybiBhIHNlc3Npb24gb2JqZWN0IGZpbHRlcmVkIHZpYSBgY2FsbGJhY2tzLnNlc3Npb25gICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2Vzc2lvbihvcHRpb25zLCBzZXNzaW9uU3RvcmUsIGNvb2tpZXMsIGlzVXBkYXRlLCBuZXdTZXNzaW9uKSB7XG4gICAgY29uc3QgeyBhZGFwdGVyLCBqd3QsIGV2ZW50cywgY2FsbGJhY2tzLCBsb2dnZXIsIHNlc3Npb246IHsgc3RyYXRlZ3k6IHNlc3Npb25TdHJhdGVneSwgbWF4QWdlOiBzZXNzaW9uTWF4QWdlIH0sIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICBib2R5OiBudWxsLFxuICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgIGNvb2tpZXMsXG4gICAgfTtcbiAgICBjb25zdCBzZXNzaW9uVG9rZW4gPSBzZXNzaW9uU3RvcmUudmFsdWU7XG4gICAgaWYgKCFzZXNzaW9uVG9rZW4pXG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICBpZiAoc2Vzc2lvblN0cmF0ZWd5ID09PSBcImp3dFwiKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzYWx0ID0gb3B0aW9ucy5jb29raWVzLnNlc3Npb25Ub2tlbi5uYW1lO1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IGp3dC5kZWNvZGUoeyAuLi5qd3QsIHRva2VuOiBzZXNzaW9uVG9rZW4sIHNhbHQgfSk7XG4gICAgICAgICAgICBpZiAoIXBheWxvYWQpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBKV1RcIik7XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IGF3YWl0IGNhbGxiYWNrcy5qd3Qoe1xuICAgICAgICAgICAgICAgIHRva2VuOiBwYXlsb2FkLFxuICAgICAgICAgICAgICAgIC4uLihpc1VwZGF0ZSAmJiB7IHRyaWdnZXI6IFwidXBkYXRlXCIgfSksXG4gICAgICAgICAgICAgICAgc2Vzc2lvbjogbmV3U2Vzc2lvbixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgbmV3RXhwaXJlcyA9IGZyb21EYXRlKHNlc3Npb25NYXhBZ2UpO1xuICAgICAgICAgICAgaWYgKHRva2VuICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gQnkgZGVmYXVsdCwgb25seSBleHBvc2VzIGEgbGltaXRlZCBzdWJzZXQgb2YgaW5mb3JtYXRpb24gdG8gdGhlIGNsaWVudFxuICAgICAgICAgICAgICAgIC8vIGFzIG5lZWRlZCBmb3IgcHJlc2VudGF0aW9uIHB1cnBvc2VzIChlLmcuIFwieW91IGFyZSBsb2dnZWQgaW4gYXMuLi5cIikuXG4gICAgICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgdXNlcjogeyBuYW1lOiB0b2tlbi5uYW1lLCBlbWFpbDogdG9rZW4uZW1haWwsIGltYWdlOiB0b2tlbi5waWN0dXJlIH0sXG4gICAgICAgICAgICAgICAgICAgIGV4cGlyZXM6IG5ld0V4cGlyZXMudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdTZXNzaW9uID0gYXdhaXQgY2FsbGJhY2tzLnNlc3Npb24oeyBzZXNzaW9uLCB0b2tlbiB9KTtcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gc2Vzc2lvbiBwYXlsb2FkIGFzIHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keSA9IG5ld1Nlc3Npb247XG4gICAgICAgICAgICAgICAgLy8gUmVmcmVzaCBKV1QgZXhwaXJ5IGJ5IHJlLXNpZ25pbmcgaXQsIHdpdGggYW4gdXBkYXRlZCBleHBpcnkgZGF0ZVxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1Rva2VuID0gYXdhaXQgand0LmVuY29kZSh7IC4uLmp3dCwgdG9rZW4sIHNhbHQgfSk7XG4gICAgICAgICAgICAgICAgLy8gU2V0IGNvb2tpZSwgdG8gYWxzbyB1cGRhdGUgZXhwaXJ5IGRhdGUgb24gY29va2llXG4gICAgICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbkNvb2tpZXMgPSBzZXNzaW9uU3RvcmUuY2h1bmsobmV3VG9rZW4sIHtcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJlczogbmV3RXhwaXJlcyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5jb29raWVzPy5wdXNoKC4uLnNlc3Npb25Db29raWVzKTtcbiAgICAgICAgICAgICAgICBhd2FpdCBldmVudHMuc2Vzc2lvbj8uKHsgc2Vzc2lvbjogbmV3U2Vzc2lvbiwgdG9rZW4gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZS5jb29raWVzPy5wdXNoKC4uLnNlc3Npb25TdG9yZS5jbGVhbigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKG5ldyBKV1RTZXNzaW9uRXJyb3IoZSkpO1xuICAgICAgICAgICAgLy8gSWYgdGhlIEpXVCBpcyBub3QgdmVyaWZpYWJsZSByZW1vdmUgdGhlIGJyb2tlbiBzZXNzaW9uIGNvb2tpZShzKS5cbiAgICAgICAgICAgIHJlc3BvbnNlLmNvb2tpZXM/LnB1c2goLi4uc2Vzc2lvblN0b3JlLmNsZWFuKCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9XG4gICAgLy8gUmV0cmlldmUgc2Vzc2lvbiBmcm9tIGRhdGFiYXNlXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBnZXRTZXNzaW9uQW5kVXNlciwgZGVsZXRlU2Vzc2lvbiwgdXBkYXRlU2Vzc2lvbiB9ID0gYWRhcHRlcjtcbiAgICAgICAgbGV0IHVzZXJBbmRTZXNzaW9uID0gYXdhaXQgZ2V0U2Vzc2lvbkFuZFVzZXIoc2Vzc2lvblRva2VuKTtcbiAgICAgICAgLy8gSWYgc2Vzc2lvbiBoYXMgZXhwaXJlZCwgY2xlYW4gdXAgdGhlIGRhdGFiYXNlXG4gICAgICAgIGlmICh1c2VyQW5kU2Vzc2lvbiAmJlxuICAgICAgICAgICAgdXNlckFuZFNlc3Npb24uc2Vzc2lvbi5leHBpcmVzLnZhbHVlT2YoKSA8IERhdGUubm93KCkpIHtcbiAgICAgICAgICAgIGF3YWl0IGRlbGV0ZVNlc3Npb24oc2Vzc2lvblRva2VuKTtcbiAgICAgICAgICAgIHVzZXJBbmRTZXNzaW9uID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXNlckFuZFNlc3Npb24pIHtcbiAgICAgICAgICAgIGNvbnN0IHsgdXNlciwgc2Vzc2lvbiB9ID0gdXNlckFuZFNlc3Npb247XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uVXBkYXRlQWdlID0gb3B0aW9ucy5zZXNzaW9uLnVwZGF0ZUFnZTtcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBsYXN0IHVwZGF0ZWQgZGF0ZSB0byB0aHJvdHRsZSB3cml0ZSB1cGRhdGVzIHRvIGRhdGFiYXNlXG4gICAgICAgICAgICAvLyBGb3JtdWxhOiAoe2V4cGlyeSBkYXRlfSAtIHNlc3Npb25NYXhBZ2UpICsgc2Vzc2lvblVwZGF0ZUFnZVxuICAgICAgICAgICAgLy8gICAgIGUuZy4gKHtleHBpcnkgZGF0ZX0gLSAzMCBkYXlzKSArIDEgaG91clxuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbklzRHVlVG9CZVVwZGF0ZWREYXRlID0gc2Vzc2lvbi5leHBpcmVzLnZhbHVlT2YoKSAtXG4gICAgICAgICAgICAgICAgc2Vzc2lvbk1heEFnZSAqIDEwMDAgK1xuICAgICAgICAgICAgICAgIHNlc3Npb25VcGRhdGVBZ2UgKiAxMDAwO1xuICAgICAgICAgICAgY29uc3QgbmV3RXhwaXJlcyA9IGZyb21EYXRlKHNlc3Npb25NYXhBZ2UpO1xuICAgICAgICAgICAgLy8gVHJpZ2dlciB1cGRhdGUgb2Ygc2Vzc2lvbiBleHBpcnkgZGF0ZSBhbmQgd3JpdGUgdG8gZGF0YWJhc2UsIG9ubHlcbiAgICAgICAgICAgIC8vIGlmIHRoZSBzZXNzaW9uIHdhcyBsYXN0IHVwZGF0ZWQgbW9yZSB0aGFuIHtzZXNzaW9uVXBkYXRlQWdlfSBhZ29cbiAgICAgICAgICAgIGlmIChzZXNzaW9uSXNEdWVUb0JlVXBkYXRlZERhdGUgPD0gRGF0ZS5ub3coKSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHVwZGF0ZVNlc3Npb24oe1xuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uVG9rZW46IHNlc3Npb25Ub2tlbixcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJlczogbmV3RXhwaXJlcyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFBhc3MgU2Vzc2lvbiB0aHJvdWdoIHRvIHRoZSBzZXNzaW9uIGNhbGxiYWNrXG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uUGF5bG9hZCA9IGF3YWl0IGNhbGxiYWNrcy5zZXNzaW9uKHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiB1c2VyIGFscmVhZHkgcGFzc2VkIGJlbG93LFxuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBmcm9tIHNlc3Npb24gb2JqZWN0IGluIGh0dHBzOi8vZ2l0aHViLmNvbS9uZXh0YXV0aGpzL25leHQtYXV0aC9wdWxsLzk3MDJcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICAgICAgc2Vzc2lvbjogeyAuLi5zZXNzaW9uLCB1c2VyIH0sXG4gICAgICAgICAgICAgICAgdXNlcixcbiAgICAgICAgICAgICAgICBuZXdTZXNzaW9uLFxuICAgICAgICAgICAgICAgIC4uLihpc1VwZGF0ZSA/IHsgdHJpZ2dlcjogXCJ1cGRhdGVcIiB9IDoge30pLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBSZXR1cm4gc2Vzc2lvbiBwYXlsb2FkIGFzIHJlc3BvbnNlXG4gICAgICAgICAgICByZXNwb25zZS5ib2R5ID0gc2Vzc2lvblBheWxvYWQ7XG4gICAgICAgICAgICAvLyBTZXQgY29va2llIGFnYWluIHRvIHVwZGF0ZSBleHBpcnlcbiAgICAgICAgICAgIHJlc3BvbnNlLmNvb2tpZXM/LnB1c2goe1xuICAgICAgICAgICAgICAgIG5hbWU6IG9wdGlvbnMuY29va2llcy5zZXNzaW9uVG9rZW4ubmFtZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogc2Vzc2lvblRva2VuLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgLi4ub3B0aW9ucy5jb29raWVzLnNlc3Npb25Ub2tlbi5vcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICBleHBpcmVzOiBuZXdFeHBpcmVzLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgIGF3YWl0IGV2ZW50cy5zZXNzaW9uPy4oeyBzZXNzaW9uOiBzZXNzaW9uUGF5bG9hZCB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzZXNzaW9uVG9rZW4pIHtcbiAgICAgICAgICAgIC8vIElmIGBzZXNzaW9uVG9rZW5gIHdhcyBmb3VuZCBzZXQgYnV0IGl0J3Mgbm90IHZhbGlkIGZvciBhIHNlc3Npb24gdGhlblxuICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSBzZXNzaW9uVG9rZW4gY29va2llIGZyb20gYnJvd3Nlci5cbiAgICAgICAgICAgIHJlc3BvbnNlLmNvb2tpZXM/LnB1c2goLi4uc2Vzc2lvblN0b3JlLmNsZWFuKCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGxvZ2dlci5lcnJvcihuZXcgU2Vzc2lvblRva2VuRXJyb3IoZSkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzcG9uc2U7XG59XG4iXSwibmFtZXMiOlsiSldUU2Vzc2lvbkVycm9yIiwiU2Vzc2lvblRva2VuRXJyb3IiLCJmcm9tRGF0ZSIsInNlc3Npb24iLCJvcHRpb25zIiwic2Vzc2lvblN0b3JlIiwiY29va2llcyIsImlzVXBkYXRlIiwibmV3U2Vzc2lvbiIsImFkYXB0ZXIiLCJqd3QiLCJldmVudHMiLCJjYWxsYmFja3MiLCJsb2dnZXIiLCJzdHJhdGVneSIsInNlc3Npb25TdHJhdGVneSIsIm1heEFnZSIsInNlc3Npb25NYXhBZ2UiLCJyZXNwb25zZSIsImJvZHkiLCJoZWFkZXJzIiwic2Vzc2lvblRva2VuIiwidmFsdWUiLCJzYWx0IiwibmFtZSIsInBheWxvYWQiLCJkZWNvZGUiLCJ0b2tlbiIsIkVycm9yIiwidHJpZ2dlciIsIm5ld0V4cGlyZXMiLCJ1c2VyIiwiZW1haWwiLCJpbWFnZSIsInBpY3R1cmUiLCJleHBpcmVzIiwidG9JU09TdHJpbmciLCJuZXdUb2tlbiIsImVuY29kZSIsInNlc3Npb25Db29raWVzIiwiY2h1bmsiLCJwdXNoIiwiY2xlYW4iLCJlIiwiZXJyb3IiLCJnZXRTZXNzaW9uQW5kVXNlciIsImRlbGV0ZVNlc3Npb24iLCJ1cGRhdGVTZXNzaW9uIiwidXNlckFuZFNlc3Npb24iLCJ2YWx1ZU9mIiwiRGF0ZSIsIm5vdyIsInNlc3Npb25VcGRhdGVBZ2UiLCJ1cGRhdGVBZ2UiLCJzZXNzaW9uSXNEdWVUb0JlVXBkYXRlZERhdGUiLCJzZXNzaW9uUGF5bG9hZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/lib/actions/session.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/lib/actions/session.js":
/*!********************************************************!*\
  !*** ./node_modules/@auth/core/lib/actions/session.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   session: () => (/* binding */ session)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../errors.js */ \"(rsc)/./node_modules/@auth/core/errors.js\");\n/* harmony import */ var _utils_date_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/date.js */ \"(rsc)/./node_modules/@auth/core/lib/utils/date.js\");\n\n\n/** Return a session object filtered via `callbacks.session` */ async function session(options, sessionStore, cookies, isUpdate, newSession) {\n    const { adapter, jwt, events, callbacks, logger, session: { strategy: sessionStrategy, maxAge: sessionMaxAge } } = options;\n    const response = {\n        body: null,\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        cookies\n    };\n    const sessionToken = sessionStore.value;\n    if (!sessionToken) return response;\n    if (sessionStrategy === \"jwt\") {\n        try {\n            const salt = options.cookies.sessionToken.name;\n            const payload = await jwt.decode({\n                ...jwt,\n                token: sessionToken,\n                salt\n            });\n            if (!payload) throw new Error(\"Invalid JWT\");\n            // @ts-expect-error\n            const token = await callbacks.jwt({\n                token: payload,\n                ...isUpdate && {\n                    trigger: \"update\"\n                },\n                session: newSession\n            });\n            const newExpires = (0,_utils_date_js__WEBPACK_IMPORTED_MODULE_1__.fromDate)(sessionMaxAge);\n            if (token !== null) {\n                // By default, only exposes a limited subset of information to the client\n                // as needed for presentation purposes (e.g. \"you are logged in as...\").\n                const session = {\n                    user: {\n                        name: token.name,\n                        email: token.email,\n                        image: token.picture\n                    },\n                    expires: newExpires.toISOString()\n                };\n                // @ts-expect-error\n                const newSession = await callbacks.session({\n                    session,\n                    token\n                });\n                // Return session payload as response\n                response.body = newSession;\n                // Refresh JWT expiry by re-signing it, with an updated expiry date\n                const newToken = await jwt.encode({\n                    ...jwt,\n                    token,\n                    salt\n                });\n                // Set cookie, to also update expiry date on cookie\n                const sessionCookies = sessionStore.chunk(newToken, {\n                    expires: newExpires\n                });\n                response.cookies?.push(...sessionCookies);\n                await events.session?.({\n                    session: newSession,\n                    token\n                });\n            } else {\n                response.cookies?.push(...sessionStore.clean());\n            }\n        } catch (e) {\n            logger.error(new _errors_js__WEBPACK_IMPORTED_MODULE_0__.JWTSessionError(e));\n            // If the JWT is not verifiable remove the broken session cookie(s).\n            response.cookies?.push(...sessionStore.clean());\n        }\n        return response;\n    }\n    // Retrieve session from database\n    try {\n        const { getSessionAndUser, deleteSession, updateSession } = adapter;\n        let userAndSession = await getSessionAndUser(sessionToken);\n        // If session has expired, clean up the database\n        if (userAndSession && userAndSession.session.expires.valueOf() < Date.now()) {\n            await deleteSession(sessionToken);\n            userAndSession = null;\n        }\n        if (userAndSession) {\n            const { user, session } = userAndSession;\n            const sessionUpdateAge = options.session.updateAge;\n            // Calculate last updated date to throttle write updates to database\n            // Formula: ({expiry date} - sessionMaxAge) + sessionUpdateAge\n            //     e.g. ({expiry date} - 30 days) + 1 hour\n            const sessionIsDueToBeUpdatedDate = session.expires.valueOf() - sessionMaxAge * 1000 + sessionUpdateAge * 1000;\n            const newExpires = (0,_utils_date_js__WEBPACK_IMPORTED_MODULE_1__.fromDate)(sessionMaxAge);\n            // Trigger update of session expiry date and write to database, only\n            // if the session was last updated more than {sessionUpdateAge} ago\n            if (sessionIsDueToBeUpdatedDate <= Date.now()) {\n                await updateSession({\n                    sessionToken: sessionToken,\n                    expires: newExpires\n                });\n            }\n            // Pass Session through to the session callback\n            const sessionPayload = await callbacks.session({\n                // TODO: user already passed below,\n                // remove from session object in https://github.com/nextauthjs/next-auth/pull/9702\n                // @ts-expect-error\n                session: {\n                    ...session,\n                    user\n                },\n                user,\n                newSession,\n                ...isUpdate ? {\n                    trigger: \"update\"\n                } : {}\n            });\n            // Return session payload as response\n            response.body = sessionPayload;\n            // Set cookie again to update expiry\n            response.cookies?.push({\n                name: options.cookies.sessionToken.name,\n                value: sessionToken,\n                options: {\n                    ...options.cookies.sessionToken.options,\n                    expires: newExpires\n                }\n            });\n            // @ts-expect-error\n            await events.session?.({\n                session: sessionPayload\n            });\n        } else if (sessionToken) {\n            // If `sessionToken` was found set but it's not valid for a session then\n            // remove the sessionToken cookie from browser.\n            response.cookies?.push(...sessionStore.clean());\n        }\n    } catch (e) {\n        logger.error(new _errors_js__WEBPACK_IMPORTED_MODULE_0__.SessionTokenError(e));\n    }\n    return response;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvYWN0aW9ucy9zZXNzaW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFxRTtBQUN6QjtBQUM1Qyw2REFBNkQsR0FDdEQsZUFBZUcsUUFBUUMsT0FBTyxFQUFFQyxZQUFZLEVBQUVDLE9BQU8sRUFBRUMsUUFBUSxFQUFFQyxVQUFVO0lBQzlFLE1BQU0sRUFBRUMsT0FBTyxFQUFFQyxHQUFHLEVBQUVDLE1BQU0sRUFBRUMsU0FBUyxFQUFFQyxNQUFNLEVBQUVWLFNBQVMsRUFBRVcsVUFBVUMsZUFBZSxFQUFFQyxRQUFRQyxhQUFhLEVBQUUsRUFBRyxHQUFHYjtJQUNwSCxNQUFNYyxXQUFXO1FBQ2JDLE1BQU07UUFDTkMsU0FBUztZQUFFLGdCQUFnQjtRQUFtQjtRQUM5Q2Q7SUFDSjtJQUNBLE1BQU1lLGVBQWVoQixhQUFhaUIsS0FBSztJQUN2QyxJQUFJLENBQUNELGNBQ0QsT0FBT0g7SUFDWCxJQUFJSCxvQkFBb0IsT0FBTztRQUMzQixJQUFJO1lBQ0EsTUFBTVEsT0FBT25CLFFBQVFFLE9BQU8sQ0FBQ2UsWUFBWSxDQUFDRyxJQUFJO1lBQzlDLE1BQU1DLFVBQVUsTUFBTWYsSUFBSWdCLE1BQU0sQ0FBQztnQkFBRSxHQUFHaEIsR0FBRztnQkFBRWlCLE9BQU9OO2dCQUFjRTtZQUFLO1lBQ3JFLElBQUksQ0FBQ0UsU0FDRCxNQUFNLElBQUlHLE1BQU07WUFDcEIsbUJBQW1CO1lBQ25CLE1BQU1ELFFBQVEsTUFBTWYsVUFBVUYsR0FBRyxDQUFDO2dCQUM5QmlCLE9BQU9GO2dCQUNQLEdBQUlsQixZQUFZO29CQUFFc0IsU0FBUztnQkFBUyxDQUFDO2dCQUNyQzFCLFNBQVNLO1lBQ2I7WUFDQSxNQUFNc0IsYUFBYTVCLHdEQUFRQSxDQUFDZTtZQUM1QixJQUFJVSxVQUFVLE1BQU07Z0JBQ2hCLHlFQUF5RTtnQkFDekUsd0VBQXdFO2dCQUN4RSxNQUFNeEIsVUFBVTtvQkFDWjRCLE1BQU07d0JBQUVQLE1B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QUFTb0Q7WUFBZTtRQUNyRCxPQUNLLElBQUlsQyxjQUFjO1lBQ25CLHdFQUF3RTtZQUN4RSwrQ0FBK0M7WUFDL0NILFNBQVNaLE9BQU8sRUFBRW1DLFFBQVFwQyxhQUFhcUMsS0FBSztRQUNoRDtJQUNKLEVBQ0EsT0FBT0MsR0FBRztRQUNOOUIsT0FBTytCLEtBQUssQ0FBQyxJQUFJM0MseURBQWlCQSxDQUFDMEM7SUFDdkM7SUFDQSxPQUFPekI7QUFDWCIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtcngvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvYWN0aW9ucy9zZXNzaW9uLmpzPzZmZDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSldUU2Vzc2lvbkVycm9yLCBTZXNzaW9uVG9rZW5FcnJvciB9IGZyb20gXCIuLi8uLi9lcnJvcnMuanNcIjtcbmltcG9ydCB7IGZyb21EYXRlIH0gZnJvbSBcIi4uL3V0aWxzL2RhdGUuanNcIjtcbi8qKiBSZXR1cm4gYSBzZXNzaW9uIG9iamVjdCBmaWx0ZXJlZCB2aWEgYGNhbGxiYWNrcy5zZXNzaW9uYCAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlc3Npb24ob3B0aW9ucywgc2Vzc2lvblN0b3JlLCBjb29raWVzLCBpc1VwZGF0ZSwgbmV3U2Vzc2lvbikge1xuICAgIGNvbnN0IHsgYWRhcHRlciwgand0LCBldmVudHMsIGNhbGxiYWNrcywgbG9nZ2VyLCBzZXNzaW9uOiB7IHN0cmF0ZWd5OiBzZXNzaW9uU3RyYXRlZ3ksIG1heEFnZTogc2Vzc2lvbk1heEFnZSB9LCB9ID0gb3B0aW9ucztcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgYm9keTogbnVsbCxcbiAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICBjb29raWVzLFxuICAgIH07XG4gICAgY29uc3Qgc2Vzc2lvblRva2VuID0gc2Vzc2lvblN0b3JlLnZhbHVlO1xuICAgIGlmICghc2Vzc2lvblRva2VuKVxuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgaWYgKHNlc3Npb25TdHJhdGVneSA9PT0gXCJqd3RcIikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc2FsdCA9IG9wdGlvbnMuY29va2llcy5zZXNzaW9uVG9rZW4ubmFtZTtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCBqd3QuZGVjb2RlKHsgLi4uand0LCB0b2tlbjogc2Vzc2lvblRva2VuLCBzYWx0IH0pO1xuICAgICAgICAgICAgaWYgKCFwYXlsb2FkKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgSldUXCIpO1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCBjYWxsYmFja3Muand0KHtcbiAgICAgICAgICAgICAgICB0b2tlbjogcGF5bG9hZCxcbiAgICAgICAgICAgICAgICAuLi4oaXNVcGRhdGUgJiYgeyB0cmlnZ2VyOiBcInVwZGF0ZVwiIH0pLFxuICAgICAgICAgICAgICAgIHNlc3Npb246IG5ld1Nlc3Npb24sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IG5ld0V4cGlyZXMgPSBmcm9tRGF0ZShzZXNzaW9uTWF4QWdlKTtcbiAgICAgICAgICAgIGlmICh0b2tlbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIEJ5IGRlZmF1bHQsIG9ubHkgZXhwb3NlcyBhIGxpbWl0ZWQgc3Vic2V0IG9mIGluZm9ybWF0aW9uIHRvIHRoZSBjbGllbnRcbiAgICAgICAgICAgICAgICAvLyBhcyBuZWVkZWQgZm9yIHByZXNlbnRhdGlvbiBwdXJwb3NlcyAoZS5nLiBcInlvdSBhcmUgbG9nZ2VkIGluIGFzLi4uXCIpLlxuICAgICAgICAgICAgICAgIGNvbnN0IHNlc3Npb24gPSB7XG4gICAgICAgICAgICAgICAgICAgIHVzZXI6IHsgbmFtZTogdG9rZW4ubmFtZSwgZW1haWw6IHRva2VuLmVtYWlsLCBpbWFnZTogdG9rZW4ucGljdHVyZSB9LFxuICAgICAgICAgICAgICAgICAgICBleHBpcmVzOiBuZXdFeHBpcmVzLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3U2Vzc2lvbiA9IGF3YWl0IGNhbGxiYWNrcy5zZXNzaW9uKHsgc2Vzc2lvbiwgdG9rZW4gfSk7XG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIHNlc3Npb24gcGF5bG9hZCBhcyByZXNwb25zZVxuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkgPSBuZXdTZXNzaW9uO1xuICAgICAgICAgICAgICAgIC8vIFJlZnJlc2ggSldUIGV4cGlyeSBieSByZS1zaWduaW5nIGl0LCB3aXRoIGFuIHVwZGF0ZWQgZXhwaXJ5IGRhdGVcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdUb2tlbiA9IGF3YWl0IGp3dC5lbmNvZGUoeyAuLi5qd3QsIHRva2VuLCBzYWx0IH0pO1xuICAgICAgICAgICAgICAgIC8vIFNldCBjb29raWUsIHRvIGFsc28gdXBkYXRlIGV4cGlyeSBkYXRlIG9uIGNvb2tpZVxuICAgICAgICAgICAgICAgIGNvbnN0IHNlc3Npb25Db29raWVzID0gc2Vzc2lvblN0b3JlLmNodW5rKG5ld1Rva2VuLCB7XG4gICAgICAgICAgICAgICAgICAgIGV4cGlyZXM6IG5ld0V4cGlyZXMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuY29va2llcz8ucHVzaCguLi5zZXNzaW9uQ29va2llcyk7XG4gICAgICAgICAgICAgICAgYXdhaXQgZXZlbnRzLnNlc3Npb24/Lih7IHNlc3Npb246IG5ld1Nlc3Npb24sIHRva2VuIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuY29va2llcz8ucHVzaCguLi5zZXNzaW9uU3RvcmUuY2xlYW4oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcihuZXcgSldUU2Vzc2lvbkVycm9yKGUpKTtcbiAgICAgICAgICAgIC8vIElmIHRoZSBKV1QgaXMgbm90IHZlcmlmaWFibGUgcmVtb3ZlIHRoZSBicm9rZW4gc2Vzc2lvbiBjb29raWUocykuXG4gICAgICAgICAgICByZXNwb25zZS5jb29raWVzPy5wdXNoKC4uLnNlc3Npb25TdG9yZS5jbGVhbigpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfVxuICAgIC8vIFJldHJpZXZlIHNlc3Npb24gZnJvbSBkYXRhYmFzZVxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHsgZ2V0U2Vzc2lvbkFuZFVzZXIsIGRlbGV0ZVNlc3Npb24sIHVwZGF0ZVNlc3Npb24gfSA9IGFkYXB0ZXI7XG4gICAgICAgIGxldCB1c2VyQW5kU2Vzc2lvbiA9IGF3YWl0IGdldFNlc3Npb25BbmRVc2VyKHNlc3Npb25Ub2tlbik7XG4gICAgICAgIC8vIElmIHNlc3Npb24gaGFzIGV4cGlyZWQsIGNsZWFuIHVwIHRoZSBkYXRhYmFzZVxuICAgICAgICBpZiAodXNlckFuZFNlc3Npb24gJiZcbiAgICAgICAgICAgIHVzZXJBbmRTZXNzaW9uLnNlc3Npb24uZXhwaXJlcy52YWx1ZU9mKCkgPCBEYXRlLm5vdygpKSB7XG4gICAgICAgICAgICBhd2FpdCBkZWxldGVTZXNzaW9uKHNlc3Npb25Ub2tlbik7XG4gICAgICAgICAgICB1c2VyQW5kU2Vzc2lvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVzZXJBbmRTZXNzaW9uKSB7XG4gICAgICAgICAgICBjb25zdCB7IHVzZXIsIHNlc3Npb24gfSA9IHVzZXJBbmRTZXNzaW9uO1xuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvblVwZGF0ZUFnZSA9IG9wdGlvbnMuc2Vzc2lvbi51cGRhdGVBZ2U7XG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgbGFzdCB1cGRhdGVkIGRhdGUgdG8gdGhyb3R0bGUgd3JpdGUgdXBkYXRlcyB0byBkYXRhYmFzZVxuICAgICAgICAgICAgLy8gRm9ybXVsYTogKHtleHBpcnkgZGF0ZX0gLSBzZXNzaW9uTWF4QWdlKSArIHNlc3Npb25VcGRhdGVBZ2VcbiAgICAgICAgICAgIC8vICAgICBlLmcuICh7ZXhwaXJ5IGRhdGV9IC0gMzAgZGF5cykgKyAxIGhvdXJcbiAgICAgICAgICAgIGNvbnN0IHNlc3Npb25Jc0R1ZVRvQmVVcGRhdGVkRGF0ZSA9IHNlc3Npb24uZXhwaXJlcy52YWx1ZU9mKCkgLVxuICAgICAgICAgICAgICAgIHNlc3Npb25NYXhBZ2UgKiAxMDAwICtcbiAgICAgICAgICAgICAgICBzZXNzaW9uVXBkYXRlQWdlICogMTAwMDtcbiAgICAgICAgICAgIGNvbnN0IG5ld0V4cGlyZXMgPSBmcm9tRGF0ZShzZXNzaW9uTWF4QWdlKTtcbiAgICAgICAgICAgIC8vIFRyaWdnZXIgdXBkYXRlIG9mIHNlc3Npb24gZXhwaXJ5IGRhdGUgYW5kIHdyaXRlIHRvIGRhdGFiYXNlLCBvbmx5XG4gICAgICAgICAgICAvLyBpZiB0aGUgc2Vzc2lvbiB3YXMgbGFzdCB1cGRhdGVkIG1vcmUgdGhhbiB7c2Vzc2lvblVwZGF0ZUFnZX0gYWdvXG4gICAgICAgICAgICBpZiAoc2Vzc2lvbklzRHVlVG9CZVVwZGF0ZWREYXRlIDw9IERhdGUubm93KCkpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVTZXNzaW9uKHtcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvblRva2VuOiBzZXNzaW9uVG9rZW4sXG4gICAgICAgICAgICAgICAgICAgIGV4cGlyZXM6IG5ld0V4cGlyZXMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBQYXNzIFNlc3Npb24gdGhyb3VnaCB0byB0aGUgc2Vzc2lvbiBjYWxsYmFja1xuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvblBheWxvYWQgPSBhd2FpdCBjYWxsYmFja3Muc2Vzc2lvbih7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogdXNlciBhbHJlYWR5IHBhc3NlZCBiZWxvdyxcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgZnJvbSBzZXNzaW9uIG9iamVjdCBpbiBodHRwczovL2dpdGh1Yi5jb20vbmV4dGF1dGhqcy9uZXh0LWF1dGgvcHVsbC85NzAyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgICAgIHNlc3Npb246IHsgLi4uc2Vzc2lvbiwgdXNlciB9LFxuICAgICAgICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgICAgICAgbmV3U2Vzc2lvbixcbiAgICAgICAgICAgICAgICAuLi4oaXNVcGRhdGUgPyB7IHRyaWdnZXI6IFwidXBkYXRlXCIgfSA6IHt9KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gUmV0dXJuIHNlc3Npb24gcGF5bG9hZCBhcyByZXNwb25zZVxuICAgICAgICAgICAgcmVzcG9uc2UuYm9keSA9IHNlc3Npb25QYXlsb2FkO1xuICAgICAgICAgICAgLy8gU2V0IGNvb2tpZSBhZ2FpbiB0byB1cGRhdGUgZXhwaXJ5XG4gICAgICAgICAgICByZXNwb25zZS5jb29raWVzPy5wdXNoKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBvcHRpb25zLmNvb2tpZXMuc2Vzc2lvblRva2VuLm5hbWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHNlc3Npb25Ub2tlbixcbiAgICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLm9wdGlvbnMuY29va2llcy5zZXNzaW9uVG9rZW4ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJlczogbmV3RXhwaXJlcyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICBhd2FpdCBldmVudHMuc2Vzc2lvbj8uKHsgc2Vzc2lvbjogc2Vzc2lvblBheWxvYWQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2Vzc2lvblRva2VuKSB7XG4gICAgICAgICAgICAvLyBJZiBgc2Vzc2lvblRva2VuYCB3YXMgZm91bmQgc2V0IGJ1dCBpdCdzIG5vdCB2YWxpZCBmb3IgYSBzZXNzaW9uIHRoZW5cbiAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgc2Vzc2lvblRva2VuIGNvb2tpZSBmcm9tIGJyb3dzZXIuXG4gICAgICAgICAgICByZXNwb25zZS5jb29raWVzPy5wdXNoKC4uLnNlc3Npb25TdG9yZS5jbGVhbigpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBsb2dnZXIuZXJyb3IobmV3IFNlc3Npb25Ub2tlbkVycm9yKGUpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufVxuIl0sIm5hbWVzIjpbIkpXVFNlc3Npb25FcnJvciIsIlNlc3Npb25Ub2tlbkVycm9yIiwiZnJvbURhdGUiLCJzZXNzaW9uIiwib3B0aW9ucyIsInNlc3Npb25TdG9yZSIsImNvb2tpZXMiLCJpc1VwZGF0ZSIsIm5ld1Nlc3Npb24iLCJhZGFwdGVyIiwiand0IiwiZXZlbnRzIiwiY2FsbGJhY2tzIiwibG9nZ2VyIiwic3RyYXRlZ3kiLCJzZXNzaW9uU3RyYXRlZ3kiLCJtYXhBZ2UiLCJzZXNzaW9uTWF4QWdlIiwicmVzcG9uc2UiLCJib2R5IiwiaGVhZGVycyIsInNlc3Npb25Ub2tlbiIsInZhbHVlIiwic2FsdCIsIm5hbWUiLCJwYXlsb2FkIiwiZGVjb2RlIiwidG9rZW4iLCJFcnJvciIsInRyaWdnZXIiLCJuZXdFeHBpcmVzIiwidXNlciIsImVtYWlsIiwiaW1hZ2UiLCJwaWN0dXJlIiwiZXhwaXJlcyIsInRvSVNPU3RyaW5nIiwibmV3VG9rZW4iLCJlbmNvZGUiLCJzZXNzaW9uQ29va2llcyIsImNodW5rIiwicHVzaCIsImNsZWFuIiwiZSIsImVycm9yIiwiZ2V0U2Vzc2lvbkFuZFVzZXIiLCJkZWxldGVTZXNzaW9uIiwidXBkYXRlU2Vzc2lvbiIsInVzZXJBbmRTZXNzaW9uIiwidmFsdWVPZiIsIkRhdGUiLCJub3ciLCJzZXNzaW9uVXBkYXRlQWdlIiwidXBkYXRlQWdlIiwic2Vzc2lvbklzRHVlVG9CZVVwZGF0ZWREYXRlIiwic2Vzc2lvblBheWxvYWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/lib/actions/session.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/lib/actions/signin/authorization-url.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@auth/core/lib/actions/signin/authorization-url.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAuthorizationUrl: () => (/* binding */ getAuthorizationUrl)\n/* harmony export */ });\n/* harmony import */ var _callback_oauth_checks_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../callback/oauth/checks.js */ \"(action-browser)/./node_modules/@auth/core/lib/actions/callback/oauth/checks.js\");\n/* harmony import */ var oauth4webapi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! oauth4webapi */ \"(action-browser)/./node_modules/oauth4webapi/build/index.js\");\n\n\n/**\n * Generates an authorization/request token URL.\n *\n * [OAuth 2](https://www.oauth.com/oauth2-servers/authorization/the-authorization-request/)\n */ async function getAuthorizationUrl(query, options) {\n    const { logger, provider } = options;\n    let url = provider.authorization?.url;\n    let as;\n    // Falls back to authjs.dev if the user only passed params\n    if (!url || url.host === \"authjs.dev\") {\n        // If url is undefined, we assume that issuer is always defined\n        // We check this in assert.ts\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const issuer = new URL(provider.issuer);\n        const discoveryResponse = await oauth4webapi__WEBPACK_IMPORTED_MODULE_1__.discoveryRequest(issuer);\n        const as = await oauth4webapi__WEBPACK_IMPORTED_MODULE_1__.processDiscoveryResponse(issuer, discoveryResponse);\n        if (!as.authorization_endpoint) {\n            throw new TypeError(\"Authorization server did not provide an authorization endpoint.\");\n        }\n        url = new URL(as.authorization_endpoint);\n    }\n    const authParams = url.searchParams;\n    let redirect_uri = provider.callbackUrl;\n    let data;\n    if (!options.isOnRedirectProxy && provider.redirectProxyUrl) {\n        redirect_uri = provider.redirectProxyUrl;\n        data = {\n            origin: provider.callbackUrl\n        };\n        logger.debug(\"using redirect proxy\", {\n            redirect_uri,\n            data\n        });\n    }\n    const params = Object.assign({\n        response_type: \"code\",\n        // clientId can technically be undefined, should we check this in assert.ts or rely on the Authorization Server to do it?\n        client_id: provider.clientId,\n        redirect_uri,\n        // @ts-expect-error TODO:\n        ...provider.authorization?.params\n    }, Object.fromEntries(provider.authorization?.url.searchParams ?? []), query);\n    for(const k in params)authParams.set(k, params[k]);\n    const cookies = [];\n    const state = await _callback_oauth_checks_js__WEBPACK_IMPORTED_MODULE_0__.state.create(options, data);\n    if (state) {\n        authParams.set(\"state\", state.value);\n        cookies.push(state.cookie);\n    }\n    if (provider.checks?.includes(\"pkce\")) {\n        if (as && !as.code_challenge_methods_supported?.includes(\"S256\")) {\n            // We assume S256 PKCE support, if the server does not advertise that,\n            // a random `nonce` must be used for CSRF protection.\n            if (provider.type === \"oidc\") provider.checks = [\n                \"nonce\"\n            ];\n        } else {\n            const { value, cookie } = await _callback_oauth_checks_js__WEBPACK_IMPORTED_MODULE_0__.pkce.create(options);\n            authParams.set(\"code_challenge\", value);\n            authParams.set(\"code_challenge_method\", \"S256\");\n            cookies.push(cookie);\n        }\n    }\n    const nonce = await _callback_oauth_checks_js__WEBPACK_IMPORTED_MODULE_0__.nonce.create(options);\n    if (nonce) {\n        authParams.set(\"nonce\", nonce.value);\n        cookies.push(nonce.cookie);\n    }\n    // TODO: This does not work in normalizeOAuth because authorization endpoint can come from discovery\n    // Need to make normalizeOAuth async\n    if (provider.type === \"oidc\" && !url.searchParams.has(\"scope\")) {\n        url.searchParams.set(\"scope\", \"openid profile email\");\n    }\n    logger.debug(\"authorization url is ready\", {\n        url,\n        cookies,\n        provider\n    });\n    return {\n        redirect: url.toString(),\n        cookies\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi9hY3Rpb25zL3NpZ25pbi9hdXRob3JpemF0aW9uLXVybC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBc0Q7QUFDcEI7QUFDbEM7Ozs7Q0FJQyxHQUNNLGVBQWVFLG9CQUFvQkMsS0FBSyxFQUFFQyxPQUFPO0lBQ3BELE1BQU0sRUFBRUMsTUFBTSxFQUFFQyxRQUFRLEVBQUUsR0FBR0Y7SUFDN0IsSUFBSUcsTUFBTUQsU0FBU0UsYUFBYSxFQUFFRDtJQUNsQyxJQUFJRTtJQUNKLDBEQUEwRDtJQUMxRCxJQUFJLENBQUNGLE9BQU9BLElBQUlHLElBQUksS0FBSyxjQUFjO1FBQ25DLCtEQUErRDtRQUMvRCw2QkFBNkI7UUFDN0Isb0VBQW9FO1FBQ3BFLE1BQU1DLFNBQVMsSUFBSUMsSUFBSU4sU0FBU0ssTUFBTTtRQUN0QyxNQUFNRSxvQkFBb0IsTUFBTVosMERBQWtCLENBQUNVO1FBQ25ELE1BQU1GLEtBQUssTUFBTVIsa0VBQTBCLENBQUNVLFFBQVFFO1FBQ3BELElBQUksQ0FBQ0osR0FBR08sc0JBQXNCLEVBQUU7WUFDNUIsTUFBTSxJQUFJQyxVQUFVO1FBQ3hCO1FBQ0FWLE1BQU0sSUFBSUssSUFBSUgsR0FBR08sc0JBQXNCO0lBQzNDO0lBQ0EsTUFBTUUsYUFBYVgsSUFBSVksWUFBWTtJQUNuQyxJQUFJQyxlQUFlZCxTQUFTZSxXQUFXO0lBQ3ZDLElBQUlDO0lBQ0osSUFBSSxDQUFDbEIsUUFBUW1CLGlCQUFpQixJQUFJakIsU0FBU2tCLGdCQUFnQixFQUFFO1FBQ3pESixlQUFlZCxTQUFTa0IsZ0JBQWdCO1FBQ3hDRixPQUFPO1lBQUVHLFFBQVFuQixTQUFTZSxXQUFXO1FBQUM7UUFDdENoQixPQUFPcUIsS0FBSyxDQUFDLHdCQUF3QjtZQUFFTjtZQUFjRTtRQUFLO0lBQzlEO0lBQ0EsTUFBTUssU0FBU0MsT0FBT0MsTUFBTSxDQUFDO1FBQ3pCQyxlQUFlO1FBQ2YseUhBQXlIO1FBQ3pIQyxXQUFXekIsU0FBUzBCLFFBQVE7UUFDNUJaO1FBQ0EseUJBQXlCO1FBQ3pCLEdBQUdkLFNBQVNFLGFBQWEsRUFBRW1CLE1BQU07SUFDckMsR0FBR0MsT0FBT0ssV0FBVyxDQUFDM0IsU0FBU0UsYUFBYSxFQUFFRCxJQUFJWSxnQkFBZ0IsRUFBRSxHQUFHaEI7SUFDdkUsSUFBSyxNQUFNK0IsS0FBS1AsT0FDWlQsV0FBV2lCLEdBQUcsQ0FBQ0QsR0FBR1AsTUFBTSxDQUFDTyxFQUFFO0lBQy9CLE1BQU1FLFVBQVUsRUFBRTtJQUNsQixNQUFNQyxRQUFRLE1BQU1yQyw0REFBWSxDQUFDc0MsTUFBTSxDQUFDbEMsU0FBU2tCO0lBQ2pELElBQUllLE9BQU87UUFDUG5CLFdBQVdpQixHQUFHLENBQUMsU0FBU0UsTUFBTUUsS0FBSztRQUNuQ0gsUUFBUUksSUFBSSxDQUFDSCxNQUFNSSxNQUFNO0lBQzdCO0lBQ0EsSUFBSW5DLFNBQVNOLE1BQU0sRUFBRTBDLFNBQVMsU0FBUztRQUNuQyxJQUFJakMsTUFBTSxDQUFDQSxHQUFHa0MsZ0NBQWdDLEVBQUVELFNBQVMsU0FBUztZQUM5RCxzRUFBc0U7WUFDdEUscURBQXFEO1lBQ3JELElBQUlwQyxTQUFTc0MsSUFBSSxLQUFLLFFBQ2xCdEMsU0FBU04sTUFBTSxHQUFHO2dCQUFDO2FBQVE7UUFDbkMsT0FDSztZQUNELE1BQU0sRUFBRXVDLEtBQUssRUFBRUUsTUFBTSxFQUFFLEdBQUcsTUFBTXpDLDJEQUFXLENBQUNzQyxNQUFNLENBQUNsQztZQUNuRGMsV0FBV2lCLEdBQUcsQ0FBQyxrQkFBa0JJO1lBQ2pDckIsV0FBV2lCLEdBQUcsQ0FBQyx5QkFBeUI7WUFDeENDLFFBQVFJLElBQUksQ0FBQ0M7UUFDakI7SUFDSjtJQUNBLE1BQU1LLFFBQVEsTUFBTTlDLDREQUFZLENBQUNzQyxNQUFNLENBQUNsQztJQUN4QyxJQUFJMEMsT0FBTztRQUNQNUIsV0FBV2lCLEdBQUcsQ0FBQyxTQUFTVyxNQUFNUCxLQUFLO1FBQ25DSCxRQUFRSSxJQUFJLENBQUNNLE1BQU1MLE1BQU07SUFDN0I7SUFDQSxvR0FBb0c7SUFDcEcsb0NBQW9DO0lBQ3BDLElBQUluQyxTQUFTc0MsSUFBSSxLQUFLLFVBQVUsQ0FBQ3JDLElBQUlZLFlBQVksQ0FBQzRCLEdBQUcsQ0FBQyxVQUFVO1FBQzVEeEMsSUFBSVksWUFBWSxDQUFDZ0IsR0FBRyxDQUFDLFNBQVM7SUFDbEM7SUFDQTlCLE9BQU9xQixLQUFLLENBQUMsOEJBQThCO1FBQUVuQjtRQUFLNkI7UUFBUzlCO0lBQVM7SUFDcEUsT0FBTztRQUFFMEMsVUFBVXpDLElBQUkwQyxRQUFRO1FBQUliO0lBQVE7QUFDL0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LXJ4Ly4vbm9kZV9tb2R1bGVzL0BhdXRoL2NvcmUvbGliL2FjdGlvbnMvc2lnbmluL2F1dGhvcml6YXRpb24tdXJsLmpzP2VlNTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgY2hlY2tzIGZyb20gXCIuLi9jYWxsYmFjay9vYXV0aC9jaGVja3MuanNcIjtcbmltcG9ydCAqIGFzIG8gZnJvbSBcIm9hdXRoNHdlYmFwaVwiO1xuLyoqXG4gKiBHZW5lcmF0ZXMgYW4gYXV0aG9yaXphdGlvbi9yZXF1ZXN0IHRva2VuIFVSTC5cbiAqXG4gKiBbT0F1dGggMl0oaHR0cHM6Ly93d3cub2F1dGguY29tL29hdXRoMi1zZXJ2ZXJzL2F1dGhvcml6YXRpb24vdGhlLWF1dGhvcml6YXRpb24tcmVxdWVzdC8pXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBdXRob3JpemF0aW9uVXJsKHF1ZXJ5LCBvcHRpb25zKSB7XG4gICAgY29uc3QgeyBsb2dnZXIsIHByb3ZpZGVyIH0gPSBvcHRpb25zO1xuICAgIGxldCB1cmwgPSBwcm92aWRlci5hdXRob3JpemF0aW9uPy51cmw7XG4gICAgbGV0IGFzO1xuICAgIC8vIEZhbGxzIGJhY2sgdG8gYXV0aGpzLmRldiBpZiB0aGUgdXNlciBvbmx5IHBhc3NlZCBwYXJhbXNcbiAgICBpZiAoIXVybCB8fCB1cmwuaG9zdCA9PT0gXCJhdXRoanMuZGV2XCIpIHtcbiAgICAgICAgLy8gSWYgdXJsIGlzIHVuZGVmaW5lZCwgd2UgYXNzdW1lIHRoYXQgaXNzdWVyIGlzIGFsd2F5cyBkZWZpbmVkXG4gICAgICAgIC8vIFdlIGNoZWNrIHRoaXMgaW4gYXNzZXJ0LnRzXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgIGNvbnN0IGlzc3VlciA9IG5ldyBVUkwocHJvdmlkZXIuaXNzdWVyKTtcbiAgICAgICAgY29uc3QgZGlzY292ZXJ5UmVzcG9uc2UgPSBhd2FpdCBvLmRpc2NvdmVyeVJlcXVlc3QoaXNzdWVyKTtcbiAgICAgICAgY29uc3QgYXMgPSBhd2FpdCBvLnByb2Nlc3NEaXNjb3ZlcnlSZXNwb25zZShpc3N1ZXIsIGRpc2NvdmVyeVJlc3BvbnNlKTtcbiAgICAgICAgaWYgKCFhcy5hdXRob3JpemF0aW9uX2VuZHBvaW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXV0aG9yaXphdGlvbiBzZXJ2ZXIgZGlkIG5vdCBwcm92aWRlIGFuIGF1dGhvcml6YXRpb24gZW5kcG9pbnQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHVybCA9IG5ldyBVUkwoYXMuYXV0aG9yaXphdGlvbl9lbmRwb2ludCk7XG4gICAgfVxuICAgIGNvbnN0IGF1dGhQYXJhbXMgPSB1cmwuc2VhcmNoUGFyYW1zO1xuICAgIGxldCByZWRpcmVjdF91cmkgPSBwcm92aWRlci5jYWxsYmFja1VybDtcbiAgICBsZXQgZGF0YTtcbiAgICBpZiAoIW9wdGlvbnMuaXNPblJlZGlyZWN0UHJveHkgJiYgcHJvdmlkZXIucmVkaXJlY3RQcm94eVVybCkge1xuICAgICAgICByZWRpcmVjdF91cmkgPSBwcm92aWRlci5yZWRpcmVjdFByb3h5VXJsO1xuICAgICAgICBkYXRhID0geyBvcmlnaW46IHByb3ZpZGVyLmNhbGxiYWNrVXJsIH07XG4gICAgICAgIGxvZ2dlci5kZWJ1ZyhcInVzaW5nIHJlZGlyZWN0IHByb3h5XCIsIHsgcmVkaXJlY3RfdXJpLCBkYXRhIH0pO1xuICAgIH1cbiAgICBjb25zdCBwYXJhbXMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgcmVzcG9uc2VfdHlwZTogXCJjb2RlXCIsXG4gICAgICAgIC8vIGNsaWVudElkIGNhbiB0ZWNobmljYWxseSBiZSB1bmRlZmluZWQsIHNob3VsZCB3ZSBjaGVjayB0aGlzIGluIGFzc2VydC50cyBvciByZWx5IG9uIHRoZSBBdXRob3JpemF0aW9uIFNlcnZlciB0byBkbyBpdD9cbiAgICAgICAgY2xpZW50X2lkOiBwcm92aWRlci5jbGllbnRJZCxcbiAgICAgICAgcmVkaXJlY3RfdXJpLFxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRPRE86XG4gICAgICAgIC4uLnByb3ZpZGVyLmF1dGhvcml6YXRpb24/LnBhcmFtcyxcbiAgICB9LCBPYmplY3QuZnJvbUVudHJpZXMocHJvdmlkZXIuYXV0aG9yaXphdGlvbj8udXJsLnNlYXJjaFBhcmFtcyA/PyBbXSksIHF1ZXJ5KTtcbiAgICBmb3IgKGNvbnN0IGsgaW4gcGFyYW1zKVxuICAgICAgICBhdXRoUGFyYW1zLnNldChrLCBwYXJhbXNba10pO1xuICAgIGNvbnN0IGNvb2tpZXMgPSBbXTtcbiAgICBjb25zdCBzdGF0ZSA9IGF3YWl0IGNoZWNrcy5zdGF0ZS5jcmVhdGUob3B0aW9ucywgZGF0YSk7XG4gICAgaWYgKHN0YXRlKSB7XG4gICAgICAgIGF1dGhQYXJhbXMuc2V0KFwic3RhdGVcIiwgc3RhdGUudmFsdWUpO1xuICAgICAgICBjb29raWVzLnB1c2goc3RhdGUuY29va2llKTtcbiAgICB9XG4gICAgaWYgKHByb3ZpZGVyLmNoZWNrcz8uaW5jbHVkZXMoXCJwa2NlXCIpKSB7XG4gICAgICAgIGlmIChhcyAmJiAhYXMuY29kZV9jaGFsbGVuZ2VfbWV0aG9kc19zdXBwb3J0ZWQ/LmluY2x1ZGVzKFwiUzI1NlwiKSkge1xuICAgICAgICAgICAgLy8gV2UgYXNzdW1lIFMyNTYgUEtDRSBzdXBwb3J0LCBpZiB0aGUgc2VydmVyIGRvZXMgbm90IGFkdmVydGlzZSB0aGF0LFxuICAgICAgICAgICAgLy8gYSByYW5kb20gYG5vbmNlYCBtdXN0IGJlIHVzZWQgZm9yIENTUkYgcHJvdGVjdGlvbi5cbiAgICAgICAgICAgIGlmIChwcm92aWRlci50eXBlID09PSBcIm9pZGNcIilcbiAgICAgICAgICAgICAgICBwcm92aWRlci5jaGVja3MgPSBbXCJub25jZVwiXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUsIGNvb2tpZSB9ID0gYXdhaXQgY2hlY2tzLnBrY2UuY3JlYXRlKG9wdGlvbnMpO1xuICAgICAgICAgICAgYXV0aFBhcmFtcy5zZXQoXCJjb2RlX2NoYWxsZW5nZVwiLCB2YWx1ZSk7XG4gICAgICAgICAgICBhdXRoUGFyYW1zLnNldChcImNvZGVfY2hhbGxlbmdlX21ldGhvZFwiLCBcIlMyNTZcIik7XG4gICAgICAgICAgICBjb29raWVzLnB1c2goY29va2llKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBub25jZSA9IGF3YWl0IGNoZWNrcy5ub25jZS5jcmVhdGUob3B0aW9ucyk7XG4gICAgaWYgKG5vbmNlKSB7XG4gICAgICAgIGF1dGhQYXJhbXMuc2V0KFwibm9uY2VcIiwgbm9uY2UudmFsdWUpO1xuICAgICAgICBjb29raWVzLnB1c2gobm9uY2UuY29va2llKTtcbiAgICB9XG4gICAgLy8gVE9ETzogVGhpcyBkb2VzIG5vdCB3b3JrIGluIG5vcm1hbGl6ZU9BdXRoIGJlY2F1c2UgYXV0aG9yaXphdGlvbiBlbmRwb2ludCBjYW4gY29tZSBmcm9tIGRpc2NvdmVyeVxuICAgIC8vIE5lZWQgdG8gbWFrZSBub3JtYWxpemVPQXV0aCBhc3luY1xuICAgIGlmIChwcm92aWRlci50eXBlID09PSBcIm9pZGNcIiAmJiAhdXJsLnNlYXJjaFBhcmFtcy5oYXMoXCJzY29wZVwiKSkge1xuICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldChcInNjb3BlXCIsIFwib3BlbmlkIHByb2ZpbGUgZW1haWxcIik7XG4gICAgfVxuICAgIGxvZ2dlci5kZWJ1ZyhcImF1dGhvcml6YXRpb24gdXJsIGlzIHJlYWR5XCIsIHsgdXJsLCBjb29raWVzLCBwcm92aWRlciB9KTtcbiAgICByZXR1cm4geyByZWRpcmVjdDogdXJsLnRvU3RyaW5nKCksIGNvb2tpZXMgfTtcbn1cbiJdLCJuYW1lcyI6WyJjaGVja3MiLCJvIiwiZ2V0QXV0aG9yaXphdGlvblVybCIsInF1ZXJ5Iiwib3B0aW9ucyIsImxvZ2dlciIsInByb3ZpZGVyIiwidXJsIiwiYXV0aG9yaXphdGlvbiIsImFzIiwiaG9zdCIsImlzc3VlciIsIlVSTCIsImRpc2NvdmVyeVJlc3BvbnNlIiwiZGlzY292ZXJ5UmVxdWVzdCIsInByb2Nlc3NEaXNjb3ZlcnlSZXNwb25zZSIsImF1dGhvcml6YXRpb25fZW5kcG9pbnQiLCJUeXBlRXJyb3IiLCJhdXRoUGFyYW1zIiwic2VhcmNoUGFyYW1zIiwicmVkaXJlY3RfdXJpIiwiY2FsbGJhY2tVcmwiLCJkYXRhIiwiaXNPblJlZGlyZWN0UHJveHkiLCJyZWRpcmVjdFByb3h5VXJsIiwib3JpZ2luIiwiZGVidWciLCJwYXJhbXMiLCJPYmplY3QiLCJhc3NpZ24iLCJyZXNwb25zZV90eXBlIiwiY2xpZW50X2lkIiwiY2xpZW50SWQiLCJmcm9tRW50cmllcyIsImsiLCJzZXQiLCJjb29raWVzIiwic3RhdGUiLCJjcmVhdGUiLCJ2YWx1ZSIsInB1c2giLCJjb29raWUiLCJpbmNsdWRlcyIsImNvZGVfY2hhbGxlbmdlX21ldGhvZHNfc3VwcG9ydGVkIiwidHlwZSIsInBrY2UiLCJub25jZSIsImhhcyIsInJlZGlyZWN0IiwidG9TdHJpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/lib/actions/signin/authorization-url.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/lib/actions/signin/authorization-url.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@auth/core/lib/actions/signin/authorization-url.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAuthorizationUrl: () => (/* binding */ getAuthorizationUrl)\n/* harmony export */ });\n/* harmony import */ var _callback_oauth_checks_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../callback/oauth/checks.js */ \"(rsc)/./node_modules/@auth/core/lib/actions/callback/oauth/checks.js\");\n/* harmony import */ var oauth4webapi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! oauth4webapi */ \"(rsc)/./node_modules/oauth4webapi/build/index.js\");\n\n\n/**\n * Generates an authorization/request token URL.\n *\n * [OAuth 2](https://www.oauth.com/oauth2-servers/authorization/the-authorization-request/)\n */ async function getAuthorizationUrl(query, options) {\n    const { logger, provider } = options;\n    let url = provider.authorization?.url;\n    let as;\n    // Falls back to authjs.dev if the user only passed params\n    if (!url || url.host === \"authjs.dev\") {\n        // If url is undefined, we assume that issuer is always defined\n        // We check this in assert.ts\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const issuer = new URL(provider.issuer);\n        const discoveryResponse = await oauth4webapi__WEBPACK_IMPORTED_MODULE_1__.discoveryRequest(issuer);\n        const as = await oauth4webapi__WEBPACK_IMPORTED_MODULE_1__.processDiscoveryResponse(issuer, discoveryResponse);\n        if (!as.authorization_endpoint) {\n            throw new TypeError(\"Authorization server did not provide an authorization endpoint.\");\n        }\n        url = new URL(as.authorization_endpoint);\n    }\n    const authParams = url.searchParams;\n    let redirect_uri = provider.callbackUrl;\n    let data;\n    if (!options.isOnRedirectProxy && provider.redirectProxyUrl) {\n        redirect_uri = provider.redirectProxyUrl;\n        data = {\n            origin: provider.callbackUrl\n        };\n        logger.debug(\"using redirect proxy\", {\n            redirect_uri,\n            data\n        });\n    }\n    const params = Object.assign({\n        response_type: \"code\",\n        // clientId can technically be undefined, should we check this in assert.ts or rely on the Authorization Server to do it?\n        client_id: provider.clientId,\n        redirect_uri,\n        // @ts-expect-error TODO:\n        ...provider.authorization?.params\n    }, Object.fromEntries(provider.authorization?.url.searchParams ?? []), query);\n    for(const k in params)authParams.set(k, params[k]);\n    const cookies = [];\n    const state = await _callback_oauth_checks_js__WEBPACK_IMPORTED_MODULE_0__.state.create(options, data);\n    if (state) {\n        authParams.set(\"state\", state.value);\n        cookies.push(state.cookie);\n    }\n    if (provider.checks?.includes(\"pkce\")) {\n        if (as && !as.code_challenge_methods_supported?.includes(\"S256\")) {\n            // We assume S256 PKCE support, if the server does not advertise that,\n            // a random `nonce` must be used for CSRF protection.\n            if (provider.type === \"oidc\") provider.checks = [\n                \"nonce\"\n            ];\n        } else {\n            const { value, cookie } = await _callback_oauth_checks_js__WEBPACK_IMPORTED_MODULE_0__.pkce.create(options);\n            authParams.set(\"code_challenge\", value);\n            authParams.set(\"code_challenge_method\", \"S256\");\n            cookies.push(cookie);\n        }\n    }\n    const nonce = await _callback_oauth_checks_js__WEBPACK_IMPORTED_MODULE_0__.nonce.create(options);\n    if (nonce) {\n        authParams.set(\"nonce\", nonce.value);\n        cookies.push(nonce.cookie);\n    }\n    // TODO: This does not work in normalizeOAuth because authorization endpoint can come from discovery\n    // Need to make normalizeOAuth async\n    if (provider.type === \"oidc\" && !url.searchParams.has(\"scope\")) {\n        url.searchParams.set(\"scope\", \"openid profile email\");\n    }\n    logger.debug(\"authorization url is ready\", {\n        url,\n        cookies,\n        provider\n    });\n    return {\n        redirect: url.toString(),\n        cookies\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvYWN0aW9ucy9zaWduaW4vYXV0aG9yaXphdGlvbi11cmwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXNEO0FBQ3BCO0FBQ2xDOzs7O0NBSUMsR0FDTSxlQUFlRSxvQkFBb0JDLEtBQUssRUFBRUMsT0FBTztJQUNwRCxNQUFNLEVBQUVDLE1BQU0sRUFBRUMsUUFBUSxFQUFFLEdBQUdGO0lBQzdCLElBQUlHLE1BQU1ELFNBQVNFLGFBQWEsRUFBRUQ7SUFDbEMsSUFBSUU7SUFDSiwwREFBMEQ7SUFDMUQsSUFBSSxDQUFDRixPQUFPQSxJQUFJRyxJQUFJLEtBQUssY0FBYztRQUNuQywrREFBK0Q7UUFDL0QsNkJBQTZCO1FBQzdCLG9FQUFvRTtRQUNwRSxNQUFNQyxTQUFTLElBQUlDLElBQUlOLFNBQVNLLE1BQU07UUFDdEMsTUFBTUUsb0JBQW9CLE1BQU1aLDBEQUFrQixDQUFDVTtRQUNuRCxNQUFNRixLQUFLLE1BQU1SLGtFQUEwQixDQUFDVSxRQUFRRTtRQUNwRCxJQUFJLENBQUNKLEdBQUdPLHNCQUFzQixFQUFFO1lBQzVCLE1BQU0sSUFBSUMsVUFBVTtRQUN4QjtRQUNBVixNQUFNLElBQUlLLElBQUlILEdBQUdPLHNCQUFzQjtJQUMzQztJQUNBLE1BQU1FLGFBQWFYLElBQUlZLFlBQVk7SUFDbkMsSUFBSUMsZUFBZWQsU0FBU2UsV0FBVztJQUN2QyxJQUFJQztJQUNKLElBQUksQ0FBQ2xCLFFBQVFtQixpQkFBaUIsSUFBSWpCLFNBQVNrQixnQkFBZ0IsRUFBRTtRQUN6REosZUFBZWQsU0FBU2tCLGdCQUFnQjtRQUN4Q0YsT0FBTztZQUFFRyxRQUFRbkIsU0FBU2UsV0FBVztRQUFDO1FBQ3RDaEIsT0FBT3FCLEtBQUssQ0FBQyx3QkFBd0I7WUFBRU47WUFBY0U7UUFBSztJQUM5RDtJQUNBLE1BQU1LLFNBQVNDLE9BQU9DLE1BQU0sQ0FBQztRQUN6QkMsZUFBZTtRQUNmLHlIQUF5SDtRQUN6SEMsV0FBV3pCLFNBQVMwQixRQUFRO1FBQzVCWjtRQUNBLHlCQUF5QjtRQUN6QixHQUFHZCxTQUFTRSxhQUFhLEVBQUVtQixNQUFNO0lBQ3JDLEdBQUdDLE9BQU9LLFdBQVcsQ0FBQzNCLFNBQVNFLGFBQWEsRUFBRUQsSUFBSVksZ0JBQWdCLEVBQUUsR0FBR2hCO0lBQ3ZFLElBQUssTUFBTStCLEtBQUtQLE9BQ1pULFdBQVdpQixHQUFHLENBQUNELEdBQUdQLE1BQU0sQ0FBQ08sRUFBRTtJQUMvQixNQUFNRSxVQUFVLEVBQUU7SUFDbEIsTUFBTUMsUUFBUSxNQUFNckMsNERBQVksQ0FBQ3NDLE1BQU0sQ0FBQ2xDLFNBQVNrQjtJQUNqRCxJQUFJZSxPQUFPO1FBQ1BuQixXQUFXaUIsR0FBRyxDQUFDLFNBQVNFLE1BQU1FLEtBQUs7UUFDbkNILFFBQVFJLElBQUksQ0FBQ0gsTUFBTUksTUFBTTtJQUM3QjtJQUNBLElBQUluQyxTQUFTTixNQUFNLEVBQUUwQyxTQUFTLFNBQVM7UUFDbkMsSUFBSWpDLE1BQU0sQ0FBQ0EsR0FBR2tDLGdDQUFnQyxFQUFFRCxTQUFTLFNBQVM7WUFDOUQsc0VBQXNFO1lBQ3RFLHFEQUFxRDtZQUNyRCxJQUFJcEMsU0FBU3NDLElBQUksS0FBSyxRQUNsQnRDLFNBQVNOLE1BQU0sR0FBRztnQkFBQzthQUFRO1FBQ25DLE9BQ0s7WUFDRCxNQUFNLEVBQUV1QyxLQUFLLEVBQUVFLE1BQU0sRUFBRSxHQUFHLE1BQU16QywyREFBVyxDQUFDc0MsTUFBTSxDQUFDbEM7WUFDbkRjLFdBQVdpQixHQUFHLENBQUMsa0JBQWtCSTtZQUNqQ3JCLFdBQVdpQixHQUFHLENBQUMseUJBQXlCO1lBQ3hDQyxRQUFRSSxJQUFJLENBQUNDO1FBQ2pCO0lBQ0o7SUFDQSxNQUFNSyxRQUFRLE1BQU05Qyw0REFBWSxDQUFDc0MsTUFBTSxDQUFDbEM7SUFDeEMsSUFBSTBDLE9BQU87UUFDUDVCLFdBQVdpQixHQUFHLENBQUMsU0FBU1csTUFBTVAsS0FBSztRQUNuQ0gsUUFBUUksSUFBSSxDQUFDTSxNQUFNTCxNQUFNO0lBQzdCO0lBQ0Esb0dBQW9HO0lBQ3BHLG9DQUFvQztJQUNwQyxJQUFJbkMsU0FBU3NDLElBQUksS0FBSyxVQUFVLENBQUNyQyxJQUFJWSxZQUFZLENBQUM0QixHQUFHLENBQUMsVUFBVTtRQUM1RHhDLElBQUlZLFlBQVksQ0FBQ2dCLEdBQUcsQ0FBQyxTQUFTO0lBQ2xDO0lBQ0E5QixPQUFPcUIsS0FBSyxDQUFDLDhCQUE4QjtRQUFFbkI7UUFBSzZCO1FBQVM5QjtJQUFTO0lBQ3BFLE9BQU87UUFBRTBDLFVBQVV6QyxJQUFJMEMsUUFBUTtRQUFJYjtJQUFRO0FBQy9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC1yeC8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi9hY3Rpb25zL3NpZ25pbi9hdXRob3JpemF0aW9uLXVybC5qcz9lZTU5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGNoZWNrcyBmcm9tIFwiLi4vY2FsbGJhY2svb2F1dGgvY2hlY2tzLmpzXCI7XG5pbXBvcnQgKiBhcyBvIGZyb20gXCJvYXV0aDR3ZWJhcGlcIjtcbi8qKlxuICogR2VuZXJhdGVzIGFuIGF1dGhvcml6YXRpb24vcmVxdWVzdCB0b2tlbiBVUkwuXG4gKlxuICogW09BdXRoIDJdKGh0dHBzOi8vd3d3Lm9hdXRoLmNvbS9vYXV0aDItc2VydmVycy9hdXRob3JpemF0aW9uL3RoZS1hdXRob3JpemF0aW9uLXJlcXVlc3QvKVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QXV0aG9yaXphdGlvblVybChxdWVyeSwgb3B0aW9ucykge1xuICAgIGNvbnN0IHsgbG9nZ2VyLCBwcm92aWRlciB9ID0gb3B0aW9ucztcbiAgICBsZXQgdXJsID0gcHJvdmlkZXIuYXV0aG9yaXphdGlvbj8udXJsO1xuICAgIGxldCBhcztcbiAgICAvLyBGYWxscyBiYWNrIHRvIGF1dGhqcy5kZXYgaWYgdGhlIHVzZXIgb25seSBwYXNzZWQgcGFyYW1zXG4gICAgaWYgKCF1cmwgfHwgdXJsLmhvc3QgPT09IFwiYXV0aGpzLmRldlwiKSB7XG4gICAgICAgIC8vIElmIHVybCBpcyB1bmRlZmluZWQsIHdlIGFzc3VtZSB0aGF0IGlzc3VlciBpcyBhbHdheXMgZGVmaW5lZFxuICAgICAgICAvLyBXZSBjaGVjayB0aGlzIGluIGFzc2VydC50c1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICBjb25zdCBpc3N1ZXIgPSBuZXcgVVJMKHByb3ZpZGVyLmlzc3Vlcik7XG4gICAgICAgIGNvbnN0IGRpc2NvdmVyeVJlc3BvbnNlID0gYXdhaXQgby5kaXNjb3ZlcnlSZXF1ZXN0KGlzc3Vlcik7XG4gICAgICAgIGNvbnN0IGFzID0gYXdhaXQgby5wcm9jZXNzRGlzY292ZXJ5UmVzcG9uc2UoaXNzdWVyLCBkaXNjb3ZlcnlSZXNwb25zZSk7XG4gICAgICAgIGlmICghYXMuYXV0aG9yaXphdGlvbl9lbmRwb2ludCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkF1dGhvcml6YXRpb24gc2VydmVyIGRpZCBub3QgcHJvdmlkZSBhbiBhdXRob3JpemF0aW9uIGVuZHBvaW50LlwiKTtcbiAgICAgICAgfVxuICAgICAgICB1cmwgPSBuZXcgVVJMKGFzLmF1dGhvcml6YXRpb25fZW5kcG9pbnQpO1xuICAgIH1cbiAgICBjb25zdCBhdXRoUGFyYW1zID0gdXJsLnNlYXJjaFBhcmFtcztcbiAgICBsZXQgcmVkaXJlY3RfdXJpID0gcHJvdmlkZXIuY2FsbGJhY2tVcmw7XG4gICAgbGV0IGRhdGE7XG4gICAgaWYgKCFvcHRpb25zLmlzT25SZWRpcmVjdFByb3h5ICYmIHByb3ZpZGVyLnJlZGlyZWN0UHJveHlVcmwpIHtcbiAgICAgICAgcmVkaXJlY3RfdXJpID0gcHJvdmlkZXIucmVkaXJlY3RQcm94eVVybDtcbiAgICAgICAgZGF0YSA9IHsgb3JpZ2luOiBwcm92aWRlci5jYWxsYmFja1VybCB9O1xuICAgICAgICBsb2dnZXIuZGVidWcoXCJ1c2luZyByZWRpcmVjdCBwcm94eVwiLCB7IHJlZGlyZWN0X3VyaSwgZGF0YSB9KTtcbiAgICB9XG4gICAgY29uc3QgcGFyYW1zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIHJlc3BvbnNlX3R5cGU6IFwiY29kZVwiLFxuICAgICAgICAvLyBjbGllbnRJZCBjYW4gdGVjaG5pY2FsbHkgYmUgdW5kZWZpbmVkLCBzaG91bGQgd2UgY2hlY2sgdGhpcyBpbiBhc3NlcnQudHMgb3IgcmVseSBvbiB0aGUgQXV0aG9yaXphdGlvbiBTZXJ2ZXIgdG8gZG8gaXQ/XG4gICAgICAgIGNsaWVudF9pZDogcHJvdmlkZXIuY2xpZW50SWQsXG4gICAgICAgIHJlZGlyZWN0X3VyaSxcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUT0RPOlxuICAgICAgICAuLi5wcm92aWRlci5hdXRob3JpemF0aW9uPy5wYXJhbXMsXG4gICAgfSwgT2JqZWN0LmZyb21FbnRyaWVzKHByb3ZpZGVyLmF1dGhvcml6YXRpb24/LnVybC5zZWFyY2hQYXJhbXMgPz8gW10pLCBxdWVyeSk7XG4gICAgZm9yIChjb25zdCBrIGluIHBhcmFtcylcbiAgICAgICAgYXV0aFBhcmFtcy5zZXQoaywgcGFyYW1zW2tdKTtcbiAgICBjb25zdCBjb29raWVzID0gW107XG4gICAgY29uc3Qgc3RhdGUgPSBhd2FpdCBjaGVja3Muc3RhdGUuY3JlYXRlKG9wdGlvbnMsIGRhdGEpO1xuICAgIGlmIChzdGF0ZSkge1xuICAgICAgICBhdXRoUGFyYW1zLnNldChcInN0YXRlXCIsIHN0YXRlLnZhbHVlKTtcbiAgICAgICAgY29va2llcy5wdXNoKHN0YXRlLmNvb2tpZSk7XG4gICAgfVxuICAgIGlmIChwcm92aWRlci5jaGVja3M/LmluY2x1ZGVzKFwicGtjZVwiKSkge1xuICAgICAgICBpZiAoYXMgJiYgIWFzLmNvZGVfY2hhbGxlbmdlX21ldGhvZHNfc3VwcG9ydGVkPy5pbmNsdWRlcyhcIlMyNTZcIikpIHtcbiAgICAgICAgICAgIC8vIFdlIGFzc3VtZSBTMjU2IFBLQ0Ugc3VwcG9ydCwgaWYgdGhlIHNlcnZlciBkb2VzIG5vdCBhZHZlcnRpc2UgdGhhdCxcbiAgICAgICAgICAgIC8vIGEgcmFuZG9tIGBub25jZWAgbXVzdCBiZSB1c2VkIGZvciBDU1JGIHByb3RlY3Rpb24uXG4gICAgICAgICAgICBpZiAocHJvdmlkZXIudHlwZSA9PT0gXCJvaWRjXCIpXG4gICAgICAgICAgICAgICAgcHJvdmlkZXIuY2hlY2tzID0gW1wibm9uY2VcIl07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB7IHZhbHVlLCBjb29raWUgfSA9IGF3YWl0IGNoZWNrcy5wa2NlLmNyZWF0ZShvcHRpb25zKTtcbiAgICAgICAgICAgIGF1dGhQYXJhbXMuc2V0KFwiY29kZV9jaGFsbGVuZ2VcIiwgdmFsdWUpO1xuICAgICAgICAgICAgYXV0aFBhcmFtcy5zZXQoXCJjb2RlX2NoYWxsZW5nZV9tZXRob2RcIiwgXCJTMjU2XCIpO1xuICAgICAgICAgICAgY29va2llcy5wdXNoKGNvb2tpZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgbm9uY2UgPSBhd2FpdCBjaGVja3Mubm9uY2UuY3JlYXRlKG9wdGlvbnMpO1xuICAgIGlmIChub25jZSkge1xuICAgICAgICBhdXRoUGFyYW1zLnNldChcIm5vbmNlXCIsIG5vbmNlLnZhbHVlKTtcbiAgICAgICAgY29va2llcy5wdXNoKG5vbmNlLmNvb2tpZSk7XG4gICAgfVxuICAgIC8vIFRPRE86IFRoaXMgZG9lcyBub3Qgd29yayBpbiBub3JtYWxpemVPQXV0aCBiZWNhdXNlIGF1dGhvcml6YXRpb24gZW5kcG9pbnQgY2FuIGNvbWUgZnJvbSBkaXNjb3ZlcnlcbiAgICAvLyBOZWVkIHRvIG1ha2Ugbm9ybWFsaXplT0F1dGggYXN5bmNcbiAgICBpZiAocHJvdmlkZXIudHlwZSA9PT0gXCJvaWRjXCIgJiYgIXVybC5zZWFyY2hQYXJhbXMuaGFzKFwic2NvcGVcIikpIHtcbiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoXCJzY29wZVwiLCBcIm9wZW5pZCBwcm9maWxlIGVtYWlsXCIpO1xuICAgIH1cbiAgICBsb2dnZXIuZGVidWcoXCJhdXRob3JpemF0aW9uIHVybCBpcyByZWFkeVwiLCB7IHVybCwgY29va2llcywgcHJvdmlkZXIgfSk7XG4gICAgcmV0dXJuIHsgcmVkaXJlY3Q6IHVybC50b1N0cmluZygpLCBjb29raWVzIH07XG59XG4iXSwibmFtZXMiOlsiY2hlY2tzIiwibyIsImdldEF1dGhvcml6YXRpb25VcmwiLCJxdWVyeSIsIm9wdGlvbnMiLCJsb2dnZXIiLCJwcm92aWRlciIsInVybCIsImF1dGhvcml6YXRpb24iLCJhcyIsImhvc3QiLCJpc3N1ZXIiLCJVUkwiLCJkaXNjb3ZlcnlSZXNwb25zZSIsImRpc2NvdmVyeVJlcXVlc3QiLCJwcm9jZXNzRGlzY292ZXJ5UmVzcG9uc2UiLCJhdXRob3JpemF0aW9uX2VuZHBvaW50IiwiVHlwZUVycm9yIiwiYXV0aFBhcmFtcyIsInNlYXJjaFBhcmFtcyIsInJlZGlyZWN0X3VyaSIsImNhbGxiYWNrVXJsIiwiZGF0YSIsImlzT25SZWRpcmVjdFByb3h5IiwicmVkaXJlY3RQcm94eVVybCIsIm9yaWdpbiIsImRlYnVnIiwicGFyYW1zIiwiT2JqZWN0IiwiYXNzaWduIiwicmVzcG9uc2VfdHlwZSIsImNsaWVudF9pZCIsImNsaWVudElkIiwiZnJvbUVudHJpZXMiLCJrIiwic2V0IiwiY29va2llcyIsInN0YXRlIiwiY3JlYXRlIiwidmFsdWUiLCJwdXNoIiwiY29va2llIiwiaW5jbHVkZXMiLCJjb2RlX2NoYWxsZW5nZV9tZXRob2RzX3N1cHBvcnRlZCIsInR5cGUiLCJwa2NlIiwibm9uY2UiLCJoYXMiLCJyZWRpcmVjdCIsInRvU3RyaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/lib/actions/signin/authorization-url.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/lib/actions/signin/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/@auth/core/lib/actions/signin/index.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   signIn: () => (/* binding */ signIn)\n/* harmony export */ });\n/* harmony import */ var _authorization_url_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./authorization-url.js */ \"(action-browser)/./node_modules/@auth/core/lib/actions/signin/authorization-url.js\");\n/* harmony import */ var _send_token_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./send-token.js */ \"(action-browser)/./node_modules/@auth/core/lib/actions/signin/send-token.js\");\n\n\nasync function signIn(request, cookies, options) {\n    const signInUrl = `${options.url.origin}${options.basePath}/signin`;\n    if (!options.provider) return {\n        redirect: signInUrl,\n        cookies\n    };\n    switch(options.provider.type){\n        case \"oauth\":\n        case \"oidc\":\n            {\n                const { redirect, cookies: authCookies } = await (0,_authorization_url_js__WEBPACK_IMPORTED_MODULE_0__.getAuthorizationUrl)(request.query, options);\n                if (authCookies) cookies.push(...authCookies);\n                return {\n                    redirect,\n                    cookies\n                };\n            }\n        case \"email\":\n            {\n                const response = await (0,_send_token_js__WEBPACK_IMPORTED_MODULE_1__.sendToken)(request, options);\n                return {\n                    ...response,\n                    cookies\n                };\n            }\n        default:\n            return {\n                redirect: signInUrl,\n                cookies\n            };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi9hY3Rpb25zL3NpZ25pbi9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNkQ7QUFDakI7QUFDckMsZUFBZUUsT0FBT0MsT0FBTyxFQUFFQyxPQUFPLEVBQUVDLE9BQU87SUFDbEQsTUFBTUMsWUFBWSxDQUFDLEVBQUVELFFBQVFFLEdBQUcsQ0FBQ0MsTUFBTSxDQUFDLEVBQUVILFFBQVFJLFFBQVEsQ0FBQyxPQUFPLENBQUM7SUFDbkUsSUFBSSxDQUFDSixRQUFRSyxRQUFRLEVBQ2pCLE9BQU87UUFBRUMsVUFBVUw7UUFBV0Y7SUFBUTtJQUMxQyxPQUFRQyxRQUFRSyxRQUFRLENBQUNFLElBQUk7UUFDekIsS0FBSztRQUNMLEtBQUs7WUFBUTtnQkFDVCxNQUFNLEVBQUVELFFBQVEsRUFBRVAsU0FBU1MsV0FBVyxFQUFFLEdBQUcsTUFBTWIsMEVBQW1CQSxDQUFDRyxRQUFRVyxLQUFLLEVBQUVUO2dCQUNwRixJQUFJUSxhQUNBVCxRQUFRVyxJQUFJLElBQUlGO2dCQUNwQixPQUFPO29CQUFFRjtvQkFBVVA7Z0JBQVE7WUFDL0I7UUFDQSxLQUFLO1lBQVM7Z0JBQ1YsTUFBTVksV0FBVyxNQUFNZix5REFBU0EsQ0FBQ0UsU0FBU0U7Z0JBQzFDLE9BQU87b0JBQUUsR0FBR1csUUFBUTtvQkFBRVo7Z0JBQVE7WUFDbEM7UUFDQTtZQUNJLE9BQU87Z0JBQUVPLFVBQVVMO2dCQUFXRjtZQUFRO0lBQzlDO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LXJ4Ly4vbm9kZV9tb2R1bGVzL0BhdXRoL2NvcmUvbGliL2FjdGlvbnMvc2lnbmluL2luZGV4LmpzP2EwNmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0QXV0aG9yaXphdGlvblVybCB9IGZyb20gXCIuL2F1dGhvcml6YXRpb24tdXJsLmpzXCI7XG5pbXBvcnQgeyBzZW5kVG9rZW4gfSBmcm9tIFwiLi9zZW5kLXRva2VuLmpzXCI7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2lnbkluKHJlcXVlc3QsIGNvb2tpZXMsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBzaWduSW5VcmwgPSBgJHtvcHRpb25zLnVybC5vcmlnaW59JHtvcHRpb25zLmJhc2VQYXRofS9zaWduaW5gO1xuICAgIGlmICghb3B0aW9ucy5wcm92aWRlcilcbiAgICAgICAgcmV0dXJuIHsgcmVkaXJlY3Q6IHNpZ25JblVybCwgY29va2llcyB9O1xuICAgIHN3aXRjaCAob3B0aW9ucy5wcm92aWRlci50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJvYXV0aFwiOlxuICAgICAgICBjYXNlIFwib2lkY1wiOiB7XG4gICAgICAgICAgICBjb25zdCB7IHJlZGlyZWN0LCBjb29raWVzOiBhdXRoQ29va2llcyB9ID0gYXdhaXQgZ2V0QXV0aG9yaXphdGlvblVybChyZXF1ZXN0LnF1ZXJ5LCBvcHRpb25zKTtcbiAgICAgICAgICAgIGlmIChhdXRoQ29va2llcylcbiAgICAgICAgICAgICAgICBjb29raWVzLnB1c2goLi4uYXV0aENvb2tpZXMpO1xuICAgICAgICAgICAgcmV0dXJuIHsgcmVkaXJlY3QsIGNvb2tpZXMgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiZW1haWxcIjoge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzZW5kVG9rZW4ocmVxdWVzdCwgb3B0aW9ucyk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZSwgY29va2llcyB9O1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4geyByZWRpcmVjdDogc2lnbkluVXJsLCBjb29raWVzIH07XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbImdldEF1dGhvcml6YXRpb25VcmwiLCJzZW5kVG9rZW4iLCJzaWduSW4iLCJyZXF1ZXN0IiwiY29va2llcyIsIm9wdGlvbnMiLCJzaWduSW5VcmwiLCJ1cmwiLCJvcmlnaW4iLCJiYXNlUGF0aCIsInByb3ZpZGVyIiwicmVkaXJlY3QiLCJ0eXBlIiwiYXV0aENvb2tpZXMiLCJxdWVyeSIsInB1c2giLCJyZXNwb25zZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/lib/actions/signin/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/lib/actions/signin/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/@auth/core/lib/actions/signin/index.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   signIn: () => (/* binding */ signIn)\n/* harmony export */ });\n/* harmony import */ var _authorization_url_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./authorization-url.js */ \"(rsc)/./node_modules/@auth/core/lib/actions/signin/authorization-url.js\");\n/* harmony import */ var _send_token_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./send-token.js */ \"(rsc)/./node_modules/@auth/core/lib/actions/signin/send-token.js\");\n\n\nasync function signIn(request, cookies, options) {\n    const signInUrl = `${options.url.origin}${options.basePath}/signin`;\n    if (!options.provider) return {\n        redirect: signInUrl,\n        cookies\n    };\n    switch(options.provider.type){\n        case \"oauth\":\n        case \"oidc\":\n            {\n                const { redirect, cookies: authCookies } = await (0,_authorization_url_js__WEBPACK_IMPORTED_MODULE_0__.getAuthorizationUrl)(request.query, options);\n                if (authCookies) cookies.push(...authCookies);\n                return {\n                    redirect,\n                    cookies\n                };\n            }\n        case \"email\":\n            {\n                const response = await (0,_send_token_js__WEBPACK_IMPORTED_MODULE_1__.sendToken)(request, options);\n                return {\n                    ...response,\n                    cookies\n                };\n            }\n        default:\n            return {\n                redirect: signInUrl,\n                cookies\n            };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvYWN0aW9ucy9zaWduaW4vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTZEO0FBQ2pCO0FBQ3JDLGVBQWVFLE9BQU9DLE9BQU8sRUFBRUMsT0FBTyxFQUFFQyxPQUFPO0lBQ2xELE1BQU1DLFlBQVksQ0FBQyxFQUFFRCxRQUFRRSxHQUFHLENBQUNDLE1BQU0sQ0FBQyxFQUFFSCxRQUFRSSxRQUFRLENBQUMsT0FBTyxDQUFDO0lBQ25FLElBQUksQ0FBQ0osUUFBUUssUUFBUSxFQUNqQixPQUFPO1FBQUVDLFVBQVVMO1FBQVdGO0lBQVE7SUFDMUMsT0FBUUMsUUFBUUssUUFBUSxDQUFDRSxJQUFJO1FBQ3pCLEtBQUs7UUFDTCxLQUFLO1lBQVE7Z0JBQ1QsTUFBTSxFQUFFRCxRQUFRLEVBQUVQLFNBQVNTLFdBQVcsRUFBRSxHQUFHLE1BQU1iLDBFQUFtQkEsQ0FBQ0csUUFBUVcsS0FBSyxFQUFFVDtnQkFDcEYsSUFBSVEsYUFDQVQsUUFBUVcsSUFBSSxJQUFJRjtnQkFDcEIsT0FBTztvQkFBRUY7b0JBQVVQO2dCQUFRO1lBQy9CO1FBQ0EsS0FBSztZQUFTO2dCQUNWLE1BQU1ZLFdBQVcsTUFBTWYseURBQVNBLENBQUNFLFNBQVNFO2dCQUMxQyxPQUFPO29CQUFFLEdBQUdXLFFBQVE7b0JBQUVaO2dCQUFRO1lBQ2xDO1FBQ0E7WUFDSSxPQUFPO2dCQUFFTyxVQUFVTDtnQkFBV0Y7WUFBUTtJQUM5QztBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC1yeC8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi9hY3Rpb25zL3NpZ25pbi9pbmRleC5qcz9hMDZhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldEF1dGhvcml6YXRpb25VcmwgfSBmcm9tIFwiLi9hdXRob3JpemF0aW9uLXVybC5qc1wiO1xuaW1wb3J0IHsgc2VuZFRva2VuIH0gZnJvbSBcIi4vc2VuZC10b2tlbi5qc1wiO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25JbihyZXF1ZXN0LCBjb29raWVzLCBvcHRpb25zKSB7XG4gICAgY29uc3Qgc2lnbkluVXJsID0gYCR7b3B0aW9ucy51cmwub3JpZ2lufSR7b3B0aW9ucy5iYXNlUGF0aH0vc2lnbmluYDtcbiAgICBpZiAoIW9wdGlvbnMucHJvdmlkZXIpXG4gICAgICAgIHJldHVybiB7IHJlZGlyZWN0OiBzaWduSW5VcmwsIGNvb2tpZXMgfTtcbiAgICBzd2l0Y2ggKG9wdGlvbnMucHJvdmlkZXIudHlwZSkge1xuICAgICAgICBjYXNlIFwib2F1dGhcIjpcbiAgICAgICAgY2FzZSBcIm9pZGNcIjoge1xuICAgICAgICAgICAgY29uc3QgeyByZWRpcmVjdCwgY29va2llczogYXV0aENvb2tpZXMgfSA9IGF3YWl0IGdldEF1dGhvcml6YXRpb25VcmwocmVxdWVzdC5xdWVyeSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBpZiAoYXV0aENvb2tpZXMpXG4gICAgICAgICAgICAgICAgY29va2llcy5wdXNoKC4uLmF1dGhDb29raWVzKTtcbiAgICAgICAgICAgIHJldHVybiB7IHJlZGlyZWN0LCBjb29raWVzIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcImVtYWlsXCI6IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2VuZFRva2VuKHJlcXVlc3QsIG9wdGlvbnMpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UsIGNvb2tpZXMgfTtcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHsgcmVkaXJlY3Q6IHNpZ25JblVybCwgY29va2llcyB9O1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJnZXRBdXRob3JpemF0aW9uVXJsIiwic2VuZFRva2VuIiwic2lnbkluIiwicmVxdWVzdCIsImNvb2tpZXMiLCJvcHRpb25zIiwic2lnbkluVXJsIiwidXJsIiwib3JpZ2luIiwiYmFzZVBhdGgiLCJwcm92aWRlciIsInJlZGlyZWN0IiwidHlwZSIsImF1dGhDb29raWVzIiwicXVlcnkiLCJwdXNoIiwicmVzcG9uc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/lib/actions/signin/index.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/lib/actions/signin/send-token.js":
/*!******************************************************************!*\
  !*** ./node_modules/@auth/core/lib/actions/signin/send-token.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sendToken: () => (/* binding */ sendToken)\n/* harmony export */ });\n/* harmony import */ var _utils_web_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/web.js */ \"(action-browser)/./node_modules/@auth/core/lib/utils/web.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../errors.js */ \"(action-browser)/./node_modules/@auth/core/errors.js\");\n\n\n/**\n * Starts an e-mail login flow, by generating a token,\n * and sending it to the user's e-mail (with the help of a DB adapter).\n * At the end, it returns a redirect to the `verify-request` page.\n */ async function sendToken(request, options) {\n    const { body } = request;\n    const { provider, callbacks, adapter } = options;\n    const normalizer = provider.normalizeIdentifier ?? defaultNormalizer;\n    const email = normalizer(body?.email);\n    const defaultUser = {\n        id: crypto.randomUUID(),\n        email,\n        emailVerified: null\n    };\n    const user = await adapter.getUserByEmail(email) ?? defaultUser;\n    const account = {\n        providerAccountId: email,\n        userId: user.id,\n        type: \"email\",\n        provider: provider.id\n    };\n    let authorized;\n    try {\n        authorized = await callbacks.signIn({\n            user,\n            account,\n            email: {\n                verificationRequest: true\n            }\n        });\n    } catch (e) {\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.AuthorizedCallbackError(e);\n    }\n    if (!authorized) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.AuthorizedCallbackError(\"AccessDenied\");\n    if (typeof authorized === \"string\") {\n        return {\n            redirect: await callbacks.redirect({\n                url: authorized,\n                baseUrl: options.url.origin\n            })\n        };\n    }\n    const { callbackUrl, theme } = options;\n    const token = await provider.generateVerificationToken?.() ?? (0,_utils_web_js__WEBPACK_IMPORTED_MODULE_0__.randomString)(32);\n    const ONE_DAY_IN_SECONDS = 86400;\n    const expires = new Date(Date.now() + (provider.maxAge ?? ONE_DAY_IN_SECONDS) * 1000);\n    const secret = provider.secret ?? options.secret;\n    const baseUrl = new URL(options.basePath, options.url.origin);\n    const sendRequest = provider.sendVerificationRequest({\n        identifier: email,\n        token,\n        expires,\n        url: `${baseUrl}/callback/${provider.id}?${new URLSearchParams({\n            callbackUrl,\n            token,\n            email\n        })}`,\n        provider,\n        theme,\n        request: (0,_utils_web_js__WEBPACK_IMPORTED_MODULE_0__.toRequest)(request)\n    });\n    const createToken = adapter.createVerificationToken?.({\n        identifier: email,\n        token: await (0,_utils_web_js__WEBPACK_IMPORTED_MODULE_0__.createHash)(`${token}${secret}`),\n        expires\n    });\n    await Promise.all([\n        sendRequest,\n        createToken\n    ]);\n    return {\n        redirect: `${baseUrl}/verify-request?${new URLSearchParams({\n            provider: provider.id,\n            type: provider.type\n        })}`\n    };\n}\nfunction defaultNormalizer(email) {\n    if (!email) throw new Error(\"Missing email from request body.\");\n    // Get the first two elements only,\n    // separated by `@` from user input.\n    let [local, domain] = email.toLowerCase().trim().split(\"@\");\n    // The part before \"@\" can contain a \",\"\n    // but we remove it on the domain part\n    domain = domain.split(\",\")[0];\n    return `${local}@${domain}`;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi9hY3Rpb25zL3NpZ25pbi9zZW5kLXRva2VuLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF5RTtBQUNaO0FBQzdEOzs7O0NBSUMsR0FDTSxlQUFlSSxVQUFVQyxPQUFPLEVBQUVDLE9BQU87SUFDNUMsTUFBTSxFQUFFQyxJQUFJLEVBQUUsR0FBR0Y7SUFDakIsTUFBTSxFQUFFRyxRQUFRLEVBQUVDLFNBQVMsRUFBRUMsT0FBTyxFQUFFLEdBQUdKO0lBQ3pDLE1BQU1LLGFBQWFILFNBQVNJLG1CQUFtQixJQUFJQztJQUNuRCxNQUFNQyxRQUFRSCxXQUFXSixNQUFNTztJQUMvQixNQUFNQyxjQUFjO1FBQUVDLElBQUlDLE9BQU9DLFVBQVU7UUFBSUo7UUFBT0ssZUFBZTtJQUFLO0lBQzFFLE1BQU1DLE9BQU8sTUFBT1YsUUFBUVcsY0FBYyxDQUFDUCxVQUFXQztJQUN0RCxNQUFNTyxVQUFVO1FBQ1pDLG1CQUFtQlQ7UUFDbkJVLFFBQVFKLEtBQUtKLEVBQUU7UUFDZlMsTUFBTTtRQUNOakIsVUFBVUEsU0FBU1EsRUFBRTtJQUN6QjtJQUNBLElBQUlVO0lBQ0osSUFBSTtRQUNBQSxhQUFhLE1BQU1qQixVQUFVa0IsTUFBTSxDQUFDO1lBQ2hDUDtZQUNBRTtZQUNBUixPQUFPO2dCQUFFYyxxQkFBcUI7WUFBSztRQUN2QztJQUNKLEVBQ0EsT0FBT0MsR0FBRztRQUNOLE1BQU0sSUFBSTFCLCtEQUF1QkEsQ0FBQzBCO0lBQ3RDO0lBQ0EsSUFBSSxDQUFDSCxZQUNELE1BQU0sSUFBSXZCLCtEQUF1QkEsQ0FBQztJQUN0QyxJQUFJLE9BQU91QixlQUFlLFVBQVU7UUFDaEMsT0FBTztZQUNISSxVQUFVLE1BQU1yQixVQUFVcUIsUUFBUSxDQUFDO2dCQUMvQkMsS0FBS0w7Z0JBQ0xNLFNBQVMxQixRQUFReUIsR0FBRyxDQUFDRSxNQUFNO1lBQy9CO1FBQ0o7SUFDSjtJQUNBLE1BQU0sRUFBRUMsV0FBVyxFQUFFQyxLQUFLLEVBQUUsR0FBRzdCO0lBQy9CLE1BQU04QixRQUFRLE1BQU81QixTQUFTNkIseUJBQXlCLFFBQVNwQywyREFBWUEsQ0FBQztJQUM3RSxNQUFNcUMscUJBQXFCO0lBQzNCLE1BQU1DLFVBQVUsSUFBSUMsS0FBS0EsS0FBS0MsR0FBRyxLQUFLLENBQUNqQyxTQUFTa0MsTUFBTSxJQUFJSixrQkFBaUIsSUFBSztJQUNoRixNQUFNSyxTQUFTbkMsU0FBU21DLE1BQU0sSUFBSXJDLFFBQVFxQyxNQUFNO0lBQ2hELE1BQU1YLFVBQVUsSUFBSVksSUFBSXRDLFFBQVF1QyxRQUFRLEVBQUV2QyxRQUFReUIsR0FBRyxDQUFDRSxNQUFNO0lBQzVELE1BQU1hLGNBQWN0QyxTQUFTdUMsdUJBQXVCLENBQUM7UUFDakRDLFlBQVlsQztRQUNac0I7UUFDQUc7UUFDQVIsS0FBSyxDQUFDLEVBQUVDLFFBQVEsVUFBVSxFQUFFeEIsU0FBU1EsRUFBRSxDQUFDLENBQUMsRUFBRSxJQUFJaUMsZ0JBQWdCO1lBQzNEZjtZQUNBRTtZQUNBdEI7UUFDSixHQUFHLENBQUM7UUFDSk47UUFDQTJCO1FBQ0E5QixTQUFTSCx3REFBU0EsQ0FBQ0c7SUFDdkI7SUFDQSxNQUFNNkMsY0FBY3hDLFFBQVF5Qyx1QkFBdUIsR0FBRztRQUNsREgsWUFBWWxDO1FBQ1pzQixPQUFPLE1BQU1wQyx5REFBVUEsQ0FBQyxDQUFDLEVBQUVvQyxNQUFNLEVBQUVPLE9BQU8sQ0FBQztRQUMzQ0o7SUFDSjtJQUNBLE1BQU1hLFFBQVFDLEdBQUcsQ0FBQztRQUFDUDtRQUFhSTtLQUFZO0lBQzVDLE9BQU87UUFDSHBCLFVBQVUsQ0FBQyxFQUFFRSxRQUFRLGdCQUFnQixFQUFFLElBQUlpQixnQkFBZ0I7WUFDdkR6QyxVQUFVQSxTQUFTUSxFQUFFO1lBQ3JCUyxNQUFNakIsU0FBU2lCLElBQUk7UUFDdkIsR0FBRyxDQUFDO0lBQ1I7QUFDSjtBQUNBLFNBQVNaLGtCQUFrQkMsS0FBSztJQUM1QixJQUFJLENBQUNBLE9BQ0QsTUFBTSxJQUFJd0MsTUFBTTtJQUNwQixtQ0FBbUM7SUFDbkMsb0NBQW9DO0lBQ3BDLElBQUksQ0FBQ0MsT0FBT0MsT0FBTyxHQUFHMUMsTUFBTTJDLFdBQVcsR0FBR0MsSUFBSSxHQUFHQyxLQUFLLENBQUM7SUFDdkQsd0NBQXdDO0lBQ3hDLHNDQUFzQztJQUN0Q0gsU0FBU0EsT0FBT0csS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFO0lBQzdCLE9BQU8sQ0FBQyxFQUFFSixNQUFNLENBQUMsRUFBRUMsT0FBTyxDQUFDO0FBQy9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC1yeC8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi9hY3Rpb25zL3NpZ25pbi9zZW5kLXRva2VuLmpzPzY5NzQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlSGFzaCwgcmFuZG9tU3RyaW5nLCB0b1JlcXVlc3QgfSBmcm9tIFwiLi4vLi4vdXRpbHMvd2ViLmpzXCI7XG5pbXBvcnQgeyBBdXRob3JpemVkQ2FsbGJhY2tFcnJvciB9IGZyb20gXCIuLi8uLi8uLi9lcnJvcnMuanNcIjtcbi8qKlxuICogU3RhcnRzIGFuIGUtbWFpbCBsb2dpbiBmbG93LCBieSBnZW5lcmF0aW5nIGEgdG9rZW4sXG4gKiBhbmQgc2VuZGluZyBpdCB0byB0aGUgdXNlcidzIGUtbWFpbCAod2l0aCB0aGUgaGVscCBvZiBhIERCIGFkYXB0ZXIpLlxuICogQXQgdGhlIGVuZCwgaXQgcmV0dXJucyBhIHJlZGlyZWN0IHRvIHRoZSBgdmVyaWZ5LXJlcXVlc3RgIHBhZ2UuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kVG9rZW4ocmVxdWVzdCwgb3B0aW9ucykge1xuICAgIGNvbnN0IHsgYm9keSB9ID0gcmVxdWVzdDtcbiAgICBjb25zdCB7IHByb3ZpZGVyLCBjYWxsYmFja3MsIGFkYXB0ZXIgfSA9IG9wdGlvbnM7XG4gICAgY29uc3Qgbm9ybWFsaXplciA9IHByb3ZpZGVyLm5vcm1hbGl6ZUlkZW50aWZpZXIgPz8gZGVmYXVsdE5vcm1hbGl6ZXI7XG4gICAgY29uc3QgZW1haWwgPSBub3JtYWxpemVyKGJvZHk/LmVtYWlsKTtcbiAgICBjb25zdCBkZWZhdWx0VXNlciA9IHsgaWQ6IGNyeXB0by5yYW5kb21VVUlEKCksIGVtYWlsLCBlbWFpbFZlcmlmaWVkOiBudWxsIH07XG4gICAgY29uc3QgdXNlciA9IChhd2FpdCBhZGFwdGVyLmdldFVzZXJCeUVtYWlsKGVtYWlsKSkgPz8gZGVmYXVsdFVzZXI7XG4gICAgY29uc3QgYWNjb3VudCA9IHtcbiAgICAgICAgcHJvdmlkZXJBY2NvdW50SWQ6IGVtYWlsLFxuICAgICAgICB1c2VySWQ6IHVzZXIuaWQsXG4gICAgICAgIHR5cGU6IFwiZW1haWxcIixcbiAgICAgICAgcHJvdmlkZXI6IHByb3ZpZGVyLmlkLFxuICAgIH07XG4gICAgbGV0IGF1dGhvcml6ZWQ7XG4gICAgdHJ5IHtcbiAgICAgICAgYXV0aG9yaXplZCA9IGF3YWl0IGNhbGxiYWNrcy5zaWduSW4oe1xuICAgICAgICAgICAgdXNlcixcbiAgICAgICAgICAgIGFjY291bnQsXG4gICAgICAgICAgICBlbWFpbDogeyB2ZXJpZmljYXRpb25SZXF1ZXN0OiB0cnVlIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICB0aHJvdyBuZXcgQXV0aG9yaXplZENhbGxiYWNrRXJyb3IoZSk7XG4gICAgfVxuICAgIGlmICghYXV0aG9yaXplZClcbiAgICAgICAgdGhyb3cgbmV3IEF1dGhvcml6ZWRDYWxsYmFja0Vycm9yKFwiQWNjZXNzRGVuaWVkXCIpO1xuICAgIGlmICh0eXBlb2YgYXV0aG9yaXplZCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVkaXJlY3Q6IGF3YWl0IGNhbGxiYWNrcy5yZWRpcmVjdCh7XG4gICAgICAgICAgICAgICAgdXJsOiBhdXRob3JpemVkLFxuICAgICAgICAgICAgICAgIGJhc2VVcmw6IG9wdGlvbnMudXJsLm9yaWdpbixcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCB7IGNhbGxiYWNrVXJsLCB0aGVtZSB9ID0gb3B0aW9ucztcbiAgICBjb25zdCB0b2tlbiA9IChhd2FpdCBwcm92aWRlci5nZW5lcmF0ZVZlcmlmaWNhdGlvblRva2VuPy4oKSkgPz8gcmFuZG9tU3RyaW5nKDMyKTtcbiAgICBjb25zdCBPTkVfREFZX0lOX1NFQ09ORFMgPSA4NjQwMDtcbiAgICBjb25zdCBleHBpcmVzID0gbmV3IERhdGUoRGF0ZS5ub3coKSArIChwcm92aWRlci5tYXhBZ2UgPz8gT05FX0RBWV9JTl9TRUNPTkRTKSAqIDEwMDApO1xuICAgIGNvbnN0IHNlY3JldCA9IHByb3ZpZGVyLnNlY3JldCA/PyBvcHRpb25zLnNlY3JldDtcbiAgICBjb25zdCBiYXNlVXJsID0gbmV3IFVSTChvcHRpb25zLmJhc2VQYXRoLCBvcHRpb25zLnVybC5vcmlnaW4pO1xuICAgIGNvbnN0IHNlbmRSZXF1ZXN0ID0gcHJvdmlkZXIuc2VuZFZlcmlmaWNhdGlvblJlcXVlc3Qoe1xuICAgICAgICBpZGVudGlmaWVyOiBlbWFpbCxcbiAgICAgICAgdG9rZW4sXG4gICAgICAgIGV4cGlyZXMsXG4gICAgICAgIHVybDogYCR7YmFzZVVybH0vY2FsbGJhY2svJHtwcm92aWRlci5pZH0/JHtuZXcgVVJMU2VhcmNoUGFyYW1zKHtcbiAgICAgICAgICAgIGNhbGxiYWNrVXJsLFxuICAgICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgICBlbWFpbCxcbiAgICAgICAgfSl9YCxcbiAgICAgICAgcHJvdmlkZXIsXG4gICAgICAgIHRoZW1lLFxuICAgICAgICByZXF1ZXN0OiB0b1JlcXVlc3QocmVxdWVzdCksXG4gICAgfSk7XG4gICAgY29uc3QgY3JlYXRlVG9rZW4gPSBhZGFwdGVyLmNyZWF0ZVZlcmlmaWNhdGlvblRva2VuPy4oe1xuICAgICAgICBpZGVudGlmaWVyOiBlbWFpbCxcbiAgICAgICAgdG9rZW46IGF3YWl0IGNyZWF0ZUhhc2goYCR7dG9rZW59JHtzZWNyZXR9YCksXG4gICAgICAgIGV4cGlyZXMsXG4gICAgfSk7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoW3NlbmRSZXF1ZXN0LCBjcmVhdGVUb2tlbl0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlZGlyZWN0OiBgJHtiYXNlVXJsfS92ZXJpZnktcmVxdWVzdD8ke25ldyBVUkxTZWFyY2hQYXJhbXMoe1xuICAgICAgICAgICAgcHJvdmlkZXI6IHByb3ZpZGVyLmlkLFxuICAgICAgICAgICAgdHlwZTogcHJvdmlkZXIudHlwZSxcbiAgICAgICAgfSl9YCxcbiAgICB9O1xufVxuZnVuY3Rpb24gZGVmYXVsdE5vcm1hbGl6ZXIoZW1haWwpIHtcbiAgICBpZiAoIWVtYWlsKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGVtYWlsIGZyb20gcmVxdWVzdCBib2R5LlwiKTtcbiAgICAvLyBHZXQgdGhlIGZpcnN0IHR3byBlbGVtZW50cyBvbmx5LFxuICAgIC8vIHNlcGFyYXRlZCBieSBgQGAgZnJvbSB1c2VyIGlucHV0LlxuICAgIGxldCBbbG9jYWwsIGRvbWFpbl0gPSBlbWFpbC50b0xvd2VyQ2FzZSgpLnRyaW0oKS5zcGxpdChcIkBcIik7XG4gICAgLy8gVGhlIHBhcnQgYmVmb3JlIFwiQFwiIGNhbiBjb250YWluIGEgXCIsXCJcbiAgICAvLyBidXQgd2UgcmVtb3ZlIGl0IG9uIHRoZSBkb21haW4gcGFydFxuICAgIGRvbWFpbiA9IGRvbWFpbi5zcGxpdChcIixcIilbMF07XG4gICAgcmV0dXJuIGAke2xvY2FsfUAke2RvbWFpbn1gO1xufVxuIl0sIm5hbWVzIjpbImNyZWF0ZUhhc2giLCJyYW5kb21TdHJpbmciLCJ0b1JlcXVlc3QiLCJBdXRob3JpemVkQ2FsbGJhY2tFcnJvciIsInNlbmRUb2tlbiIsInJlcXVlc3QiLCJvcHRpb25zIiwiYm9keSIsInByb3ZpZGVyIiwiY2FsbGJhY2tzIiwiYWRhcHRlciIsIm5vcm1hbGl6ZXIiLCJub3JtYWxpemVJZGVudGlmaWVyIiwiZGVmYXVsdE5vcm1hbGl6ZXIiLCJlbWFpbCIsImRlZmF1bHRVc2VyIiwiaWQiLCJjcnlwdG8iLCJyYW5kb21VVUlEIiwiZW1haWxWZXJpZmllZCIsInVzZXIiLCJnZXRVc2VyQnlFbWFpbCIsImFjY291bnQiLCJwcm92aWRlckFjY291bnRJZCIsInVzZXJJZCIsInR5cGUiLCJhdXRob3JpemVkIiwic2lnbkluIiwidmVyaWZpY2F0aW9uUmVxdWVzdCIsImUiLCJyZWRpcmVjdCIsInVybCIsImJhc2VVcmwiLCJvcmlnaW4iLCJjYWxsYmFja1VybCIsInRoZW1lIiwidG9rZW4iLCJnZW5lcmF0ZVZlcmlmaWNhdGlvblRva2VuIiwiT05FX0RBWV9JTl9TRUNPTkRTIiwiZXhwaXJlcyIsIkRhdGUiLCJub3ciLCJtYXhBZ2UiLCJzZWNyZXQiLCJVUkwiLCJiYXNlUGF0aCIsInNlbmRSZXF1ZXN0Iiwic2VuZFZlcmlmaWNhdGlvblJlcXVlc3QiLCJpZGVudGlmaWVyIiwiVVJMU2VhcmNoUGFyYW1zIiwiY3JlYXRlVG9rZW4iLCJjcmVhdGVWZXJpZmljYXRpb25Ub2tlbiIsIlByb21pc2UiLCJhbGwiLCJFcnJvciIsImxvY2FsIiwiZG9tYWluIiwidG9Mb3dlckNhc2UiLCJ0cmltIiwic3BsaXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/lib/actions/signin/send-token.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/lib/actions/signin/send-token.js":
/*!******************************************************************!*\
  !*** ./node_modules/@auth/core/lib/actions/signin/send-token.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sendToken: () => (/* binding */ sendToken)\n/* harmony export */ });\n/* harmony import */ var _utils_web_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/web.js */ \"(rsc)/./node_modules/@auth/core/lib/utils/web.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../errors.js */ \"(rsc)/./node_modules/@auth/core/errors.js\");\n\n\n/**\n * Starts an e-mail login flow, by generating a token,\n * and sending it to the user's e-mail (with the help of a DB adapter).\n * At the end, it returns a redirect to the `verify-request` page.\n */ async function sendToken(request, options) {\n    const { body } = request;\n    const { provider, callbacks, adapter } = options;\n    const normalizer = provider.normalizeIdentifier ?? defaultNormalizer;\n    const email = normalizer(body?.email);\n    const defaultUser = {\n        id: crypto.randomUUID(),\n        email,\n        emailVerified: null\n    };\n    const user = await adapter.getUserByEmail(email) ?? defaultUser;\n    const account = {\n        providerAccountId: email,\n        userId: user.id,\n        type: \"email\",\n        provider: provider.id\n    };\n    let authorized;\n    try {\n        authorized = await callbacks.signIn({\n            user,\n            account,\n            email: {\n                verificationRequest: true\n            }\n        });\n    } catch (e) {\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.AuthorizedCallbackError(e);\n    }\n    if (!authorized) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.AuthorizedCallbackError(\"AccessDenied\");\n    if (typeof authorized === \"string\") {\n        return {\n            redirect: await callbacks.redirect({\n                url: authorized,\n                baseUrl: options.url.origin\n            })\n        };\n    }\n    const { callbackUrl, theme } = options;\n    const token = await provider.generateVerificationToken?.() ?? (0,_utils_web_js__WEBPACK_IMPORTED_MODULE_0__.randomString)(32);\n    const ONE_DAY_IN_SECONDS = 86400;\n    const expires = new Date(Date.now() + (provider.maxAge ?? ONE_DAY_IN_SECONDS) * 1000);\n    const secret = provider.secret ?? options.secret;\n    const baseUrl = new URL(options.basePath, options.url.origin);\n    const sendRequest = provider.sendVerificationRequest({\n        identifier: email,\n        token,\n        expires,\n        url: `${baseUrl}/callback/${provider.id}?${new URLSearchParams({\n            callbackUrl,\n            token,\n            email\n        })}`,\n        provider,\n        theme,\n        request: (0,_utils_web_js__WEBPACK_IMPORTED_MODULE_0__.toRequest)(request)\n    });\n    const createToken = adapter.createVerificationToken?.({\n        identifier: email,\n        token: await (0,_utils_web_js__WEBPACK_IMPORTED_MODULE_0__.createHash)(`${token}${secret}`),\n        expires\n    });\n    await Promise.all([\n        sendRequest,\n        createToken\n    ]);\n    return {\n        redirect: `${baseUrl}/verify-request?${new URLSearchParams({\n            provider: provider.id,\n            type: provider.type\n        })}`\n    };\n}\nfunction defaultNormalizer(email) {\n    if (!email) throw new Error(\"Missing email from request body.\");\n    // Get the first two elements only,\n    // separated by `@` from user input.\n    let [local, domain] = email.toLowerCase().trim().split(\"@\");\n    // The part before \"@\" can contain a \",\"\n    // but we remove it on the domain part\n    domain = domain.split(\",\")[0];\n    return `${local}@${domain}`;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvYWN0aW9ucy9zaWduaW4vc2VuZC10b2tlbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBeUU7QUFDWjtBQUM3RDs7OztDQUlDLEdBQ00sZUFBZUksVUFBVUMsT0FBTyxFQUFFQyxPQUFPO0lBQzVDLE1BQU0sRUFBRUMsSUFBSSxFQUFFLEdBQUdGO0lBQ2pCLE1BQU0sRUFBRUcsUUFBUSxFQUFFQyxTQUFTLEVBQUVDLE9BQU8sRUFBRSxHQUFHSjtJQUN6QyxNQUFNSyxhQUFhSCxTQUFTSSxtQkFBbUIsSUFBSUM7SUFDbkQsTUFBTUMsUUFBUUgsV0FBV0osTUFBTU87SUFDL0IsTUFBTUMsY0FBYztRQUFFQyxJQUFJQyxPQUFPQyxVQUFVO1FBQUlKO1FBQU9LLGVBQWU7SUFBSztJQUMxRSxNQUFNQyxPQUFPLE1BQU9WLFFBQVFXLGNBQWMsQ0FBQ1AsVUFBV0M7SUFDdEQsTUFBTU8sVUFBVTtRQUNaQyxtQkFBbUJUO1FBQ25CVSxRQUFRSixLQUFLSixFQUFFO1FBQ2ZTLE1BQU07UUFDTmpCLFVBQVVBLFNBQVNRLEVBQUU7SUFDekI7SUFDQSxJQUFJVTtJQUNKLElBQUk7UUFDQUEsYUFBYSxNQUFNakIsVUFBVWtCLE1BQU0sQ0FBQztZQUNoQ1A7WUFDQUU7WUFDQVIsT0FBTztnQkFBRWMscUJBQXFCO1lBQUs7UUFDdkM7SUFDSixFQUNBLE9BQU9DLEdBQUc7UUFDTixNQUFNLElBQUkxQiwrREFBdUJBLENBQUMwQjtJQUN0QztJQUNBLElBQUksQ0FBQ0gsWUFDRCxNQUFNLElBQUl2QiwrREFBdUJBLENBQUM7SUFDdEMsSUFBSSxPQUFPdUIsZUFBZSxVQUFVO1FBQ2hDLE9BQU87WUFDSEksVUFBVSxNQUFNckIsVUFBVXFCLFFBQVEsQ0FBQztnQkFDL0JDLEtBQUtMO2dCQUNMTSxTQUFTMUIsUUFBUXlCLEdBQUcsQ0FBQ0UsTUFBTTtZQUMvQjtRQUNKO0lBQ0o7SUFDQSxNQUFNLEVBQUVDLFdBQVcsRUFBRUMsS0FBSyxFQUFFLEdBQUc3QjtJQUMvQixNQUFNOEIsUUFBUSxNQUFPNUIsU0FBUzZCLHlCQUF5QixRQUFTcEMsMkRBQVlBLENBQUM7SUFDN0UsTUFBTXFDLHFCQUFxQjtJQUMzQixNQUFNQyxVQUFVLElBQUlDLEtBQUtBLEtBQUtDLEdBQUcsS0FBSyxDQUFDakMsU0FBU2tDLE1BQU0sSUFBSUosa0JBQWlCLElBQUs7SUFDaEYsTUFBTUssU0FBU25DLFNBQVNtQyxNQUFNLElBQUlyQyxRQUFRcUMsTUFBTTtJQUNoRCxNQUFNWCxVQUFVLElBQUlZLElBQUl0QyxRQUFRdUMsUUFBUSxFQUFFdkMsUUFBUXlCLEdBQUcsQ0FBQ0UsTUFBTTtJQUM1RCxNQUFNYSxjQUFjdEMsU0FBU3VDLHVCQUF1QixDQUFDO1FBQ2pEQyxZQUFZbEM7UUFDWnNCO1FBQ0FHO1FBQ0FSLEtBQUssQ0FBQyxFQUFFQyxRQUFRLFVBQVUsRUFBRXhCLFNBQVNRLEVBQUUsQ0FBQyxDQUFDLEVBQUUsSUFBSWlDLGdCQUFnQjtZQUMzRGY7WUFDQUU7WUFDQXRCO1FBQ0osR0FBRyxDQUFDO1FBQ0pOO1FBQ0EyQjtRQUNBOUIsU0FBU0gsd0RBQVNBLENBQUNHO0lBQ3ZCO0lBQ0EsTUFBTTZDLGNBQWN4QyxRQUFReUMsdUJBQXVCLEdBQUc7UUFDbERILFlBQVlsQztRQUNac0IsT0FBTyxNQUFNcEMseURBQVVBLENBQUMsQ0FBQyxFQUFFb0MsTUFBTSxFQUFFTyxPQUFPLENBQUM7UUFDM0NKO0lBQ0o7SUFDQSxNQUFNYSxRQUFRQyxHQUFHLENBQUM7UUFBQ1A7UUFBYUk7S0FBWTtJQUM1QyxPQUFPO1FBQ0hwQixVQUFVLENBQUMsRUFBRUUsUUFBUSxnQkFBZ0IsRUFBRSxJQUFJaUIsZ0JBQWdCO1lBQ3ZEekMsVUFBVUEsU0FBU1EsRUFBRTtZQUNyQlMsTUFBTWpCLFNBQVNpQixJQUFJO1FBQ3ZCLEdBQUcsQ0FBQztJQUNSO0FBQ0o7QUFDQSxTQUFTWixrQkFBa0JDLEtBQUs7SUFDNUIsSUFBSSxDQUFDQSxPQUNELE1BQU0sSUFBSXdDLE1BQU07SUFDcEIsbUNBQW1DO0lBQ25DLG9DQUFvQztJQUNwQyxJQUFJLENBQUNDLE9BQU9DLE9BQU8sR0FBRzFDLE1BQU0yQyxXQUFXLEdBQUdDLElBQUksR0FBR0MsS0FBSyxDQUFDO0lBQ3ZELHdDQUF3QztJQUN4QyxzQ0FBc0M7SUFDdENILFNBQVNBLE9BQU9HLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtJQUM3QixPQUFPLENBQUMsRUFBRUosTUFBTSxDQUFDLEVBQUVDLE9BQU8sQ0FBQztBQUMvQiIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtcngvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvYWN0aW9ucy9zaWduaW4vc2VuZC10b2tlbi5qcz82OTc0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUhhc2gsIHJhbmRvbVN0cmluZywgdG9SZXF1ZXN0IH0gZnJvbSBcIi4uLy4uL3V0aWxzL3dlYi5qc1wiO1xuaW1wb3J0IHsgQXV0aG9yaXplZENhbGxiYWNrRXJyb3IgfSBmcm9tIFwiLi4vLi4vLi4vZXJyb3JzLmpzXCI7XG4vKipcbiAqIFN0YXJ0cyBhbiBlLW1haWwgbG9naW4gZmxvdywgYnkgZ2VuZXJhdGluZyBhIHRva2VuLFxuICogYW5kIHNlbmRpbmcgaXQgdG8gdGhlIHVzZXIncyBlLW1haWwgKHdpdGggdGhlIGhlbHAgb2YgYSBEQiBhZGFwdGVyKS5cbiAqIEF0IHRoZSBlbmQsIGl0IHJldHVybnMgYSByZWRpcmVjdCB0byB0aGUgYHZlcmlmeS1yZXF1ZXN0YCBwYWdlLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZFRva2VuKHJlcXVlc3QsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IGJvZHkgfSA9IHJlcXVlc3Q7XG4gICAgY29uc3QgeyBwcm92aWRlciwgY2FsbGJhY2tzLCBhZGFwdGVyIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IG5vcm1hbGl6ZXIgPSBwcm92aWRlci5ub3JtYWxpemVJZGVudGlmaWVyID8/IGRlZmF1bHROb3JtYWxpemVyO1xuICAgIGNvbnN0IGVtYWlsID0gbm9ybWFsaXplcihib2R5Py5lbWFpbCk7XG4gICAgY29uc3QgZGVmYXVsdFVzZXIgPSB7IGlkOiBjcnlwdG8ucmFuZG9tVVVJRCgpLCBlbWFpbCwgZW1haWxWZXJpZmllZDogbnVsbCB9O1xuICAgIGNvbnN0IHVzZXIgPSAoYXdhaXQgYWRhcHRlci5nZXRVc2VyQnlFbWFpbChlbWFpbCkpID8/IGRlZmF1bHRVc2VyO1xuICAgIGNvbnN0IGFjY291bnQgPSB7XG4gICAgICAgIHByb3ZpZGVyQWNjb3VudElkOiBlbWFpbCxcbiAgICAgICAgdXNlcklkOiB1c2VyLmlkLFxuICAgICAgICB0eXBlOiBcImVtYWlsXCIsXG4gICAgICAgIHByb3ZpZGVyOiBwcm92aWRlci5pZCxcbiAgICB9O1xuICAgIGxldCBhdXRob3JpemVkO1xuICAgIHRyeSB7XG4gICAgICAgIGF1dGhvcml6ZWQgPSBhd2FpdCBjYWxsYmFja3Muc2lnbkluKHtcbiAgICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgICBhY2NvdW50LFxuICAgICAgICAgICAgZW1haWw6IHsgdmVyaWZpY2F0aW9uUmVxdWVzdDogdHJ1ZSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEF1dGhvcml6ZWRDYWxsYmFja0Vycm9yKGUpO1xuICAgIH1cbiAgICBpZiAoIWF1dGhvcml6ZWQpXG4gICAgICAgIHRocm93IG5ldyBBdXRob3JpemVkQ2FsbGJhY2tFcnJvcihcIkFjY2Vzc0RlbmllZFwiKTtcbiAgICBpZiAodHlwZW9mIGF1dGhvcml6ZWQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlZGlyZWN0OiBhd2FpdCBjYWxsYmFja3MucmVkaXJlY3Qoe1xuICAgICAgICAgICAgICAgIHVybDogYXV0aG9yaXplZCxcbiAgICAgICAgICAgICAgICBiYXNlVXJsOiBvcHRpb25zLnVybC5vcmlnaW4sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgeyBjYWxsYmFja1VybCwgdGhlbWUgfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgdG9rZW4gPSAoYXdhaXQgcHJvdmlkZXIuZ2VuZXJhdGVWZXJpZmljYXRpb25Ub2tlbj8uKCkpID8/IHJhbmRvbVN0cmluZygzMik7XG4gICAgY29uc3QgT05FX0RBWV9JTl9TRUNPTkRTID0gODY0MDA7XG4gICAgY29uc3QgZXhwaXJlcyA9IG5ldyBEYXRlKERhdGUubm93KCkgKyAocHJvdmlkZXIubWF4QWdlID8/IE9ORV9EQVlfSU5fU0VDT05EUykgKiAxMDAwKTtcbiAgICBjb25zdCBzZWNyZXQgPSBwcm92aWRlci5zZWNyZXQgPz8gb3B0aW9ucy5zZWNyZXQ7XG4gICAgY29uc3QgYmFzZVVybCA9IG5ldyBVUkwob3B0aW9ucy5iYXNlUGF0aCwgb3B0aW9ucy51cmwub3JpZ2luKTtcbiAgICBjb25zdCBzZW5kUmVxdWVzdCA9IHByb3ZpZGVyLnNlbmRWZXJpZmljYXRpb25SZXF1ZXN0KHtcbiAgICAgICAgaWRlbnRpZmllcjogZW1haWwsXG4gICAgICAgIHRva2VuLFxuICAgICAgICBleHBpcmVzLFxuICAgICAgICB1cmw6IGAke2Jhc2VVcmx9L2NhbGxiYWNrLyR7cHJvdmlkZXIuaWR9PyR7bmV3IFVSTFNlYXJjaFBhcmFtcyh7XG4gICAgICAgICAgICBjYWxsYmFja1VybCxcbiAgICAgICAgICAgIHRva2VuLFxuICAgICAgICAgICAgZW1haWwsXG4gICAgICAgIH0pfWAsXG4gICAgICAgIHByb3ZpZGVyLFxuICAgICAgICB0aGVtZSxcbiAgICAgICAgcmVxdWVzdDogdG9SZXF1ZXN0KHJlcXVlc3QpLFxuICAgIH0pO1xuICAgIGNvbnN0IGNyZWF0ZVRva2VuID0gYWRhcHRlci5jcmVhdGVWZXJpZmljYXRpb25Ub2tlbj8uKHtcbiAgICAgICAgaWRlbnRpZmllcjogZW1haWwsXG4gICAgICAgIHRva2VuOiBhd2FpdCBjcmVhdGVIYXNoKGAke3Rva2VufSR7c2VjcmV0fWApLFxuICAgICAgICBleHBpcmVzLFxuICAgIH0pO1xuICAgIGF3YWl0IFByb21pc2UuYWxsKFtzZW5kUmVxdWVzdCwgY3JlYXRlVG9rZW5dKTtcbiAgICByZXR1cm4ge1xuICAgICAgICByZWRpcmVjdDogYCR7YmFzZVVybH0vdmVyaWZ5LXJlcXVlc3Q/JHtuZXcgVVJMU2VhcmNoUGFyYW1zKHtcbiAgICAgICAgICAgIHByb3ZpZGVyOiBwcm92aWRlci5pZCxcbiAgICAgICAgICAgIHR5cGU6IHByb3ZpZGVyLnR5cGUsXG4gICAgICAgIH0pfWAsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHROb3JtYWxpemVyKGVtYWlsKSB7XG4gICAgaWYgKCFlbWFpbClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBlbWFpbCBmcm9tIHJlcXVlc3QgYm9keS5cIik7XG4gICAgLy8gR2V0IHRoZSBmaXJzdCB0d28gZWxlbWVudHMgb25seSxcbiAgICAvLyBzZXBhcmF0ZWQgYnkgYEBgIGZyb20gdXNlciBpbnB1dC5cbiAgICBsZXQgW2xvY2FsLCBkb21haW5dID0gZW1haWwudG9Mb3dlckNhc2UoKS50cmltKCkuc3BsaXQoXCJAXCIpO1xuICAgIC8vIFRoZSBwYXJ0IGJlZm9yZSBcIkBcIiBjYW4gY29udGFpbiBhIFwiLFwiXG4gICAgLy8gYnV0IHdlIHJlbW92ZSBpdCBvbiB0aGUgZG9tYWluIHBhcnRcbiAgICBkb21haW4gPSBkb21haW4uc3BsaXQoXCIsXCIpWzBdO1xuICAgIHJldHVybiBgJHtsb2NhbH1AJHtkb21haW59YDtcbn1cbiJdLCJuYW1lcyI6WyJjcmVhdGVIYXNoIiwicmFuZG9tU3RyaW5nIiwidG9SZXF1ZXN0IiwiQXV0aG9yaXplZENhbGxiYWNrRXJyb3IiLCJzZW5kVG9rZW4iLCJyZXF1ZXN0Iiwib3B0aW9ucyIsImJvZHkiLCJwcm92aWRlciIsImNhbGxiYWNrcyIsImFkYXB0ZXIiLCJub3JtYWxpemVyIiwibm9ybWFsaXplSWRlbnRpZmllciIsImRlZmF1bHROb3JtYWxpemVyIiwiZW1haWwiLCJkZWZhdWx0VXNlciIsImlkIiwiY3J5cHRvIiwicmFuZG9tVVVJRCIsImVtYWlsVmVyaWZpZWQiLCJ1c2VyIiwiZ2V0VXNlckJ5RW1haWwiLCJhY2NvdW50IiwicHJvdmlkZXJBY2NvdW50SWQiLCJ1c2VySWQiLCJ0eXBlIiwiYXV0aG9yaXplZCIsInNpZ25JbiIsInZlcmlmaWNhdGlvblJlcXVlc3QiLCJlIiwicmVkaXJlY3QiLCJ1cmwiLCJiYXNlVXJsIiwib3JpZ2luIiwiY2FsbGJhY2tVcmwiLCJ0aGVtZSIsInRva2VuIiwiZ2VuZXJhdGVWZXJpZmljYXRpb25Ub2tlbiIsIk9ORV9EQVlfSU5fU0VDT05EUyIsImV4cGlyZXMiLCJEYXRlIiwibm93IiwibWF4QWdlIiwic2VjcmV0IiwiVVJMIiwiYmFzZVBhdGgiLCJzZW5kUmVxdWVzdCIsInNlbmRWZXJpZmljYXRpb25SZXF1ZXN0IiwiaWRlbnRpZmllciIsIlVSTFNlYXJjaFBhcmFtcyIsImNyZWF0ZVRva2VuIiwiY3JlYXRlVmVyaWZpY2F0aW9uVG9rZW4iLCJQcm9taXNlIiwiYWxsIiwiRXJyb3IiLCJsb2NhbCIsImRvbWFpbiIsInRvTG93ZXJDYXNlIiwidHJpbSIsInNwbGl0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/lib/actions/signin/send-token.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/lib/actions/signout.js":
/*!********************************************************!*\
  !*** ./node_modules/@auth/core/lib/actions/signout.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   signOut: () => (/* binding */ signOut)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../errors.js */ \"(action-browser)/./node_modules/@auth/core/errors.js\");\n\n/**\n * Destroys the session.\n * If the session strategy is database,\n * The session is also deleted from the database.\n * In any case, the session cookie is cleared and\n * {@link EventCallbacks.signOut} is emitted.\n */ async function signOut(cookies, sessionStore, options) {\n    const { jwt, events, callbackUrl: redirect, logger, session } = options;\n    const sessionToken = sessionStore.value;\n    if (!sessionToken) return {\n        redirect,\n        cookies\n    };\n    try {\n        if (session.strategy === \"jwt\") {\n            const salt = options.cookies.sessionToken.name;\n            const token = await jwt.decode({\n                ...jwt,\n                token: sessionToken,\n                salt\n            });\n            await events.signOut?.({\n                token\n            });\n        } else {\n            const session = await options.adapter?.deleteSession(sessionToken);\n            await events.signOut?.({\n                session\n            });\n        }\n    } catch (e) {\n        logger.error(new _errors_js__WEBPACK_IMPORTED_MODULE_0__.SignOutError(e));\n    }\n    cookies.push(...sessionStore.clean());\n    return {\n        redirect,\n        cookies\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi9hY3Rpb25zL3NpZ25vdXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBK0M7QUFDL0M7Ozs7OztDQU1DLEdBQ00sZUFBZUMsUUFBUUMsT0FBTyxFQUFFQyxZQUFZLEVBQUVDLE9BQU87SUFDeEQsTUFBTSxFQUFFQyxHQUFHLEVBQUVDLE1BQU0sRUFBRUMsYUFBYUMsUUFBUSxFQUFFQyxNQUFNLEVBQUVDLE9BQU8sRUFBRSxHQUFHTjtJQUNoRSxNQUFNTyxlQUFlUixhQUFhUyxLQUFLO0lBQ3ZDLElBQUksQ0FBQ0QsY0FDRCxPQUFPO1FBQUVIO1FBQVVOO0lBQVE7SUFDL0IsSUFBSTtRQUNBLElBQUlRLFFBQVFHLFFBQVEsS0FBSyxPQUFPO1lBQzVCLE1BQU1DLE9BQU9WLFFBQVFGLE9BQU8sQ0FBQ1MsWUFBWSxDQUFDSSxJQUFJO1lBQzlDLE1BQU1DLFFBQVEsTUFBTVgsSUFBSVksTUFBTSxDQUFDO2dCQUFFLEdBQUdaLEdBQUc7Z0JBQUVXLE9BQU9MO2dCQUFjRztZQUFLO1lBQ25FLE1BQU1SLE9BQU9MLE9BQU8sR0FBRztnQkFBRWU7WUFBTTtRQUNuQyxPQUNLO1lBQ0QsTUFBTU4sVUFBVSxNQUFNTixRQUFRYyxPQUFPLEVBQUVDLGNBQWNSO1lBQ3JELE1BQU1MLE9BQU9MLE9BQU8sR0FBRztnQkFBRVM7WUFBUTtRQUNyQztJQUNKLEVBQ0EsT0FBT1UsR0FBRztRQUNOWCxPQUFPWSxLQUFLLENBQUMsSUFBSXJCLG9EQUFZQSxDQUFDb0I7SUFDbEM7SUFDQWxCLFFBQVFvQixJQUFJLElBQUluQixhQUFhb0IsS0FBSztJQUNsQyxPQUFPO1FBQUVmO1FBQVVOO0lBQVE7QUFDL0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LXJ4Ly4vbm9kZV9tb2R1bGVzL0BhdXRoL2NvcmUvbGliL2FjdGlvbnMvc2lnbm91dC5qcz84ZWZjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNpZ25PdXRFcnJvciB9IGZyb20gXCIuLi8uLi9lcnJvcnMuanNcIjtcbi8qKlxuICogRGVzdHJveXMgdGhlIHNlc3Npb24uXG4gKiBJZiB0aGUgc2Vzc2lvbiBzdHJhdGVneSBpcyBkYXRhYmFzZSxcbiAqIFRoZSBzZXNzaW9uIGlzIGFsc28gZGVsZXRlZCBmcm9tIHRoZSBkYXRhYmFzZS5cbiAqIEluIGFueSBjYXNlLCB0aGUgc2Vzc2lvbiBjb29raWUgaXMgY2xlYXJlZCBhbmRcbiAqIHtAbGluayBFdmVudENhbGxiYWNrcy5zaWduT3V0fSBpcyBlbWl0dGVkLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2lnbk91dChjb29raWVzLCBzZXNzaW9uU3RvcmUsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IGp3dCwgZXZlbnRzLCBjYWxsYmFja1VybDogcmVkaXJlY3QsIGxvZ2dlciwgc2Vzc2lvbiB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBzZXNzaW9uVG9rZW4gPSBzZXNzaW9uU3RvcmUudmFsdWU7XG4gICAgaWYgKCFzZXNzaW9uVG9rZW4pXG4gICAgICAgIHJldHVybiB7IHJlZGlyZWN0LCBjb29raWVzIH07XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHNlc3Npb24uc3RyYXRlZ3kgPT09IFwiand0XCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHNhbHQgPSBvcHRpb25zLmNvb2tpZXMuc2Vzc2lvblRva2VuLm5hbWU7XG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IGF3YWl0IGp3dC5kZWNvZGUoeyAuLi5qd3QsIHRva2VuOiBzZXNzaW9uVG9rZW4sIHNhbHQgfSk7XG4gICAgICAgICAgICBhd2FpdCBldmVudHMuc2lnbk91dD8uKHsgdG9rZW4gfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgb3B0aW9ucy5hZGFwdGVyPy5kZWxldGVTZXNzaW9uKHNlc3Npb25Ub2tlbik7XG4gICAgICAgICAgICBhd2FpdCBldmVudHMuc2lnbk91dD8uKHsgc2Vzc2lvbiB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBsb2dnZXIuZXJyb3IobmV3IFNpZ25PdXRFcnJvcihlKSk7XG4gICAgfVxuICAgIGNvb2tpZXMucHVzaCguLi5zZXNzaW9uU3RvcmUuY2xlYW4oKSk7XG4gICAgcmV0dXJuIHsgcmVkaXJlY3QsIGNvb2tpZXMgfTtcbn1cbiJdLCJuYW1lcyI6WyJTaWduT3V0RXJyb3IiLCJzaWduT3V0IiwiY29va2llcyIsInNlc3Npb25TdG9yZSIsIm9wdGlvbnMiLCJqd3QiLCJldmVudHMiLCJjYWxsYmFja1VybCIsInJlZGlyZWN0IiwibG9nZ2VyIiwic2Vzc2lvbiIsInNlc3Npb25Ub2tlbiIsInZhbHVlIiwic3RyYXRlZ3kiLCJzYWx0IiwibmFtZSIsInRva2VuIiwiZGVjb2RlIiwiYWRhcHRlciIsImRlbGV0ZVNlc3Npb24iLCJlIiwiZXJyb3IiLCJwdXNoIiwiY2xlYW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/lib/actions/signout.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/lib/actions/signout.js":
/*!********************************************************!*\
  !*** ./node_modules/@auth/core/lib/actions/signout.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   signOut: () => (/* binding */ signOut)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../errors.js */ \"(rsc)/./node_modules/@auth/core/errors.js\");\n\n/**\n * Destroys the session.\n * If the session strategy is database,\n * The session is also deleted from the database.\n * In any case, the session cookie is cleared and\n * {@link EventCallbacks.signOut} is emitted.\n */ async function signOut(cookies, sessionStore, options) {\n    const { jwt, events, callbackUrl: redirect, logger, session } = options;\n    const sessionToken = sessionStore.value;\n    if (!sessionToken) return {\n        redirect,\n        cookies\n    };\n    try {\n        if (session.strategy === \"jwt\") {\n            const salt = options.cookies.sessionToken.name;\n            const token = await jwt.decode({\n                ...jwt,\n                token: sessionToken,\n                salt\n            });\n            await events.signOut?.({\n                token\n            });\n        } else {\n            const session = await options.adapter?.deleteSession(sessionToken);\n            await events.signOut?.({\n                session\n            });\n        }\n    } catch (e) {\n        logger.error(new _errors_js__WEBPACK_IMPORTED_MODULE_0__.SignOutError(e));\n    }\n    cookies.push(...sessionStore.clean());\n    return {\n        redirect,\n        cookies\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvYWN0aW9ucy9zaWdub3V0LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQStDO0FBQy9DOzs7Ozs7Q0FNQyxHQUNNLGVBQWVDLFFBQVFDLE9BQU8sRUFBRUMsWUFBWSxFQUFFQyxPQUFPO0lBQ3hELE1BQU0sRUFBRUMsR0FBRyxFQUFFQyxNQUFNLEVBQUVDLGFBQWFDLFFBQVEsRUFBRUMsTUFBTSxFQUFFQyxPQUFPLEVBQUUsR0FBR047SUFDaEUsTUFBTU8sZUFBZVIsYUFBYVMsS0FBSztJQUN2QyxJQUFJLENBQUNELGNBQ0QsT0FBTztRQUFFSDtRQUFVTjtJQUFRO0lBQy9CLElBQUk7UUFDQSxJQUFJUSxRQUFRRyxRQUFRLEtBQUssT0FBTztZQUM1QixNQUFNQyxPQUFPVixRQUFRRixPQUFPLENBQUNTLFlBQVksQ0FBQ0ksSUFBSTtZQUM5QyxNQUFNQyxRQUFRLE1BQU1YLElBQUlZLE1BQU0sQ0FBQztnQkFBRSxHQUFHWixHQUFHO2dCQUFFVyxPQUFPTDtnQkFBY0c7WUFBSztZQUNuRSxNQUFNUixPQUFPTCxPQUFPLEdBQUc7Z0JBQUVlO1lBQU07UUFDbkMsT0FDSztZQUNELE1BQU1OLFVBQVUsTUFBTU4sUUFBUWMsT0FBTyxFQUFFQyxjQUFjUjtZQUNyRCxNQUFNTCxPQUFPTCxPQUFPLEdBQUc7Z0JBQUVTO1lBQVE7UUFDckM7SUFDSixFQUNBLE9BQU9VLEdBQUc7UUFDTlgsT0FBT1ksS0FBSyxDQUFDLElBQUlyQixvREFBWUEsQ0FBQ29CO0lBQ2xDO0lBQ0FsQixRQUFRb0IsSUFBSSxJQUFJbkIsYUFBYW9CLEtBQUs7SUFDbEMsT0FBTztRQUFFZjtRQUFVTjtJQUFRO0FBQy9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC1yeC8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi9hY3Rpb25zL3NpZ25vdXQuanM/OGVmYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTaWduT3V0RXJyb3IgfSBmcm9tIFwiLi4vLi4vZXJyb3JzLmpzXCI7XG4vKipcbiAqIERlc3Ryb3lzIHRoZSBzZXNzaW9uLlxuICogSWYgdGhlIHNlc3Npb24gc3RyYXRlZ3kgaXMgZGF0YWJhc2UsXG4gKiBUaGUgc2Vzc2lvbiBpcyBhbHNvIGRlbGV0ZWQgZnJvbSB0aGUgZGF0YWJhc2UuXG4gKiBJbiBhbnkgY2FzZSwgdGhlIHNlc3Npb24gY29va2llIGlzIGNsZWFyZWQgYW5kXG4gKiB7QGxpbmsgRXZlbnRDYWxsYmFja3Muc2lnbk91dH0gaXMgZW1pdHRlZC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25PdXQoY29va2llcywgc2Vzc2lvblN0b3JlLCBvcHRpb25zKSB7XG4gICAgY29uc3QgeyBqd3QsIGV2ZW50cywgY2FsbGJhY2tVcmw6IHJlZGlyZWN0LCBsb2dnZXIsIHNlc3Npb24gfSA9IG9wdGlvbnM7XG4gICAgY29uc3Qgc2Vzc2lvblRva2VuID0gc2Vzc2lvblN0b3JlLnZhbHVlO1xuICAgIGlmICghc2Vzc2lvblRva2VuKVxuICAgICAgICByZXR1cm4geyByZWRpcmVjdCwgY29va2llcyB9O1xuICAgIHRyeSB7XG4gICAgICAgIGlmIChzZXNzaW9uLnN0cmF0ZWd5ID09PSBcImp3dFwiKSB7XG4gICAgICAgICAgICBjb25zdCBzYWx0ID0gb3B0aW9ucy5jb29raWVzLnNlc3Npb25Ub2tlbi5uYW1lO1xuICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCBqd3QuZGVjb2RlKHsgLi4uand0LCB0b2tlbjogc2Vzc2lvblRva2VuLCBzYWx0IH0pO1xuICAgICAgICAgICAgYXdhaXQgZXZlbnRzLnNpZ25PdXQ/Lih7IHRva2VuIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IG9wdGlvbnMuYWRhcHRlcj8uZGVsZXRlU2Vzc2lvbihzZXNzaW9uVG9rZW4pO1xuICAgICAgICAgICAgYXdhaXQgZXZlbnRzLnNpZ25PdXQ/Lih7IHNlc3Npb24gfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgbG9nZ2VyLmVycm9yKG5ldyBTaWduT3V0RXJyb3IoZSkpO1xuICAgIH1cbiAgICBjb29raWVzLnB1c2goLi4uc2Vzc2lvblN0b3JlLmNsZWFuKCkpO1xuICAgIHJldHVybiB7IHJlZGlyZWN0LCBjb29raWVzIH07XG59XG4iXSwibmFtZXMiOlsiU2lnbk91dEVycm9yIiwic2lnbk91dCIsImNvb2tpZXMiLCJzZXNzaW9uU3RvcmUiLCJvcHRpb25zIiwiand0IiwiZXZlbnRzIiwiY2FsbGJhY2tVcmwiLCJyZWRpcmVjdCIsImxvZ2dlciIsInNlc3Npb24iLCJzZXNzaW9uVG9rZW4iLCJ2YWx1ZSIsInN0cmF0ZWd5Iiwic2FsdCIsIm5hbWUiLCJ0b2tlbiIsImRlY29kZSIsImFkYXB0ZXIiLCJkZWxldGVTZXNzaW9uIiwiZSIsImVycm9yIiwicHVzaCIsImNsZWFuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/lib/actions/signout.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/lib/actions/webauthn-options.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@auth/core/lib/actions/webauthn-options.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   webAuthnOptions: () => (/* binding */ webAuthnOptions)\n/* harmony export */ });\n/* harmony import */ var _utils_session_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/session.js */ \"(action-browser)/./node_modules/@auth/core/lib/utils/session.js\");\n/* harmony import */ var _utils_webauthn_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/webauthn-utils.js */ \"(action-browser)/./node_modules/@auth/core/lib/utils/webauthn-utils.js\");\n\n\n/**\n * Returns authentication or registration options for a WebAuthn flow\n * depending on the parameters provided.\n */ async function webAuthnOptions(request, options, sessionStore, cookies) {\n    // Return an error if the adapter is missing or if the provider\n    // is not a webauthn provider.\n    const narrowOptions = (0,_utils_webauthn_utils_js__WEBPACK_IMPORTED_MODULE_1__.assertInternalOptionsWebAuthn)(options);\n    const { provider } = narrowOptions;\n    // Extract the action from the query parameters\n    const { action } = request.query ?? {};\n    // Action must be either \"register\", \"authenticate\", or undefined\n    if (action !== \"register\" && action !== \"authenticate\" && typeof action !== \"undefined\") {\n        return {\n            status: 400,\n            body: {\n                error: \"Invalid action\"\n            },\n            cookies,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        };\n    }\n    // Get the user info from the session\n    const sessionUser = await (0,_utils_session_js__WEBPACK_IMPORTED_MODULE_0__.getLoggedInUser)(options, sessionStore);\n    // Extract user info from request\n    // If session user exists, we don't need to call getUserInfo\n    const getUserInfoResponse = sessionUser ? {\n        user: sessionUser,\n        exists: true\n    } : await provider.getUserInfo(options, request);\n    const userInfo = getUserInfoResponse?.user;\n    // Make a decision on what kind of webauthn options to return\n    const decision = (0,_utils_webauthn_utils_js__WEBPACK_IMPORTED_MODULE_1__.inferWebAuthnOptions)(action, !!sessionUser, getUserInfoResponse);\n    switch(decision){\n        case \"authenticate\":\n            return (0,_utils_webauthn_utils_js__WEBPACK_IMPORTED_MODULE_1__.getAuthenticationResponse)(narrowOptions, request, userInfo, cookies);\n        case \"register\":\n            if (typeof userInfo?.email === \"string\") {\n                return (0,_utils_webauthn_utils_js__WEBPACK_IMPORTED_MODULE_1__.getRegistrationResponse)(narrowOptions, request, userInfo, cookies);\n            }\n        default:\n            return {\n                status: 400,\n                body: {\n                    error: \"Invalid request\"\n                },\n                cookies,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi9hY3Rpb25zL3dlYmF1dGhuLW9wdGlvbnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXNEO0FBQytGO0FBQ3JKOzs7Q0FHQyxHQUNNLGVBQWVLLGdCQUFnQkMsT0FBTyxFQUFFQyxPQUFPLEVBQUVDLFlBQVksRUFBRUMsT0FBTztJQUN6RSwrREFBK0Q7SUFDL0QsOEJBQThCO0lBQzlCLE1BQU1DLGdCQUFnQlQsdUZBQTZCQSxDQUFDTTtJQUNwRCxNQUFNLEVBQUVJLFFBQVEsRUFBRSxHQUFHRDtJQUNyQiwrQ0FBK0M7SUFDL0MsTUFBTSxFQUFFRSxNQUFNLEVBQUUsR0FBSU4sUUFBUU8sS0FBSyxJQUFJLENBQUM7SUFDdEMsaUVBQWlFO0lBQ2pFLElBQUlELFdBQVcsY0FBY0EsV0FBVyxrQkFBa0IsT0FBT0EsV0FBVyxhQUFhO1FBQ3JGLE9BQU87WUFDSEUsUUFBUTtZQUNSQyxNQUFNO2dCQUFFQyxPQUFPO1lBQWlCO1lBQ2hDUDtZQUNBUSxTQUFTO2dCQUNMLGdCQUFnQjtZQUNwQjtRQUNKO0lBQ0o7SUFDQSxxQ0FBcUM7SUFDckMsTUFBTUMsY0FBYyxNQUFNbEIsa0VBQWVBLENBQUNPLFNBQVNDO0lBQ25ELGlDQUFpQztJQUNqQyw0REFBNEQ7SUFDNUQsTUFBTVcsc0JBQXNCRCxjQUFjO1FBQ3RDRSxNQUFNRjtRQUNORyxRQUFRO0lBQ1osSUFBSSxNQUFNVixTQUFTVyxXQUFXLENBQUNmLFNBQVNEO0lBQ3hDLE1BQU1pQixXQUFXSixxQkFBcUJDO0lBQ3RDLDZEQUE2RDtJQUM3RCxNQUFNSSxXQUFXdEIsOEVBQW9CQSxDQUFDVSxRQUFRLENBQUMsQ0FBQ00sYUFBYUM7SUFDN0QsT0FBUUs7UUFDSixLQUFLO1lBQ0QsT0FBT3JCLG1GQUF5QkEsQ0FBQ08sZUFBZUosU0FBU2lCLFVBQVVkO1FBQ3ZFLEtBQUs7WUFDRCxJQUFJLE9BQU9jLFVBQVVFLFVBQVUsVUFBVTtnQkFDckMsT0FBT3JCLGlGQUF1QkEsQ0FBQ00sZUFBZUosU0FBU2lCLFVBQVVkO1lBQ3JFO1FBQ0o7WUFDSSxPQUFPO2dCQUNISyxRQUFRO2dCQUNSQyxNQUFNO29CQUFFQyxPQUFPO2dCQUFrQjtnQkFDakNQO2dCQUNBUSxTQUFTO29CQUNMLGdCQUFnQjtnQkFDcEI7WUFDSjtJQUNSO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LXJ4Ly4vbm9kZV9tb2R1bGVzL0BhdXRoL2NvcmUvbGliL2FjdGlvbnMvd2ViYXV0aG4tb3B0aW9ucy5qcz9kODAzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldExvZ2dlZEluVXNlciB9IGZyb20gXCIuLi91dGlscy9zZXNzaW9uLmpzXCI7XG5pbXBvcnQgeyBhc3NlcnRJbnRlcm5hbE9wdGlvbnNXZWJBdXRobiwgaW5mZXJXZWJBdXRobk9wdGlvbnMsIGdldEF1dGhlbnRpY2F0aW9uUmVzcG9uc2UsIGdldFJlZ2lzdHJhdGlvblJlc3BvbnNlIH0gZnJvbSBcIi4uL3V0aWxzL3dlYmF1dGhuLXV0aWxzLmpzXCI7XG4vKipcbiAqIFJldHVybnMgYXV0aGVudGljYXRpb24gb3IgcmVnaXN0cmF0aW9uIG9wdGlvbnMgZm9yIGEgV2ViQXV0aG4gZmxvd1xuICogZGVwZW5kaW5nIG9uIHRoZSBwYXJhbWV0ZXJzIHByb3ZpZGVkLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gd2ViQXV0aG5PcHRpb25zKHJlcXVlc3QsIG9wdGlvbnMsIHNlc3Npb25TdG9yZSwgY29va2llcykge1xuICAgIC8vIFJldHVybiBhbiBlcnJvciBpZiB0aGUgYWRhcHRlciBpcyBtaXNzaW5nIG9yIGlmIHRoZSBwcm92aWRlclxuICAgIC8vIGlzIG5vdCBhIHdlYmF1dGhuIHByb3ZpZGVyLlxuICAgIGNvbnN0IG5hcnJvd09wdGlvbnMgPSBhc3NlcnRJbnRlcm5hbE9wdGlvbnNXZWJBdXRobihvcHRpb25zKTtcbiAgICBjb25zdCB7IHByb3ZpZGVyIH0gPSBuYXJyb3dPcHRpb25zO1xuICAgIC8vIEV4dHJhY3QgdGhlIGFjdGlvbiBmcm9tIHRoZSBxdWVyeSBwYXJhbWV0ZXJzXG4gICAgY29uc3QgeyBhY3Rpb24gfSA9IChyZXF1ZXN0LnF1ZXJ5ID8/IHt9KTtcbiAgICAvLyBBY3Rpb24gbXVzdCBiZSBlaXRoZXIgXCJyZWdpc3RlclwiLCBcImF1dGhlbnRpY2F0ZVwiLCBvciB1bmRlZmluZWRcbiAgICBpZiAoYWN0aW9uICE9PSBcInJlZ2lzdGVyXCIgJiYgYWN0aW9uICE9PSBcImF1dGhlbnRpY2F0ZVwiICYmIHR5cGVvZiBhY3Rpb24gIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXR1czogNDAwLFxuICAgICAgICAgICAgYm9keTogeyBlcnJvcjogXCJJbnZhbGlkIGFjdGlvblwiIH0sXG4gICAgICAgICAgICBjb29raWVzLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIEdldCB0aGUgdXNlciBpbmZvIGZyb20gdGhlIHNlc3Npb25cbiAgICBjb25zdCBzZXNzaW9uVXNlciA9IGF3YWl0IGdldExvZ2dlZEluVXNlcihvcHRpb25zLCBzZXNzaW9uU3RvcmUpO1xuICAgIC8vIEV4dHJhY3QgdXNlciBpbmZvIGZyb20gcmVxdWVzdFxuICAgIC8vIElmIHNlc3Npb24gdXNlciBleGlzdHMsIHdlIGRvbid0IG5lZWQgdG8gY2FsbCBnZXRVc2VySW5mb1xuICAgIGNvbnN0IGdldFVzZXJJbmZvUmVzcG9uc2UgPSBzZXNzaW9uVXNlciA/IHtcbiAgICAgICAgdXNlcjogc2Vzc2lvblVzZXIsXG4gICAgICAgIGV4aXN0czogdHJ1ZVxuICAgIH0gOiBhd2FpdCBwcm92aWRlci5nZXRVc2VySW5mbyhvcHRpb25zLCByZXF1ZXN0KTtcbiAgICBjb25zdCB1c2VySW5mbyA9IGdldFVzZXJJbmZvUmVzcG9uc2U/LnVzZXI7XG4gICAgLy8gTWFrZSBhIGRlY2lzaW9uIG9uIHdoYXQga2luZCBvZiB3ZWJhdXRobiBvcHRpb25zIHRvIHJldHVyblxuICAgIGNvbnN0IGRlY2lzaW9uID0gaW5mZXJXZWJBdXRobk9wdGlvbnMoYWN0aW9uLCAhIXNlc3Npb25Vc2VyLCBnZXRVc2VySW5mb1Jlc3BvbnNlKTtcbiAgICBzd2l0Y2ggKGRlY2lzaW9uKSB7XG4gICAgICAgIGNhc2UgXCJhdXRoZW50aWNhdGVcIjpcbiAgICAgICAgICAgIHJldHVybiBnZXRBdXRoZW50aWNhdGlvblJlc3BvbnNlKG5hcnJvd09wdGlvbnMsIHJlcXVlc3QsIHVzZXJJbmZvLCBjb29raWVzKTtcbiAgICAgICAgY2FzZSBcInJlZ2lzdGVyXCI6XG4gICAgICAgICAgICBpZiAodHlwZW9mIHVzZXJJbmZvPy5lbWFpbCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRSZWdpc3RyYXRpb25SZXNwb25zZShuYXJyb3dPcHRpb25zLCByZXF1ZXN0LCB1c2VySW5mbywgY29va2llcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXR1czogNDAwLFxuICAgICAgICAgICAgICAgIGJvZHk6IHsgZXJyb3I6IFwiSW52YWxpZCByZXF1ZXN0XCIgfSxcbiAgICAgICAgICAgICAgICBjb29raWVzLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJnZXRMb2dnZWRJblVzZXIiLCJhc3NlcnRJbnRlcm5hbE9wdGlvbnNXZWJBdXRobiIsImluZmVyV2ViQXV0aG5PcHRpb25zIiwiZ2V0QXV0aGVudGljYXRpb25SZXNwb25zZSIsImdldFJlZ2lzdHJhdGlvblJlc3BvbnNlIiwid2ViQXV0aG5PcHRpb25zIiwicmVxdWVzdCIsIm9wdGlvbnMiLCJzZXNzaW9uU3RvcmUiLCJjb29raWVzIiwibmFycm93T3B0aW9ucyIsInByb3ZpZGVyIiwiYWN0aW9uIiwicXVlcnkiLCJzdGF0dXMiLCJib2R5IiwiZXJyb3IiLCJoZWFkZXJzIiwic2Vzc2lvblVzZXIiLCJnZXRVc2VySW5mb1Jlc3BvbnNlIiwidXNlciIsImV4aXN0cyIsImdldFVzZXJJbmZvIiwidXNlckluZm8iLCJkZWNpc2lvbiIsImVtYWlsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/lib/actions/webauthn-options.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/lib/actions/webauthn-options.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@auth/core/lib/actions/webauthn-options.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   webAuthnOptions: () => (/* binding */ webAuthnOptions)\n/* harmony export */ });\n/* harmony import */ var _utils_session_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/session.js */ \"(rsc)/./node_modules/@auth/core/lib/utils/session.js\");\n/* harmony import */ var _utils_webauthn_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/webauthn-utils.js */ \"(rsc)/./node_modules/@auth/core/lib/utils/webauthn-utils.js\");\n\n\n/**\n * Returns authentication or registration options for a WebAuthn flow\n * depending on the parameters provided.\n */ async function webAuthnOptions(request, options, sessionStore, cookies) {\n    // Return an error if the adapter is missing or if the provider\n    // is not a webauthn provider.\n    const narrowOptions = (0,_utils_webauthn_utils_js__WEBPACK_IMPORTED_MODULE_1__.assertInternalOptionsWebAuthn)(options);\n    const { provider } = narrowOptions;\n    // Extract the action from the query parameters\n    const { action } = request.query ?? {};\n    // Action must be either \"register\", \"authenticate\", or undefined\n    if (action !== \"register\" && action !== \"authenticate\" && typeof action !== \"undefined\") {\n        return {\n            status: 400,\n            body: {\n                error: \"Invalid action\"\n            },\n            cookies,\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        };\n    }\n    // Get the user info from the session\n    const sessionUser = await (0,_utils_session_js__WEBPACK_IMPORTED_MODULE_0__.getLoggedInUser)(options, sessionStore);\n    // Extract user info from request\n    // If session user exists, we don't need to call getUserInfo\n    const getUserInfoResponse = sessionUser ? {\n        user: sessionUser,\n        exists: true\n    } : await provider.getUserInfo(options, request);\n    const userInfo = getUserInfoResponse?.user;\n    // Make a decision on what kind of webauthn options to return\n    const decision = (0,_utils_webauthn_utils_js__WEBPACK_IMPORTED_MODULE_1__.inferWebAuthnOptions)(action, !!sessionUser, getUserInfoResponse);\n    switch(decision){\n        case \"authenticate\":\n            return (0,_utils_webauthn_utils_js__WEBPACK_IMPORTED_MODULE_1__.getAuthenticationResponse)(narrowOptions, request, userInfo, cookies);\n        case \"register\":\n            if (typeof userInfo?.email === \"string\") {\n                return (0,_utils_webauthn_utils_js__WEBPACK_IMPORTED_MODULE_1__.getRegistrationResponse)(narrowOptions, request, userInfo, cookies);\n            }\n        default:\n            return {\n                status: 400,\n                body: {\n                    error: \"Invalid request\"\n                },\n                cookies,\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvYWN0aW9ucy93ZWJhdXRobi1vcHRpb25zLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFzRDtBQUMrRjtBQUNySjs7O0NBR0MsR0FDTSxlQUFlSyxnQkFBZ0JDLE9BQU8sRUFBRUMsT0FBTyxFQUFFQyxZQUFZLEVBQUVDLE9BQU87SUFDekUsK0RBQStEO0lBQy9ELDhCQUE4QjtJQUM5QixNQUFNQyxnQkFBZ0JULHVGQUE2QkEsQ0FBQ007SUFDcEQsTUFBTSxFQUFFSSxRQUFRLEVBQUUsR0FBR0Q7SUFDckIsK0NBQStDO0lBQy9DLE1BQU0sRUFBRUUsTUFBTSxFQUFFLEdBQUlOLFFBQVFPLEtBQUssSUFBSSxDQUFDO0lBQ3RDLGlFQUFpRTtJQUNqRSxJQUFJRCxXQUFXLGNBQWNBLFdBQVcsa0JBQWtCLE9BQU9BLFdBQVcsYUFBYTtRQUNyRixPQUFPO1lBQ0hFLFFBQVE7WUFDUkMsTUFBTTtnQkFBRUMsT0FBTztZQUFpQjtZQUNoQ1A7WUFDQVEsU0FBUztnQkFDTCxnQkFBZ0I7WUFDcEI7UUFDSjtJQUNKO0lBQ0EscUNBQXFDO0lBQ3JDLE1BQU1DLGNBQWMsTUFBTWxCLGtFQUFlQSxDQUFDTyxTQUFTQztJQUNuRCxpQ0FBaUM7SUFDakMsNERBQTREO0lBQzVELE1BQU1XLHNCQUFzQkQsY0FBYztRQUN0Q0UsTUFBTUY7UUFDTkcsUUFBUTtJQUNaLElBQUksTUFBTVYsU0FBU1csV0FBVyxDQUFDZixTQUFTRDtJQUN4QyxNQUFNaUIsV0FBV0oscUJBQXFCQztJQUN0Qyw2REFBNkQ7SUFDN0QsTUFBTUksV0FBV3RCLDhFQUFvQkEsQ0FBQ1UsUUFBUSxDQUFDLENBQUNNLGFBQWFDO0lBQzdELE9BQVFLO1FBQ0osS0FBSztZQUNELE9BQU9yQixtRkFBeUJBLENBQUNPLGVBQWVKLFNBQVNpQixVQUFVZDtRQUN2RSxLQUFLO1lBQ0QsSUFBSSxPQUFPYyxVQUFVRSxVQUFVLFVBQVU7Z0JBQ3JDLE9BQU9yQixpRkFBdUJBLENBQUNNLGVBQWVKLFNBQVNpQixVQUFVZDtZQUNyRTtRQUNKO1lBQ0ksT0FBTztnQkFDSEssUUFBUTtnQkFDUkMsTUFBTTtvQkFBRUMsT0FBTztnQkFBa0I7Z0JBQ2pDUDtnQkFDQVEsU0FBUztvQkFDTCxnQkFBZ0I7Z0JBQ3BCO1lBQ0o7SUFDUjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC1yeC8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi9hY3Rpb25zL3dlYmF1dGhuLW9wdGlvbnMuanM/ZDgwMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRMb2dnZWRJblVzZXIgfSBmcm9tIFwiLi4vdXRpbHMvc2Vzc2lvbi5qc1wiO1xuaW1wb3J0IHsgYXNzZXJ0SW50ZXJuYWxPcHRpb25zV2ViQXV0aG4sIGluZmVyV2ViQXV0aG5PcHRpb25zLCBnZXRBdXRoZW50aWNhdGlvblJlc3BvbnNlLCBnZXRSZWdpc3RyYXRpb25SZXNwb25zZSB9IGZyb20gXCIuLi91dGlscy93ZWJhdXRobi11dGlscy5qc1wiO1xuLyoqXG4gKiBSZXR1cm5zIGF1dGhlbnRpY2F0aW9uIG9yIHJlZ2lzdHJhdGlvbiBvcHRpb25zIGZvciBhIFdlYkF1dGhuIGZsb3dcbiAqIGRlcGVuZGluZyBvbiB0aGUgcGFyYW1ldGVycyBwcm92aWRlZC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHdlYkF1dGhuT3B0aW9ucyhyZXF1ZXN0LCBvcHRpb25zLCBzZXNzaW9uU3RvcmUsIGNvb2tpZXMpIHtcbiAgICAvLyBSZXR1cm4gYW4gZXJyb3IgaWYgdGhlIGFkYXB0ZXIgaXMgbWlzc2luZyBvciBpZiB0aGUgcHJvdmlkZXJcbiAgICAvLyBpcyBub3QgYSB3ZWJhdXRobiBwcm92aWRlci5cbiAgICBjb25zdCBuYXJyb3dPcHRpb25zID0gYXNzZXJ0SW50ZXJuYWxPcHRpb25zV2ViQXV0aG4ob3B0aW9ucyk7XG4gICAgY29uc3QgeyBwcm92aWRlciB9ID0gbmFycm93T3B0aW9ucztcbiAgICAvLyBFeHRyYWN0IHRoZSBhY3Rpb24gZnJvbSB0aGUgcXVlcnkgcGFyYW1ldGVyc1xuICAgIGNvbnN0IHsgYWN0aW9uIH0gPSAocmVxdWVzdC5xdWVyeSA/PyB7fSk7XG4gICAgLy8gQWN0aW9uIG11c3QgYmUgZWl0aGVyIFwicmVnaXN0ZXJcIiwgXCJhdXRoZW50aWNhdGVcIiwgb3IgdW5kZWZpbmVkXG4gICAgaWYgKGFjdGlvbiAhPT0gXCJyZWdpc3RlclwiICYmIGFjdGlvbiAhPT0gXCJhdXRoZW50aWNhdGVcIiAmJiB0eXBlb2YgYWN0aW9uICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGF0dXM6IDQwMCxcbiAgICAgICAgICAgIGJvZHk6IHsgZXJyb3I6IFwiSW52YWxpZCBhY3Rpb25cIiB9LFxuICAgICAgICAgICAgY29va2llcyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBHZXQgdGhlIHVzZXIgaW5mbyBmcm9tIHRoZSBzZXNzaW9uXG4gICAgY29uc3Qgc2Vzc2lvblVzZXIgPSBhd2FpdCBnZXRMb2dnZWRJblVzZXIob3B0aW9ucywgc2Vzc2lvblN0b3JlKTtcbiAgICAvLyBFeHRyYWN0IHVzZXIgaW5mbyBmcm9tIHJlcXVlc3RcbiAgICAvLyBJZiBzZXNzaW9uIHVzZXIgZXhpc3RzLCB3ZSBkb24ndCBuZWVkIHRvIGNhbGwgZ2V0VXNlckluZm9cbiAgICBjb25zdCBnZXRVc2VySW5mb1Jlc3BvbnNlID0gc2Vzc2lvblVzZXIgPyB7XG4gICAgICAgIHVzZXI6IHNlc3Npb25Vc2VyLFxuICAgICAgICBleGlzdHM6IHRydWVcbiAgICB9IDogYXdhaXQgcHJvdmlkZXIuZ2V0VXNlckluZm8ob3B0aW9ucywgcmVxdWVzdCk7XG4gICAgY29uc3QgdXNlckluZm8gPSBnZXRVc2VySW5mb1Jlc3BvbnNlPy51c2VyO1xuICAgIC8vIE1ha2UgYSBkZWNpc2lvbiBvbiB3aGF0IGtpbmQgb2Ygd2ViYXV0aG4gb3B0aW9ucyB0byByZXR1cm5cbiAgICBjb25zdCBkZWNpc2lvbiA9IGluZmVyV2ViQXV0aG5PcHRpb25zKGFjdGlvbiwgISFzZXNzaW9uVXNlciwgZ2V0VXNlckluZm9SZXNwb25zZSk7XG4gICAgc3dpdGNoIChkZWNpc2lvbikge1xuICAgICAgICBjYXNlIFwiYXV0aGVudGljYXRlXCI6XG4gICAgICAgICAgICByZXR1cm4gZ2V0QXV0aGVudGljYXRpb25SZXNwb25zZShuYXJyb3dPcHRpb25zLCByZXF1ZXN0LCB1c2VySW5mbywgY29va2llcyk7XG4gICAgICAgIGNhc2UgXCJyZWdpc3RlclwiOlxuICAgICAgICAgICAgaWYgKHR5cGVvZiB1c2VySW5mbz8uZW1haWwgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0UmVnaXN0cmF0aW9uUmVzcG9uc2UobmFycm93T3B0aW9ucywgcmVxdWVzdCwgdXNlckluZm8sIGNvb2tpZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6IDQwMCxcbiAgICAgICAgICAgICAgICBib2R5OiB7IGVycm9yOiBcIkludmFsaWQgcmVxdWVzdFwiIH0sXG4gICAgICAgICAgICAgICAgY29va2llcyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiZ2V0TG9nZ2VkSW5Vc2VyIiwiYXNzZXJ0SW50ZXJuYWxPcHRpb25zV2ViQXV0aG4iLCJpbmZlcldlYkF1dGhuT3B0aW9ucyIsImdldEF1dGhlbnRpY2F0aW9uUmVzcG9uc2UiLCJnZXRSZWdpc3RyYXRpb25SZXNwb25zZSIsIndlYkF1dGhuT3B0aW9ucyIsInJlcXVlc3QiLCJvcHRpb25zIiwic2Vzc2lvblN0b3JlIiwiY29va2llcyIsIm5hcnJvd09wdGlvbnMiLCJwcm92aWRlciIsImFjdGlvbiIsInF1ZXJ5Iiwic3RhdHVzIiwiYm9keSIsImVycm9yIiwiaGVhZGVycyIsInNlc3Npb25Vc2VyIiwiZ2V0VXNlckluZm9SZXNwb25zZSIsInVzZXIiLCJleGlzdHMiLCJnZXRVc2VySW5mbyIsInVzZXJJbmZvIiwiZGVjaXNpb24iLCJlbWFpbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/lib/actions/webauthn-options.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/lib/index.js":
/*!**********************************************!*\
  !*** ./node_modules/@auth/core/lib/index.js ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthInternal: () => (/* binding */ AuthInternal),\n/* harmony export */   raw: () => (/* binding */ raw),\n/* harmony export */   skipCSRFCheck: () => (/* binding */ skipCSRFCheck)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors.js */ \"(action-browser)/./node_modules/@auth/core/errors.js\");\n/* harmony import */ var _utils_cookie_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/cookie.js */ \"(action-browser)/./node_modules/@auth/core/lib/utils/cookie.js\");\n/* harmony import */ var _init_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./init.js */ \"(action-browser)/./node_modules/@auth/core/lib/init.js\");\n/* harmony import */ var _pages_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/index.js */ \"(action-browser)/./node_modules/@auth/core/lib/pages/index.js\");\n/* harmony import */ var _actions_index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./actions/index.js */ \"(action-browser)/./node_modules/@auth/core/lib/actions/index.js\");\n/* harmony import */ var _actions_callback_oauth_csrf_token_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./actions/callback/oauth/csrf-token.js */ \"(action-browser)/./node_modules/@auth/core/lib/actions/callback/oauth/csrf-token.js\");\n\n\n\n\n\n\n/** @internal */ async function AuthInternal(request, authOptions) {\n    const { action, providerId, error, method } = request;\n    const csrfDisabled = authOptions.skipCSRFCheck === skipCSRFCheck;\n    const { options, cookies } = await (0,_init_js__WEBPACK_IMPORTED_MODULE_2__.init)({\n        authOptions,\n        action,\n        providerId,\n        url: request.url,\n        callbackUrl: request.body?.callbackUrl ?? request.query?.callbackUrl,\n        csrfToken: request.body?.csrfToken,\n        cookies: request.cookies,\n        isPost: method === \"POST\",\n        csrfDisabled\n    });\n    const sessionStore = new _utils_cookie_js__WEBPACK_IMPORTED_MODULE_1__.SessionStore(options.cookies.sessionToken, request.cookies, options.logger);\n    if (method === \"GET\") {\n        const render = (0,_pages_index_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n            ...options,\n            query: request.query,\n            cookies\n        });\n        switch(action){\n            case \"callback\":\n                return await _actions_index_js__WEBPACK_IMPORTED_MODULE_4__.callback(request, options, sessionStore, cookies);\n            case \"csrf\":\n                return render.csrf(csrfDisabled, options, cookies);\n            case \"error\":\n                return render.error(error);\n            case \"providers\":\n                return render.providers(options.providers);\n            case \"session\":\n                return await _actions_index_js__WEBPACK_IMPORTED_MODULE_4__.session(options, sessionStore, cookies);\n            case \"signin\":\n                return render.signin(providerId, error);\n            case \"signout\":\n                return render.signout();\n            case \"verify-request\":\n                return render.verifyRequest();\n            case \"webauthn-options\":\n                return await _actions_index_js__WEBPACK_IMPORTED_MODULE_4__.webAuthnOptions(request, options, sessionStore, cookies);\n            default:\n        }\n    } else {\n        const { csrfTokenVerified } = options;\n        switch(action){\n            case \"callback\":\n                if (options.provider.type === \"credentials\") // Verified CSRF Token required for credentials providers only\n                (0,_actions_callback_oauth_csrf_token_js__WEBPACK_IMPORTED_MODULE_5__.validateCSRF)(action, csrfTokenVerified);\n                return await _actions_index_js__WEBPACK_IMPORTED_MODULE_4__.callback(request, options, sessionStore, cookies);\n            case \"session\":\n                (0,_actions_callback_oauth_csrf_token_js__WEBPACK_IMPORTED_MODULE_5__.validateCSRF)(action, csrfTokenVerified);\n                return await _actions_index_js__WEBPACK_IMPORTED_MODULE_4__.session(options, sessionStore, cookies, true, request.body?.data);\n            case \"signin\":\n                (0,_actions_callback_oauth_csrf_token_js__WEBPACK_IMPORTED_MODULE_5__.validateCSRF)(action, csrfTokenVerified);\n                return await _actions_index_js__WEBPACK_IMPORTED_MODULE_4__.signIn(request, cookies, options);\n            case \"signout\":\n                (0,_actions_callback_oauth_csrf_token_js__WEBPACK_IMPORTED_MODULE_5__.validateCSRF)(action, csrfTokenVerified);\n                return await _actions_index_js__WEBPACK_IMPORTED_MODULE_4__.signOut(cookies, sessionStore, options);\n            default:\n        }\n    }\n    throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.UnknownAction(`Cannot handle action: ${action}`);\n}\n/**\n * :::danger\n * This option is intended for framework authors.\n * :::\n *\n * Auth.js comes with built-in {@link https://authjs.dev/concepts/security#csrf CSRF} protection, but\n * if you are implementing a framework that is already protected against CSRF attacks, you can skip this check by\n * passing this value to {@link AuthConfig.skipCSRFCheck}.\n */ const skipCSRFCheck = Symbol(\"skip-csrf-check\");\n/**\n * :::danger\n * This option is intended for framework authors.\n * :::\n *\n * Auth.js returns a web standard {@link Response} by default, but\n * if you are implementing a framework you might want to get access to the raw internal response\n * by passing this value to {@link AuthConfig.raw}.\n */ const raw = Symbol(\"return-type-raw\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBNkM7QUFDSTtBQUNoQjtBQUNTO0FBQ0k7QUFDd0I7QUFDdEUsY0FBYyxHQUNQLGVBQWVNLGFBQWFDLE9BQU8sRUFBRUMsV0FBVztJQUNuRCxNQUFNLEVBQUVDLE1BQU0sRUFBRUMsVUFBVSxFQUFFQyxLQUFLLEVBQUVDLE1BQU0sRUFBRSxHQUFHTDtJQUM5QyxNQUFNTSxlQUFlTCxZQUFZTSxhQUFhLEtBQUtBO0lBQ25ELE1BQU0sRUFBRUMsT0FBTyxFQUFFQyxPQUFPLEVBQUUsR0FBRyxNQUFNZCw4Q0FBSUEsQ0FBQztRQUNwQ007UUFDQUM7UUFDQUM7UUFDQU8sS0FBS1YsUUFBUVUsR0FBRztRQUNoQkMsYUFBYVgsUUFBUVksSUFBSSxFQUFFRCxlQUFlWCxRQUFRYSxLQUFLLEVBQUVGO1FBQ3pERyxXQUFXZCxRQUFRWSxJQUFJLEVBQUVFO1FBQ3pCTCxTQUFTVCxRQUFRUyxPQUFPO1FBQ3hCTSxRQUFRVixXQUFXO1FBQ25CQztJQUNKO0lBQ0EsTUFBTVUsZUFBZSxJQUFJdEIsMERBQVlBLENBQUNjLFFBQVFDLE9BQU8sQ0FBQ1EsWUFBWSxFQUFFakIsUUFBUVMsT0FBTyxFQUFFRCxRQUFRVSxNQUFNO0lBQ25HLElBQUliLFdBQVcsT0FBTztRQUNsQixNQUFNYyxTQUFTdkIsMkRBQVVBLENBQUM7WUFBRSxHQUFHWSxPQUFPO1lBQUVLLE9BQU9iLFFBQVFhLEtBQUs7WUFBRUo7UUFBUTtRQUN0RSxPQUFRUDtZQUNKLEtBQUs7Z0JBQ0QsT0FBTyxNQUFNTCx1REFBZ0IsQ0FBQ0csU0FBU1EsU0FBU1EsY0FBY1A7WUFDbEUsS0FBSztnQkFDRCxPQUFPVSxPQUFPRSxJQUFJLENBQUNmLGNBQWNFLFNBQVNDO1lBQzlDLEtBQUs7Z0JBQ0QsT0FBT1UsT0FBT2YsS0FBSyxDQUFDQTtZQUN4QixLQUFLO2dCQUNELE9BQU9lLE9BQU9HLFNBQVMsQ0FBQ2QsUUFBUWMsU0FBUztZQUM3QyxLQUFLO2dCQUNELE9BQU8sTUFBTXpCLHNEQUFlLENBQUNXLFNBQVNRLGNBQWNQO1lBQ3hELEtBQUs7Z0JBQ0QsT0FBT1UsT0FBT0ssTUFBTSxDQUFDckIsWUFBWUM7WUFDckMsS0FBSztnQkFDRCxPQUFPZSxPQUFPTSxPQUFPO1lBQ3pCLEtBQUs7Z0JBQ0QsT0FBT04sT0FBT08sYUFBYTtZQUMvQixLQUFLO2dCQUNELE9BQU8sTUFBTTdCLDhEQUF1QixDQUFDRyxTQUFTUSxTQUFTUSxjQUFjUDtZQUN6RTtRQUNKO0lBQ0osT0FDSztRQUNELE1BQU0sRUFBRW1CLGlCQUFpQixFQUFFLEdBQUdwQjtRQUM5QixPQUFRTjtZQUNKLEtBQUs7Z0JBQ0QsSUFBSU0sUUFBUXFCLFFBQVEsQ0FBQ0MsSUFBSSxLQUFLLGVBQzFCLDhEQUE4RDtnQkFDOURoQyxtRkFBWUEsQ0FBQ0ksUUFBUTBCO2dCQUN6QixPQUFPLE1BQU0vQix1REFBZ0IsQ0FBQ0csU0FBU1EsU0FBU1EsY0FBY1A7WUFDbEUsS0FBSztnQkFDRFgsbUZBQVlBLENBQUNJLFFBQVEwQjtnQkFDckIsT0FBTyxNQUFNL0Isc0RBQWUsQ0FBQ1csU0FBU1EsY0FBY1AsU0FBUyxNQUFNVCxRQUFRWSxJQUFJLEVBQUVtQjtZQUNyRixLQUFLO2dCQUNEakMsbUZBQVlBLENBQUNJLFFBQVEwQjtnQkFDckIsT0FBTyxNQUFNL0IscURBQWMsQ0FBQ0csU0FBU1MsU0FBU0Q7WUFDbEQsS0FBSztnQkFDRFYsbUZBQVlBLENBQUNJLFFBQVEwQjtnQkFDckIsT0FBTyxNQUFNL0Isc0RBQWUsQ0FBQ1ksU0FBU08sY0FBY1I7WUFDeEQ7UUFDSjtJQUNKO0lBQ0EsTUFBTSxJQUFJZixxREFBYUEsQ0FBQyxDQUFDLHNCQUFzQixFQUFFUyxPQUFPLENBQUM7QUFDN0Q7QUFDQTs7Ozs7Ozs7Q0FRQyxHQUNNLE1BQU1LLGdCQUFnQjJCLE9BQU8sbUJBQW1CO0FBQ3ZEOzs7Ozs7OztDQVFDLEdBQ00sTUFBTUMsTUFBTUQsT0FBTyxtQkFBbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LXJ4Ly4vbm9kZV9tb2R1bGVzL0BhdXRoL2NvcmUvbGliL2luZGV4LmpzPzg4OTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVW5rbm93bkFjdGlvbiB9IGZyb20gXCIuLi9lcnJvcnMuanNcIjtcbmltcG9ydCB7IFNlc3Npb25TdG9yZSB9IGZyb20gXCIuL3V0aWxzL2Nvb2tpZS5qc1wiO1xuaW1wb3J0IHsgaW5pdCB9IGZyb20gXCIuL2luaXQuanNcIjtcbmltcG9ydCByZW5kZXJQYWdlIGZyb20gXCIuL3BhZ2VzL2luZGV4LmpzXCI7XG5pbXBvcnQgKiBhcyBhY3Rpb25zIGZyb20gXCIuL2FjdGlvbnMvaW5kZXguanNcIjtcbmltcG9ydCB7IHZhbGlkYXRlQ1NSRiB9IGZyb20gXCIuL2FjdGlvbnMvY2FsbGJhY2svb2F1dGgvY3NyZi10b2tlbi5qc1wiO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEF1dGhJbnRlcm5hbChyZXF1ZXN0LCBhdXRoT3B0aW9ucykge1xuICAgIGNvbnN0IHsgYWN0aW9uLCBwcm92aWRlcklkLCBlcnJvciwgbWV0aG9kIH0gPSByZXF1ZXN0O1xuICAgIGNvbnN0IGNzcmZEaXNhYmxlZCA9IGF1dGhPcHRpb25zLnNraXBDU1JGQ2hlY2sgPT09IHNraXBDU1JGQ2hlY2s7XG4gICAgY29uc3QgeyBvcHRpb25zLCBjb29raWVzIH0gPSBhd2FpdCBpbml0KHtcbiAgICAgICAgYXV0aE9wdGlvbnMsXG4gICAgICAgIGFjdGlvbixcbiAgICAgICAgcHJvdmlkZXJJZCxcbiAgICAgICAgdXJsOiByZXF1ZXN0LnVybCxcbiAgICAgICAgY2FsbGJhY2tVcmw6IHJlcXVlc3QuYm9keT8uY2FsbGJhY2tVcmwgPz8gcmVxdWVzdC5xdWVyeT8uY2FsbGJhY2tVcmwsXG4gICAgICAgIGNzcmZUb2tlbjogcmVxdWVzdC5ib2R5Py5jc3JmVG9rZW4sXG4gICAgICAgIGNvb2tpZXM6IHJlcXVlc3QuY29va2llcyxcbiAgICAgICAgaXNQb3N0OiBtZXRob2QgPT09IFwiUE9TVFwiLFxuICAgICAgICBjc3JmRGlzYWJsZWQsXG4gICAgfSk7XG4gICAgY29uc3Qgc2Vzc2lvblN0b3JlID0gbmV3IFNlc3Npb25TdG9yZShvcHRpb25zLmNvb2tpZXMuc2Vzc2lvblRva2VuLCByZXF1ZXN0LmNvb2tpZXMsIG9wdGlvbnMubG9nZ2VyKTtcbiAgICBpZiAobWV0aG9kID09PSBcIkdFVFwiKSB7XG4gICAgICAgIGNvbnN0IHJlbmRlciA9IHJlbmRlclBhZ2UoeyAuLi5vcHRpb25zLCBxdWVyeTogcmVxdWVzdC5xdWVyeSwgY29va2llcyB9KTtcbiAgICAgICAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICAgICAgICAgIGNhc2UgXCJjYWxsYmFja1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBhY3Rpb25zLmNhbGxiYWNrKHJlcXVlc3QsIG9wdGlvbnMsIHNlc3Npb25TdG9yZSwgY29va2llcyk7XG4gICAgICAgICAgICBjYXNlIFwiY3NyZlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiByZW5kZXIuY3NyZihjc3JmRGlzYWJsZWQsIG9wdGlvbnMsIGNvb2tpZXMpO1xuICAgICAgICAgICAgY2FzZSBcImVycm9yXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlbmRlci5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICBjYXNlIFwicHJvdmlkZXJzXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlbmRlci5wcm92aWRlcnMob3B0aW9ucy5wcm92aWRlcnMpO1xuICAgICAgICAgICAgY2FzZSBcInNlc3Npb25cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgYWN0aW9ucy5zZXNzaW9uKG9wdGlvbnMsIHNlc3Npb25TdG9yZSwgY29va2llcyk7XG4gICAgICAgICAgICBjYXNlIFwic2lnbmluXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlbmRlci5zaWduaW4ocHJvdmlkZXJJZCwgZXJyb3IpO1xuICAgICAgICAgICAgY2FzZSBcInNpZ25vdXRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVuZGVyLnNpZ25vdXQoKTtcbiAgICAgICAgICAgIGNhc2UgXCJ2ZXJpZnktcmVxdWVzdFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiByZW5kZXIudmVyaWZ5UmVxdWVzdCgpO1xuICAgICAgICAgICAgY2FzZSBcIndlYmF1dGhuLW9wdGlvbnNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgYWN0aW9ucy53ZWJBdXRobk9wdGlvbnMocmVxdWVzdCwgb3B0aW9ucywgc2Vzc2lvblN0b3JlLCBjb29raWVzKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHsgY3NyZlRva2VuVmVyaWZpZWQgfSA9IG9wdGlvbnM7XG4gICAgICAgIHN3aXRjaCAoYWN0aW9uKSB7XG4gICAgICAgICAgICBjYXNlIFwiY2FsbGJhY2tcIjpcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5wcm92aWRlci50eXBlID09PSBcImNyZWRlbnRpYWxzXCIpXG4gICAgICAgICAgICAgICAgICAgIC8vIFZlcmlmaWVkIENTUkYgVG9rZW4gcmVxdWlyZWQgZm9yIGNyZWRlbnRpYWxzIHByb3ZpZGVycyBvbmx5XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlQ1NSRihhY3Rpb24sIGNzcmZUb2tlblZlcmlmaWVkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgYWN0aW9ucy5jYWxsYmFjayhyZXF1ZXN0LCBvcHRpb25zLCBzZXNzaW9uU3RvcmUsIGNvb2tpZXMpO1xuICAgICAgICAgICAgY2FzZSBcInNlc3Npb25cIjpcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZUNTUkYoYWN0aW9uLCBjc3JmVG9rZW5WZXJpZmllZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGFjdGlvbnMuc2Vzc2lvbihvcHRpb25zLCBzZXNzaW9uU3RvcmUsIGNvb2tpZXMsIHRydWUsIHJlcXVlc3QuYm9keT8uZGF0YSk7XG4gICAgICAgICAgICBjYXNlIFwic2lnbmluXCI6XG4gICAgICAgICAgICAgICAgdmFsaWRhdGVDU1JGKGFjdGlvbiwgY3NyZlRva2VuVmVyaWZpZWQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBhY3Rpb25zLnNpZ25JbihyZXF1ZXN0LCBjb29raWVzLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNhc2UgXCJzaWdub3V0XCI6XG4gICAgICAgICAgICAgICAgdmFsaWRhdGVDU1JGKGFjdGlvbiwgY3NyZlRva2VuVmVyaWZpZWQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBhY3Rpb25zLnNpZ25PdXQoY29va2llcywgc2Vzc2lvblN0b3JlLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IFVua25vd25BY3Rpb24oYENhbm5vdCBoYW5kbGUgYWN0aW9uOiAke2FjdGlvbn1gKTtcbn1cbi8qKlxuICogOjo6ZGFuZ2VyXG4gKiBUaGlzIG9wdGlvbiBpcyBpbnRlbmRlZCBmb3IgZnJhbWV3b3JrIGF1dGhvcnMuXG4gKiA6OjpcbiAqXG4gKiBBdXRoLmpzIGNvbWVzIHdpdGggYnVpbHQtaW4ge0BsaW5rIGh0dHBzOi8vYXV0aGpzLmRldi9jb25jZXB0cy9zZWN1cml0eSNjc3JmIENTUkZ9IHByb3RlY3Rpb24sIGJ1dFxuICogaWYgeW91IGFyZSBpbXBsZW1lbnRpbmcgYSBmcmFtZXdvcmsgdGhhdCBpcyBhbHJlYWR5IHByb3RlY3RlZCBhZ2FpbnN0IENTUkYgYXR0YWNrcywgeW91IGNhbiBza2lwIHRoaXMgY2hlY2sgYnlcbiAqIHBhc3NpbmcgdGhpcyB2YWx1ZSB0byB7QGxpbmsgQXV0aENvbmZpZy5za2lwQ1NSRkNoZWNrfS5cbiAqL1xuZXhwb3J0IGNvbnN0IHNraXBDU1JGQ2hlY2sgPSBTeW1ib2woXCJza2lwLWNzcmYtY2hlY2tcIik7XG4vKipcbiAqIDo6OmRhbmdlclxuICogVGhpcyBvcHRpb24gaXMgaW50ZW5kZWQgZm9yIGZyYW1ld29yayBhdXRob3JzLlxuICogOjo6XG4gKlxuICogQXV0aC5qcyByZXR1cm5zIGEgd2ViIHN0YW5kYXJkIHtAbGluayBSZXNwb25zZX0gYnkgZGVmYXVsdCwgYnV0XG4gKiBpZiB5b3UgYXJlIGltcGxlbWVudGluZyBhIGZyYW1ld29yayB5b3UgbWlnaHQgd2FudCB0byBnZXQgYWNjZXNzIHRvIHRoZSByYXcgaW50ZXJuYWwgcmVzcG9uc2VcbiAqIGJ5IHBhc3NpbmcgdGhpcyB2YWx1ZSB0byB7QGxpbmsgQXV0aENvbmZpZy5yYXd9LlxuICovXG5leHBvcnQgY29uc3QgcmF3ID0gU3ltYm9sKFwicmV0dXJuLXR5cGUtcmF3XCIpO1xuIl0sIm5hbWVzIjpbIlVua25vd25BY3Rpb24iLCJTZXNzaW9uU3RvcmUiLCJpbml0IiwicmVuZGVyUGFnZSIsImFjdGlvbnMiLCJ2YWxpZGF0ZUNTUkYiLCJBdXRoSW50ZXJuYWwiLCJyZXF1ZXN0IiwiYXV0aE9wdGlvbnMiLCJhY3Rpb24iLCJwcm92aWRlcklkIiwiZXJyb3IiLCJtZXRob2QiLCJjc3JmRGlzYWJsZWQiLCJza2lwQ1NSRkNoZWNrIiwib3B0aW9ucyIsImNvb2tpZXMiLCJ1cmwiLCJjYWxsYmFja1VybCIsImJvZHkiLCJxdWVyeSIsImNzcmZUb2tlbiIsImlzUG9zdCIsInNlc3Npb25TdG9yZSIsInNlc3Npb25Ub2tlbiIsImxvZ2dlciIsInJlbmRlciIsImNhbGxiYWNrIiwiY3NyZiIsInByb3ZpZGVycyIsInNlc3Npb24iLCJzaWduaW4iLCJzaWdub3V0IiwidmVyaWZ5UmVxdWVzdCIsIndlYkF1dGhuT3B0aW9ucyIsImNzcmZUb2tlblZlcmlmaWVkIiwicHJvdmlkZXIiLCJ0eXBlIiwiZGF0YSIsInNpZ25JbiIsInNpZ25PdXQiLCJTeW1ib2wiLCJyYXciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/lib/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/lib/index.js":
/*!**********************************************!*\
  !*** ./node_modules/@auth/core/lib/index.js ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthInternal: () => (/* binding */ AuthInternal),\n/* harmony export */   raw: () => (/* binding */ raw),\n/* harmony export */   skipCSRFCheck: () => (/* binding */ skipCSRFCheck)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors.js */ \"(rsc)/./node_modules/@auth/core/errors.js\");\n/* harmony import */ var _utils_cookie_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/cookie.js */ \"(rsc)/./node_modules/@auth/core/lib/utils/cookie.js\");\n/* harmony import */ var _init_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./init.js */ \"(rsc)/./node_modules/@auth/core/lib/init.js\");\n/* harmony import */ var _pages_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/index.js */ \"(rsc)/./node_modules/@auth/core/lib/pages/index.js\");\n/* harmony import */ var _actions_index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./actions/index.js */ \"(rsc)/./node_modules/@auth/core/lib/actions/index.js\");\n/* harmony import */ var _actions_callback_oauth_csrf_token_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./actions/callback/oauth/csrf-token.js */ \"(rsc)/./node_modules/@auth/core/lib/actions/callback/oauth/csrf-token.js\");\n\n\n\n\n\n\n/** @internal */ async function AuthInternal(request, authOptions) {\n    const { action, providerId, error, method } = request;\n    const csrfDisabled = authOptions.skipCSRFCheck === skipCSRFCheck;\n    const { options, cookies } = await (0,_init_js__WEBPACK_IMPORTED_MODULE_2__.init)({\n        authOptions,\n        action,\n        providerId,\n        url: request.url,\n        callbackUrl: request.body?.callbackUrl ?? request.query?.callbackUrl,\n        csrfToken: request.body?.csrfToken,\n        cookies: request.cookies,\n        isPost: method === \"POST\",\n        csrfDisabled\n    });\n    const sessionStore = new _utils_cookie_js__WEBPACK_IMPORTED_MODULE_1__.SessionStore(options.cookies.sessionToken, request.cookies, options.logger);\n    if (method === \"GET\") {\n        const render = (0,_pages_index_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n            ...options,\n            query: request.query,\n            cookies\n        });\n        switch(action){\n            case \"callback\":\n                return await _actions_index_js__WEBPACK_IMPORTED_MODULE_4__.callback(request, options, sessionStore, cookies);\n            case \"csrf\":\n                return render.csrf(csrfDisabled, options, cookies);\n            case \"error\":\n                return render.error(error);\n            case \"providers\":\n                return render.providers(options.providers);\n            case \"session\":\n                return await _actions_index_js__WEBPACK_IMPORTED_MODULE_4__.session(options, sessionStore, cookies);\n            case \"signin\":\n                return render.signin(providerId, error);\n            case \"signout\":\n                return render.signout();\n            case \"verify-request\":\n                return render.verifyRequest();\n            case \"webauthn-options\":\n                return await _actions_index_js__WEBPACK_IMPORTED_MODULE_4__.webAuthnOptions(request, options, sessionStore, cookies);\n            default:\n        }\n    } else {\n        const { csrfTokenVerified } = options;\n        switch(action){\n            case \"callback\":\n                if (options.provider.type === \"credentials\") // Verified CSRF Token required for credentials providers only\n                (0,_actions_callback_oauth_csrf_token_js__WEBPACK_IMPORTED_MODULE_5__.validateCSRF)(action, csrfTokenVerified);\n                return await _actions_index_js__WEBPACK_IMPORTED_MODULE_4__.callback(request, options, sessionStore, cookies);\n            case \"session\":\n                (0,_actions_callback_oauth_csrf_token_js__WEBPACK_IMPORTED_MODULE_5__.validateCSRF)(action, csrfTokenVerified);\n                return await _actions_index_js__WEBPACK_IMPORTED_MODULE_4__.session(options, sessionStore, cookies, true, request.body?.data);\n            case \"signin\":\n                (0,_actions_callback_oauth_csrf_token_js__WEBPACK_IMPORTED_MODULE_5__.validateCSRF)(action, csrfTokenVerified);\n                return await _actions_index_js__WEBPACK_IMPORTED_MODULE_4__.signIn(request, cookies, options);\n            case \"signout\":\n                (0,_actions_callback_oauth_csrf_token_js__WEBPACK_IMPORTED_MODULE_5__.validateCSRF)(action, csrfTokenVerified);\n                return await _actions_index_js__WEBPACK_IMPORTED_MODULE_4__.signOut(cookies, sessionStore, options);\n            default:\n        }\n    }\n    throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.UnknownAction(`Cannot handle action: ${action}`);\n}\n/**\n * :::danger\n * This option is intended for framework authors.\n * :::\n *\n * Auth.js comes with built-in {@link https://authjs.dev/concepts/security#csrf CSRF} protection, but\n * if you are implementing a framework that is already protected against CSRF attacks, you can skip this check by\n * passing this value to {@link AuthConfig.skipCSRFCheck}.\n */ const skipCSRFCheck = Symbol(\"skip-csrf-check\");\n/**\n * :::danger\n * This option is intended for framework authors.\n * :::\n *\n * Auth.js returns a web standard {@link Response} by default, but\n * if you are implementing a framework you might want to get access to the raw internal response\n * by passing this value to {@link AuthConfig.raw}.\n */ const raw = Symbol(\"return-type-raw\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQTZDO0FBQ0k7QUFDaEI7QUFDUztBQUNJO0FBQ3dCO0FBQ3RFLGNBQWMsR0FDUCxlQUFlTSxhQUFhQyxPQUFPLEVBQUVDLFdBQVc7SUFDbkQsTUFBTSxFQUFFQyxNQUFNLEVBQUVDLFVBQVUsRUFBRUMsS0FBSyxFQUFFQyxNQUFNLEVBQUUsR0FBR0w7SUFDOUMsTUFBTU0sZUFBZUwsWUFBWU0sYUFBYSxLQUFLQTtJQUNuRCxNQUFNLEVBQUVDLE9BQU8sRUFBRUMsT0FBTyxFQUFFLEdBQUcsTUFBTWQsOENBQUlBLENBQUM7UUFDcENNO1FBQ0FDO1FBQ0FDO1FBQ0FPLEtBQUtWLFFBQVFVLEdBQUc7UUFDaEJDLGFBQWFYLFFBQVFZLElBQUksRUFBRUQsZUFBZVgsUUFBUWEsS0FBSyxFQUFFRjtRQUN6REcsV0FBV2QsUUFBUVksSUFBSSxFQUFFRTtRQUN6QkwsU0FBU1QsUUFBUVMsT0FBTztRQUN4Qk0sUUFBUVYsV0FBVztRQUNuQkM7SUFDSjtJQUNBLE1BQU1VLGVBQWUsSUFBSXRCLDBEQUFZQSxDQUFDYyxRQUFRQyxPQUFPLENBQUNRLFlBQVksRUFBRWpCLFFBQVFTLE9BQU8sRUFBRUQsUUFBUVUsTUFBTTtJQUNuRyxJQUFJYixXQUFXLE9BQU87UUFDbEIsTUFBTWMsU0FBU3ZCLDJEQUFVQSxDQUFDO1lBQUUsR0FBR1ksT0FBTztZQUFFSyxPQUFPYixRQUFRYSxLQUFLO1lBQUVKO1FBQVE7UUFDdEUsT0FBUVA7WUFDSixLQUFLO2dCQUNELE9BQU8sTUFBTUwsdURBQWdCLENBQUNHLFNBQVNRLFNBQVNRLGNBQWNQO1lBQ2xFLEtBQUs7Z0JBQ0QsT0FBT1UsT0FBT0UsSUFBSSxDQUFDZixjQUFjRSxTQUFTQztZQUM5QyxLQUFLO2dCQUNELE9BQU9VLE9BQU9mLEtBQUssQ0FBQ0E7WUFDeEIsS0FBSztnQkFDRCxPQUFPZSxPQUFPRyxTQUFTLENBQUNkLFFBQVFjLFNBQVM7WUFDN0MsS0FBSztnQkFDRCxPQUFPLE1BQU16QixzREFBZSxDQUFDVyxTQUFTUSxjQUFjUDtZQUN4RCxLQUFLO2dCQUNELE9BQU9VLE9BQU9LLE1BQU0sQ0FBQ3JCLFlBQVlDO1lBQ3JDLEtBQUs7Z0JBQ0QsT0FBT2UsT0FBT00sT0FBTztZQUN6QixLQUFLO2dCQUNELE9BQU9OLE9BQU9PLGFBQWE7WUFDL0IsS0FBSztnQkFDRCxPQUFPLE1BQU03Qiw4REFBdUIsQ0FBQ0csU0FBU1EsU0FBU1EsY0FBY1A7WUFDekU7UUFDSjtJQUNKLE9BQ0s7UUFDRCxNQUFNLEVBQUVtQixpQkFBaUIsRUFBRSxHQUFHcEI7UUFDOUIsT0FBUU47WUFDSixLQUFLO2dCQUNELElBQUlNLFFBQVFxQixRQUFRLENBQUNDLElBQUksS0FBSyxlQUMxQiw4REFBOEQ7Z0JBQzlEaEMsbUZBQVlBLENBQUNJLFFBQVEwQjtnQkFDekIsT0FBTyxNQUFNL0IsdURBQWdCLENBQUNHLFNBQVNRLFNBQVNRLGNBQWNQO1lBQ2xFLEtBQUs7Z0JBQ0RYLG1GQUFZQSxDQUFDSSxRQUFRMEI7Z0JBQ3JCLE9BQU8sTUFBTS9CLHNEQUFlLENBQUNXLFNBQVNRLGNBQWNQLFNBQVMsTUFBTVQsUUFBUVksSUFBSSxFQUFFbUI7WUFDckYsS0FBSztnQkFDRGpDLG1GQUFZQSxDQUFDSSxRQUFRMEI7Z0JBQ3JCLE9BQU8sTUFBTS9CLHFEQUFjLENBQUNHLFNBQVNTLFNBQVNEO1lBQ2xELEtBQUs7Z0JBQ0RWLG1GQUFZQSxDQUFDSSxRQUFRMEI7Z0JBQ3JCLE9BQU8sTUFBTS9CLHNEQUFlLENBQUNZLFNBQVNPLGNBQWNSO1lBQ3hEO1FBQ0o7SUFDSjtJQUNBLE1BQU0sSUFBSWYscURBQWFBLENBQUMsQ0FBQyxzQkFBc0IsRUFBRVMsT0FBTyxDQUFDO0FBQzdEO0FBQ0E7Ozs7Ozs7O0NBUUMsR0FDTSxNQUFNSyxnQkFBZ0IyQixPQUFPLG1CQUFtQjtBQUN2RDs7Ozs7Ozs7Q0FRQyxHQUNNLE1BQU1DLE1BQU1ELE9BQU8sbUJBQW1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC1yeC8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi9pbmRleC5qcz84ODk1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFVua25vd25BY3Rpb24gfSBmcm9tIFwiLi4vZXJyb3JzLmpzXCI7XG5pbXBvcnQgeyBTZXNzaW9uU3RvcmUgfSBmcm9tIFwiLi91dGlscy9jb29raWUuanNcIjtcbmltcG9ydCB7IGluaXQgfSBmcm9tIFwiLi9pbml0LmpzXCI7XG5pbXBvcnQgcmVuZGVyUGFnZSBmcm9tIFwiLi9wYWdlcy9pbmRleC5qc1wiO1xuaW1wb3J0ICogYXMgYWN0aW9ucyBmcm9tIFwiLi9hY3Rpb25zL2luZGV4LmpzXCI7XG5pbXBvcnQgeyB2YWxpZGF0ZUNTUkYgfSBmcm9tIFwiLi9hY3Rpb25zL2NhbGxiYWNrL29hdXRoL2NzcmYtdG9rZW4uanNcIjtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBBdXRoSW50ZXJuYWwocmVxdWVzdCwgYXV0aE9wdGlvbnMpIHtcbiAgICBjb25zdCB7IGFjdGlvbiwgcHJvdmlkZXJJZCwgZXJyb3IsIG1ldGhvZCB9ID0gcmVxdWVzdDtcbiAgICBjb25zdCBjc3JmRGlzYWJsZWQgPSBhdXRoT3B0aW9ucy5za2lwQ1NSRkNoZWNrID09PSBza2lwQ1NSRkNoZWNrO1xuICAgIGNvbnN0IHsgb3B0aW9ucywgY29va2llcyB9ID0gYXdhaXQgaW5pdCh7XG4gICAgICAgIGF1dGhPcHRpb25zLFxuICAgICAgICBhY3Rpb24sXG4gICAgICAgIHByb3ZpZGVySWQsXG4gICAgICAgIHVybDogcmVxdWVzdC51cmwsXG4gICAgICAgIGNhbGxiYWNrVXJsOiByZXF1ZXN0LmJvZHk/LmNhbGxiYWNrVXJsID8/IHJlcXVlc3QucXVlcnk/LmNhbGxiYWNrVXJsLFxuICAgICAgICBjc3JmVG9rZW46IHJlcXVlc3QuYm9keT8uY3NyZlRva2VuLFxuICAgICAgICBjb29raWVzOiByZXF1ZXN0LmNvb2tpZXMsXG4gICAgICAgIGlzUG9zdDogbWV0aG9kID09PSBcIlBPU1RcIixcbiAgICAgICAgY3NyZkRpc2FibGVkLFxuICAgIH0pO1xuICAgIGNvbnN0IHNlc3Npb25TdG9yZSA9IG5ldyBTZXNzaW9uU3RvcmUob3B0aW9ucy5jb29raWVzLnNlc3Npb25Ub2tlbiwgcmVxdWVzdC5jb29raWVzLCBvcHRpb25zLmxvZ2dlcik7XG4gICAgaWYgKG1ldGhvZCA9PT0gXCJHRVRcIikge1xuICAgICAgICBjb25zdCByZW5kZXIgPSByZW5kZXJQYWdlKHsgLi4ub3B0aW9ucywgcXVlcnk6IHJlcXVlc3QucXVlcnksIGNvb2tpZXMgfSk7XG4gICAgICAgIHN3aXRjaCAoYWN0aW9uKSB7XG4gICAgICAgICAgICBjYXNlIFwiY2FsbGJhY2tcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgYWN0aW9ucy5jYWxsYmFjayhyZXF1ZXN0LCBvcHRpb25zLCBzZXNzaW9uU3RvcmUsIGNvb2tpZXMpO1xuICAgICAgICAgICAgY2FzZSBcImNzcmZcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVuZGVyLmNzcmYoY3NyZkRpc2FibGVkLCBvcHRpb25zLCBjb29raWVzKTtcbiAgICAgICAgICAgIGNhc2UgXCJlcnJvclwiOlxuICAgICAgICAgICAgICAgIHJldHVybiByZW5kZXIuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgY2FzZSBcInByb3ZpZGVyc1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiByZW5kZXIucHJvdmlkZXJzKG9wdGlvbnMucHJvdmlkZXJzKTtcbiAgICAgICAgICAgIGNhc2UgXCJzZXNzaW9uXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGFjdGlvbnMuc2Vzc2lvbihvcHRpb25zLCBzZXNzaW9uU3RvcmUsIGNvb2tpZXMpO1xuICAgICAgICAgICAgY2FzZSBcInNpZ25pblwiOlxuICAgICAgICAgICAgICAgIHJldHVybiByZW5kZXIuc2lnbmluKHByb3ZpZGVySWQsIGVycm9yKTtcbiAgICAgICAgICAgIGNhc2UgXCJzaWdub3V0XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlbmRlci5zaWdub3V0KCk7XG4gICAgICAgICAgICBjYXNlIFwidmVyaWZ5LXJlcXVlc3RcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVuZGVyLnZlcmlmeVJlcXVlc3QoKTtcbiAgICAgICAgICAgIGNhc2UgXCJ3ZWJhdXRobi1vcHRpb25zXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGFjdGlvbnMud2ViQXV0aG5PcHRpb25zKHJlcXVlc3QsIG9wdGlvbnMsIHNlc3Npb25TdG9yZSwgY29va2llcyk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCB7IGNzcmZUb2tlblZlcmlmaWVkIH0gPSBvcHRpb25zO1xuICAgICAgICBzd2l0Y2ggKGFjdGlvbikge1xuICAgICAgICAgICAgY2FzZSBcImNhbGxiYWNrXCI6XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMucHJvdmlkZXIudHlwZSA9PT0gXCJjcmVkZW50aWFsc1wiKVxuICAgICAgICAgICAgICAgICAgICAvLyBWZXJpZmllZCBDU1JGIFRva2VuIHJlcXVpcmVkIGZvciBjcmVkZW50aWFscyBwcm92aWRlcnMgb25seVxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZUNTUkYoYWN0aW9uLCBjc3JmVG9rZW5WZXJpZmllZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGFjdGlvbnMuY2FsbGJhY2socmVxdWVzdCwgb3B0aW9ucywgc2Vzc2lvblN0b3JlLCBjb29raWVzKTtcbiAgICAgICAgICAgIGNhc2UgXCJzZXNzaW9uXCI6XG4gICAgICAgICAgICAgICAgdmFsaWRhdGVDU1JGKGFjdGlvbiwgY3NyZlRva2VuVmVyaWZpZWQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBhY3Rpb25zLnNlc3Npb24ob3B0aW9ucywgc2Vzc2lvblN0b3JlLCBjb29raWVzLCB0cnVlLCByZXF1ZXN0LmJvZHk/LmRhdGEpO1xuICAgICAgICAgICAgY2FzZSBcInNpZ25pblwiOlxuICAgICAgICAgICAgICAgIHZhbGlkYXRlQ1NSRihhY3Rpb24sIGNzcmZUb2tlblZlcmlmaWVkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgYWN0aW9ucy5zaWduSW4ocmVxdWVzdCwgY29va2llcywgb3B0aW9ucyk7XG4gICAgICAgICAgICBjYXNlIFwic2lnbm91dFwiOlxuICAgICAgICAgICAgICAgIHZhbGlkYXRlQ1NSRihhY3Rpb24sIGNzcmZUb2tlblZlcmlmaWVkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgYWN0aW9ucy5zaWduT3V0KGNvb2tpZXMsIHNlc3Npb25TdG9yZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBVbmtub3duQWN0aW9uKGBDYW5ub3QgaGFuZGxlIGFjdGlvbjogJHthY3Rpb259YCk7XG59XG4vKipcbiAqIDo6OmRhbmdlclxuICogVGhpcyBvcHRpb24gaXMgaW50ZW5kZWQgZm9yIGZyYW1ld29yayBhdXRob3JzLlxuICogOjo6XG4gKlxuICogQXV0aC5qcyBjb21lcyB3aXRoIGJ1aWx0LWluIHtAbGluayBodHRwczovL2F1dGhqcy5kZXYvY29uY2VwdHMvc2VjdXJpdHkjY3NyZiBDU1JGfSBwcm90ZWN0aW9uLCBidXRcbiAqIGlmIHlvdSBhcmUgaW1wbGVtZW50aW5nIGEgZnJhbWV3b3JrIHRoYXQgaXMgYWxyZWFkeSBwcm90ZWN0ZWQgYWdhaW5zdCBDU1JGIGF0dGFja3MsIHlvdSBjYW4gc2tpcCB0aGlzIGNoZWNrIGJ5XG4gKiBwYXNzaW5nIHRoaXMgdmFsdWUgdG8ge0BsaW5rIEF1dGhDb25maWcuc2tpcENTUkZDaGVja30uXG4gKi9cbmV4cG9ydCBjb25zdCBza2lwQ1NSRkNoZWNrID0gU3ltYm9sKFwic2tpcC1jc3JmLWNoZWNrXCIpO1xuLyoqXG4gKiA6OjpkYW5nZXJcbiAqIFRoaXMgb3B0aW9uIGlzIGludGVuZGVkIGZvciBmcmFtZXdvcmsgYXV0aG9ycy5cbiAqIDo6OlxuICpcbiAqIEF1dGguanMgcmV0dXJucyBhIHdlYiBzdGFuZGFyZCB7QGxpbmsgUmVzcG9uc2V9IGJ5IGRlZmF1bHQsIGJ1dFxuICogaWYgeW91IGFyZSBpbXBsZW1lbnRpbmcgYSBmcmFtZXdvcmsgeW91IG1pZ2h0IHdhbnQgdG8gZ2V0IGFjY2VzcyB0byB0aGUgcmF3IGludGVybmFsIHJlc3BvbnNlXG4gKiBieSBwYXNzaW5nIHRoaXMgdmFsdWUgdG8ge0BsaW5rIEF1dGhDb25maWcucmF3fS5cbiAqL1xuZXhwb3J0IGNvbnN0IHJhdyA9IFN5bWJvbChcInJldHVybi10eXBlLXJhd1wiKTtcbiJdLCJuYW1lcyI6WyJVbmtub3duQWN0aW9uIiwiU2Vzc2lvblN0b3JlIiwiaW5pdCIsInJlbmRlclBhZ2UiLCJhY3Rpb25zIiwidmFsaWRhdGVDU1JGIiwiQXV0aEludGVybmFsIiwicmVxdWVzdCIsImF1dGhPcHRpb25zIiwiYWN0aW9uIiwicHJvdmlkZXJJZCIsImVycm9yIiwibWV0aG9kIiwiY3NyZkRpc2FibGVkIiwic2tpcENTUkZDaGVjayIsIm9wdGlvbnMiLCJjb29raWVzIiwidXJsIiwiY2FsbGJhY2tVcmwiLCJib2R5IiwicXVlcnkiLCJjc3JmVG9rZW4iLCJpc1Bvc3QiLCJzZXNzaW9uU3RvcmUiLCJzZXNzaW9uVG9rZW4iLCJsb2dnZXIiLCJyZW5kZXIiLCJjYWxsYmFjayIsImNzcmYiLCJwcm92aWRlcnMiLCJzZXNzaW9uIiwic2lnbmluIiwic2lnbm91dCIsInZlcmlmeVJlcXVlc3QiLCJ3ZWJBdXRobk9wdGlvbnMiLCJjc3JmVG9rZW5WZXJpZmllZCIsInByb3ZpZGVyIiwidHlwZSIsImRhdGEiLCJzaWduSW4iLCJzaWduT3V0IiwiU3ltYm9sIiwicmF3Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/lib/index.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/lib/init.js":
/*!*********************************************!*\
  !*** ./node_modules/@auth/core/lib/init.js ***!
  \*********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defaultCallbacks: () => (/* binding */ defaultCallbacks),\n/* harmony export */   init: () => (/* binding */ init)\n/* harmony export */ });\n/* harmony import */ var _jwt_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../jwt.js */ \"(action-browser)/./node_modules/@auth/core/jwt.js\");\n/* harmony import */ var _utils_callback_url_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/callback-url.js */ \"(action-browser)/./node_modules/@auth/core/lib/utils/callback-url.js\");\n/* harmony import */ var _utils_cookie_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/cookie.js */ \"(action-browser)/./node_modules/@auth/core/lib/utils/cookie.js\");\n/* harmony import */ var _actions_callback_oauth_csrf_token_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./actions/callback/oauth/csrf-token.js */ \"(action-browser)/./node_modules/@auth/core/lib/actions/callback/oauth/csrf-token.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../errors.js */ \"(action-browser)/./node_modules/@auth/core/errors.js\");\n/* harmony import */ var _utils_providers_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils/providers.js */ \"(action-browser)/./node_modules/@auth/core/lib/utils/providers.js\");\n/* harmony import */ var _utils_logger_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils/logger.js */ \"(action-browser)/./node_modules/@auth/core/lib/utils/logger.js\");\n/* harmony import */ var _utils_merge_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utils/merge.js */ \"(action-browser)/./node_modules/@auth/core/lib/utils/merge.js\");\n\n\n\n\n\n\n\n\nconst defaultCallbacks = {\n    signIn () {\n        return true;\n    },\n    redirect ({ url, baseUrl }) {\n        if (url.startsWith(\"/\")) return `${baseUrl}${url}`;\n        else if (new URL(url).origin === baseUrl) return url;\n        return baseUrl;\n    },\n    session ({ session }) {\n        return {\n            user: {\n                name: session.user?.name,\n                email: session.user?.email,\n                image: session.user?.image\n            },\n            expires: session.expires?.toISOString?.() ?? session.expires\n        };\n    },\n    jwt ({ token }) {\n        return token;\n    }\n};\n/** Initialize all internal options and cookies. */ async function init({ authOptions, providerId, action, url, cookies: reqCookies, callbackUrl: reqCallbackUrl, csrfToken: reqCsrfToken, csrfDisabled, isPost }) {\n    const { providers, provider } = (0,_utils_providers_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({\n        providers: authOptions.providers,\n        url,\n        providerId,\n        options: authOptions\n    });\n    const maxAge = 30 * 24 * 60 * 60; // Sessions expire after 30 days of being idle by default\n    let isOnRedirectProxy = false;\n    if ((provider?.type === \"oauth\" || provider?.type === \"oidc\") && provider.redirectProxyUrl) {\n        try {\n            isOnRedirectProxy = new URL(provider.redirectProxyUrl).origin === url.origin;\n        } catch  {\n            throw new TypeError(`redirectProxyUrl must be a valid URL. Received: ${provider.redirectProxyUrl}`);\n        }\n    }\n    // User provided options are overridden by other options,\n    // except for the options with special handling above\n    const options = {\n        debug: false,\n        pages: {},\n        theme: {\n            colorScheme: \"auto\",\n            logo: \"\",\n            brandColor: \"\",\n            buttonText: \"\"\n        },\n        // Custom options override defaults\n        ...authOptions,\n        // These computed settings can have values in userOptions but we override them\n        // and are request-specific.\n        url,\n        action,\n        // @ts-expect-errors\n        provider,\n        cookies: (0,_utils_merge_js__WEBPACK_IMPORTED_MODULE_7__.merge)(_utils_cookie_js__WEBPACK_IMPORTED_MODULE_2__.defaultCookies(authOptions.useSecureCookies ?? url.protocol === \"https:\"), authOptions.cookies),\n        providers,\n        // Session options\n        session: {\n            // If no adapter specified, force use of JSON Web Tokens (stateless)\n            strategy: authOptions.adapter ? \"database\" : \"jwt\",\n            maxAge,\n            updateAge: 24 * 60 * 60,\n            generateSessionToken: ()=>crypto.randomUUID(),\n            ...authOptions.session\n        },\n        // JWT options\n        jwt: {\n            secret: authOptions.secret,\n            maxAge: authOptions.session?.maxAge ?? maxAge,\n            encode: _jwt_js__WEBPACK_IMPORTED_MODULE_0__.encode,\n            decode: _jwt_js__WEBPACK_IMPORTED_MODULE_0__.decode,\n            ...authOptions.jwt\n        },\n        // Event messages\n        events: eventsErrorHandler(authOptions.events ?? {}, _utils_logger_js__WEBPACK_IMPORTED_MODULE_6__.logger),\n        adapter: adapterErrorHandler(authOptions.adapter, _utils_logger_js__WEBPACK_IMPORTED_MODULE_6__.logger),\n        // Callback functions\n        callbacks: {\n            ...defaultCallbacks,\n            ...authOptions.callbacks\n        },\n        logger: _utils_logger_js__WEBPACK_IMPORTED_MODULE_6__.logger,\n        callbackUrl: url.origin,\n        isOnRedirectProxy,\n        experimental: {\n            ...authOptions.experimental\n        }\n    };\n    // Init cookies\n    const cookies = [];\n    if (csrfDisabled) {\n        options.csrfTokenVerified = true;\n    } else {\n        const { csrfToken, cookie: csrfCookie, csrfTokenVerified } = await (0,_actions_callback_oauth_csrf_token_js__WEBPACK_IMPORTED_MODULE_3__.createCSRFToken)({\n            options,\n            cookieValue: reqCookies?.[options.cookies.csrfToken.name],\n            isPost,\n            bodyValue: reqCsrfToken\n        });\n        options.csrfToken = csrfToken;\n        options.csrfTokenVerified = csrfTokenVerified;\n        if (csrfCookie) {\n            cookies.push({\n                name: options.cookies.csrfToken.name,\n                value: csrfCookie,\n                options: options.cookies.csrfToken.options\n            });\n        }\n    }\n    const { callbackUrl, callbackUrlCookie } = await (0,_utils_callback_url_js__WEBPACK_IMPORTED_MODULE_1__.createCallbackUrl)({\n        options,\n        cookieValue: reqCookies?.[options.cookies.callbackUrl.name],\n        paramValue: reqCallbackUrl\n    });\n    options.callbackUrl = callbackUrl;\n    if (callbackUrlCookie) {\n        cookies.push({\n            name: options.cookies.callbackUrl.name,\n            value: callbackUrlCookie,\n            options: options.cookies.callbackUrl.options\n        });\n    }\n    return {\n        options,\n        cookies\n    };\n}\n/** Wraps an object of methods and adds error handling. */ function eventsErrorHandler(methods, logger) {\n    return Object.keys(methods).reduce((acc, name)=>{\n        acc[name] = async (...args)=>{\n            try {\n                const method = methods[name];\n                return await method(...args);\n            } catch (e) {\n                logger.error(new _errors_js__WEBPACK_IMPORTED_MODULE_4__.EventError(e));\n            }\n        };\n        return acc;\n    }, {});\n}\n/** Handles adapter induced errors. */ function adapterErrorHandler(adapter, logger) {\n    if (!adapter) return;\n    return Object.keys(adapter).reduce((acc, name)=>{\n        acc[name] = async (...args)=>{\n            try {\n                logger.debug(`adapter_${name}`, {\n                    args\n                });\n                const method = adapter[name];\n                return await method(...args);\n            } catch (e) {\n                const error = new _errors_js__WEBPACK_IMPORTED_MODULE_4__.AdapterError(e);\n                logger.error(error);\n                throw error;\n            }\n        };\n        return acc;\n    }, {});\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi9pbml0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBaUM7QUFDMkI7QUFDaEI7QUFDNkI7QUFDakI7QUFDTjtBQUNQO0FBQ0Y7QUFDbEMsTUFBTVMsbUJBQW1CO0lBQzVCQztRQUNJLE9BQU87SUFDWDtJQUNBQyxVQUFTLEVBQUVDLEdBQUcsRUFBRUMsT0FBTyxFQUFFO1FBQ3JCLElBQUlELElBQUlFLFVBQVUsQ0FBQyxNQUNmLE9BQU8sQ0FBQyxFQUFFRCxRQUFRLEVBQUVELElBQUksQ0FBQzthQUN4QixJQUFJLElBQUlHLElBQUlILEtBQUtJLE1BQU0sS0FBS0gsU0FDN0IsT0FBT0Q7UUFDWCxPQUFPQztJQUNYO0lBQ0FJLFNBQVEsRUFBRUEsT0FBTyxFQUFFO1FBQ2YsT0FBTztZQUNIQyxNQUFNO2dCQUNGQyxNQUFNRixRQUFRQyxJQUFJLEVBQUVDO2dCQUNwQkMsT0FBT0gsUUFBUUMsSUFBSSxFQUFFRTtnQkFDckJDLE9BQU9KLFFBQVFDLElBQUksRUFBRUc7WUFDekI7WUFDQUMsU0FBU0wsUUFBUUssT0FBTyxFQUFFQyxtQkFBbUJOLFFBQVFLLE9BQU87UUFDaEU7SUFDSjtJQUNBdEIsS0FBSSxFQUFFd0IsS0FBSyxFQUFFO1FBQ1QsT0FBT0E7SUFDWDtBQUNKLEVBQUU7QUFDRixpREFBaUQsR0FDMUMsZUFBZUMsS0FBSyxFQUFFQyxXQUFXLEVBQUVDLFVBQVUsRUFBRUMsTUFBTSxFQUFFaEIsR0FBRyxFQUFFaUIsU0FBU0MsVUFBVSxFQUFFQyxhQUFhQyxjQUFjLEVBQUVDLFdBQVdDLFlBQVksRUFBRUMsWUFBWSxFQUFFQyxNQUFNLEVBQUc7SUFDakssTUFBTSxFQUFFQyxTQUFTLEVBQUVDLFFBQVEsRUFBRSxHQUFHaEMsK0RBQWNBLENBQUM7UUFDM0MrQixXQUFXWCxZQUFZVyxTQUFTO1FBQ2hDekI7UUFDQWU7UUFDQVksU0FBU2I7SUFDYjtJQUNBLE1BQU1j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M0IsT0FBTyxDQUFDckMsS0FBSztnQkFDNUIsT0FBTyxNQUFNZ0UsVUFBVUQ7WUFDM0IsRUFDQSxPQUFPRSxHQUFHO2dCQUNOLE1BQU1DLFFBQVEsSUFBSWpGLG9EQUFZQSxDQUFDZ0Y7Z0JBQy9CN0UsT0FBTzhFLEtBQUssQ0FBQ0E7Z0JBQ2IsTUFBTUE7WUFDVjtRQUNKO1FBQ0EsT0FBT0o7SUFDWCxHQUFHLENBQUM7QUFDUiIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtcngvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvaW5pdC5qcz9mYTVmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGp3dCBmcm9tIFwiLi4vand0LmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVDYWxsYmFja1VybCB9IGZyb20gXCIuL3V0aWxzL2NhbGxiYWNrLXVybC5qc1wiO1xuaW1wb3J0ICogYXMgY29va2llIGZyb20gXCIuL3V0aWxzL2Nvb2tpZS5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlQ1NSRlRva2VuIH0gZnJvbSBcIi4vYWN0aW9ucy9jYWxsYmFjay9vYXV0aC9jc3JmLXRva2VuLmpzXCI7XG5pbXBvcnQgeyBBZGFwdGVyRXJyb3IsIEV2ZW50RXJyb3IgfSBmcm9tIFwiLi4vZXJyb3JzLmpzXCI7XG5pbXBvcnQgcGFyc2VQcm92aWRlcnMgZnJvbSBcIi4vdXRpbHMvcHJvdmlkZXJzLmpzXCI7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tIFwiLi91dGlscy9sb2dnZXIuanNcIjtcbmltcG9ydCB7IG1lcmdlIH0gZnJvbSBcIi4vdXRpbHMvbWVyZ2UuanNcIjtcbmV4cG9ydCBjb25zdCBkZWZhdWx0Q2FsbGJhY2tzID0ge1xuICAgIHNpZ25JbigpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICByZWRpcmVjdCh7IHVybCwgYmFzZVVybCB9KSB7XG4gICAgICAgIGlmICh1cmwuc3RhcnRzV2l0aChcIi9cIikpXG4gICAgICAgICAgICByZXR1cm4gYCR7YmFzZVVybH0ke3VybH1gO1xuICAgICAgICBlbHNlIGlmIChuZXcgVVJMKHVybCkub3JpZ2luID09PSBiYXNlVXJsKVxuICAgICAgICAgICAgcmV0dXJuIHVybDtcbiAgICAgICAgcmV0dXJuIGJhc2VVcmw7XG4gICAgfSxcbiAgICBzZXNzaW9uKHsgc2Vzc2lvbiB9KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogc2Vzc2lvbi51c2VyPy5uYW1lLFxuICAgICAgICAgICAgICAgIGVtYWlsOiBzZXNzaW9uLnVzZXI/LmVtYWlsLFxuICAgICAgICAgICAgICAgIGltYWdlOiBzZXNzaW9uLnVzZXI/LmltYWdlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4cGlyZXM6IHNlc3Npb24uZXhwaXJlcz8udG9JU09TdHJpbmc/LigpID8/IHNlc3Npb24uZXhwaXJlcyxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGp3dCh7IHRva2VuIH0pIHtcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH0sXG59O1xuLyoqIEluaXRpYWxpemUgYWxsIGludGVybmFsIG9wdGlvbnMgYW5kIGNvb2tpZXMuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5pdCh7IGF1dGhPcHRpb25zLCBwcm92aWRlcklkLCBhY3Rpb24sIHVybCwgY29va2llczogcmVxQ29va2llcywgY2FsbGJhY2tVcmw6IHJlcUNhbGxiYWNrVXJsLCBjc3JmVG9rZW46IHJlcUNzcmZUb2tlbiwgY3NyZkRpc2FibGVkLCBpc1Bvc3QsIH0pIHtcbiAgICBjb25zdCB7IHByb3ZpZGVycywgcHJvdmlkZXIgfSA9IHBhcnNlUHJvdmlkZXJzKHtcbiAgICAgICAgcHJvdmlkZXJzOiBhdXRoT3B0aW9ucy5wcm92aWRlcnMsXG4gICAgICAgIHVybCxcbiAgICAgICAgcHJvdmlkZXJJZCxcbiAgICAgICAgb3B0aW9uczogYXV0aE9wdGlvbnMsXG4gICAgfSk7XG4gICAgY29uc3QgbWF4QWdlID0gMzAgKiAyNCAqIDYwICogNjA7IC8vIFNlc3Npb25zIGV4cGlyZSBhZnRlciAzMCBkYXlzIG9mIGJlaW5nIGlkbGUgYnkgZGVmYXVsdFxuICAgIGxldCBpc09uUmVkaXJlY3RQcm94eSA9IGZhbHNlO1xuICAgIGlmICgocHJvdmlkZXI/LnR5cGUgPT09IFwib2F1dGhcIiB8fCBwcm92aWRlcj8udHlwZSA9PT0gXCJvaWRjXCIpICYmXG4gICAgICAgIHByb3ZpZGVyLnJlZGlyZWN0UHJveHlVcmwpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlzT25SZWRpcmVjdFByb3h5ID1cbiAgICAgICAgICAgICAgICBuZXcgVVJMKHByb3ZpZGVyLnJlZGlyZWN0UHJveHlVcmwpLm9yaWdpbiA9PT0gdXJsLm9yaWdpbjtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGByZWRpcmVjdFByb3h5VXJsIG11c3QgYmUgYSB2YWxpZCBVUkwuIFJlY2VpdmVkOiAke3Byb3ZpZGVyLnJlZGlyZWN0UHJveHlVcmx9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gVXNlciBwcm92aWRlZCBvcHRpb25zIGFyZSBvdmVycmlkZGVuIGJ5IG90aGVyIG9wdGlvbnMsXG4gICAgLy8gZXhjZXB0IGZvciB0aGUgb3B0aW9ucyB3aXRoIHNwZWNpYWwgaGFuZGxpbmcgYWJvdmVcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBkZWJ1ZzogZmFsc2UsXG4gICAgICAgIHBhZ2VzOiB7fSxcbiAgICAgICAgdGhlbWU6IHtcbiAgICAgICAgICAgIGNvbG9yU2NoZW1lOiBcImF1dG9cIixcbiAgICAgICAgICAgIGxvZ286IFwiXCIsXG4gICAgICAgICAgICBicmFuZENvbG9yOiBcIlwiLFxuICAgICAgICAgICAgYnV0dG9uVGV4dDogXCJcIixcbiAgICAgICAgfSxcbiAgICAgICAgLy8gQ3VzdG9tIG9wdGlvbnMgb3ZlcnJpZGUgZGVmYXVsdHNcbiAgICAgICAgLi4uYXV0aE9wdGlvbnMsXG4gICAgICAgIC8vIFRoZXNlIGNvbXB1dGVkIHNldHRpbmdzIGNhbiBoYXZlIHZhbHVlcyBpbiB1c2VyT3B0aW9ucyBidXQgd2Ugb3ZlcnJpZGUgdGhlbVxuICAgICAgICAvLyBhbmQgYXJlIHJlcXVlc3Qtc3BlY2lmaWMuXG4gICAgICAgIHVybCxcbiAgICAgICAgYWN0aW9uLFxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yc1xuICAgICAgICBwcm92aWRlcixcbiAgICAgICAgY29va2llczogbWVyZ2UoY29va2llLmRlZmF1bHRDb29raWVzKGF1dGhPcHRpb25zLnVzZVNlY3VyZUNvb2tpZXMgPz8gdXJsLnByb3RvY29sID09PSBcImh0dHBzOlwiKSwgYXV0aE9wdGlvbnMuY29va2llcyksXG4gICAgICAgIHByb3ZpZGVycyxcbiAgICAgICAgLy8gU2Vzc2lvbiBvcHRpb25zXG4gICAgICAgIHNlc3Npb246IHtcbiAgICAgICAgICAgIC8vIElmIG5vIGFkYXB0ZXIgc3BlY2lmaWVkLCBmb3JjZSB1c2Ugb2YgSlNPTiBXZWIgVG9rZW5zIChzdGF0ZWxlc3MpXG4gICAgICAgICAgICBzdHJhdGVneTogYXV0aE9wdGlvbnMuYWRhcHRlciA/IFwiZGF0YWJhc2VcIiA6IFwiand0XCIsXG4gICAgICAgICAgICBtYXhBZ2UsXG4gICAgICAgICAgICB1cGRhdGVBZ2U6IDI0ICogNjAgKiA2MCxcbiAgICAgICAgICAgIGdlbmVyYXRlU2Vzc2lvblRva2VuOiAoKSA9PiBjcnlwdG8ucmFuZG9tVVVJRCgpLFxuICAgICAgICAgICAgLi4uYXV0aE9wdGlvbnMuc2Vzc2lvbixcbiAgICAgICAgfSxcbiAgICAgICAgLy8gSldUIG9wdGlvbnNcbiAgICAgICAgand0OiB7XG4gICAgICAgICAgICBzZWNyZXQ6IGF1dGhPcHRpb25zLnNlY3JldCwgLy8gQXNzZXJ0ZWQgaW4gYXNzZXJ0LnRzXG4gICAgICAgICAgICBtYXhBZ2U6IGF1dGhPcHRpb25zLnNlc3Npb24/Lm1heEFnZSA/PyBtYXhBZ2UsIC8vIGRlZmF1bHQgdG8gc2FtZSBhcyBgc2Vzc2lvbi5tYXhBZ2VgXG4gICAgICAgICAgICBlbmNvZGU6IGp3dC5lbmNvZGUsXG4gICAgICAgICAgICBkZWNvZGU6IGp3dC5kZWNvZGUsXG4gICAgICAgICAgICAuLi5hdXRoT3B0aW9ucy5qd3QsXG4gICAgICAgIH0sXG4gICAgICAgIC8vIEV2ZW50IG1lc3NhZ2VzXG4gICAgICAgIGV2ZW50czogZXZlbnRzRXJyb3JIYW5kbGVyKGF1dGhPcHRpb25zLmV2ZW50cyA/PyB7fSwgbG9nZ2VyKSxcbiAgICAgICAgYWRhcHRlcjogYWRhcHRlckVycm9ySGFuZGxlcihhdXRoT3B0aW9ucy5hZGFwdGVyLCBsb2dnZXIpLFxuICAgICAgICAvLyBDYWxsYmFjayBmdW5jdGlvbnNcbiAgICAgICAgY2FsbGJhY2tzOiB7IC4uLmRlZmF1bHRDYWxsYmFja3MsIC4uLmF1dGhPcHRpb25zLmNhbGxiYWNrcyB9LFxuICAgICAgICBsb2dnZXIsXG4gICAgICAgIGNhbGxiYWNrVXJsOiB1cmwub3JpZ2luLFxuICAgICAgICBpc09uUmVkaXJlY3RQcm94eSxcbiAgICAgICAgZXhwZXJpbWVudGFsOiB7XG4gICAgICAgICAgICAuLi5hdXRoT3B0aW9ucy5leHBlcmltZW50YWwsXG4gICAgICAgIH0sXG4gICAgfTtcbiAgICAvLyBJbml0IGNvb2tpZXNcbiAgICBjb25zdCBjb29raWVzID0gW107XG4gICAgaWYgKGNzcmZEaXNhYmxlZCkge1xuICAgICAgICBvcHRpb25zLmNzcmZUb2tlblZlcmlmaWVkID0gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHsgY3NyZlRva2VuLCBjb29raWU6IGNzcmZDb29raWUsIGNzcmZUb2tlblZlcmlmaWVkLCB9ID0gYXdhaXQgY3JlYXRlQ1NSRlRva2VuKHtcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBjb29raWVWYWx1ZTogcmVxQ29va2llcz8uW29wdGlvbnMuY29va2llcy5jc3JmVG9rZW4ubmFtZV0sXG4gICAgICAgICAgICBpc1Bvc3QsXG4gICAgICAgICAgICBib2R5VmFsdWU6IHJlcUNzcmZUb2tlbixcbiAgICAgICAgfSk7XG4gICAgICAgIG9wdGlvbnMuY3NyZlRva2VuID0gY3NyZlRva2VuO1xuICAgICAgICBvcHRpb25zLmNzcmZUb2tlblZlcmlmaWVkID0gY3NyZlRva2VuVmVyaWZpZWQ7XG4gICAgICAgIGlmIChjc3JmQ29va2llKSB7XG4gICAgICAgICAgICBjb29raWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIG5hbWU6IG9wdGlvbnMuY29va2llcy5jc3JmVG9rZW4ubmFtZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogY3NyZkNvb2tpZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zLmNvb2tpZXMuY3NyZlRva2VuLm9wdGlvbnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB7IGNhbGxiYWNrVXJsLCBjYWxsYmFja1VybENvb2tpZSB9ID0gYXdhaXQgY3JlYXRlQ2FsbGJhY2tVcmwoe1xuICAgICAgICBvcHRpb25zLFxuICAgICAgICBjb29raWVWYWx1ZTogcmVxQ29va2llcz8uW29wdGlvbnMuY29va2llcy5jYWxsYmFja1VybC5uYW1lXSxcbiAgICAgICAgcGFyYW1WYWx1ZTogcmVxQ2FsbGJhY2tVcmwsXG4gICAgfSk7XG4gICAgb3B0aW9ucy5jYWxsYmFja1VybCA9IGNhbGxiYWNrVXJsO1xuICAgIGlmIChjYWxsYmFja1VybENvb2tpZSkge1xuICAgICAgICBjb29raWVzLnB1c2goe1xuICAgICAgICAgICAgbmFtZTogb3B0aW9ucy5jb29raWVzLmNhbGxiYWNrVXJsLm5hbWUsXG4gICAgICAgICAgICB2YWx1ZTogY2FsbGJhY2tVcmxDb29raWUsXG4gICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zLmNvb2tpZXMuY2FsbGJhY2tVcmwub3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB7IG9wdGlvbnMsIGNvb2tpZXMgfTtcbn1cbi8qKiBXcmFwcyBhbiBvYmplY3Qgb2YgbWV0aG9kcyBhbmQgYWRkcyBlcnJvciBoYW5kbGluZy4gKi9cbmZ1bmN0aW9uIGV2ZW50c0Vycm9ySGFuZGxlcihtZXRob2RzLCBsb2dnZXIpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMobWV0aG9kcykucmVkdWNlKChhY2MsIG5hbWUpID0+IHtcbiAgICAgICAgYWNjW25hbWVdID0gYXN5bmMgKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWV0aG9kID0gbWV0aG9kc1tuYW1lXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgbWV0aG9kKC4uLmFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IobmV3IEV2ZW50RXJyb3IoZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbn1cbi8qKiBIYW5kbGVzIGFkYXB0ZXIgaW5kdWNlZCBlcnJvcnMuICovXG5mdW5jdGlvbiBhZGFwdGVyRXJyb3JIYW5kbGVyKGFkYXB0ZXIsIGxvZ2dlcikge1xuICAgIGlmICghYWRhcHRlcilcbiAgICAgICAgcmV0dXJuO1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhhZGFwdGVyKS5yZWR1Y2UoKGFjYywgbmFtZSkgPT4ge1xuICAgICAgICBhY2NbbmFtZV0gPSBhc3luYyAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoYGFkYXB0ZXJfJHtuYW1lfWAsIHsgYXJncyB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXRob2QgPSBhZGFwdGVyW25hbWVdO1xuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBtZXRob2QoLi4uYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEFkYXB0ZXJFcnJvcihlKTtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbn1cbiJdLCJuYW1lcyI6WyJqd3QiLCJjcmVhdGVDYWxsYmFja1VybCIsImNvb2tpZSIsImNyZWF0ZUNTUkZUb2tlbiIsIkFkYXB0ZXJFcnJvciIsIkV2ZW50RXJyb3IiLCJwYXJzZVByb3ZpZGVycyIsImxvZ2dlciIsIm1lcmdlIiwiZGVmYXVsdENhbGxiYWNrcyIsInNpZ25JbiIsInJlZGlyZWN0IiwidXJsIiwiYmFzZVVybCIsInN0YXJ0c1dpdGgiLCJVUkwiLCJvcmlnaW4iLCJzZXNzaW9uIiwidXNlciIsIm5hbWUiLCJlbWFpbCIsImltYWdlIiwiZXhwaXJlcyIsInRvSVNPU3RyaW5nIiwidG9rZW4iLCJpbml0IiwiYXV0aE9wdGlvbnMiLCJwcm92aWRlcklkIiwiYWN0aW9uIiwiY29va2llcyIsInJlcUNvb2tpZXMiLCJjYWxsYmFja1VybCIsInJlcUNhbGxiYWNrVXJsIiwiY3NyZlRva2VuIiwicmVxQ3NyZlRva2VuIiwiY3NyZkRpc2FibGVkIiwiaXNQb3N0IiwicHJvdmlkZXJzIiwicHJvdmlkZXIiLCJvcHRpb25zIiwibWF4QWdlIiwiaXNPblJlZGlyZWN0UHJveHkiLCJ0eXBlIiwicmVkaXJlY3RQcm94eVVybCIsIlR5cGVFcnJvciIsImRlYnVnIiwicGFnZXMiLCJ0aGVtZSIsImNvbG9yU2NoZW1lIiwibG9nbyIsImJyYW5kQ29sb3IiLCJidXR0b25UZXh0IiwiZGVmYXVsdENvb2tpZXMiLCJ1c2VTZWN1cmVDb29raWVzIiwicHJvdG9jb2wiLCJzdHJhdGVneSIsImFkYXB0ZXIiLCJ1cGRhdGVBZ2UiLCJnZW5lcmF0ZVNlc3Npb25Ub2tlbiIsImNyeXB0byIsInJhbmRvbVVVSUQiLCJzZWNyZXQiLCJlbmNvZGUiLCJkZWNvZGUiLCJldmVudHMiLCJldmVudHNFcnJvckhhbmRsZXIiLCJhZGFwdGVyRXJyb3JIYW5kbGVyIiwiY2FsbGJhY2tzIiwiZXhwZXJpbWVudGFsIiwiY3NyZlRva2VuVmVyaWZpZWQiLCJjc3JmQ29va2llIiwiY29va2llVmFsdWUiLCJib2R5VmFsdWUiLCJwdXNoIiwidmFsdWUiLCJjYWxsYmFja1VybENvb2tpZSIsInBhcmFtVmFsdWUiLCJtZXRob2RzIiwiT2JqZWN0Iiwia2V5cyIsInJlZHVjZSIsImFjYyIsImFyZ3MiLCJtZXRob2QiLCJlIiwiZXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/lib/init.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/lib/init.js":
/*!*********************************************!*\
  !*** ./node_modules/@auth/core/lib/init.js ***!
  \*********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defaultCallbacks: () => (/* binding */ defaultCallbacks),\n/* harmony export */   init: () => (/* binding */ init)\n/* harmony export */ });\n/* harmony import */ var _jwt_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../jwt.js */ \"(rsc)/./node_modules/@auth/core/jwt.js\");\n/* harmony import */ var _utils_callback_url_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/callback-url.js */ \"(rsc)/./node_modules/@auth/core/lib/utils/callback-url.js\");\n/* harmony import */ var _utils_cookie_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/cookie.js */ \"(rsc)/./node_modules/@auth/core/lib/utils/cookie.js\");\n/* harmony import */ var _actions_callback_oauth_csrf_token_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./actions/callback/oauth/csrf-token.js */ \"(rsc)/./node_modules/@auth/core/lib/actions/callback/oauth/csrf-token.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../errors.js */ \"(rsc)/./node_modules/@auth/core/errors.js\");\n/* harmony import */ var _utils_providers_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils/providers.js */ \"(rsc)/./node_modules/@auth/core/lib/utils/providers.js\");\n/* harmony import */ var _utils_logger_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils/logger.js */ \"(rsc)/./node_modules/@auth/core/lib/utils/logger.js\");\n/* harmony import */ var _utils_merge_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./utils/merge.js */ \"(rsc)/./node_modules/@auth/core/lib/utils/merge.js\");\n\n\n\n\n\n\n\n\nconst defaultCallbacks = {\n    signIn () {\n        return true;\n    },\n    redirect ({ url, baseUrl }) {\n        if (url.startsWith(\"/\")) return `${baseUrl}${url}`;\n        else if (new URL(url).origin === baseUrl) return url;\n        return baseUrl;\n    },\n    session ({ session }) {\n        return {\n            user: {\n                name: session.user?.name,\n                email: session.user?.email,\n                image: session.user?.image\n            },\n            expires: session.expires?.toISOString?.() ?? session.expires\n        };\n    },\n    jwt ({ token }) {\n        return token;\n    }\n};\n/** Initialize all internal options and cookies. */ async function init({ authOptions, providerId, action, url, cookies: reqCookies, callbackUrl: reqCallbackUrl, csrfToken: reqCsrfToken, csrfDisabled, isPost }) {\n    const { providers, provider } = (0,_utils_providers_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({\n        providers: authOptions.providers,\n        url,\n        providerId,\n        options: authOptions\n    });\n    const maxAge = 30 * 24 * 60 * 60; // Sessions expire after 30 days of being idle by default\n    let isOnRedirectProxy = false;\n    if ((provider?.type === \"oauth\" || provider?.type === \"oidc\") && provider.redirectProxyUrl) {\n        try {\n            isOnRedirectProxy = new URL(provider.redirectProxyUrl).origin === url.origin;\n        } catch  {\n            throw new TypeError(`redirectProxyUrl must be a valid URL. Received: ${provider.redirectProxyUrl}`);\n        }\n    }\n    // User provided options are overridden by other options,\n    // except for the options with special handling above\n    const options = {\n        debug: false,\n        pages: {},\n        theme: {\n            colorScheme: \"auto\",\n            logo: \"\",\n            brandColor: \"\",\n            buttonText: \"\"\n        },\n        // Custom options override defaults\n        ...authOptions,\n        // These computed settings can have values in userOptions but we override them\n        // and are request-specific.\n        url,\n        action,\n        // @ts-expect-errors\n        provider,\n        cookies: (0,_utils_merge_js__WEBPACK_IMPORTED_MODULE_7__.merge)(_utils_cookie_js__WEBPACK_IMPORTED_MODULE_2__.defaultCookies(authOptions.useSecureCookies ?? url.protocol === \"https:\"), authOptions.cookies),\n        providers,\n        // Session options\n        session: {\n            // If no adapter specified, force use of JSON Web Tokens (stateless)\n            strategy: authOptions.adapter ? \"database\" : \"jwt\",\n            maxAge,\n            updateAge: 24 * 60 * 60,\n            generateSessionToken: ()=>crypto.randomUUID(),\n            ...authOptions.session\n        },\n        // JWT options\n        jwt: {\n            secret: authOptions.secret,\n            maxAge: authOptions.session?.maxAge ?? maxAge,\n            encode: _jwt_js__WEBPACK_IMPORTED_MODULE_0__.encode,\n            decode: _jwt_js__WEBPACK_IMPORTED_MODULE_0__.decode,\n            ...authOptions.jwt\n        },\n        // Event messages\n        events: eventsErrorHandler(authOptions.events ?? {}, _utils_logger_js__WEBPACK_IMPORTED_MODULE_6__.logger),\n        adapter: adapterErrorHandler(authOptions.adapter, _utils_logger_js__WEBPACK_IMPORTED_MODULE_6__.logger),\n        // Callback functions\n        callbacks: {\n            ...defaultCallbacks,\n            ...authOptions.callbacks\n        },\n        logger: _utils_logger_js__WEBPACK_IMPORTED_MODULE_6__.logger,\n        callbackUrl: url.origin,\n        isOnRedirectProxy,\n        experimental: {\n            ...authOptions.experimental\n        }\n    };\n    // Init cookies\n    const cookies = [];\n    if (csrfDisabled) {\n        options.csrfTokenVerified = true;\n    } else {\n        const { csrfToken, cookie: csrfCookie, csrfTokenVerified } = await (0,_actions_callback_oauth_csrf_token_js__WEBPACK_IMPORTED_MODULE_3__.createCSRFToken)({\n            options,\n            cookieValue: reqCookies?.[options.cookies.csrfToken.name],\n            isPost,\n            bodyValue: reqCsrfToken\n        });\n        options.csrfToken = csrfToken;\n        options.csrfTokenVerified = csrfTokenVerified;\n        if (csrfCookie) {\n            cookies.push({\n                name: options.cookies.csrfToken.name,\n                value: csrfCookie,\n                options: options.cookies.csrfToken.options\n            });\n        }\n    }\n    const { callbackUrl, callbackUrlCookie } = await (0,_utils_callback_url_js__WEBPACK_IMPORTED_MODULE_1__.createCallbackUrl)({\n        options,\n        cookieValue: reqCookies?.[options.cookies.callbackUrl.name],\n        paramValue: reqCallbackUrl\n    });\n    options.callbackUrl = callbackUrl;\n    if (callbackUrlCookie) {\n        cookies.push({\n            name: options.cookies.callbackUrl.name,\n            value: callbackUrlCookie,\n            options: options.cookies.callbackUrl.options\n        });\n    }\n    return {\n        options,\n        cookies\n    };\n}\n/** Wraps an object of methods and adds error handling. */ function eventsErrorHandler(methods, logger) {\n    return Object.keys(methods).reduce((acc, name)=>{\n        acc[name] = async (...args)=>{\n            try {\n                const method = methods[name];\n                return await method(...args);\n            } catch (e) {\n                logger.error(new _errors_js__WEBPACK_IMPORTED_MODULE_4__.EventError(e));\n            }\n        };\n        return acc;\n    }, {});\n}\n/** Handles adapter induced errors. */ function adapterErrorHandler(adapter, logger) {\n    if (!adapter) return;\n    return Object.keys(adapter).reduce((acc, name)=>{\n        acc[name] = async (...args)=>{\n            try {\n                logger.debug(`adapter_${name}`, {\n                    args\n                });\n                const method = adapter[name];\n                return await method(...args);\n            } catch (e) {\n                const error = new _errors_js__WEBPACK_IMPORTED_MODULE_4__.AdapterError(e);\n                logger.error(error);\n                throw error;\n            }\n        };\n        return acc;\n    }, {});\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvaW5pdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQWlDO0FBQzJCO0FBQ2hCO0FBQzZCO0FBQ2pCO0FBQ047QUFDUDtBQUNGO0FBQ2xDLE1BQU1TLG1CQUFtQjtJQUM1QkM7UUFDSSxPQUFPO0lBQ1g7SUFDQUMsVUFBUyxFQUFFQyxHQUFHLEVBQUVDLE9BQU8sRUFBRTtRQUNyQixJQUFJRCxJQUFJRSxVQUFVLENBQUMsTUFDZixPQUFPLENBQUMsRUFBRUQsUUFBUSxFQUFFRCxJQUFJLENBQUM7YUFDeEIsSUFBSSxJQUFJRyxJQUFJSCxLQUFLSSxNQUFNLEtBQUtILFNBQzdCLE9BQU9EO1FBQ1gsT0FBT0M7SUFDWDtJQUNBSSxTQUFRLEVBQUVBLE9BQU8sRUFBRTtRQUNmLE9BQU87WUFDSEMsTUFBTTtnQkFDRkMsTUFBTUYsUUFBUUMsSUFBSSxFQUFFQztnQkFDcEJDLE9BQU9ILFFBQVFDLElBQUksRUFBRUU7Z0JBQ3JCQyxPQUFPSixRQUFRQyxJQUFJLEVBQUVHO1lBQ3pCO1lBQ0FDLFNBQVNMLFFBQVFLLE9BQU8sRUFBRUMsbUJBQW1CTixRQUFRSyxPQUFPO1FBQ2hFO0lBQ0o7SUFDQXRCLEtBQUksRUFBRXdCLEtBQUssRUFBRTtRQUNULE9BQU9BO0lBQ1g7QUFDSixFQUFFO0FBQ0YsaURBQWlELEdBQzFDLGVBQWVDLEtBQUssRUFBRUMsV0FBVyxFQUFFQyxVQUFVLEVBQUVDLE1BQU0sRUFBRWhCLEdBQUcsRUFBRWlCLFNBQVNDLFVBQVUsRUFBRUMsYUFBYUMsY0FBYyxFQUFFQyxXQUFXQyxZQUFZLEVBQUVDLFlBQVksRUFBRUMsTUFBTSxFQUFHO0lBQ2pLLE1BQU0sRUFBRUMsU0FBUyxFQUFFQyxRQUFRLEVBQUUsR0FBR2hDLCtEQUFjQSxDQUFDO1FBQzNDK0IsV0FBV1gsWUFBWVcsU0FBUztRQUNoQ3pCO1FBQ0FlO1FBQ0FZLFNBQVNiO0lBQ2I7SUFDQSxNQUFNYyxTQUFTLEtBQUss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Q3JDLEtBQUs7Z0JBQzVCLE9BQU8sTUFBTWdFLFVBQVVEO1lBQzNCLEVBQ0EsT0FBT0UsR0FBRztnQkFDTixNQUFNQyxRQUFRLElBQUlqRixvREFBWUEsQ0FBQ2dGO2dCQUMvQjdFLE9BQU84RSxLQUFLLENBQUNBO2dCQUNiLE1BQU1BO1lBQ1Y7UUFDSjtRQUNBLE9BQU9KO0lBQ1gsR0FBRyxDQUFDO0FBQ1IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LXJ4Ly4vbm9kZV9tb2R1bGVzL0BhdXRoL2NvcmUvbGliL2luaXQuanM/ZmE1ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBqd3QgZnJvbSBcIi4uL2p3dC5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlQ2FsbGJhY2tVcmwgfSBmcm9tIFwiLi91dGlscy9jYWxsYmFjay11cmwuanNcIjtcbmltcG9ydCAqIGFzIGNvb2tpZSBmcm9tIFwiLi91dGlscy9jb29raWUuanNcIjtcbmltcG9ydCB7IGNyZWF0ZUNTUkZUb2tlbiB9IGZyb20gXCIuL2FjdGlvbnMvY2FsbGJhY2svb2F1dGgvY3NyZi10b2tlbi5qc1wiO1xuaW1wb3J0IHsgQWRhcHRlckVycm9yLCBFdmVudEVycm9yIH0gZnJvbSBcIi4uL2Vycm9ycy5qc1wiO1xuaW1wb3J0IHBhcnNlUHJvdmlkZXJzIGZyb20gXCIuL3V0aWxzL3Byb3ZpZGVycy5qc1wiO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSBcIi4vdXRpbHMvbG9nZ2VyLmpzXCI7XG5pbXBvcnQgeyBtZXJnZSB9IGZyb20gXCIuL3V0aWxzL21lcmdlLmpzXCI7XG5leHBvcnQgY29uc3QgZGVmYXVsdENhbGxiYWNrcyA9IHtcbiAgICBzaWduSW4oKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgcmVkaXJlY3QoeyB1cmwsIGJhc2VVcmwgfSkge1xuICAgICAgICBpZiAodXJsLnN0YXJ0c1dpdGgoXCIvXCIpKVxuICAgICAgICAgICAgcmV0dXJuIGAke2Jhc2VVcmx9JHt1cmx9YDtcbiAgICAgICAgZWxzZSBpZiAobmV3IFVSTCh1cmwpLm9yaWdpbiA9PT0gYmFzZVVybClcbiAgICAgICAgICAgIHJldHVybiB1cmw7XG4gICAgICAgIHJldHVybiBiYXNlVXJsO1xuICAgIH0sXG4gICAgc2Vzc2lvbih7IHNlc3Npb24gfSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICAgIG5hbWU6IHNlc3Npb24udXNlcj8ubmFtZSxcbiAgICAgICAgICAgICAgICBlbWFpbDogc2Vzc2lvbi51c2VyPy5lbWFpbCxcbiAgICAgICAgICAgICAgICBpbWFnZTogc2Vzc2lvbi51c2VyPy5pbWFnZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleHBpcmVzOiBzZXNzaW9uLmV4cGlyZXM/LnRvSVNPU3RyaW5nPy4oKSA/PyBzZXNzaW9uLmV4cGlyZXMsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBqd3QoeyB0b2tlbiB9KSB7XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9LFxufTtcbi8qKiBJbml0aWFsaXplIGFsbCBpbnRlcm5hbCBvcHRpb25zIGFuZCBjb29raWVzLiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluaXQoeyBhdXRoT3B0aW9ucywgcHJvdmlkZXJJZCwgYWN0aW9uLCB1cmwsIGNvb2tpZXM6IHJlcUNvb2tpZXMsIGNhbGxiYWNrVXJsOiByZXFDYWxsYmFja1VybCwgY3NyZlRva2VuOiByZXFDc3JmVG9rZW4sIGNzcmZEaXNhYmxlZCwgaXNQb3N0LCB9KSB7XG4gICAgY29uc3QgeyBwcm92aWRlcnMsIHByb3ZpZGVyIH0gPSBwYXJzZVByb3ZpZGVycyh7XG4gICAgICAgIHByb3ZpZGVyczogYXV0aE9wdGlvbnMucHJvdmlkZXJzLFxuICAgICAgICB1cmwsXG4gICAgICAgIHByb3ZpZGVySWQsXG4gICAgICAgIG9wdGlvbnM6IGF1dGhPcHRpb25zLFxuICAgIH0pO1xuICAgIGNvbnN0IG1heEFnZSA9IDMwICogMjQgKiA2MCAqIDYwOyAvLyBTZXNzaW9ucyBleHBpcmUgYWZ0ZXIgMzAgZGF5cyBvZiBiZWluZyBpZGxlIGJ5IGRlZmF1bHRcbiAgICBsZXQgaXNPblJlZGlyZWN0UHJveHkgPSBmYWxzZTtcbiAgICBpZiAoKHByb3ZpZGVyPy50eXBlID09PSBcIm9hdXRoXCIgfHwgcHJvdmlkZXI/LnR5cGUgPT09IFwib2lkY1wiKSAmJlxuICAgICAgICBwcm92aWRlci5yZWRpcmVjdFByb3h5VXJsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpc09uUmVkaXJlY3RQcm94eSA9XG4gICAgICAgICAgICAgICAgbmV3IFVSTChwcm92aWRlci5yZWRpcmVjdFByb3h5VXJsKS5vcmlnaW4gPT09IHVybC5vcmlnaW47XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgcmVkaXJlY3RQcm94eVVybCBtdXN0IGJlIGEgdmFsaWQgVVJMLiBSZWNlaXZlZDogJHtwcm92aWRlci5yZWRpcmVjdFByb3h5VXJsfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFVzZXIgcHJvdmlkZWQgb3B0aW9ucyBhcmUgb3ZlcnJpZGRlbiBieSBvdGhlciBvcHRpb25zLFxuICAgIC8vIGV4Y2VwdCBmb3IgdGhlIG9wdGlvbnMgd2l0aCBzcGVjaWFsIGhhbmRsaW5nIGFib3ZlXG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgZGVidWc6IGZhbHNlLFxuICAgICAgICBwYWdlczoge30sXG4gICAgICAgIHRoZW1lOiB7XG4gICAgICAgICAgICBjb2xvclNjaGVtZTogXCJhdXRvXCIsXG4gICAgICAgICAgICBsb2dvOiBcIlwiLFxuICAgICAgICAgICAgYnJhbmRDb2xvcjogXCJcIixcbiAgICAgICAgICAgIGJ1dHRvblRleHQ6IFwiXCIsXG4gICAgICAgIH0sXG4gICAgICAgIC8vIEN1c3RvbSBvcHRpb25zIG92ZXJyaWRlIGRlZmF1bHRzXG4gICAgICAgIC4uLmF1dGhPcHRpb25zLFxuICAgICAgICAvLyBUaGVzZSBjb21wdXRlZCBzZXR0aW5ncyBjYW4gaGF2ZSB2YWx1ZXMgaW4gdXNlck9wdGlvbnMgYnV0IHdlIG92ZXJyaWRlIHRoZW1cbiAgICAgICAgLy8gYW5kIGFyZSByZXF1ZXN0LXNwZWNpZmljLlxuICAgICAgICB1cmwsXG4gICAgICAgIGFjdGlvbixcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcnNcbiAgICAgICAgcHJvdmlkZXIsXG4gICAgICAgIGNvb2tpZXM6IG1lcmdlKGNvb2tpZS5kZWZhdWx0Q29va2llcyhhdXRoT3B0aW9ucy51c2VTZWN1cmVDb29raWVzID8/IHVybC5wcm90b2NvbCA9PT0gXCJodHRwczpcIiksIGF1dGhPcHRpb25zLmNvb2tpZXMpLFxuICAgICAgICBwcm92aWRlcnMsXG4gICAgICAgIC8vIFNlc3Npb24gb3B0aW9uc1xuICAgICAgICBzZXNzaW9uOiB7XG4gICAgICAgICAgICAvLyBJZiBubyBhZGFwdGVyIHNwZWNpZmllZCwgZm9yY2UgdXNlIG9mIEpTT04gV2ViIFRva2VucyAoc3RhdGVsZXNzKVxuICAgICAgICAgICAgc3RyYXRlZ3k6IGF1dGhPcHRpb25zLmFkYXB0ZXIgPyBcImRhdGFiYXNlXCIgOiBcImp3dFwiLFxuICAgICAgICAgICAgbWF4QWdlLFxuICAgICAgICAgICAgdXBkYXRlQWdlOiAyNCAqIDYwICogNjAsXG4gICAgICAgICAgICBnZW5lcmF0ZVNlc3Npb25Ub2tlbjogKCkgPT4gY3J5cHRvLnJhbmRvbVVVSUQoKSxcbiAgICAgICAgICAgIC4uLmF1dGhPcHRpb25zLnNlc3Npb24sXG4gICAgICAgIH0sXG4gICAgICAgIC8vIEpXVCBvcHRpb25zXG4gICAgICAgIGp3dDoge1xuICAgICAgICAgICAgc2VjcmV0OiBhdXRoT3B0aW9ucy5zZWNyZXQsIC8vIEFzc2VydGVkIGluIGFzc2VydC50c1xuICAgICAgICAgICAgbWF4QWdlOiBhdXRoT3B0aW9ucy5zZXNzaW9uPy5tYXhBZ2UgPz8gbWF4QWdlLCAvLyBkZWZhdWx0IHRvIHNhbWUgYXMgYHNlc3Npb24ubWF4QWdlYFxuICAgICAgICAgICAgZW5jb2RlOiBqd3QuZW5jb2RlLFxuICAgICAgICAgICAgZGVjb2RlOiBqd3QuZGVjb2RlLFxuICAgICAgICAgICAgLi4uYXV0aE9wdGlvbnMuand0LFxuICAgICAgICB9LFxuICAgICAgICAvLyBFdmVudCBtZXNzYWdlc1xuICAgICAgICBldmVudHM6IGV2ZW50c0Vycm9ySGFuZGxlcihhdXRoT3B0aW9ucy5ldmVudHMgPz8ge30sIGxvZ2dlciksXG4gICAgICAgIGFkYXB0ZXI6IGFkYXB0ZXJFcnJvckhhbmRsZXIoYXV0aE9wdGlvbnMuYWRhcHRlciwgbG9nZ2VyKSxcbiAgICAgICAgLy8gQ2FsbGJhY2sgZnVuY3Rpb25zXG4gICAgICAgIGNhbGxiYWNrczogeyAuLi5kZWZhdWx0Q2FsbGJhY2tzLCAuLi5hdXRoT3B0aW9ucy5jYWxsYmFja3MgfSxcbiAgICAgICAgbG9nZ2VyLFxuICAgICAgICBjYWxsYmFja1VybDogdXJsLm9yaWdpbixcbiAgICAgICAgaXNPblJlZGlyZWN0UHJveHksXG4gICAgICAgIGV4cGVyaW1lbnRhbDoge1xuICAgICAgICAgICAgLi4uYXV0aE9wdGlvbnMuZXhwZXJpbWVudGFsLFxuICAgICAgICB9LFxuICAgIH07XG4gICAgLy8gSW5pdCBjb29raWVzXG4gICAgY29uc3QgY29va2llcyA9IFtdO1xuICAgIGlmIChjc3JmRGlzYWJsZWQpIHtcbiAgICAgICAgb3B0aW9ucy5jc3JmVG9rZW5WZXJpZmllZCA9IHRydWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCB7IGNzcmZUb2tlbiwgY29va2llOiBjc3JmQ29va2llLCBjc3JmVG9rZW5WZXJpZmllZCwgfSA9IGF3YWl0IGNyZWF0ZUNTUkZUb2tlbih7XG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgY29va2llVmFsdWU6IHJlcUNvb2tpZXM/LltvcHRpb25zLmNvb2tpZXMuY3NyZlRva2VuLm5hbWVdLFxuICAgICAgICAgICAgaXNQb3N0LFxuICAgICAgICAgICAgYm9keVZhbHVlOiByZXFDc3JmVG9rZW4sXG4gICAgICAgIH0pO1xuICAgICAgICBvcHRpb25zLmNzcmZUb2tlbiA9IGNzcmZUb2tlbjtcbiAgICAgICAgb3B0aW9ucy5jc3JmVG9rZW5WZXJpZmllZCA9IGNzcmZUb2tlblZlcmlmaWVkO1xuICAgICAgICBpZiAoY3NyZkNvb2tpZSkge1xuICAgICAgICAgICAgY29va2llcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBvcHRpb25zLmNvb2tpZXMuY3NyZlRva2VuLm5hbWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGNzcmZDb29raWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucy5jb29raWVzLmNzcmZUb2tlbi5vcHRpb25zLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgeyBjYWxsYmFja1VybCwgY2FsbGJhY2tVcmxDb29raWUgfSA9IGF3YWl0IGNyZWF0ZUNhbGxiYWNrVXJsKHtcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgY29va2llVmFsdWU6IHJlcUNvb2tpZXM/LltvcHRpb25zLmNvb2tpZXMuY2FsbGJhY2tVcmwubmFtZV0sXG4gICAgICAgIHBhcmFtVmFsdWU6IHJlcUNhbGxiYWNrVXJsLFxuICAgIH0pO1xuICAgIG9wdGlvbnMuY2FsbGJhY2tVcmwgPSBjYWxsYmFja1VybDtcbiAgICBpZiAoY2FsbGJhY2tVcmxDb29raWUpIHtcbiAgICAgICAgY29va2llcy5wdXNoKHtcbiAgICAgICAgICAgIG5hbWU6IG9wdGlvbnMuY29va2llcy5jYWxsYmFja1VybC5uYW1lLFxuICAgICAgICAgICAgdmFsdWU6IGNhbGxiYWNrVXJsQ29va2llLFxuICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucy5jb29raWVzLmNhbGxiYWNrVXJsLm9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4geyBvcHRpb25zLCBjb29raWVzIH07XG59XG4vKiogV3JhcHMgYW4gb2JqZWN0IG9mIG1ldGhvZHMgYW5kIGFkZHMgZXJyb3IgaGFuZGxpbmcuICovXG5mdW5jdGlvbiBldmVudHNFcnJvckhhbmRsZXIobWV0aG9kcywgbG9nZ2VyKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG1ldGhvZHMpLnJlZHVjZSgoYWNjLCBuYW1lKSA9PiB7XG4gICAgICAgIGFjY1tuYW1lXSA9IGFzeW5jICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1ldGhvZCA9IG1ldGhvZHNbbmFtZV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IG1ldGhvZCguLi5hcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKG5ldyBFdmVudEVycm9yKGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG59XG4vKiogSGFuZGxlcyBhZGFwdGVyIGluZHVjZWQgZXJyb3JzLiAqL1xuZnVuY3Rpb24gYWRhcHRlckVycm9ySGFuZGxlcihhZGFwdGVyLCBsb2dnZXIpIHtcbiAgICBpZiAoIWFkYXB0ZXIpXG4gICAgICAgIHJldHVybjtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoYWRhcHRlcikucmVkdWNlKChhY2MsIG5hbWUpID0+IHtcbiAgICAgICAgYWNjW25hbWVdID0gYXN5bmMgKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKGBhZGFwdGVyXyR7bmFtZX1gLCB7IGFyZ3MgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWV0aG9kID0gYWRhcHRlcltuYW1lXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgbWV0aG9kKC4uLmFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBBZGFwdGVyRXJyb3IoZSk7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG59XG4iXSwibmFtZXMiOlsiand0IiwiY3JlYXRlQ2FsbGJhY2tVcmwiLCJjb29raWUiLCJjcmVhdGVDU1JGVG9rZW4iLCJBZGFwdGVyRXJyb3IiLCJFdmVudEVycm9yIiwicGFyc2VQcm92aWRlcnMiLCJsb2dnZXIiLCJtZXJnZSIsImRlZmF1bHRDYWxsYmFja3MiLCJzaWduSW4iLCJyZWRpcmVjdCIsInVybCIsImJhc2VVcmwiLCJzdGFydHNXaXRoIiwiVVJMIiwib3JpZ2luIiwic2Vzc2lvbiIsInVzZXIiLCJuYW1lIiwiZW1haWwiLCJpbWFnZSIsImV4cGlyZXMiLCJ0b0lTT1N0cmluZyIsInRva2VuIiwiaW5pdCIsImF1dGhPcHRpb25zIiwicHJvdmlkZXJJZCIsImFjdGlvbiIsImNvb2tpZXMiLCJyZXFDb29raWVzIiwiY2FsbGJhY2tVcmwiLCJyZXFDYWxsYmFja1VybCIsImNzcmZUb2tlbiIsInJlcUNzcmZUb2tlbiIsImNzcmZEaXNhYmxlZCIsImlzUG9zdCIsInByb3ZpZGVycyIsInByb3ZpZGVyIiwib3B0aW9ucyIsIm1heEFnZSIsImlzT25SZWRpcmVjdFByb3h5IiwidHlwZSIsInJlZGlyZWN0UHJveHlVcmwiLCJUeXBlRXJyb3IiLCJkZWJ1ZyIsInBhZ2VzIiwidGhlbWUiLCJjb2xvclNjaGVtZSIsImxvZ28iLCJicmFuZENvbG9yIiwiYnV0dG9uVGV4dCIsImRlZmF1bHRDb29raWVzIiwidXNlU2VjdXJlQ29va2llcyIsInByb3RvY29sIiwic3RyYXRlZ3kiLCJhZGFwdGVyIiwidXBkYXRlQWdlIiwiZ2VuZXJhdGVTZXNzaW9uVG9rZW4iLCJjcnlwdG8iLCJyYW5kb21VVUlEIiwic2VjcmV0IiwiZW5jb2RlIiwiZGVjb2RlIiwiZXZlbnRzIiwiZXZlbnRzRXJyb3JIYW5kbGVyIiwiYWRhcHRlckVycm9ySGFuZGxlciIsImNhbGxiYWNrcyIsImV4cGVyaW1lbnRhbCIsImNzcmZUb2tlblZlcmlmaWVkIiwiY3NyZkNvb2tpZSIsImNvb2tpZVZhbHVlIiwiYm9keVZhbHVlIiwicHVzaCIsInZhbHVlIiwiY2FsbGJhY2tVcmxDb29raWUiLCJwYXJhbVZhbHVlIiwibWV0aG9kcyIsIk9iamVjdCIsImtleXMiLCJyZWR1Y2UiLCJhY2MiLCJhcmdzIiwibWV0aG9kIiwiZSIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/lib/init.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/lib/pages/error.js":
/*!****************************************************!*\
  !*** ./node_modules/@auth/core/lib/pages/error.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ErrorPage)\n/* harmony export */ });\n/* harmony import */ var preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact/jsx-runtime */ \"(action-browser)/./node_modules/preact/jsx-runtime/dist/jsxRuntime.mjs\");\n\n/** Renders an error page. */ function ErrorPage(props) {\n    const { url, error = \"default\", theme } = props;\n    const signinPageUrl = `${url}/signin`;\n    const errors = {\n        default: {\n            status: 200,\n            heading: \"Error\",\n            message: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n                children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"a\", {\n                    className: \"site\",\n                    href: url?.origin,\n                    children: url?.host\n                })\n            })\n        },\n        Configuration: {\n            status: 500,\n            heading: \"Server error\",\n            message: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                children: [\n                    (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n                        children: \"There is a problem with the server configuration.\"\n                    }),\n                    (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n                        children: \"Check the server logs for more information.\"\n                    })\n                ]\n            })\n        },\n        AccessDenied: {\n            status: 403,\n            heading: \"Access Denied\",\n            message: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                children: [\n                    (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n                        children: \"You do not have permission to sign in.\"\n                    }),\n                    (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n                        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"a\", {\n                            className: \"button\",\n                            href: signinPageUrl,\n                            children: \"Sign in\"\n                        })\n                    })\n                ]\n            })\n        },\n        Verification: {\n            status: 403,\n            heading: \"Unable to sign in\",\n            message: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                children: [\n                    (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n                        children: \"The sign in link is no longer valid.\"\n                    }),\n                    (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n                        children: \"It may have been used already or it may have expired.\"\n                    })\n                ]\n            }),\n            signin: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"a\", {\n                className: \"button\",\n                href: signinPageUrl,\n                children: \"Sign in\"\n            })\n        }\n    };\n    const { status, heading, message, signin } = errors[error] ?? errors.default;\n    return {\n        status,\n        html: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n            className: \"error\",\n            children: [\n                theme?.brandColor && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"style\", {\n                    dangerouslySetInnerHTML: {\n                        __html: `\n        :root {\n          --brand-color: ${theme?.brandColor}\n        }\n      `\n                    }\n                }),\n                (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                    className: \"card\",\n                    children: [\n                        theme?.logo && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n                            src: theme?.logo,\n                            alt: \"Logo\",\n                            className: \"logo\"\n                        }),\n                        (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"h1\", {\n                            children: heading\n                        }),\n                        (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                            className: \"message\",\n                            children: message\n                        }),\n                        signin\n                    ]\n                })\n            ]\n        })\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi9wYWdlcy9lcnJvci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFnRTtBQUNoRSwyQkFBMkIsR0FDWixTQUFTSSxVQUFVQyxLQUFLO0lBQ25DLE1BQU0sRUFBRUMsR0FBRyxFQUFFQyxRQUFRLFNBQVMsRUFBRUMsS0FBSyxFQUFFLEdBQUdIO0lBQzFDLE1BQU1JLGdCQUFnQixDQUFDLEVBQUVILElBQUksT0FBTyxDQUFDO0lBQ3JDLE1BQU1JLFNBQVM7UUFDWEMsU0FBUztZQUNMQyxRQUFRO1lBQ1JDLFNBQVM7WUFDVEMsU0FBVWIsdURBQUlBLENBQUMsS0FBSztnQkFBRWMsVUFBVWQsdURBQUlBLENBQUMsS0FBSztvQkFBRWUsV0FBVztvQkFBUUMsTUFBTVgsS0FBS1k7b0JBQVFILFVBQVVULEtBQUthO2dCQUFLO1lBQUc7UUFDN0c7UUFDQUMsZUFBZTtZQUNYUixRQUFRO1lBQ1JDLFNBQVM7WUFDVEMsU0FBVVgsd0RBQUtBLENBQUMsT0FBTztnQkFBRVksVUFBVTtvQkFBQ2QsdURBQUlBLENBQUMsS0FBSzt3QkFBRWMsVUFBVTtvQkFBb0Q7b0JBQUlkLHVEQUFJQSxDQUFDLEtBQUs7d0JBQUVjLFVBQVU7b0JBQThDO2lCQUFHO1lBQUM7UUFDOUw7UUFDQU0sY0FBYztZQUNWVCxRQUFRO1lBQ1JDLFNBQVM7WUFDVEMsU0FBVVgsd0RBQUtBLENBQUMsT0FBTztnQkFBRVksVUFBVTtvQkFBQ2QsdURBQUlBLENBQUMsS0FBSzt3QkFBRWMsVUFBVTtvQkFBeUM7b0JBQUlkLHVEQUFJQSxDQUFDLEtBQUs7d0JBQUVjLFVBQVVkLHVEQUFJQSxDQUFDLEtBQUs7NEJBQUVlLFdBQVc7NEJBQVVDLE1BQU1SOzRCQUFlTSxVQUFVO3dCQUFVO29CQUFHO2lCQUFHO1lBQUM7UUFDbE47UUFDQU8sY0FBYztZQUNWVixRQUFRO1lBQ1JDLFNBQVM7WUFDVEMsU0FBVVgsd0RBQUtBLENBQUMsT0FBTztnQkFBRVksVUFBVTtvQkFBQ2QsdURBQUlBLENBQUMsS0FBSzt3QkFBRWMsVUFBVTtvQkFBdUM7b0JBQUlkLHVEQUFJQSxDQUFDLEtBQUs7d0JBQUVjLFVBQVU7b0JBQXdEO2lCQUFHO1lBQUM7WUFDdkxRLFFBQVN0Qix1REFBSUEsQ0FBQyxLQUFLO2dCQUFFZSxXQUFXO2dCQUFVQyxNQUFNUjtnQkFBZU0sVUFBVTtZQUFVO1FBQ3ZGO0lBQ0o7SUFDQSxNQUFNLEVBQUVILE1BQU0sRUFBRUMsT0FBTyxFQUFFQyxPQUFPLEVBQUVTLE1BQU0sRUFBRSxHQUFHYixNQUFNLENBQUNILE1BQU0sSUFBSUcsT0FBT0MsT0FBTztJQUM1RSxPQUFPO1FBQ0hDO1FBQ0FZLE1BQU9yQix3REFBS0EsQ0FBQyxPQUFPO1lBQUVhLFdBQVc7WUFBU0QsVUFBVTtnQkFBQ1AsT0FBT2lCLGNBQWV4Qix1REFBSUEsQ0FBQyxTQUFTO29CQUFFeUIseUJBQXlCO3dCQUNwR0MsUUFBUSxDQUFDOzt5QkFFUixFQUFFbkIsT0FBT2lCLFdBQVc7O01BRXZDLENBQUM7b0JBQ2E7Z0JBQUU7Z0JBQUt0Qix3REFBS0EsQ0FBQyxPQUFPO29CQUFFYSxXQUFXO29CQUFRRCxVQUFVO3dCQUFDUCxPQUFPb0IsUUFBUTNCLHVEQUFJQSxDQUFDLE9BQU87NEJBQUU0QixLQUFLckIsT0FBT29COzRCQUFNRSxLQUFLOzRCQUFRZCxXQUFXO3dCQUFPO3dCQUFJZix1REFBSUEsQ0FBQyxNQUFNOzRCQUFFYyxVQUFVRjt3QkFBUTt3QkFBSVosdURBQUlBLENBQUMsT0FBTzs0QkFBRWUsV0FBVzs0QkFBV0QsVUFBVUQ7d0JBQVE7d0JBQUlTO3FCQUFPO2dCQUFDO2FBQUc7UUFBQztJQUMvUDtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC1yeC8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi9wYWdlcy9lcnJvci5qcz85MDM4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInByZWFjdC9qc3gtcnVudGltZVwiO1xuLyoqIFJlbmRlcnMgYW4gZXJyb3IgcGFnZS4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEVycm9yUGFnZShwcm9wcykge1xuICAgIGNvbnN0IHsgdXJsLCBlcnJvciA9IFwiZGVmYXVsdFwiLCB0aGVtZSB9ID0gcHJvcHM7XG4gICAgY29uc3Qgc2lnbmluUGFnZVVybCA9IGAke3VybH0vc2lnbmluYDtcbiAgICBjb25zdCBlcnJvcnMgPSB7XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICAgICAgaGVhZGluZzogXCJFcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogKF9qc3goXCJwXCIsIHsgY2hpbGRyZW46IF9qc3goXCJhXCIsIHsgY2xhc3NOYW1lOiBcInNpdGVcIiwgaHJlZjogdXJsPy5vcmlnaW4sIGNoaWxkcmVuOiB1cmw/Lmhvc3QgfSkgfSkpLFxuICAgICAgICB9LFxuICAgICAgICBDb25maWd1cmF0aW9uOiB7XG4gICAgICAgICAgICBzdGF0dXM6IDUwMCxcbiAgICAgICAgICAgIGhlYWRpbmc6IFwiU2VydmVyIGVycm9yXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiAoX2pzeHMoXCJkaXZcIiwgeyBjaGlsZHJlbjogW19qc3goXCJwXCIsIHsgY2hpbGRyZW46IFwiVGhlcmUgaXMgYSBwcm9ibGVtIHdpdGggdGhlIHNlcnZlciBjb25maWd1cmF0aW9uLlwiIH0pLCBfanN4KFwicFwiLCB7IGNoaWxkcmVuOiBcIkNoZWNrIHRoZSBzZXJ2ZXIgbG9ncyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cIiB9KV0gfSkpLFxuICAgICAgICB9LFxuICAgICAgICBBY2Nlc3NEZW5pZWQ6IHtcbiAgICAgICAgICAgIHN0YXR1czogNDAzLFxuICAgICAgICAgICAgaGVhZGluZzogXCJBY2Nlc3MgRGVuaWVkXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiAoX2pzeHMoXCJkaXZcIiwgeyBjaGlsZHJlbjogW19qc3goXCJwXCIsIHsgY2hpbGRyZW46IFwiWW91IGRvIG5vdCBoYXZlIHBlcm1pc3Npb24gdG8gc2lnbiBpbi5cIiB9KSwgX2pzeChcInBcIiwgeyBjaGlsZHJlbjogX2pzeChcImFcIiwgeyBjbGFzc05hbWU6IFwiYnV0dG9uXCIsIGhyZWY6IHNpZ25pblBhZ2VVcmwsIGNoaWxkcmVuOiBcIlNpZ24gaW5cIiB9KSB9KV0gfSkpLFxuICAgICAgICB9LFxuICAgICAgICBWZXJpZmljYXRpb246IHtcbiAgICAgICAgICAgIHN0YXR1czogNDAzLFxuICAgICAgICAgICAgaGVhZGluZzogXCJVbmFibGUgdG8gc2lnbiBpblwiLFxuICAgICAgICAgICAgbWVzc2FnZTogKF9qc3hzKFwiZGl2XCIsIHsgY2hpbGRyZW46IFtfanN4KFwicFwiLCB7IGNoaWxkcmVuOiBcIlRoZSBzaWduIGluIGxpbmsgaXMgbm8gbG9uZ2VyIHZhbGlkLlwiIH0pLCBfanN4KFwicFwiLCB7IGNoaWxkcmVuOiBcIkl0IG1heSBoYXZlIGJlZW4gdXNlZCBhbHJlYWR5IG9yIGl0IG1heSBoYXZlIGV4cGlyZWQuXCIgfSldIH0pKSxcbiAgICAgICAgICAgIHNpZ25pbjogKF9qc3goXCJhXCIsIHsgY2xhc3NOYW1lOiBcImJ1dHRvblwiLCBocmVmOiBzaWduaW5QYWdlVXJsLCBjaGlsZHJlbjogXCJTaWduIGluXCIgfSkpLFxuICAgICAgICB9LFxuICAgIH07XG4gICAgY29uc3QgeyBzdGF0dXMsIGhlYWRpbmcsIG1lc3NhZ2UsIHNpZ25pbiB9ID0gZXJyb3JzW2Vycm9yXSA/PyBlcnJvcnMuZGVmYXVsdDtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdGF0dXMsXG4gICAgICAgIGh0bWw6IChfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJlcnJvclwiLCBjaGlsZHJlbjogW3RoZW1lPy5icmFuZENvbG9yICYmIChfanN4KFwic3R5bGVcIiwgeyBkYW5nZXJvdXNseVNldElubmVySFRNTDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgX19odG1sOiBgXG4gICAgICAgIDpyb290IHtcbiAgICAgICAgICAtLWJyYW5kLWNvbG9yOiAke3RoZW1lPy5icmFuZENvbG9yfVxuICAgICAgICB9XG4gICAgICBgLFxuICAgICAgICAgICAgICAgICAgICB9IH0pKSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2FyZFwiLCBjaGlsZHJlbjogW3RoZW1lPy5sb2dvICYmIF9qc3goXCJpbWdcIiwgeyBzcmM6IHRoZW1lPy5sb2dvLCBhbHQ6IFwiTG9nb1wiLCBjbGFzc05hbWU6IFwibG9nb1wiIH0pLCBfanN4KFwiaDFcIiwgeyBjaGlsZHJlbjogaGVhZGluZyB9KSwgX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJtZXNzYWdlXCIsIGNoaWxkcmVuOiBtZXNzYWdlIH0pLCBzaWduaW5dIH0pXSB9KSksXG4gICAgfTtcbn1cbiJdLCJuYW1lcyI6WyJqc3giLCJfanN4IiwianN4cyIsIl9qc3hzIiwiRXJyb3JQYWdlIiwicHJvcHMiLCJ1cmwiLCJlcnJvciIsInRoZW1lIiwic2lnbmluUGFnZVVybCIsImVycm9ycyIsImRlZmF1bHQiLCJzdGF0dXMiLCJoZWFkaW5nIiwibWVzc2FnZSIsImNoaWxkcmVuIiwiY2xhc3NOYW1lIiwiaHJlZiIsIm9yaWdpbiIsImhvc3QiLCJDb25maWd1cmF0aW9uIiwiQWNjZXNzRGVuaWVkIiwiVmVyaWZpY2F0aW9uIiwic2lnbmluIiwiaHRtbCIsImJyYW5kQ29sb3IiLCJkYW5nZXJvdXNseVNldElubmVySFRNTCIsIl9faHRtbCIsImxvZ28iLCJzcmMiLCJhbHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/lib/pages/error.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/lib/pages/error.js":
/*!****************************************************!*\
  !*** ./node_modules/@auth/core/lib/pages/error.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ErrorPage)\n/* harmony export */ });\n/* harmony import */ var preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact/jsx-runtime */ \"(rsc)/./node_modules/preact/jsx-runtime/dist/jsxRuntime.mjs\");\n\n/** Renders an error page. */ function ErrorPage(props) {\n    const { url, error = \"default\", theme } = props;\n    const signinPageUrl = `${url}/signin`;\n    const errors = {\n        default: {\n            status: 200,\n            heading: \"Error\",\n            message: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n                children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"a\", {\n                    className: \"site\",\n                    href: url?.origin,\n                    children: url?.host\n                })\n            })\n        },\n        Configuration: {\n            status: 500,\n            heading: \"Server error\",\n            message: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                children: [\n                    (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n                        children: \"There is a problem with the server configuration.\"\n                    }),\n                    (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n                        children: \"Check the server logs for more information.\"\n                    })\n                ]\n            })\n        },\n        AccessDenied: {\n            status: 403,\n            heading: \"Access Denied\",\n            message: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                children: [\n                    (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n                        children: \"You do not have permission to sign in.\"\n                    }),\n                    (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n                        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"a\", {\n                            className: \"button\",\n                            href: signinPageUrl,\n                            children: \"Sign in\"\n                        })\n                    })\n                ]\n            })\n        },\n        Verification: {\n            status: 403,\n            heading: \"Unable to sign in\",\n            message: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                children: [\n                    (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n                        children: \"The sign in link is no longer valid.\"\n                    }),\n                    (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n                        children: \"It may have been used already or it may have expired.\"\n                    })\n                ]\n            }),\n            signin: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"a\", {\n                className: \"button\",\n                href: signinPageUrl,\n                children: \"Sign in\"\n            })\n        }\n    };\n    const { status, heading, message, signin } = errors[error] ?? errors.default;\n    return {\n        status,\n        html: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n            className: \"error\",\n            children: [\n                theme?.brandColor && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"style\", {\n                    dangerouslySetInnerHTML: {\n                        __html: `\n        :root {\n          --brand-color: ${theme?.brandColor}\n        }\n      `\n                    }\n                }),\n                (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                    className: \"card\",\n                    children: [\n                        theme?.logo && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n                            src: theme?.logo,\n                            alt: \"Logo\",\n                            className: \"logo\"\n                        }),\n                        (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"h1\", {\n                            children: heading\n                        }),\n                        (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                            className: \"message\",\n                            children: message\n                        }),\n                        signin\n                    ]\n                })\n            ]\n        })\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvcGFnZXMvZXJyb3IuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBZ0U7QUFDaEUsMkJBQTJCLEdBQ1osU0FBU0ksVUFBVUMsS0FBSztJQUNuQyxNQUFNLEVBQUVDLEdBQUcsRUFBRUMsUUFBUSxTQUFTLEVBQUVDLEtBQUssRUFBRSxHQUFHSDtJQUMxQyxNQUFNSSxnQkFBZ0IsQ0FBQyxFQUFFSCxJQUFJLE9BQU8sQ0FBQztJQUNyQyxNQUFNSSxTQUFTO1FBQ1hDLFNBQVM7WUFDTEMsUUFBUTtZQUNSQyxTQUFTO1lBQ1RDLFNBQVViLHVEQUFJQSxDQUFDLEtBQUs7Z0JBQUVjLFVBQVVkLHVEQUFJQSxDQUFDLEtBQUs7b0JBQUVlLFdBQVc7b0JBQVFDLE1BQU1YLEtBQUtZO29CQUFRSCxVQUFVVCxLQUFLYTtnQkFBSztZQUFHO1FBQzdHO1FBQ0FDLGVBQWU7WUFDWFIsUUFBUTtZQUNSQyxTQUFTO1lBQ1RDLFNBQVVYLHdEQUFLQSxDQUFDLE9BQU87Z0JBQUVZLFVBQVU7b0JBQUNkLHVEQUFJQSxDQUFDLEtBQUs7d0JBQUVjLFVBQVU7b0JBQW9EO29CQUFJZCx1REFBSUEsQ0FBQyxLQUFLO3dCQUFFYyxVQUFVO29CQUE4QztpQkFBRztZQUFDO1FBQzlMO1FBQ0FNLGNBQWM7WUFDVlQsUUFBUTtZQUNSQyxTQUFTO1lBQ1RDLFNBQVVYLHdEQUFLQSxDQUFDLE9BQU87Z0JBQUVZLFVBQVU7b0JBQUNkLHVEQUFJQSxDQUFDLEtBQUs7d0JBQUVjLFVBQVU7b0JBQXlDO29CQUFJZCx1REFBSUEsQ0FBQyxLQUFLO3dCQUFFYyxVQUFVZCx1REFBSUEsQ0FBQyxLQUFLOzRCQUFFZSxXQUFXOzRCQUFVQyxNQUFNUjs0QkFBZU0sVUFBVTt3QkFBVTtvQkFBRztpQkFBRztZQUFDO1FBQ2xOO1FBQ0FPLGNBQWM7WUFDVlYsUUFBUTtZQUNSQyxTQUFTO1lBQ1RDLFNBQVVYLHdEQUFLQSxDQUFDLE9BQU87Z0JBQUVZLFVBQVU7b0JBQUNkLHVEQUFJQSxDQUFDLEtBQUs7d0JBQUVjLFVBQVU7b0JBQXVDO29CQUFJZCx1REFBSUEsQ0FBQyxLQUFLO3dCQUFFYyxVQUFVO29CQUF3RDtpQkFBRztZQUFDO1lBQ3ZMUSxRQUFTdEIsdURBQUlBLENBQUMsS0FBSztnQkFBRWUsV0FBVztnQkFBVUMsTUFBTVI7Z0JBQWVNLFVBQVU7WUFBVTtRQUN2RjtJQUNKO0lBQ0EsTUFBTSxFQUFFSCxNQUFNLEVBQUVDLE9BQU8sRUFBRUMsT0FBTyxFQUFFUyxNQUFNLEVBQUUsR0FBR2IsTUFBTSxDQUFDSCxNQUFNLElBQUlHLE9BQU9DLE9BQU87SUFDNUUsT0FBTztRQUNIQztRQUNBWSxNQUFPckIsd0RBQUtBLENBQUMsT0FBTztZQUFFYSxXQUFXO1lBQVNELFVBQVU7Z0JBQUNQLE9BQU9pQixjQUFleEIsdURBQUlBLENBQUMsU0FBUztvQkFBRXlCLHlCQUF5Qjt3QkFDcEdDLFFBQVEsQ0FBQzs7eUJBRVIsRUFBRW5CLE9BQU9pQixXQUFXOztNQUV2QyxDQUFDO29CQUNhO2dCQUFFO2dCQUFLdEIsd0RBQUtBLENBQUMsT0FBTztvQkFBRWEsV0FBVztvQkFBUUQsVUFBVTt3QkFBQ1AsT0FBT29CLFFBQVEzQix1REFBSUEsQ0FBQyxPQUFPOzRCQUFFNEIsS0FBS3JCLE9BQU9vQjs0QkFBTUUsS0FBSzs0QkFBUWQsV0FBVzt3QkFBTzt3QkFBSWYsdURBQUlBLENBQUMsTUFBTTs0QkFBRWMsVUFBVUY7d0JBQVE7d0JBQUlaLHVEQUFJQSxDQUFDLE9BQU87NEJBQUVlLFdBQVc7NEJBQVdELFVBQVVEO3dCQUFRO3dCQUFJUztxQkFBTztnQkFBQzthQUFHO1FBQUM7SUFDL1A7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtcngvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvcGFnZXMvZXJyb3IuanM/OTAzOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJwcmVhY3QvanN4LXJ1bnRpbWVcIjtcbi8qKiBSZW5kZXJzIGFuIGVycm9yIHBhZ2UuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBFcnJvclBhZ2UocHJvcHMpIHtcbiAgICBjb25zdCB7IHVybCwgZXJyb3IgPSBcImRlZmF1bHRcIiwgdGhlbWUgfSA9IHByb3BzO1xuICAgIGNvbnN0IHNpZ25pblBhZ2VVcmwgPSBgJHt1cmx9L3NpZ25pbmA7XG4gICAgY29uc3QgZXJyb3JzID0ge1xuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAgICAgIGhlYWRpbmc6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IChfanN4KFwicFwiLCB7IGNoaWxkcmVuOiBfanN4KFwiYVwiLCB7IGNsYXNzTmFtZTogXCJzaXRlXCIsIGhyZWY6IHVybD8ub3JpZ2luLCBjaGlsZHJlbjogdXJsPy5ob3N0IH0pIH0pKSxcbiAgICAgICAgfSxcbiAgICAgICAgQ29uZmlndXJhdGlvbjoge1xuICAgICAgICAgICAgc3RhdHVzOiA1MDAsXG4gICAgICAgICAgICBoZWFkaW5nOiBcIlNlcnZlciBlcnJvclwiLFxuICAgICAgICAgICAgbWVzc2FnZTogKF9qc3hzKFwiZGl2XCIsIHsgY2hpbGRyZW46IFtfanN4KFwicFwiLCB7IGNoaWxkcmVuOiBcIlRoZXJlIGlzIGEgcHJvYmxlbSB3aXRoIHRoZSBzZXJ2ZXIgY29uZmlndXJhdGlvbi5cIiB9KSwgX2pzeChcInBcIiwgeyBjaGlsZHJlbjogXCJDaGVjayB0aGUgc2VydmVyIGxvZ3MgZm9yIG1vcmUgaW5mb3JtYXRpb24uXCIgfSldIH0pKSxcbiAgICAgICAgfSxcbiAgICAgICAgQWNjZXNzRGVuaWVkOiB7XG4gICAgICAgICAgICBzdGF0dXM6IDQwMyxcbiAgICAgICAgICAgIGhlYWRpbmc6IFwiQWNjZXNzIERlbmllZFwiLFxuICAgICAgICAgICAgbWVzc2FnZTogKF9qc3hzKFwiZGl2XCIsIHsgY2hpbGRyZW46IFtfanN4KFwicFwiLCB7IGNoaWxkcmVuOiBcIllvdSBkbyBub3QgaGF2ZSBwZXJtaXNzaW9uIHRvIHNpZ24gaW4uXCIgfSksIF9qc3goXCJwXCIsIHsgY2hpbGRyZW46IF9qc3goXCJhXCIsIHsgY2xhc3NOYW1lOiBcImJ1dHRvblwiLCBocmVmOiBzaWduaW5QYWdlVXJsLCBjaGlsZHJlbjogXCJTaWduIGluXCIgfSkgfSldIH0pKSxcbiAgICAgICAgfSxcbiAgICAgICAgVmVyaWZpY2F0aW9uOiB7XG4gICAgICAgICAgICBzdGF0dXM6IDQwMyxcbiAgICAgICAgICAgIGhlYWRpbmc6IFwiVW5hYmxlIHRvIHNpZ24gaW5cIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IChfanN4cyhcImRpdlwiLCB7IGNoaWxkcmVuOiBbX2pzeChcInBcIiwgeyBjaGlsZHJlbjogXCJUaGUgc2lnbiBpbiBsaW5rIGlzIG5vIGxvbmdlciB2YWxpZC5cIiB9KSwgX2pzeChcInBcIiwgeyBjaGlsZHJlbjogXCJJdCBtYXkgaGF2ZSBiZWVuIHVzZWQgYWxyZWFkeSBvciBpdCBtYXkgaGF2ZSBleHBpcmVkLlwiIH0pXSB9KSksXG4gICAgICAgICAgICBzaWduaW46IChfanN4KFwiYVwiLCB7IGNsYXNzTmFtZTogXCJidXR0b25cIiwgaHJlZjogc2lnbmluUGFnZVVybCwgY2hpbGRyZW46IFwiU2lnbiBpblwiIH0pKSxcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIGNvbnN0IHsgc3RhdHVzLCBoZWFkaW5nLCBtZXNzYWdlLCBzaWduaW4gfSA9IGVycm9yc1tlcnJvcl0gPz8gZXJyb3JzLmRlZmF1bHQ7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICBodG1sOiAoX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZXJyb3JcIiwgY2hpbGRyZW46IFt0aGVtZT8uYnJhbmRDb2xvciAmJiAoX2pzeChcInN0eWxlXCIsIHsgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9faHRtbDogYFxuICAgICAgICA6cm9vdCB7XG4gICAgICAgICAgLS1icmFuZC1jb2xvcjogJHt0aGVtZT8uYnJhbmRDb2xvcn1cbiAgICAgICAgfVxuICAgICAgYCxcbiAgICAgICAgICAgICAgICAgICAgfSB9KSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNhcmRcIiwgY2hpbGRyZW46IFt0aGVtZT8ubG9nbyAmJiBfanN4KFwiaW1nXCIsIHsgc3JjOiB0aGVtZT8ubG9nbywgYWx0OiBcIkxvZ29cIiwgY2xhc3NOYW1lOiBcImxvZ29cIiB9KSwgX2pzeChcImgxXCIsIHsgY2hpbGRyZW46IGhlYWRpbmcgfSksIF9qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibWVzc2FnZVwiLCBjaGlsZHJlbjogbWVzc2FnZSB9KSwgc2lnbmluXSB9KV0gfSkpLFxuICAgIH07XG59XG4iXSwibmFtZXMiOlsianN4IiwiX2pzeCIsImpzeHMiLCJfanN4cyIsIkVycm9yUGFnZSIsInByb3BzIiwidXJsIiwiZXJyb3IiLCJ0aGVtZSIsInNpZ25pblBhZ2VVcmwiLCJlcnJvcnMiLCJkZWZhdWx0Iiwic3RhdHVzIiwiaGVhZGluZyIsIm1lc3NhZ2UiLCJjaGlsZHJlbiIsImNsYXNzTmFtZSIsImhyZWYiLCJvcmlnaW4iLCJob3N0IiwiQ29uZmlndXJhdGlvbiIsIkFjY2Vzc0RlbmllZCIsIlZlcmlmaWNhdGlvbiIsInNpZ25pbiIsImh0bWwiLCJicmFuZENvbG9yIiwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiLCJfX2h0bWwiLCJsb2dvIiwic3JjIiwiYWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/lib/pages/error.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/lib/pages/index.js":
/*!****************************************************!*\
  !*** ./node_modules/@auth/core/lib/pages/index.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ renderPage)\n/* harmony export */ });\n/* harmony import */ var preact_render_to_string__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact-render-to-string */ \"(action-browser)/./node_modules/preact-render-to-string/dist/index.mjs\");\n/* harmony import */ var _error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./error.js */ \"(action-browser)/./node_modules/@auth/core/lib/pages/error.js\");\n/* harmony import */ var _signin_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./signin.js */ \"(action-browser)/./node_modules/@auth/core/lib/pages/signin.js\");\n/* harmony import */ var _signout_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./signout.js */ \"(action-browser)/./node_modules/@auth/core/lib/pages/signout.js\");\n/* harmony import */ var _styles_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./styles.js */ \"(action-browser)/./node_modules/@auth/core/lib/pages/styles.js\");\n/* harmony import */ var _verify_request_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./verify-request.js */ \"(action-browser)/./node_modules/@auth/core/lib/pages/verify-request.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../errors.js */ \"(action-browser)/./node_modules/@auth/core/errors.js\");\n\n\n\n\n\n\n\nfunction send({ html, title, status, cookies, theme, headTags }) {\n    return {\n        cookies,\n        status,\n        headers: {\n            \"Content-Type\": \"text/html\"\n        },\n        body: `<!DOCTYPE html><html lang=\"en\"><head><meta charset=\"UTF-8\"><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><style>${_styles_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]}</style><title>${title}</title>${headTags ?? \"\"}</head><body class=\"__next-auth-theme-${theme?.colorScheme ?? \"auto\"}\"><div class=\"page\">${(0,preact_render_to_string__WEBPACK_IMPORTED_MODULE_0__.renderToString)(html)}</div></body></html>`\n    };\n}\n/**\n * Unless the user defines their [own pages](https://authjs.dev/reference/core#pages),\n * we render a set of default ones, using Preact SSR.\n */ function renderPage(params) {\n    const { url, theme, query, cookies, pages, providers } = params;\n    return {\n        csrf (skip, options, cookies) {\n            if (!skip) {\n                return {\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: {\n                        csrfToken: options.csrfToken\n                    },\n                    cookies\n                };\n            }\n            options.logger.warn(\"csrf-disabled\");\n            cookies.push({\n                name: options.cookies.csrfToken.name,\n                value: \"\",\n                options: {\n                    ...options.cookies.csrfToken.options,\n                    maxAge: 0\n                }\n            });\n            return {\n                status: 404,\n                cookies\n            };\n        },\n        providers (providers) {\n            return {\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: providers.reduce((acc, { id, name, type, signinUrl, callbackUrl })=>{\n                    acc[id] = {\n                        id,\n                        name,\n                        type,\n                        signinUrl,\n                        callbackUrl\n                    };\n                    return acc;\n                }, {})\n            };\n        },\n        signin (providerId, error) {\n            if (providerId) throw new _errors_js__WEBPACK_IMPORTED_MODULE_6__.UnknownAction(\"Unsupported action\");\n            if (pages?.signIn) {\n                let signinUrl = `${pages.signIn}${pages.signIn.includes(\"?\") ? \"&\" : \"?\"}${new URLSearchParams({\n                    callbackUrl: params.callbackUrl ?? \"/\"\n                })}`;\n                if (error) signinUrl = `${signinUrl}&${new URLSearchParams({\n                    error\n                })}`;\n                return {\n                    redirect: signinUrl,\n                    cookies\n                };\n            }\n            // If we have a webauthn provider with conditional UI and\n            // a simpleWebAuthnBrowserScript is defined, we need to\n            // render the script in the page.\n            const webauthnProvider = providers?.find((p)=>p.type === \"webauthn\" && p.enableConditionalUI && !!p.simpleWebAuthnBrowserVersion);\n            let simpleWebAuthnBrowserScript = \"\";\n            if (webauthnProvider) {\n                const { simpleWebAuthnBrowserVersion } = webauthnProvider;\n                simpleWebAuthnBrowserScript = `<script src=\"https://unpkg.com/@simplewebauthn/browser@${simpleWebAuthnBrowserVersion}/dist/bundle/index.umd.min.js\" crossorigin=\"anonymous\"></script>`;\n            }\n            return send({\n                cookies,\n                theme,\n                html: (0,_signin_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n                    csrfToken: params.csrfToken,\n                    // We only want to render providers\n                    providers: params.providers?.filter((provider)=>// Always render oauth and email type providers\n                        [\n                            \"email\",\n                            \"oauth\",\n                            \"oidc\"\n                        ].includes(provider.type) || // Only render credentials type provider if credentials are defined\n                        provider.type === \"credentials\" && provider.credentials || // Only render webauthn type provider if formFields are defined\n                        provider.type === \"webauthn\" && provider.formFields || // Don't render other provider types\n                        false),\n                    callbackUrl: params.callbackUrl,\n                    theme: params.theme,\n                    error,\n                    ...query\n                }),\n                title: \"Sign In\",\n                headTags: simpleWebAuthnBrowserScript\n            });\n        },\n        signout () {\n            if (pages?.signOut) return {\n                redirect: pages.signOut,\n                cookies\n            };\n            return send({\n                cookies,\n                theme,\n                html: (0,_signout_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n                    csrfToken: params.csrfToken,\n                    url,\n                    theme\n                }),\n                title: \"Sign Out\"\n            });\n        },\n        verifyRequest (props) {\n            if (pages?.verifyRequest) return {\n                redirect: pages.verifyRequest,\n                cookies\n            };\n            return send({\n                cookies,\n                theme,\n                html: (0,_verify_request_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({\n                    url,\n                    theme,\n                    ...props\n                }),\n                title: \"Verify Request\"\n            });\n        },\n        error (error) {\n            if (pages?.error) {\n                return {\n                    redirect: `${pages.error}${pages.error.includes(\"?\") ? \"&\" : \"?\"}error=${error}`,\n                    cookies\n                };\n            }\n            return send({\n                cookies,\n                theme,\n                // @ts-expect-error fix error type\n                ...(0,_error_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n                    url,\n                    theme,\n                    error\n                }),\n                title: \"Error\"\n            });\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi9wYWdlcy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUF5RDtBQUN0QjtBQUNFO0FBQ0U7QUFDVDtBQUNzQjtBQUNKO0FBQ2hELFNBQVNPLEtBQUssRUFBRUMsSUFBSSxFQUFFQyxLQUFLLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxFQUFFQyxLQUFLLEVBQUVDLFFBQVEsRUFBRztJQUM1RCxPQUFPO1FBQ0hGO1FBQ0FEO1FBQ0FJLFNBQVM7WUFBRSxnQkFBZ0I7UUFBWTtRQUN2Q0MsTUFBTSxDQUFDLDZMQUE2TCxFQUFFWCxrREFBR0EsQ0FBQyxlQUFlLEVBQUVLLE1BQU0sUUFBUSxFQUFFSSxZQUFZLEdBQUcsc0NBQXNDLEVBQUVELE9BQU9JLGVBQWUsT0FBTyxvQkFBb0IsRUFBRWhCLHVFQUFjQSxDQUFDUSxNQUFNLG9CQUFvQixDQUFDO0lBQ25ZO0FBQ0o7QUFDQTs7O0NBR0MsR0FDYyxTQUFTUyxXQUFXQyxNQUFNO0lBQ3JDLE1BQU0sRUFBRUMsR0FBRyxFQUFFUCxLQUFLLEVBQUVRLEtBQUssRUFBRVQsT0FBTyxFQUFFVSxLQUFLLEVBQUVDLFNBQVMsRUFBRSxHQUFHSjtJQUN6RCxPQUFPO1FBQ0hLLE1BQUtDLElBQUksRUFBRUMsT0FBTyxFQUFFZCxPQUFPO1lBQ3ZCLElBQUksQ0FBQ2EsTUFBTTtnQkFDUCxPQUFPO29CQUNIVixTQUFTO3dCQUFFLGdCQUFnQjtvQkFBbUI7b0JBQzlDQyxNQUFNO3dCQUFFVyxXQUFXRCxRQUFRQyxTQUFTO29CQUFDO29CQUNyQ2Y7Z0JBQ0o7WUFDSjtZQUNBYyxRQUFRRSxNQUFNLENBQUNDLElBQUksQ0FBQztZQUNwQmpCLFFBQVFrQixJQUFJLENBQUM7Z0JBQ1RDLE1BQU1MLFFBQVFkLE9BQU8sQ0FBQ2UsU0FBUyxDQUFDSSxJQUFJO2dCQUNwQ0MsT0FBTztnQkFDUE4sU0FBUztvQkFBRSxHQUFHQSxRQUFRZCxPQUFPLENBQUNlLFNBQVMsQ0FBQ0QsT0FBTztvQkFBRU8sUUFBUTtnQkFBRTtZQUMvRDtZQUNBLE9BQU87Z0JBQUV0QixRQUFRO2dCQUFLQztZQUFRO1FBQ2xDO1FBQ0FXLFdBQVVBLFNBQVM7WUFDZixPQUFPO2dCQUNIUixTQUFTO29CQUFFLGdCQUFnQjtnQkFBbUI7Z0JBQzlDQyxNQUFNTyxVQUFVVyxNQUFNLENBQUMsQ0FBQ0MsS0FBSyxFQUFFQyxFQUFFLEVBQUVMLElBQUksRUFBRU0sSUFBSSxFQUFFQyxTQUFTLEVBQUVDLFdBQVcsRUFBRTtvQkFDbkVKLEdBQUcsQ0FBQ0MsR0FBRyxHQUFHO3dCQUFFQTt3QkFBSUw7d0JBQU1NO3dCQUFNQzt3QkFBV0M7b0JBQVk7b0JBQ25ELE9BQU9KO2dCQUNYLEdBQUcsQ0FBQztZQUNSO1FBQ0o7UUFDQUssUUFBT0MsVUFBVSxFQUFFQyxLQUFLO1lBQ3BCLElBQUlELFlBQ0EsTUFBTSxJQUFJbEMscURBQWFBLENBQUM7WUFDNUIsSUFBSWUsT0FBT3FCLFFBQVE7Z0JBQ2YsSUFBSUwsWUFBWSxDQUFDLEVBQUVoQixNQUFNcUIsTUFBTSxDQUFDLEVBQUVyQixNQUFNcUIsTUFBTSxDQUFDQyxRQUFRLENBQUMsT0FBTyxNQUFNLElBQUksRUFBRSxJQUFJQyxnQkFBZ0I7b0JBQUVOLGFBQWFwQixPQUFPb0IsV0FBVyxJQUFJO2dCQUFJLEdBQUcsQ0FBQztnQkFDNUksSUFBSUcsT0FDQUosWUFBWSxDQUFDLEVBQUVBLFVBQVUsQ0FBQyxFQUFFLElBQUlPLGdCQUFnQjtvQkFBRUg7Z0JBQU0sR0FBRyxDQUFDO2dCQUNoRSxPQUFPO29CQUFFSSxVQUFVUjtvQkFBVzFCO2dCQUFRO1lBQzFDO1lBQ0EseURBQXlEO1lBQ3pELHVEQUF1RDtZQUN2RCxpQ0FBaUM7WUFDakMsTUFBTW1DLG1CQUFtQnhCLFdBQVd5QixLQUFLLENBQUNDLElBQU1BLEVBQUVaLElBQUksS0FBSyxjQUN2RFksRUFBRUMsbUJBQW1CLElBQ3JCLENBQUMsQ0FBQ0QsRUFBRUUsNEJBQTRCO1lBQ3BDLElBQUlDLDhCQUE4QjtZQUNsQyxJQUFJTCxrQkFBa0I7Z0JBQ2xCLE1BQU0sRUFBRUksNEJBQTRCLEVBQUUsR0FBR0o7Z0JBQ3pDSyw4QkFBOEIsQ0FBQyx1REFBdUQsRUFBRUQsNkJBQTZCLGdFQUFnRSxDQUFDO1lBQzFMO1lBQ0EsT0FBTzNDLEtBQUs7Z0JBQ1JJO2dCQUNBQztnQkFDQUosTUFBTU4sc0RBQVVBLENBQUM7b0JBQ2J3QixXQUFXUixPQUFPUSxTQUFTO29CQUMzQixtQ0FBbUM7b0JBQ25DSixXQUFXSixPQUFPSSxTQUFTLEVBQUU4QixPQUFPLENBQUNDLFdBQ3JDLCtDQUErQzt3QkFDL0M7NEJBQUM7NEJBQVM7NEJBQVM7eUJBQU8sQ0FBQ1YsUUFBUSxDQUFDVSxTQUFTakIsSUFBSSxLQUM3QyxtRUFBbUU7d0JBQ2xFaUIsU0FBU2pCLElBQUksS0FBSyxpQkFBaUJpQixTQUFTQyxXQUFXLElBQ3hELCtEQUErRDt3QkFDOURELFNBQVNqQixJQUFJLEtBQUssY0FBY2lCLFNBQVNFLFVBQVUsSUFDcEQsb0NBQW9DO3dCQUNwQztvQkFDSmpCLGFBQWFwQixPQUFPb0IsV0FBVztvQkFDL0IxQixPQUFPTSxPQUFPTixLQUFLO29CQUNuQjZCO29CQUNBLEdBQUdyQixLQUFLO2dCQUNaO2dCQUNBWCxPQUFPO2dCQUNQSSxVQUFVc0M7WUFDZDtRQUNKO1FBQ0FLO1lBQ0ksSUFBSW5DLE9BQU9vQyxTQUNQLE9BQU87Z0JBQUVaLFVBQVV4QixNQUFNb0MsT0FBTztnQkFBRTlDO1lBQVE7WUFDOUMsT0FBT0osS0FBSztnQkFDUkk7Z0JBQ0FDO2dCQUNBSixNQUFNTCx1REFBV0EsQ0FBQztvQkFBRXVCLFdBQVdSLE9BQU9RLFNBQVM7b0JBQUVQO29CQUFLUDtnQkFBTTtnQkFDNURILE9BQU87WUFDWDtRQUNKO1FBQ0FpRCxlQUFjQyxLQUFLO1lBQ2YsSUFBSXRDLE9BQU9xQyxlQUNQLE9BQU87Z0JBQUViLFVBQVV4QixNQUFNcUMsYUFBYTtnQkFBRS9DO1lBQVE7WUFDcEQsT0FBT0osS0FBSztnQkFDUkk7Z0JBQ0FDO2dCQUNBSixNQUFNSCw4REFBaUJBLENBQUM7b0JBQUVjO29CQUFLUDtvQkFBTyxHQUFHK0MsS0FBSztnQkFBQztnQkFDL0NsRCxPQUFPO1lBQ1g7UUFDSjtRQUNBZ0MsT0FBTUEsS0FBSztZQUNQLElBQUlwQixPQUFPb0IsT0FBTztnQkFDZCxPQUFPO29CQUNISSxVQUFVLENBQUMsRUFBRXhCLE1BQU1vQixLQUFLLENBQUMsRUFBRXBCLE1BQU1vQixLQUFLLENBQUNFLFFBQVEsQ0FBQyxPQUFPLE1BQU0sSUFBSSxNQUFNLEVBQUVGLE1BQU0sQ0FBQztvQkFDaEY5QjtnQkFDSjtZQUNKO1lBQ0EsT0FBT0osS0FBSztnQkFDUkk7Z0JBQ0FDO2dCQUNBLGtDQUFrQztnQkFDbEMsR0FBR1gscURBQVNBLENBQUM7b0JBQUVrQjtvQkFBS1A7b0JBQU82QjtnQkFBTSxFQUFFO2dCQUNuQ2hDLE9BQU87WUFDWDtRQUNKO0lBQ0o7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtcngvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvcGFnZXMvaW5kZXguanM/YzhhMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZW5kZXJUb1N0cmluZyB9IGZyb20gXCJwcmVhY3QtcmVuZGVyLXRvLXN0cmluZ1wiO1xuaW1wb3J0IEVycm9yUGFnZSBmcm9tIFwiLi9lcnJvci5qc1wiO1xuaW1wb3J0IFNpZ25pblBhZ2UgZnJvbSBcIi4vc2lnbmluLmpzXCI7XG5pbXBvcnQgU2lnbm91dFBhZ2UgZnJvbSBcIi4vc2lnbm91dC5qc1wiO1xuaW1wb3J0IGNzcyBmcm9tIFwiLi9zdHlsZXMuanNcIjtcbmltcG9ydCBWZXJpZnlSZXF1ZXN0UGFnZSBmcm9tIFwiLi92ZXJpZnktcmVxdWVzdC5qc1wiO1xuaW1wb3J0IHsgVW5rbm93bkFjdGlvbiB9IGZyb20gXCIuLi8uLi9lcnJvcnMuanNcIjtcbmZ1bmN0aW9uIHNlbmQoeyBodG1sLCB0aXRsZSwgc3RhdHVzLCBjb29raWVzLCB0aGVtZSwgaGVhZFRhZ3MsIH0pIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBjb29raWVzLFxuICAgICAgICBzdGF0dXMsXG4gICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJ0ZXh0L2h0bWxcIiB9LFxuICAgICAgICBib2R5OiBgPCFET0NUWVBFIGh0bWw+PGh0bWwgbGFuZz1cImVuXCI+PGhlYWQ+PG1ldGEgY2hhcnNldD1cIlVURi04XCI+PG1ldGEgaHR0cC1lcXVpdj1cIlgtVUEtQ29tcGF0aWJsZVwiIGNvbnRlbnQ9XCJJRT1lZGdlXCI+PG1ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjBcIj48c3R5bGU+JHtjc3N9PC9zdHlsZT48dGl0bGU+JHt0aXRsZX08L3RpdGxlPiR7aGVhZFRhZ3MgPz8gXCJcIn08L2hlYWQ+PGJvZHkgY2xhc3M9XCJfX25leHQtYXV0aC10aGVtZS0ke3RoZW1lPy5jb2xvclNjaGVtZSA/PyBcImF1dG9cIn1cIj48ZGl2IGNsYXNzPVwicGFnZVwiPiR7cmVuZGVyVG9TdHJpbmcoaHRtbCl9PC9kaXY+PC9ib2R5PjwvaHRtbD5gLFxuICAgIH07XG59XG4vKipcbiAqIFVubGVzcyB0aGUgdXNlciBkZWZpbmVzIHRoZWlyIFtvd24gcGFnZXNdKGh0dHBzOi8vYXV0aGpzLmRldi9yZWZlcmVuY2UvY29yZSNwYWdlcyksXG4gKiB3ZSByZW5kZXIgYSBzZXQgb2YgZGVmYXVsdCBvbmVzLCB1c2luZyBQcmVhY3QgU1NSLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZW5kZXJQYWdlKHBhcmFtcykge1xuICAgIGNvbnN0IHsgdXJsLCB0aGVtZSwgcXVlcnksIGNvb2tpZXMsIHBhZ2VzLCBwcm92aWRlcnMgfSA9IHBhcmFtcztcbiAgICByZXR1cm4ge1xuICAgICAgICBjc3JmKHNraXAsIG9wdGlvbnMsIGNvb2tpZXMpIHtcbiAgICAgICAgICAgIGlmICghc2tpcCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgYm9keTogeyBjc3JmVG9rZW46IG9wdGlvbnMuY3NyZlRva2VuIH0sXG4gICAgICAgICAgICAgICAgICAgIGNvb2tpZXMsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdGlvbnMubG9nZ2VyLndhcm4oXCJjc3JmLWRpc2FibGVkXCIpO1xuICAgICAgICAgICAgY29va2llcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBvcHRpb25zLmNvb2tpZXMuY3NyZlRva2VuLm5hbWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiXCIsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogeyAuLi5vcHRpb25zLmNvb2tpZXMuY3NyZlRva2VuLm9wdGlvbnMsIG1heEFnZTogMCB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IDQwNCwgY29va2llcyB9O1xuICAgICAgICB9LFxuICAgICAgICBwcm92aWRlcnMocHJvdmlkZXJzKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgICAgICAgICBib2R5OiBwcm92aWRlcnMucmVkdWNlKChhY2MsIHsgaWQsIG5hbWUsIHR5cGUsIHNpZ25pblVybCwgY2FsbGJhY2tVcmwgfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhY2NbaWRdID0geyBpZCwgbmFtZSwgdHlwZSwgc2lnbmluVXJsLCBjYWxsYmFja1VybCB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgICAgIH0sIHt9KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIHNpZ25pbihwcm92aWRlcklkLCBlcnJvcikge1xuICAgICAgICAgICAgaWYgKHByb3ZpZGVySWQpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFVua25vd25BY3Rpb24oXCJVbnN1cHBvcnRlZCBhY3Rpb25cIik7XG4gICAgICAgICAgICBpZiAocGFnZXM/LnNpZ25Jbikge1xuICAgICAgICAgICAgICAgIGxldCBzaWduaW5VcmwgPSBgJHtwYWdlcy5zaWduSW59JHtwYWdlcy5zaWduSW4uaW5jbHVkZXMoXCI/XCIpID8gXCImXCIgOiBcIj9cIn0ke25ldyBVUkxTZWFyY2hQYXJhbXMoeyBjYWxsYmFja1VybDogcGFyYW1zLmNhbGxiYWNrVXJsID8/IFwiL1wiIH0pfWA7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgICAgICAgICBzaWduaW5VcmwgPSBgJHtzaWduaW5Vcmx9JiR7bmV3IFVSTFNlYXJjaFBhcmFtcyh7IGVycm9yIH0pfWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgcmVkaXJlY3Q6IHNpZ25pblVybCwgY29va2llcyB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIHdlYmF1dGhuIHByb3ZpZGVyIHdpdGggY29uZGl0aW9uYWwgVUkgYW5kXG4gICAgICAgICAgICAvLyBhIHNpbXBsZVdlYkF1dGhuQnJvd3NlclNjcmlwdCBpcyBkZWZpbmVkLCB3ZSBuZWVkIHRvXG4gICAgICAgICAgICAvLyByZW5kZXIgdGhlIHNjcmlwdCBpbiB0aGUgcGFnZS5cbiAgICAgICAgICAgIGNvbnN0IHdlYmF1dGhuUHJvdmlkZXIgPSBwcm92aWRlcnM/LmZpbmQoKHApID0+IHAudHlwZSA9PT0gXCJ3ZWJhdXRoblwiICYmXG4gICAgICAgICAgICAgICAgcC5lbmFibGVDb25kaXRpb25hbFVJICYmXG4gICAgICAgICAgICAgICAgISFwLnNpbXBsZVdlYkF1dGhuQnJvd3NlclZlcnNpb24pO1xuICAgICAgICAgICAgbGV0IHNpbXBsZVdlYkF1dGhuQnJvd3NlclNjcmlwdCA9IFwiXCI7XG4gICAgICAgICAgICBpZiAod2ViYXV0aG5Qcm92aWRlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgc2ltcGxlV2ViQXV0aG5Ccm93c2VyVmVyc2lvbiB9ID0gd2ViYXV0aG5Qcm92aWRlcjtcbiAgICAgICAgICAgICAgICBzaW1wbGVXZWJBdXRobkJyb3dzZXJTY3JpcHQgPSBgPHNjcmlwdCBzcmM9XCJodHRwczovL3VucGtnLmNvbS9Ac2ltcGxld2ViYXV0aG4vYnJvd3NlckAke3NpbXBsZVdlYkF1dGhuQnJvd3NlclZlcnNpb259L2Rpc3QvYnVuZGxlL2luZGV4LnVtZC5taW4uanNcIiBjcm9zc29yaWdpbj1cImFub255bW91c1wiPjwvc2NyaXB0PmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2VuZCh7XG4gICAgICAgICAgICAgICAgY29va2llcyxcbiAgICAgICAgICAgICAgICB0aGVtZSxcbiAgICAgICAgICAgICAgICBodG1sOiBTaWduaW5QYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgY3NyZlRva2VuOiBwYXJhbXMuY3NyZlRva2VuLFxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBvbmx5IHdhbnQgdG8gcmVuZGVyIHByb3ZpZGVyc1xuICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnM6IHBhcmFtcy5wcm92aWRlcnM/LmZpbHRlcigocHJvdmlkZXIpID0+IFxuICAgICAgICAgICAgICAgICAgICAvLyBBbHdheXMgcmVuZGVyIG9hdXRoIGFuZCBlbWFpbCB0eXBlIHByb3ZpZGVyc1xuICAgICAgICAgICAgICAgICAgICBbXCJlbWFpbFwiLCBcIm9hdXRoXCIsIFwib2lkY1wiXS5pbmNsdWRlcyhwcm92aWRlci50eXBlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSByZW5kZXIgY3JlZGVudGlhbHMgdHlwZSBwcm92aWRlciBpZiBjcmVkZW50aWFscyBhcmUgZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgKHByb3ZpZGVyLnR5cGUgPT09IFwiY3JlZGVudGlhbHNcIiAmJiBwcm92aWRlci5jcmVkZW50aWFscykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgcmVuZGVyIHdlYmF1dGhuIHR5cGUgcHJvdmlkZXIgaWYgZm9ybUZpZWxkcyBhcmUgZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgKHByb3ZpZGVyLnR5cGUgPT09IFwid2ViYXV0aG5cIiAmJiBwcm92aWRlci5mb3JtRmllbGRzKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgcmVuZGVyIG90aGVyIHByb3ZpZGVyIHR5cGVzXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWxzZSksXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrVXJsOiBwYXJhbXMuY2FsbGJhY2tVcmwsXG4gICAgICAgICAgICAgICAgICAgIHRoZW1lOiBwYXJhbXMudGhlbWUsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgICAgICAuLi5xdWVyeSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJTaWduIEluXCIsXG4gICAgICAgICAgICAgICAgaGVhZFRhZ3M6IHNpbXBsZVdlYkF1dGhuQnJvd3NlclNjcmlwdCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzaWdub3V0KCkge1xuICAgICAgICAgICAgaWYgKHBhZ2VzPy5zaWduT3V0KVxuICAgICAgICAgICAgICAgIHJldHVybiB7IHJlZGlyZWN0OiBwYWdlcy5zaWduT3V0LCBjb29raWVzIH07XG4gICAgICAgICAgICByZXR1cm4gc2VuZCh7XG4gICAgICAgICAgICAgICAgY29va2llcyxcbiAgICAgICAgICAgICAgICB0aGVtZSxcbiAgICAgICAgICAgICAgICBodG1sOiBTaWdub3V0UGFnZSh7IGNzcmZUb2tlbjogcGFyYW1zLmNzcmZUb2tlbiwgdXJsLCB0aGVtZSB9KSxcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJTaWduIE91dFwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHZlcmlmeVJlcXVlc3QocHJvcHMpIHtcbiAgICAgICAgICAgIGlmIChwYWdlcz8udmVyaWZ5UmVxdWVzdClcbiAgICAgICAgICAgICAgICByZXR1cm4geyByZWRpcmVjdDogcGFnZXMudmVyaWZ5UmVxdWVzdCwgY29va2llcyB9O1xuICAgICAgICAgICAgcmV0dXJuIHNlbmQoe1xuICAgICAgICAgICAgICAgIGNvb2tpZXMsXG4gICAgICAgICAgICAgICAgdGhlbWUsXG4gICAgICAgICAgICAgICAgaHRtbDogVmVyaWZ5UmVxdWVzdFBhZ2UoeyB1cmwsIHRoZW1lLCAuLi5wcm9wcyB9KSxcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJWZXJpZnkgUmVxdWVzdFwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAocGFnZXM/LmVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3Q6IGAke3BhZ2VzLmVycm9yfSR7cGFnZXMuZXJyb3IuaW5jbHVkZXMoXCI/XCIpID8gXCImXCIgOiBcIj9cIn1lcnJvcj0ke2Vycm9yfWAsXG4gICAgICAgICAgICAgICAgICAgIGNvb2tpZXMsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzZW5kKHtcbiAgICAgICAgICAgICAgICBjb29raWVzLFxuICAgICAgICAgICAgICAgIHRoZW1lLFxuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgZml4IGVycm9yIHR5cGVcbiAgICAgICAgICAgICAgICAuLi5FcnJvclBhZ2UoeyB1cmwsIHRoZW1lLCBlcnJvciB9KSxcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbiJdLCJuYW1lcyI6WyJyZW5kZXJUb1N0cmluZyIsIkVycm9yUGFnZSIsIlNpZ25pblBhZ2UiLCJTaWdub3V0UGFnZSIsImNzcyIsIlZlcmlmeVJlcXVlc3RQYWdlIiwiVW5rbm93bkFjdGlvbiIsInNlbmQiLCJodG1sIiwidGl0bGUiLCJzdGF0dXMiLCJjb29raWVzIiwidGhlbWUiLCJoZWFkVGFncyIsImhlYWRlcnMiLCJib2R5IiwiY29sb3JTY2hlbWUiLCJyZW5kZXJQYWdlIiwicGFyYW1zIiwidXJsIiwicXVlcnkiLCJwYWdlcyIsInByb3ZpZGVycyIsImNzcmYiLCJza2lwIiwib3B0aW9ucyIsImNzcmZUb2tlbiIsImxvZ2dlciIsIndhcm4iLCJwdXNoIiwibmFtZSIsInZhbHVlIiwibWF4QWdlIiwicmVkdWNlIiwiYWNjIiwiaWQiLCJ0eXBlIiwic2lnbmluVXJsIiwiY2FsbGJhY2tVcmwiLCJzaWduaW4iLCJwcm92aWRlcklkIiwiZXJyb3IiLCJzaWduSW4iLCJpbmNsdWRlcyIsIlVSTFNlYXJjaFBhcmFtcyIsInJlZGlyZWN0Iiwid2ViYXV0aG5Qcm92aWRlciIsImZpbmQiLCJwIiwiZW5hYmxlQ29uZGl0aW9uYWxVSSIsInNpbXBsZVdlYkF1dGhuQnJvd3NlclZlcnNpb24iLCJzaW1wbGVXZWJBdXRobkJyb3dzZXJTY3JpcHQiLCJmaWx0ZXIiLCJwcm92aWRlciIsImNyZWRlbnRpYWxzIiwiZm9ybUZpZWxkcyIsInNpZ25vdXQiLCJzaWduT3V0IiwidmVyaWZ5UmVxdWVzdCIsInByb3BzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/lib/pages/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/lib/pages/index.js":
/*!****************************************************!*\
  !*** ./node_modules/@auth/core/lib/pages/index.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ renderPage)\n/* harmony export */ });\n/* harmony import */ var preact_render_to_string__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact-render-to-string */ \"(rsc)/./node_modules/preact-render-to-string/dist/index.mjs\");\n/* harmony import */ var _error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./error.js */ \"(rsc)/./node_modules/@auth/core/lib/pages/error.js\");\n/* harmony import */ var _signin_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./signin.js */ \"(rsc)/./node_modules/@auth/core/lib/pages/signin.js\");\n/* harmony import */ var _signout_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./signout.js */ \"(rsc)/./node_modules/@auth/core/lib/pages/signout.js\");\n/* harmony import */ var _styles_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./styles.js */ \"(rsc)/./node_modules/@auth/core/lib/pages/styles.js\");\n/* harmony import */ var _verify_request_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./verify-request.js */ \"(rsc)/./node_modules/@auth/core/lib/pages/verify-request.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../errors.js */ \"(rsc)/./node_modules/@auth/core/errors.js\");\n\n\n\n\n\n\n\nfunction send({ html, title, status, cookies, theme, headTags }) {\n    return {\n        cookies,\n        status,\n        headers: {\n            \"Content-Type\": \"text/html\"\n        },\n        body: `<!DOCTYPE html><html lang=\"en\"><head><meta charset=\"UTF-8\"><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><style>${_styles_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]}</style><title>${title}</title>${headTags ?? \"\"}</head><body class=\"__next-auth-theme-${theme?.colorScheme ?? \"auto\"}\"><div class=\"page\">${(0,preact_render_to_string__WEBPACK_IMPORTED_MODULE_0__.renderToString)(html)}</div></body></html>`\n    };\n}\n/**\n * Unless the user defines their [own pages](https://authjs.dev/reference/core#pages),\n * we render a set of default ones, using Preact SSR.\n */ function renderPage(params) {\n    const { url, theme, query, cookies, pages, providers } = params;\n    return {\n        csrf (skip, options, cookies) {\n            if (!skip) {\n                return {\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: {\n                        csrfToken: options.csrfToken\n                    },\n                    cookies\n                };\n            }\n            options.logger.warn(\"csrf-disabled\");\n            cookies.push({\n                name: options.cookies.csrfToken.name,\n                value: \"\",\n                options: {\n                    ...options.cookies.csrfToken.options,\n                    maxAge: 0\n                }\n            });\n            return {\n                status: 404,\n                cookies\n            };\n        },\n        providers (providers) {\n            return {\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: providers.reduce((acc, { id, name, type, signinUrl, callbackUrl })=>{\n                    acc[id] = {\n                        id,\n                        name,\n                        type,\n                        signinUrl,\n                        callbackUrl\n                    };\n                    return acc;\n                }, {})\n            };\n        },\n        signin (providerId, error) {\n            if (providerId) throw new _errors_js__WEBPACK_IMPORTED_MODULE_6__.UnknownAction(\"Unsupported action\");\n            if (pages?.signIn) {\n                let signinUrl = `${pages.signIn}${pages.signIn.includes(\"?\") ? \"&\" : \"?\"}${new URLSearchParams({\n                    callbackUrl: params.callbackUrl ?? \"/\"\n                })}`;\n                if (error) signinUrl = `${signinUrl}&${new URLSearchParams({\n                    error\n                })}`;\n                return {\n                    redirect: signinUrl,\n                    cookies\n                };\n            }\n            // If we have a webauthn provider with conditional UI and\n            // a simpleWebAuthnBrowserScript is defined, we need to\n            // render the script in the page.\n            const webauthnProvider = providers?.find((p)=>p.type === \"webauthn\" && p.enableConditionalUI && !!p.simpleWebAuthnBrowserVersion);\n            let simpleWebAuthnBrowserScript = \"\";\n            if (webauthnProvider) {\n                const { simpleWebAuthnBrowserVersion } = webauthnProvider;\n                simpleWebAuthnBrowserScript = `<script src=\"https://unpkg.com/@simplewebauthn/browser@${simpleWebAuthnBrowserVersion}/dist/bundle/index.umd.min.js\" crossorigin=\"anonymous\"></script>`;\n            }\n            return send({\n                cookies,\n                theme,\n                html: (0,_signin_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n                    csrfToken: params.csrfToken,\n                    // We only want to render providers\n                    providers: params.providers?.filter((provider)=>// Always render oauth and email type providers\n                        [\n                            \"email\",\n                            \"oauth\",\n                            \"oidc\"\n                        ].includes(provider.type) || // Only render credentials type provider if credentials are defined\n                        provider.type === \"credentials\" && provider.credentials || // Only render webauthn type provider if formFields are defined\n                        provider.type === \"webauthn\" && provider.formFields || // Don't render other provider types\n                        false),\n                    callbackUrl: params.callbackUrl,\n                    theme: params.theme,\n                    error,\n                    ...query\n                }),\n                title: \"Sign In\",\n                headTags: simpleWebAuthnBrowserScript\n            });\n        },\n        signout () {\n            if (pages?.signOut) return {\n                redirect: pages.signOut,\n                cookies\n            };\n            return send({\n                cookies,\n                theme,\n                html: (0,_signout_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n                    csrfToken: params.csrfToken,\n                    url,\n                    theme\n                }),\n                title: \"Sign Out\"\n            });\n        },\n        verifyRequest (props) {\n            if (pages?.verifyRequest) return {\n                redirect: pages.verifyRequest,\n                cookies\n            };\n            return send({\n                cookies,\n                theme,\n                html: (0,_verify_request_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({\n                    url,\n                    theme,\n                    ...props\n                }),\n                title: \"Verify Request\"\n            });\n        },\n        error (error) {\n            if (pages?.error) {\n                return {\n                    redirect: `${pages.error}${pages.error.includes(\"?\") ? \"&\" : \"?\"}error=${error}`,\n                    cookies\n                };\n            }\n            return send({\n                cookies,\n                theme,\n                // @ts-expect-error fix error type\n                ...(0,_error_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n                    url,\n                    theme,\n                    error\n                }),\n                title: \"Error\"\n            });\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvcGFnZXMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBeUQ7QUFDdEI7QUFDRTtBQUNFO0FBQ1Q7QUFDc0I7QUFDSjtBQUNoRCxTQUFTTyxLQUFLLEVBQUVDLElBQUksRUFBRUMsS0FBSyxFQUFFQyxNQUFNLEVBQUVDLE9BQU8sRUFBRUMsS0FBSyxFQUFFQyxRQUFRLEVBQUc7SUFDNUQsT0FBTztRQUNIRjtRQUNBRDtRQUNBSSxTQUFTO1lBQUUsZ0JBQWdCO1FBQVk7UUFDdkNDLE1BQU0sQ0FBQyw2TEFBNkwsRUFBRVgsa0RBQUdBLENBQUMsZUFBZSxFQUFFSyxNQUFNLFFBQVEsRUFBRUksWUFBWSxHQUFHLHNDQUFzQyxFQUFFRCxPQUFPSSxlQUFlLE9BQU8sb0JBQW9CLEVBQUVoQix1RUFBY0EsQ0FBQ1EsTUFBTSxvQkFBb0IsQ0FBQztJQUNuWTtBQUNKO0FBQ0E7OztDQUdDLEdBQ2MsU0FBU1MsV0FBV0MsTUFBTTtJQUNyQyxNQUFNLEVBQUVDLEdBQUcsRUFBRVAsS0FBSyxFQUFFUSxLQUFLLEVBQUVULE9BQU8sRUFBRVUsS0FBSyxFQUFFQyxTQUFTLEVBQUUsR0FBR0o7SUFDekQsT0FBTztRQUNISyxNQUFLQyxJQUFJLEVBQUVDLE9BQU8sRUFBRWQsT0FBTztZQUN2QixJQUFJLENBQUNhLE1BQU07Z0JBQ1AsT0FBTztvQkFDSFYsU0FBUzt3QkFBRSxnQkFBZ0I7b0JBQW1CO29CQUM5Q0MsTUFBTTt3QkFBRVcsV0FBV0QsUUFBUUMsU0FBUztvQkFBQztvQkFDckNmO2dCQUNKO1lBQ0o7WUFDQWMsUUFBUUUsTUFBTSxDQUFDQyxJQUFJLENBQUM7WUFDcEJqQixRQUFRa0IsSUFBSSxDQUFDO2dCQUNUQyxNQUFNTCxRQUFRZCxPQUFPLENBQUNlLFNBQVMsQ0FBQ0ksSUFBSTtnQkFDcENDLE9BQU87Z0JBQ1BOLFNBQVM7b0JBQUUsR0FBR0EsUUFBUWQsT0FBTyxDQUFDZSxTQUFTLENB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TUFBTUgsOERBQWlCQSxDQUFDO29CQUFFYztvQkFBS1A7b0JBQU8sR0FBRytDLEtBQUs7Z0JBQUM7Z0JBQy9DbEQsT0FBTztZQUNYO1FBQ0o7UUFDQWdDLE9BQU1BLEtBQUs7WUFDUCxJQUFJcEIsT0FBT29CLE9BQU87Z0JBQ2QsT0FBTztvQkFDSEksVUFBVSxDQUFDLEVBQUV4QixNQUFNb0IsS0FBSyxDQUFDLEVBQUVwQixNQUFNb0IsS0FBSyxDQUFDRSxRQUFRLENBQUMsT0FBTyxNQUFNLElBQUksTUFBTSxFQUFFRixNQUFNLENBQUM7b0JBQ2hGOUI7Z0JBQ0o7WUFDSjtZQUNBLE9BQU9KLEtBQUs7Z0JBQ1JJO2dCQUNBQztnQkFDQSxrQ0FBa0M7Z0JBQ2xDLEdBQUdYLHFEQUFTQSxDQUFDO29CQUFFa0I7b0JBQUtQO29CQUFPNkI7Z0JBQU0sRUFBRTtnQkFDbkNoQyxPQUFPO1lBQ1g7UUFDSjtJQUNKO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LXJ4Ly4vbm9kZV9tb2R1bGVzL0BhdXRoL2NvcmUvbGliL3BhZ2VzL2luZGV4LmpzP2M4YTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVuZGVyVG9TdHJpbmcgfSBmcm9tIFwicHJlYWN0LXJlbmRlci10by1zdHJpbmdcIjtcbmltcG9ydCBFcnJvclBhZ2UgZnJvbSBcIi4vZXJyb3IuanNcIjtcbmltcG9ydCBTaWduaW5QYWdlIGZyb20gXCIuL3NpZ25pbi5qc1wiO1xuaW1wb3J0IFNpZ25vdXRQYWdlIGZyb20gXCIuL3NpZ25vdXQuanNcIjtcbmltcG9ydCBjc3MgZnJvbSBcIi4vc3R5bGVzLmpzXCI7XG5pbXBvcnQgVmVyaWZ5UmVxdWVzdFBhZ2UgZnJvbSBcIi4vdmVyaWZ5LXJlcXVlc3QuanNcIjtcbmltcG9ydCB7IFVua25vd25BY3Rpb24gfSBmcm9tIFwiLi4vLi4vZXJyb3JzLmpzXCI7XG5mdW5jdGlvbiBzZW5kKHsgaHRtbCwgdGl0bGUsIHN0YXR1cywgY29va2llcywgdGhlbWUsIGhlYWRUYWdzLCB9KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29va2llcyxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwidGV4dC9odG1sXCIgfSxcbiAgICAgICAgYm9keTogYDwhRE9DVFlQRSBodG1sPjxodG1sIGxhbmc9XCJlblwiPjxoZWFkPjxtZXRhIGNoYXJzZXQ9XCJVVEYtOFwiPjxtZXRhIGh0dHAtZXF1aXY9XCJYLVVBLUNvbXBhdGlibGVcIiBjb250ZW50PVwiSUU9ZWRnZVwiPjxtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wXCI+PHN0eWxlPiR7Y3NzfTwvc3R5bGU+PHRpdGxlPiR7dGl0bGV9PC90aXRsZT4ke2hlYWRUYWdzID8/IFwiXCJ9PC9oZWFkPjxib2R5IGNsYXNzPVwiX19uZXh0LWF1dGgtdGhlbWUtJHt0aGVtZT8uY29sb3JTY2hlbWUgPz8gXCJhdXRvXCJ9XCI+PGRpdiBjbGFzcz1cInBhZ2VcIj4ke3JlbmRlclRvU3RyaW5nKGh0bWwpfTwvZGl2PjwvYm9keT48L2h0bWw+YCxcbiAgICB9O1xufVxuLyoqXG4gKiBVbmxlc3MgdGhlIHVzZXIgZGVmaW5lcyB0aGVpciBbb3duIHBhZ2VzXShodHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUjcGFnZXMpLFxuICogd2UgcmVuZGVyIGEgc2V0IG9mIGRlZmF1bHQgb25lcywgdXNpbmcgUHJlYWN0IFNTUi5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVuZGVyUGFnZShwYXJhbXMpIHtcbiAgICBjb25zdCB7IHVybCwgdGhlbWUsIHF1ZXJ5LCBjb29raWVzLCBwYWdlcywgcHJvdmlkZXJzIH0gPSBwYXJhbXM7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY3NyZihza2lwLCBvcHRpb25zLCBjb29raWVzKSB7XG4gICAgICAgICAgICBpZiAoIXNraXApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IHsgY3NyZlRva2VuOiBvcHRpb25zLmNzcmZUb2tlbiB9LFxuICAgICAgICAgICAgICAgICAgICBjb29raWVzLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHRpb25zLmxvZ2dlci53YXJuKFwiY3NyZi1kaXNhYmxlZFwiKTtcbiAgICAgICAgICAgIGNvb2tpZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgbmFtZTogb3B0aW9ucy5jb29raWVzLmNzcmZUb2tlbi5uYW1lLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIlwiLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHsgLi4ub3B0aW9ucy5jb29raWVzLmNzcmZUb2tlbi5vcHRpb25zLCBtYXhBZ2U6IDAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiA0MDQsIGNvb2tpZXMgfTtcbiAgICAgICAgfSxcbiAgICAgICAgcHJvdmlkZXJzKHByb3ZpZGVycykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgICAgICAgICAgYm9keTogcHJvdmlkZXJzLnJlZHVjZSgoYWNjLCB7IGlkLCBuYW1lLCB0eXBlLCBzaWduaW5VcmwsIGNhbGxiYWNrVXJsIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWNjW2lkXSA9IHsgaWQsIG5hbWUsIHR5cGUsIHNpZ25pblVybCwgY2FsbGJhY2tVcmwgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgICAgICB9LCB7fSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBzaWduaW4ocHJvdmlkZXJJZCwgZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChwcm92aWRlcklkKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBVbmtub3duQWN0aW9uKFwiVW5zdXBwb3J0ZWQgYWN0aW9uXCIpO1xuICAgICAgICAgICAgaWYgKHBhZ2VzPy5zaWduSW4pIHtcbiAgICAgICAgICAgICAgICBsZXQgc2lnbmluVXJsID0gYCR7cGFnZXMuc2lnbklufSR7cGFnZXMuc2lnbkluLmluY2x1ZGVzKFwiP1wiKSA/IFwiJlwiIDogXCI/XCJ9JHtuZXcgVVJMU2VhcmNoUGFyYW1zKHsgY2FsbGJhY2tVcmw6IHBhcmFtcy5jYWxsYmFja1VybCA/PyBcIi9cIiB9KX1gO1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgc2lnbmluVXJsID0gYCR7c2lnbmluVXJsfSYke25ldyBVUkxTZWFyY2hQYXJhbXMoeyBlcnJvciB9KX1gO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHJlZGlyZWN0OiBzaWduaW5VcmwsIGNvb2tpZXMgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgYSB3ZWJhdXRobiBwcm92aWRlciB3aXRoIGNvbmRpdGlvbmFsIFVJIGFuZFxuICAgICAgICAgICAgLy8gYSBzaW1wbGVXZWJBdXRobkJyb3dzZXJTY3JpcHQgaXMgZGVmaW5lZCwgd2UgbmVlZCB0b1xuICAgICAgICAgICAgLy8gcmVuZGVyIHRoZSBzY3JpcHQgaW4gdGhlIHBhZ2UuXG4gICAgICAgICAgICBjb25zdCB3ZWJhdXRoblByb3ZpZGVyID0gcHJvdmlkZXJzPy5maW5kKChwKSA9PiBwLnR5cGUgPT09IFwid2ViYXV0aG5cIiAmJlxuICAgICAgICAgICAgICAgIHAuZW5hYmxlQ29uZGl0aW9uYWxVSSAmJlxuICAgICAgICAgICAgICAgICEhcC5zaW1wbGVXZWJBdXRobkJyb3dzZXJWZXJzaW9uKTtcbiAgICAgICAgICAgIGxldCBzaW1wbGVXZWJBdXRobkJyb3dzZXJTY3JpcHQgPSBcIlwiO1xuICAgICAgICAgICAgaWYgKHdlYmF1dGhuUHJvdmlkZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNpbXBsZVdlYkF1dGhuQnJvd3NlclZlcnNpb24gfSA9IHdlYmF1dGhuUHJvdmlkZXI7XG4gICAgICAgICAgICAgICAgc2ltcGxlV2ViQXV0aG5Ccm93c2VyU2NyaXB0ID0gYDxzY3JpcHQgc3JjPVwiaHR0cHM6Ly91bnBrZy5jb20vQHNpbXBsZXdlYmF1dGhuL2Jyb3dzZXJAJHtzaW1wbGVXZWJBdXRobkJyb3dzZXJWZXJzaW9ufS9kaXN0L2J1bmRsZS9pbmRleC51bWQubWluLmpzXCIgY3Jvc3NvcmlnaW49XCJhbm9ueW1vdXNcIj48L3NjcmlwdD5gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNlbmQoe1xuICAgICAgICAgICAgICAgIGNvb2tpZXMsXG4gICAgICAgICAgICAgICAgdGhlbWUsXG4gICAgICAgICAgICAgICAgaHRtbDogU2lnbmluUGFnZSh7XG4gICAgICAgICAgICAgICAgICAgIGNzcmZUb2tlbjogcGFyYW1zLmNzcmZUb2tlbixcbiAgICAgICAgICAgICAgICAgICAgLy8gV2Ugb25seSB3YW50IHRvIHJlbmRlciBwcm92aWRlcnNcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzOiBwYXJhbXMucHJvdmlkZXJzPy5maWx0ZXIoKHByb3ZpZGVyKSA9PiBcbiAgICAgICAgICAgICAgICAgICAgLy8gQWx3YXlzIHJlbmRlciBvYXV0aCBhbmQgZW1haWwgdHlwZSBwcm92aWRlcnNcbiAgICAgICAgICAgICAgICAgICAgW1wiZW1haWxcIiwgXCJvYXV0aFwiLCBcIm9pZGNcIl0uaW5jbHVkZXMocHJvdmlkZXIudHlwZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgcmVuZGVyIGNyZWRlbnRpYWxzIHR5cGUgcHJvdmlkZXIgaWYgY3JlZGVudGlhbHMgYXJlIGRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIChwcm92aWRlci50eXBlID09PSBcImNyZWRlbnRpYWxzXCIgJiYgcHJvdmlkZXIuY3JlZGVudGlhbHMpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHJlbmRlciB3ZWJhdXRobiB0eXBlIHByb3ZpZGVyIGlmIGZvcm1GaWVsZHMgYXJlIGRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIChwcm92aWRlci50eXBlID09PSBcIndlYmF1dGhuXCIgJiYgcHJvdmlkZXIuZm9ybUZpZWxkcykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IHJlbmRlciBvdGhlciBwcm92aWRlciB0eXBlc1xuICAgICAgICAgICAgICAgICAgICAgICAgZmFsc2UpLFxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFja1VybDogcGFyYW1zLmNhbGxiYWNrVXJsLFxuICAgICAgICAgICAgICAgICAgICB0aGVtZTogcGFyYW1zLnRoZW1lLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICAgICAgLi4ucXVlcnksXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiU2lnbiBJblwiLFxuICAgICAgICAgICAgICAgIGhlYWRUYWdzOiBzaW1wbGVXZWJBdXRobkJyb3dzZXJTY3JpcHQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2lnbm91dCgpIHtcbiAgICAgICAgICAgIGlmIChwYWdlcz8uc2lnbk91dClcbiAgICAgICAgICAgICAgICByZXR1cm4geyByZWRpcmVjdDogcGFnZXMuc2lnbk91dCwgY29va2llcyB9O1xuICAgICAgICAgICAgcmV0dXJuIHNlbmQoe1xuICAgICAgICAgICAgICAgIGNvb2tpZXMsXG4gICAgICAgICAgICAgICAgdGhlbWUsXG4gICAgICAgICAgICAgICAgaHRtbDogU2lnbm91dFBhZ2UoeyBjc3JmVG9rZW46IHBhcmFtcy5jc3JmVG9rZW4sIHVybCwgdGhlbWUgfSksXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiU2lnbiBPdXRcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICB2ZXJpZnlSZXF1ZXN0KHByb3BzKSB7XG4gICAgICAgICAgICBpZiAocGFnZXM/LnZlcmlmeVJlcXVlc3QpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgcmVkaXJlY3Q6IHBhZ2VzLnZlcmlmeVJlcXVlc3QsIGNvb2tpZXMgfTtcbiAgICAgICAgICAgIHJldHVybiBzZW5kKHtcbiAgICAgICAgICAgICAgICBjb29raWVzLFxuICAgICAgICAgICAgICAgIHRoZW1lLFxuICAgICAgICAgICAgICAgIGh0bWw6IFZlcmlmeVJlcXVlc3RQYWdlKHsgdXJsLCB0aGVtZSwgLi4ucHJvcHMgfSksXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiVmVyaWZ5IFJlcXVlc3RcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBlcnJvcihlcnJvcikge1xuICAgICAgICAgICAgaWYgKHBhZ2VzPy5lcnJvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0OiBgJHtwYWdlcy5lcnJvcn0ke3BhZ2VzLmVycm9yLmluY2x1ZGVzKFwiP1wiKSA/IFwiJlwiIDogXCI/XCJ9ZXJyb3I9JHtlcnJvcn1gLFxuICAgICAgICAgICAgICAgICAgICBjb29raWVzLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2VuZCh7XG4gICAgICAgICAgICAgICAgY29va2llcyxcbiAgICAgICAgICAgICAgICB0aGVtZSxcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGZpeCBlcnJvciB0eXBlXG4gICAgICAgICAgICAgICAgLi4uRXJyb3JQYWdlKHsgdXJsLCB0aGVtZSwgZXJyb3IgfSksXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgIH07XG59XG4iXSwibmFtZXMiOlsicmVuZGVyVG9TdHJpbmciLCJFcnJvclBhZ2UiLCJTaWduaW5QYWdlIiwiU2lnbm91dFBhZ2UiLCJjc3MiLCJWZXJpZnlSZXF1ZXN0UGFnZSIsIlVua25vd25BY3Rpb24iLCJzZW5kIiwiaHRtbCIsInRpdGxlIiwic3RhdHVzIiwiY29va2llcyIsInRoZW1lIiwiaGVhZFRhZ3MiLCJoZWFkZXJzIiwiYm9keSIsImNvbG9yU2NoZW1lIiwicmVuZGVyUGFnZSIsInBhcmFtcyIsInVybCIsInF1ZXJ5IiwicGFnZXMiLCJwcm92aWRlcnMiLCJjc3JmIiwic2tpcCIsIm9wdGlvbnMiLCJjc3JmVG9rZW4iLCJsb2dnZXIiLCJ3YXJuIiwicHVzaCIsIm5hbWUiLCJ2YWx1ZSIsIm1heEFnZSIsInJlZHVjZSIsImFjYyIsImlkIiwidHlwZSIsInNpZ25pblVybCIsImNhbGxiYWNrVXJsIiwic2lnbmluIiwicHJvdmlkZXJJZCIsImVycm9yIiwic2lnbkluIiwiaW5jbHVkZXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJyZWRpcmVjdCIsIndlYmF1dGhuUHJvdmlkZXIiLCJmaW5kIiwicCIsImVuYWJsZUNvbmRpdGlvbmFsVUkiLCJzaW1wbGVXZWJBdXRobkJyb3dzZXJWZXJzaW9uIiwic2ltcGxlV2ViQXV0aG5Ccm93c2VyU2NyaXB0IiwiZmlsdGVyIiwicHJvdmlkZXIiLCJjcmVkZW50aWFscyIsImZvcm1GaWVsZHMiLCJzaWdub3V0Iiwic2lnbk91dCIsInZlcmlmeVJlcXVlc3QiLCJwcm9wcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/lib/pages/index.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/lib/pages/signin.js":
/*!*****************************************************!*\
  !*** ./node_modules/@auth/core/lib/pages/signin.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SigninPage)\n/* harmony export */ });\n/* harmony import */ var preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact/jsx-runtime */ \"(action-browser)/./node_modules/preact/jsx-runtime/dist/jsxRuntime.mjs\");\n/* harmony import */ var _utils_webauthn_client_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/webauthn-client.js */ \"(action-browser)/./node_modules/@auth/core/lib/utils/webauthn-client.js\");\n\n\nconst signinErrors = {\n    default: \"Unable to sign in.\",\n    Signin: \"Try signing in with a different account.\",\n    OAuthSignin: \"Try signing in with a different account.\",\n    OAuthCallbackError: \"Try signing in with a different account.\",\n    OAuthCreateAccount: \"Try signing in with a different account.\",\n    EmailCreateAccount: \"Try signing in with a different account.\",\n    Callback: \"Try signing in with a different account.\",\n    OAuthAccountNotLinked: \"To confirm your identity, sign in with the same account you used originally.\",\n    EmailSignin: \"The e-mail could not be sent.\",\n    CredentialsSignin: \"Sign in failed. Check the details you provided are correct.\",\n    SessionRequired: \"Please sign in to access this page.\"\n};\nfunction hexToRgba(hex, alpha = 1) {\n    if (!hex) {\n        return;\n    }\n    // Remove the \"#\" character if it's included\n    hex = hex.replace(/^#/, \"\");\n    // Expand 3-digit hex codes to their 6-digit equivalents\n    if (hex.length === 3) {\n        hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n    }\n    // Parse the hex value to separate R, G, and B components\n    const bigint = parseInt(hex, 16);\n    const r = bigint >> 16 & 255;\n    const g = bigint >> 8 & 255;\n    const b = bigint & 255;\n    // Ensure the alpha value is within the valid range [0, 1]\n    alpha = Math.min(Math.max(alpha, 0), 1);\n    // Construct the RGBA string\n    const rgba = `rgba(${r}, ${g}, ${b}, ${alpha})`;\n    return rgba;\n}\nfunction ConditionalUIScript(providerID) {\n    const startConditionalUIScript = `\nconst currentURL = window.location.href;\nconst authURL = currentURL.substring(0, currentURL.lastIndexOf('/'));\n(${_utils_webauthn_client_js__WEBPACK_IMPORTED_MODULE_1__.webauthnScript})(authURL, \"${providerID}\");\n`;\n    return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"script\", {\n            dangerouslySetInnerHTML: {\n                __html: startConditionalUIScript\n            }\n        })\n    });\n}\nfunction SigninPage(props) {\n    const { csrfToken, providers = [], callbackUrl, theme, email, error: errorType } = props;\n    if (typeof document !== \"undefined\" && theme?.brandColor) {\n        document.documentElement.style.setProperty(\"--brand-color\", theme.brandColor);\n    }\n    if (typeof document !== \"undefined\" && theme?.buttonText) {\n        document.documentElement.style.setProperty(\"--button-text-color\", theme.buttonText);\n    }\n    const error = errorType && (signinErrors[errorType] ?? signinErrors.default);\n    const providerLogoPath = \"https://authjs.dev/img/providers\";\n    const conditionalUIProviderID = providers.find((provider)=>provider.type === \"webauthn\" && provider.enableConditionalUI)?.id;\n    return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n        className: \"signin\",\n        children: [\n            theme?.brandColor && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"style\", {\n                dangerouslySetInnerHTML: {\n                    __html: `:root {--brand-color: ${theme.brandColor}}`\n                }\n            }),\n            theme?.buttonText && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"style\", {\n                dangerouslySetInnerHTML: {\n                    __html: `\n        :root {\n          --button-text-color: ${theme.buttonText}\n        }\n      `\n                }\n            }),\n            (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                className: \"card\",\n                children: [\n                    error && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                        className: \"error\",\n                        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n                            children: error\n                        })\n                    }),\n                    theme?.logo && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n                        src: theme.logo,\n                        alt: \"Logo\",\n                        className: \"logo\"\n                    }),\n                    providers.map((provider, i)=>{\n                        let bg, text, logo, logoDark, bgDark, textDark;\n                        if (provider.type === \"oauth\" || provider.type === \"oidc\") {\n                            ;\n                            ({ bg = \"\", text = \"\", logo = \"\", bgDark = bg, textDark = text, logoDark = \"\" } = provider.style ?? {});\n                            logo = logo.startsWith(\"/\") ? providerLogoPath + logo : logo;\n                            logoDark = logoDark.startsWith(\"/\") ? providerLogoPath + logoDark : logoDark || logo;\n                            logoDark || (logoDark = logo);\n                        }\n                        return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                            className: \"provider\",\n                            children: [\n                                provider.type === \"oauth\" || provider.type === \"oidc\" ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"form\", {\n                                    action: provider.signinUrl,\n                                    method: \"POST\",\n                                    children: [\n                                        (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", {\n                                            type: \"hidden\",\n                                            name: \"csrfToken\",\n                                            value: csrfToken\n                                        }),\n                                        callbackUrl && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", {\n                                            type: \"hidden\",\n                                            name: \"callbackUrl\",\n                                            value: callbackUrl\n                                        }),\n                                        (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"button\", {\n                                            type: \"submit\",\n                                            className: \"button\",\n                                            style: {\n                                                \"--provider-bg\": bg,\n                                                \"--provider-dark-bg\": bgDark,\n                                                \"--provider-color\": text,\n                                                \"--provider-dark-color\": textDark,\n                                                \"--provider-bg-hover\": hexToRgba(bg, 0.8),\n                                                \"--provider-dark-bg-hover\": hexToRgba(bgDark, 0.8)\n                                            },\n                                            tabIndex: 0,\n                                            children: [\n                                                logo && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n                                                    loading: \"lazy\",\n                                                    height: 24,\n                                                    width: 24,\n                                                    id: \"provider-logo\",\n                                                    src: logo\n                                                }),\n                                                logoDark && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n                                                    loading: \"lazy\",\n                                                    height: 24,\n                                                    width: 24,\n                                                    id: \"provider-logo-dark\",\n                                                    src: logoDark\n                                                }),\n                                                (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"span\", {\n                                                    children: [\n                                                        \"Sign in with \",\n                                                        provider.name\n                                                    ]\n                                                })\n                                            ]\n                                        })\n                                    ]\n                                }) : null,\n                                (provider.type === \"email\" || provider.type === \"credentials\" || provider.type === \"webauthn\") && i > 0 && providers[i - 1].type !== \"email\" && providers[i - 1].type !== \"credentials\" && providers[i - 1].type !== \"webauthn\" && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"hr\", {}),\n                                provider.type === \"email\" && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"form\", {\n                                    action: provider.signinUrl,\n                                    method: \"POST\",\n                                    children: [\n                                        (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", {\n                                            type: \"hidden\",\n                                            name: \"csrfToken\",\n                                            value: csrfToken\n                                        }),\n                                        (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"label\", {\n                                            className: \"section-header\",\n                                            htmlFor: `input-email-for-${provider.id}-provider`,\n                                            children: \"Email\"\n                                        }),\n                                        (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", {\n                                            id: `input-email-for-${provider.id}-provider`,\n                                            autoFocus: true,\n                                            type: \"email\",\n                                            name: \"email\",\n                                            value: email,\n                                            placeholder: \"email@example.com\",\n                                            required: true\n                                        }),\n                                        (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"button\", {\n                                            id: \"submitButton\",\n                                            type: \"submit\",\n                                            tabIndex: 0,\n                                            children: [\n                                                \"Sign in with \",\n                                                provider.name\n                                            ]\n                                        })\n                                    ]\n                                }),\n                                provider.type === \"credentials\" && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"form\", {\n                                    action: provider.callbackUrl,\n                                    method: \"POST\",\n                                    children: [\n                                        (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", {\n                                            type: \"hidden\",\n                                            name: \"csrfToken\",\n                                            value: csrfToken\n                                        }),\n                                        Object.keys(provider.credentials).map((credential)=>{\n                                            return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                                                children: [\n                                                    (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"label\", {\n                                                        className: \"section-header\",\n                                                        htmlFor: `input-${credential}-for-${provider.id}-provider`,\n                                                        children: provider.credentials[credential].label ?? credential\n                                                    }),\n                                                    (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", {\n                                                        name: credential,\n                                                        id: `input-${credential}-for-${provider.id}-provider`,\n                                                        type: provider.credentials[credential].type ?? \"text\",\n                                                        placeholder: provider.credentials[credential].placeholder ?? \"\",\n                                                        ...provider.credentials[credential]\n                                                    })\n                                                ]\n                                            }, `input-group-${provider.id}`);\n                                        }),\n                                        (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"button\", {\n                                            id: \"submitButton\",\n                                            type: \"submit\",\n                                            tabIndex: 0,\n                                            children: [\n                                                \"Sign in with \",\n                                                provider.name\n                                            ]\n                                        })\n                                    ]\n                                }),\n                                provider.type === \"webauthn\" && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"form\", {\n                                    action: provider.callbackUrl,\n                                    method: \"POST\",\n                                    id: `${provider.id}-form`,\n                                    children: [\n                                        (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", {\n                                            type: \"hidden\",\n                                            name: \"csrfToken\",\n                                            value: csrfToken\n                                        }),\n                                        Object.keys(provider.formFields).map((field)=>{\n                                            return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                                                children: [\n                                                    (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"label\", {\n                                                        className: \"section-header\",\n                                                        htmlFor: `input-${field}-for-${provider.id}-provider`,\n                                                        children: provider.formFields[field].label ?? field\n                                                    }),\n                                                    (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", {\n                                                        name: field,\n                                                        \"data-form-field\": true,\n                                                        id: `input-${field}-for-${provider.id}-provider`,\n                                                        type: provider.formFields[field].type ?? \"text\",\n                                                        placeholder: provider.formFields[field].placeholder ?? \"\",\n                                                        ...provider.formFields[field]\n                                                    })\n                                                ]\n                                            }, `input-group-${provider.id}`);\n                                        }),\n                                        (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"button\", {\n                                            id: `submitButton-${provider.id}`,\n                                            type: \"submit\",\n                                            tabIndex: 0,\n                                            children: [\n                                                \"Sign in with \",\n                                                provider.name\n                                            ]\n                                        })\n                                    ]\n                                }),\n                                (provider.type === \"email\" || provider.type === \"credentials\" || provider.type === \"webauthn\") && i + 1 < providers.length && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"hr\", {})\n                            ]\n                        }, provider.id);\n                    })\n                ]\n            }),\n            conditionalUIProviderID && ConditionalUIScript(conditionalUIProviderID)\n        ]\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi9wYWdlcy9zaWduaW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXVGO0FBQzFCO0FBQzdELE1BQU1PLGVBQWU7SUFDakJDLFNBQVM7SUFDVEMsUUFBUTtJQUNSQyxhQUFhO0lBQ2JDLG9CQUFvQjtJQUNwQkMsb0JBQW9CO0lBQ3BCQyxvQkFBb0I7SUFDcEJDLFVBQVU7SUFDVkMsdUJBQXVCO0lBQ3ZCQyxhQUFhO0lBQ2JDLG1CQUFtQjtJQUNuQkMsaUJBQWlCO0FBQ3JCO0FBQ0EsU0FBU0MsVUFBVUMsR0FBRyxFQUFFQyxRQUFRLENBQUM7SUFDN0IsSUFBSSxDQUFDRCxLQUFLO1FBQ047SUFDSjtJQUNBLDRDQUE0QztJQUM1Q0EsTUFBTUEsSUFBSUUsT0FBTyxDQUFDLE1BQU07SUFDeEIsd0RBQXdEO0lBQ3hELElBQUlGLElBQUlHLE1BQU0sS0FBSyxHQUFHO1FBQ2xCSCxNQUFNQSxHQUFHLENBQUMsRUFBRSxHQUFHQSxHQUFHLENBQUMsRUFBRSxHQUFHQSxHQUFHLENBQUMsRUFBRSxHQUFHQSxHQUFHLENBQUMsRUFBRSxHQUFHQSxHQUFHLENBQUMsRUFBRSxHQUFHQSxHQUFHLENBQUMsRUFBRTtJQUM3RDtJQUNBLHlEQUF5RDtJQUN6RCxNQUFNSSxTQUFTQyxTQUFTTCxLQUFLO0lBQzdCLE1BQU1NLElBQUksVUFBVyxLQUFNO0lBQzNCLE1BQU1DLElBQUksVUFBVyxJQUFLO0lBQzFCLE1BQU1DLElBQUlKLFNBQVM7SUFDbkIsMERBQTBEO0lBQzFESCxRQUFRUSxLQUFLQyxHQUFHLENBQUNELEtBQUtFLEdBQUcsQ0FBQ1YsT0FBTyxJQUFJO0lBQ3JDLDRCQUE0QjtJQUM1QixNQUFNVyxPQUFPLENBQUMsS0FBSyxFQUFFTixFQUFFLEVBQUUsRUFBRUMsRUFBRSxFQUFFLEVBQUVDLEVBQUUsRUFBRSxFQUFFUCxNQUFNLENBQUMsQ0FBQztJQUMvQyxPQUFPVztBQUNYO0FBQ0EsU0FB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REFBSUEsQ0FBQyxNQUFNLENBQUM7NkJBQUc7d0JBQUMsR0FBR3dELFNBQVNHLEVBQUU7b0JBQzFFO2lCQUFHO1lBQUM7WUFBSUwsMkJBQTJCdEIsb0JBQW9Cc0I7U0FBeUI7SUFBQztBQUNyRyIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtcngvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvcGFnZXMvc2lnbmluLmpzPzQ3YmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsganN4IGFzIF9qc3gsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJwcmVhY3QvanN4LXJ1bnRpbWVcIjtcbmltcG9ydCB7IHdlYmF1dGhuU2NyaXB0IH0gZnJvbSBcIi4uL3V0aWxzL3dlYmF1dGhuLWNsaWVudC5qc1wiO1xuY29uc3Qgc2lnbmluRXJyb3JzID0ge1xuICAgIGRlZmF1bHQ6IFwiVW5hYmxlIHRvIHNpZ24gaW4uXCIsXG4gICAgU2lnbmluOiBcIlRyeSBzaWduaW5nIGluIHdpdGggYSBkaWZmZXJlbnQgYWNjb3VudC5cIixcbiAgICBPQXV0aFNpZ25pbjogXCJUcnkgc2lnbmluZyBpbiB3aXRoIGEgZGlmZmVyZW50IGFjY291bnQuXCIsXG4gICAgT0F1dGhDYWxsYmFja0Vycm9yOiBcIlRyeSBzaWduaW5nIGluIHdpdGggYSBkaWZmZXJlbnQgYWNjb3VudC5cIixcbiAgICBPQXV0aENyZWF0ZUFjY291bnQ6IFwiVHJ5IHNpZ25pbmcgaW4gd2l0aCBhIGRpZmZlcmVudCBhY2NvdW50LlwiLFxuICAgIEVtYWlsQ3JlYXRlQWNjb3VudDogXCJUcnkgc2lnbmluZyBpbiB3aXRoIGEgZGlmZmVyZW50IGFjY291bnQuXCIsXG4gICAgQ2FsbGJhY2s6IFwiVHJ5IHNpZ25pbmcgaW4gd2l0aCBhIGRpZmZlcmVudCBhY2NvdW50LlwiLFxuICAgIE9BdXRoQWNjb3VudE5vdExpbmtlZDogXCJUbyBjb25maXJtIHlvdXIgaWRlbnRpdHksIHNpZ24gaW4gd2l0aCB0aGUgc2FtZSBhY2NvdW50IHlvdSB1c2VkIG9yaWdpbmFsbHkuXCIsXG4gICAgRW1haWxTaWduaW46IFwiVGhlIGUtbWFpbCBjb3VsZCBub3QgYmUgc2VudC5cIixcbiAgICBDcmVkZW50aWFsc1NpZ25pbjogXCJTaWduIGluIGZhaWxlZC4gQ2hlY2sgdGhlIGRldGFpbHMgeW91IHByb3ZpZGVkIGFyZSBjb3JyZWN0LlwiLFxuICAgIFNlc3Npb25SZXF1aXJlZDogXCJQbGVhc2Ugc2lnbiBpbiB0byBhY2Nlc3MgdGhpcyBwYWdlLlwiLFxufTtcbmZ1bmN0aW9uIGhleFRvUmdiYShoZXgsIGFscGhhID0gMSkge1xuICAgIGlmICghaGV4KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gUmVtb3ZlIHRoZSBcIiNcIiBjaGFyYWN0ZXIgaWYgaXQncyBpbmNsdWRlZFxuICAgIGhleCA9IGhleC5yZXBsYWNlKC9eIy8sIFwiXCIpO1xuICAgIC8vIEV4cGFuZCAzLWRpZ2l0IGhleCBjb2RlcyB0byB0aGVpciA2LWRpZ2l0IGVxdWl2YWxlbnRzXG4gICAgaWYgKGhleC5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgaGV4ID0gaGV4WzBdICsgaGV4WzBdICsgaGV4WzFdICsgaGV4WzFdICsgaGV4WzJdICsgaGV4WzJdO1xuICAgIH1cbiAgICAvLyBQYXJzZSB0aGUgaGV4IHZhbHVlIHRvIHNlcGFyYXRlIFIsIEcsIGFuZCBCIGNvbXBvbmVudHNcbiAgICBjb25zdCBiaWdpbnQgPSBwYXJzZUludChoZXgsIDE2KTtcbiAgICBjb25zdCByID0gKGJpZ2ludCA+PiAxNikgJiAyNTU7XG4gICAgY29uc3QgZyA9IChiaWdpbnQgPj4gOCkgJiAyNTU7XG4gICAgY29uc3QgYiA9IGJpZ2ludCAmIDI1NTtcbiAgICAvLyBFbnN1cmUgdGhlIGFscGhhIHZhbHVlIGlzIHdpdGhpbiB0aGUgdmFsaWQgcmFuZ2UgWzAsIDFdXG4gICAgYWxwaGEgPSBNYXRoLm1pbihNYXRoLm1heChhbHBoYSwgMCksIDEpO1xuICAgIC8vIENvbnN0cnVjdCB0aGUgUkdCQSBzdHJpbmdcbiAgICBjb25zdCByZ2JhID0gYHJnYmEoJHtyfSwgJHtnfSwgJHtifSwgJHthbHBoYX0pYDtcbiAgICByZXR1cm4gcmdiYTtcbn1cbmZ1bmN0aW9uIENvbmRpdGlvbmFsVUlTY3JpcHQocHJvdmlkZXJJRCkge1xuICAgIGNvbnN0IHN0YXJ0Q29uZGl0aW9uYWxVSVNjcmlwdCA9IGBcbmNvbnN0IGN1cnJlbnRVUkwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbmNvbnN0IGF1dGhVUkwgPSBjdXJyZW50VVJMLnN1YnN0cmluZygwLCBjdXJyZW50VVJMLmxhc3RJbmRleE9mKCcvJykpO1xuKCR7d2ViYXV0aG5TY3JpcHR9KShhdXRoVVJMLCBcIiR7cHJvdmlkZXJJRH1cIik7XG5gO1xuICAgIHJldHVybiAoX2pzeChfRnJhZ21lbnQsIHsgY2hpbGRyZW46IF9qc3goXCJzY3JpcHRcIiwgeyBkYW5nZXJvdXNseVNldElubmVySFRNTDogeyBfX2h0bWw6IHN0YXJ0Q29uZGl0aW9uYWxVSVNjcmlwdCB9IH0pIH0pKTtcbn1cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNpZ25pblBhZ2UocHJvcHMpIHtcbiAgICBjb25zdCB7IGNzcmZUb2tlbiwgcHJvdmlkZXJzID0gW10sIGNhbGxiYWNrVXJsLCB0aGVtZSwgZW1haWwsIGVycm9yOiBlcnJvclR5cGUsIH0gPSBwcm9wcztcbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiICYmIHRoZW1lPy5icmFuZENvbG9yKSB7XG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tYnJhbmQtY29sb3JcIiwgdGhlbWUuYnJhbmRDb2xvcik7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIgJiYgdGhlbWU/LmJ1dHRvblRleHQpIHtcbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFwiLS1idXR0b24tdGV4dC1jb2xvclwiLCB0aGVtZS5idXR0b25UZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZXJyb3IgPSBlcnJvclR5cGUgJiYgKHNpZ25pbkVycm9yc1tlcnJvclR5cGVdID8/IHNpZ25pbkVycm9ycy5kZWZhdWx0KTtcbiAgICBjb25zdCBwcm92aWRlckxvZ29QYXRoID0gXCJodHRwczovL2F1dGhqcy5kZXYvaW1nL3Byb3ZpZGVyc1wiO1xuICAgIGNvbnN0IGNvbmRpdGlvbmFsVUlQcm92aWRlcklEID0gcHJvdmlkZXJzLmZpbmQoKHByb3ZpZGVyKSA9PiBwcm92aWRlci50eXBlID09PSBcIndlYmF1dGhuXCIgJiYgcHJvdmlkZXIuZW5hYmxlQ29uZGl0aW9uYWxVSSk/LmlkO1xuICAgIHJldHVybiAoX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic2lnbmluXCIsIGNoaWxkcmVuOiBbdGhlbWU/LmJyYW5kQ29sb3IgJiYgKF9qc3goXCJzdHlsZVwiLCB7IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7XG4gICAgICAgICAgICAgICAgICAgIF9faHRtbDogYDpyb290IHstLWJyYW5kLWNvbG9yOiAke3RoZW1lLmJyYW5kQ29sb3J9fWAsXG4gICAgICAgICAgICAgICAgfSB9KSksIHRoZW1lPy5idXR0b25UZXh0ICYmIChfanN4KFwic3R5bGVcIiwgeyBkYW5nZXJvdXNseVNldElubmVySFRNTDoge1xuICAgICAgICAgICAgICAgICAgICBfX2h0bWw6IGBcbiAgICAgICAgOnJvb3Qge1xuICAgICAgICAgIC0tYnV0dG9uLXRleHQtY29sb3I6ICR7dGhlbWUuYnV0dG9uVGV4dH1cbiAgICAgICAgfVxuICAgICAgYCxcbiAgICAgICAgICAgICAgICB9IH0pKSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2FyZFwiLCBjaGlsZHJlbjogW2Vycm9yICYmIChfanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImVycm9yXCIsIGNoaWxkcmVuOiBfanN4KFwicFwiLCB7IGNoaWxkcmVuOiBlcnJvciB9KSB9KSksIHRoZW1lPy5sb2dvICYmIF9qc3goXCJpbWdcIiwgeyBzcmM6IHRoZW1lLmxvZ28sIGFsdDogXCJMb2dvXCIsIGNsYXNzTmFtZTogXCJsb2dvXCIgfSksIHByb3ZpZGVycy5tYXAoKHByb3ZpZGVyLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYmcsIHRleHQsIGxvZ28sIGxvZ29EYXJrLCBiZ0RhcmssIHRleHREYXJrO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3ZpZGVyLnR5cGUgPT09IFwib2F1dGhcIiB8fCBwcm92aWRlci50eXBlID09PSBcIm9pZGNcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZyA9IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgPSBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dvID0gXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdEYXJrID0gYmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHREYXJrID0gdGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nb0RhcmsgPSBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gPSBwcm92aWRlci5zdHlsZSA/PyB7fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nbyA9IGxvZ28uc3RhcnRzV2l0aChcIi9cIikgPyBwcm92aWRlckxvZ29QYXRoICsgbG9nbyA6IGxvZ287XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nb0RhcmsgPSBsb2dvRGFyay5zdGFydHNXaXRoKFwiL1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHByb3ZpZGVyTG9nb1BhdGggKyBsb2dvRGFya1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGxvZ29EYXJrIHx8IGxvZ287XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nb0RhcmsgfHwgKGxvZ29EYXJrID0gbG9nbyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInByb3ZpZGVyXCIsIGNoaWxkcmVuOiBbcHJvdmlkZXIudHlwZSA9PT0gXCJvYXV0aFwiIHx8IHByb3ZpZGVyLnR5cGUgPT09IFwib2lkY1wiID8gKF9qc3hzKFwiZm9ybVwiLCB7IGFjdGlvbjogcHJvdmlkZXIuc2lnbmluVXJsLCBtZXRob2Q6IFwiUE9TVFwiLCBjaGlsZHJlbjogW19qc3goXCJpbnB1dFwiLCB7IHR5cGU6IFwiaGlkZGVuXCIsIG5hbWU6IFwiY3NyZlRva2VuXCIsIHZhbHVlOiBjc3JmVG9rZW4gfSksIGNhbGxiYWNrVXJsICYmIChfanN4KFwiaW5wdXRcIiwgeyB0eXBlOiBcImhpZGRlblwiLCBuYW1lOiBcImNhbGxiYWNrVXJsXCIsIHZhbHVlOiBjYWxsYmFja1VybCB9KSksIF9qc3hzKFwiYnV0dG9uXCIsIHsgdHlwZTogXCJzdWJtaXRcIiwgY2xhc3NOYW1lOiBcImJ1dHRvblwiLCBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCItLXByb3ZpZGVyLWJnXCI6IGJnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCItLXByb3ZpZGVyLWRhcmstYmdcIjogYmdEYXJrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCItLXByb3ZpZGVyLWNvbG9yXCI6IHRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIi0tcHJvdmlkZXItZGFyay1jb2xvclwiOiB0ZXh0RGFyayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiLS1wcm92aWRlci1iZy1ob3ZlclwiOiBoZXhUb1JnYmEoYmcsIDAuOCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIi0tcHJvdmlkZXItZGFyay1iZy1ob3ZlclwiOiBoZXhUb1JnYmEoYmdEYXJrLCAwLjgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB0YWJJbmRleDogMCwgY2hpbGRyZW46IFtsb2dvICYmIChfanN4KFwiaW1nXCIsIHsgbG9hZGluZzogXCJsYXp5XCIsIGhlaWdodDogMjQsIHdpZHRoOiAyNCwgaWQ6IFwicHJvdmlkZXItbG9nb1wiLCBzcmM6IGxvZ28gfSkpLCBsb2dvRGFyayAmJiAoX2pzeChcImltZ1wiLCB7IGxvYWRpbmc6IFwibGF6eVwiLCBoZWlnaHQ6IDI0LCB3aWR0aDogMjQsIGlkOiBcInByb3ZpZGVyLWxvZ28tZGFya1wiLCBzcmM6IGxvZ29EYXJrIH0pKSwgX2pzeHMoXCJzcGFuXCIsIHsgY2hpbGRyZW46IFtcIlNpZ24gaW4gd2l0aCBcIiwgcHJvdmlkZXIubmFtZV0gfSldIH0pXSB9KSkgOiBudWxsLCAocHJvdmlkZXIudHlwZSA9PT0gXCJlbWFpbFwiIHx8IHByb3ZpZGVyLnR5cGUgPT09IFwiY3JlZGVudGlhbHNcIiB8fCBwcm92aWRlci50eXBlID09PSBcIndlYmF1dGhuXCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID4gMCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzW2kgLSAxXS50eXBlICE9PSBcImVtYWlsXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyc1tpIC0gMV0udHlwZSAhPT0gXCJjcmVkZW50aWFsc1wiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnNbaSAtIDFdLnR5cGUgIT09IFwid2ViYXV0aG5cIiAmJiBfanN4KFwiaHJcIiwge30pLCBwcm92aWRlci50eXBlID09PSBcImVtYWlsXCIgJiYgKF9qc3hzKFwiZm9ybVwiLCB7IGFjdGlvbjogcHJvdmlkZXIuc2lnbmluVXJsLCBtZXRob2Q6IFwiUE9TVFwiLCBjaGlsZHJlbjogW19qc3goXCJpbnB1dFwiLCB7IHR5cGU6IFwiaGlkZGVuXCIsIG5hbWU6IFwiY3NyZlRva2VuXCIsIHZhbHVlOiBjc3JmVG9rZW4gfSksIF9qc3goXCJsYWJlbFwiLCB7IGNsYXNzTmFtZTogXCJzZWN0aW9uLWhlYWRlclwiLCBodG1sRm9yOiBgaW5wdXQtZW1haWwtZm9yLSR7cHJvdmlkZXIuaWR9LXByb3ZpZGVyYCwgY2hpbGRyZW46IFwiRW1haWxcIiB9KSwgX2pzeChcImlucHV0XCIsIHsgaWQ6IGBpbnB1dC1lbWFpbC1mb3ItJHtwcm92aWRlci5pZH0tcHJvdmlkZXJgLCBhdXRvRm9jdXM6IHRydWUsIHR5cGU6IFwiZW1haWxcIiwgbmFtZTogXCJlbWFpbFwiLCB2YWx1ZTogZW1haWwsIHBsYWNlaG9sZGVyOiBcImVtYWlsQGV4YW1wbGUuY29tXCIsIHJlcXVpcmVkOiB0cnVlIH0pLCBfanN4cyhcImJ1dHRvblwiLCB7IGlkOiBcInN1Ym1pdEJ1dHRvblwiLCB0eXBlOiBcInN1Ym1pdFwiLCB0YWJJbmRleDogMCwgY2hpbGRyZW46IFtcIlNpZ24gaW4gd2l0aCBcIiwgcHJvdmlkZXIubmFtZV0gfSldIH0pKSwgcHJvdmlkZXIudHlwZSA9PT0gXCJjcmVkZW50aWFsc1wiICYmIChfanN4cyhcImZvcm1cIiwgeyBhY3Rpb246IHByb3ZpZGVyLmNhbGxiYWNrVXJsLCBtZXRob2Q6IFwiUE9TVFwiLCBjaGlsZHJlbjogW19qc3goXCJpbnB1dFwiLCB7IHR5cGU6IFwiaGlkZGVuXCIsIG5hbWU6IFwiY3NyZlRva2VuXCIsIHZhbHVlOiBjc3JmVG9rZW4gfSksIE9iamVjdC5rZXlzKHByb3ZpZGVyLmNyZWRlbnRpYWxzKS5tYXAoKGNyZWRlbnRpYWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChfanN4cyhcImRpdlwiLCB7IGNoaWxkcmVuOiBbX2pzeChcImxhYmVsXCIsIHsgY2xhc3NOYW1lOiBcInNlY3Rpb24taGVhZGVyXCIsIGh0bWxGb3I6IGBpbnB1dC0ke2NyZWRlbnRpYWx9LWZvci0ke3Byb3ZpZGVyLmlkfS1wcm92aWRlcmAsIGNoaWxkcmVuOiBwcm92aWRlci5jcmVkZW50aWFsc1tjcmVkZW50aWFsXS5sYWJlbCA/PyBjcmVkZW50aWFsIH0pLCBfanN4KFwiaW5wdXRcIiwgeyBuYW1lOiBjcmVkZW50aWFsLCBpZDogYGlucHV0LSR7Y3JlZGVudGlhbH0tZm9yLSR7cHJvdmlkZXIuaWR9LXByb3ZpZGVyYCwgdHlwZTogcHJvdmlkZXIuY3JlZGVudGlhbHNbY3JlZGVudGlhbF0udHlwZSA/PyBcInRleHRcIiwgcGxhY2Vob2xkZXI6IHByb3ZpZGVyLmNyZWRlbnRpYWxzW2NyZWRlbnRpYWxdLnBsYWNlaG9sZGVyID8/IFwiXCIsIC4uLnByb3ZpZGVyLmNyZWRlbnRpYWxzW2NyZWRlbnRpYWxdIH0pXSB9LCBgaW5wdXQtZ3JvdXAtJHtwcm92aWRlci5pZH1gKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksIF9qc3hzKFwiYnV0dG9uXCIsIHsgaWQ6IFwic3VibWl0QnV0dG9uXCIsIHR5cGU6IFwic3VibWl0XCIsIHRhYkluZGV4OiAwLCBjaGlsZHJlbjogW1wiU2lnbiBpbiB3aXRoIFwiLCBwcm92aWRlci5uYW1lXSB9KV0gfSkpLCBwcm92aWRlci50eXBlID09PSBcIndlYmF1dGhuXCIgJiYgKF9qc3hzKFwiZm9ybVwiLCB7IGFjdGlvbjogcHJvdmlkZXIuY2FsbGJhY2tVcmwsIG1ldGhvZDogXCJQT1NUXCIsIGlkOiBgJHtwcm92aWRlci5pZH0tZm9ybWAsIGNoaWxkcmVuOiBbX2pzeChcImlucHV0XCIsIHsgdHlwZTogXCJoaWRkZW5cIiwgbmFtZTogXCJjc3JmVG9rZW5cIiwgdmFsdWU6IGNzcmZUb2tlbiB9KSwgT2JqZWN0LmtleXMocHJvdmlkZXIuZm9ybUZpZWxkcykubWFwKChmaWVsZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKF9qc3hzKFwiZGl2XCIsIHsgY2hpbGRyZW46IFtfanN4KFwibGFiZWxcIiwgeyBjbGFzc05hbWU6IFwic2VjdGlvbi1oZWFkZXJcIiwgaHRtbEZvcjogYGlucHV0LSR7ZmllbGR9LWZvci0ke3Byb3ZpZGVyLmlkfS1wcm92aWRlcmAsIGNoaWxkcmVuOiBwcm92aWRlci5mb3JtRmllbGRzW2ZpZWxkXS5sYWJlbCA/PyBmaWVsZCB9KSwgX2pzeChcImlucHV0XCIsIHsgbmFtZTogZmllbGQsIFwiZGF0YS1mb3JtLWZpZWxkXCI6IHRydWUsIGlkOiBgaW5wdXQtJHtmaWVsZH0tZm9yLSR7cHJvdmlkZXIuaWR9LXByb3ZpZGVyYCwgdHlwZTogcHJvdmlkZXIuZm9ybUZpZWxkc1tmaWVsZF0udHlwZSA/PyBcInRleHRcIiwgcGxhY2Vob2xkZXI6IHByb3ZpZGVyLmZvcm1GaWVsZHNbZmllbGRdLnBsYWNlaG9sZGVyID8/IFwiXCIsIC4uLnByb3ZpZGVyLmZvcm1GaWVsZHNbZmllbGRdIH0pXSB9LCBgaW5wdXQtZ3JvdXAtJHtwcm92aWRlci5pZH1gKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksIF9qc3hzKFwiYnV0dG9uXCIsIHsgaWQ6IGBzdWJtaXRCdXR0b24tJHtwcm92aWRlci5pZH1gLCB0eXBlOiBcInN1Ym1pdFwiLCB0YWJJbmRleDogMCwgY2hpbGRyZW46IFtcIlNpZ24gaW4gd2l0aCBcIiwgcHJvdmlkZXIubmFtZV0gfSldIH0pKSwgKHByb3ZpZGVyLnR5cGUgPT09IFwiZW1haWxcIiB8fCBwcm92aWRlci50eXBlID09PSBcImNyZWRlbnRpYWxzXCIgfHwgcHJvdmlkZXIudHlwZSA9PT0gXCJ3ZWJhdXRoblwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSArIDEgPCBwcm92aWRlcnMubGVuZ3RoICYmIF9qc3goXCJoclwiLCB7fSldIH0sIHByb3ZpZGVyLmlkKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pXSB9KSwgY29uZGl0aW9uYWxVSVByb3ZpZGVySUQgJiYgQ29uZGl0aW9uYWxVSVNjcmlwdChjb25kaXRpb25hbFVJUHJvdmlkZXJJRCldIH0pKTtcbn1cbiJdLCJuYW1lcyI6WyJqc3giLCJfanN4IiwiRnJhZ21lbnQiLCJfRnJhZ21lbnQiLCJqc3hzIiwiX2pzeHMiLCJ3ZWJhdXRoblNjcmlwdCIsInNpZ25pbkVycm9ycyIsImRlZmF1bHQiLCJTaWduaW4iLCJPQXV0aFNpZ25pbiIsIk9BdXRoQ2FsbGJhY2tFcnJvciIsIk9BdXRoQ3JlYXRlQWNjb3VudCIsIkVtYWlsQ3JlYXRlQWNjb3VudCIsIkNhbGxiYWNrIiwiT0F1dGhBY2NvdW50Tm90TGlua2VkIiwiRW1haWxTaWduaW4iLCJDcmVkZW50aWFsc1NpZ25pbiIsIlNlc3Npb25SZXF1aXJlZCIsImhleFRvUmdiYSIsImhleCIsImFscGhhIiwicmVwbGFjZSIsImxlbmd0aCIsImJpZ2ludCIsInBhcnNlSW50IiwiciIsImciLCJiIiwiTWF0aCIsIm1pbiIsIm1heCIsInJnYmEiLCJDb25kaXRpb25hbFVJU2NyaXB0IiwicHJvdmlkZXJJRCIsInN0YXJ0Q29uZGl0aW9uYWxVSVNjcmlwdCIsImNoaWxkcmVuIiwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiLCJfX2h0bWwiLCJTaWduaW5QYWdlIiwicHJvcHMiLCJjc3JmVG9rZW4iLCJwcm92aWRlcnMiLCJjYWxsYmFja1VybCIsInRoZW1lIiwiZW1haWwiLCJlcnJvciIsImVycm9yVHlwZSIsImRvY3VtZW50IiwiYnJhbmRDb2xvciIsImRvY3VtZW50RWxlbWVudCIsInN0eWxlIiwic2V0UHJvcGVydHkiLCJidXR0b25UZXh0IiwicHJvdmlkZXJMb2dvUGF0aCIsImNvbmRpdGlvbmFsVUlQcm92aWRlcklEIiwiZmluZCIsInByb3ZpZGVyIiwidHlwZSIsImVuYWJsZUNvbmRpdGlvbmFsVUkiLCJpZCIsImNsYXNzTmFtZSIsImxvZ28iLCJzcmMiLCJhbHQiLCJtYXAiLCJpIiwiYmciLCJ0ZXh0IiwibG9nb0RhcmsiLCJiZ0RhcmsiLCJ0ZXh0RGFyayIsInN0YXJ0c1dpdGgiLCJhY3Rpb24iLCJzaWduaW5VcmwiLCJtZXRob2QiLCJuYW1lIiwidmFsdWUiLCJ0YWJJbmRleCIsImxvYWRpbmciLCJoZWlnaHQiLCJ3aWR0aCIsImh0bWxGb3IiLCJhdXRvRm9jdXMiLCJwbGFjZWhvbGRlciIsInJlcXVpcmVkIiwiT2JqZWN0Iiwia2V5cyIsImNyZWRlbnRpYWxzIiwiY3JlZGVudGlhbCIsImxhYmVsIiwiZm9ybUZpZWxkcyIsImZpZWxkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/lib/pages/signin.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/lib/pages/signin.js":
/*!*****************************************************!*\
  !*** ./node_modules/@auth/core/lib/pages/signin.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SigninPage)\n/* harmony export */ });\n/* harmony import */ var preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact/jsx-runtime */ \"(rsc)/./node_modules/preact/jsx-runtime/dist/jsxRuntime.mjs\");\n/* harmony import */ var _utils_webauthn_client_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/webauthn-client.js */ \"(rsc)/./node_modules/@auth/core/lib/utils/webauthn-client.js\");\n\n\nconst signinErrors = {\n    default: \"Unable to sign in.\",\n    Signin: \"Try signing in with a different account.\",\n    OAuthSignin: \"Try signing in with a different account.\",\n    OAuthCallbackError: \"Try signing in with a different account.\",\n    OAuthCreateAccount: \"Try signing in with a different account.\",\n    EmailCreateAccount: \"Try signing in with a different account.\",\n    Callback: \"Try signing in with a different account.\",\n    OAuthAccountNotLinked: \"To confirm your identity, sign in with the same account you used originally.\",\n    EmailSignin: \"The e-mail could not be sent.\",\n    CredentialsSignin: \"Sign in failed. Check the details you provided are correct.\",\n    SessionRequired: \"Please sign in to access this page.\"\n};\nfunction hexToRgba(hex, alpha = 1) {\n    if (!hex) {\n        return;\n    }\n    // Remove the \"#\" character if it's included\n    hex = hex.replace(/^#/, \"\");\n    // Expand 3-digit hex codes to their 6-digit equivalents\n    if (hex.length === 3) {\n        hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n    }\n    // Parse the hex value to separate R, G, and B components\n    const bigint = parseInt(hex, 16);\n    const r = bigint >> 16 & 255;\n    const g = bigint >> 8 & 255;\n    const b = bigint & 255;\n    // Ensure the alpha value is within the valid range [0, 1]\n    alpha = Math.min(Math.max(alpha, 0), 1);\n    // Construct the RGBA string\n    const rgba = `rgba(${r}, ${g}, ${b}, ${alpha})`;\n    return rgba;\n}\nfunction ConditionalUIScript(providerID) {\n    const startConditionalUIScript = `\nconst currentURL = window.location.href;\nconst authURL = currentURL.substring(0, currentURL.lastIndexOf('/'));\n(${_utils_webauthn_client_js__WEBPACK_IMPORTED_MODULE_1__.webauthnScript})(authURL, \"${providerID}\");\n`;\n    return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"script\", {\n            dangerouslySetInnerHTML: {\n                __html: startConditionalUIScript\n            }\n        })\n    });\n}\nfunction SigninPage(props) {\n    const { csrfToken, providers = [], callbackUrl, theme, email, error: errorType } = props;\n    if (typeof document !== \"undefined\" && theme?.brandColor) {\n        document.documentElement.style.setProperty(\"--brand-color\", theme.brandColor);\n    }\n    if (typeof document !== \"undefined\" && theme?.buttonText) {\n        document.documentElement.style.setProperty(\"--button-text-color\", theme.buttonText);\n    }\n    const error = errorType && (signinErrors[errorType] ?? signinErrors.default);\n    const providerLogoPath = \"https://authjs.dev/img/providers\";\n    const conditionalUIProviderID = providers.find((provider)=>provider.type === \"webauthn\" && provider.enableConditionalUI)?.id;\n    return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n        className: \"signin\",\n        children: [\n            theme?.brandColor && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"style\", {\n                dangerouslySetInnerHTML: {\n                    __html: `:root {--brand-color: ${theme.brandColor}}`\n                }\n            }),\n            theme?.buttonText && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"style\", {\n                dangerouslySetInnerHTML: {\n                    __html: `\n        :root {\n          --button-text-color: ${theme.buttonText}\n        }\n      `\n                }\n            }),\n            (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                className: \"card\",\n                children: [\n                    error && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", {\n                        className: \"error\",\n                        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n                            children: error\n                        })\n                    }),\n                    theme?.logo && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n                        src: theme.logo,\n                        alt: \"Logo\",\n                        className: \"logo\"\n                    }),\n                    providers.map((provider, i)=>{\n                        let bg, text, logo, logoDark, bgDark, textDark;\n                        if (provider.type === \"oauth\" || provider.type === \"oidc\") {\n                            ;\n                            ({ bg = \"\", text = \"\", logo = \"\", bgDark = bg, textDark = text, logoDark = \"\" } = provider.style ?? {});\n                            logo = logo.startsWith(\"/\") ? providerLogoPath + logo : logo;\n                            logoDark = logoDark.startsWith(\"/\") ? providerLogoPath + logoDark : logoDark || logo;\n                            logoDark || (logoDark = logo);\n                        }\n                        return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                            className: \"provider\",\n                            children: [\n                                provider.type === \"oauth\" || provider.type === \"oidc\" ? (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"form\", {\n                                    action: provider.signinUrl,\n                                    method: \"POST\",\n                                    children: [\n                                        (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", {\n                                            type: \"hidden\",\n                                            name: \"csrfToken\",\n                                            value: csrfToken\n                                        }),\n                                        callbackUrl && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", {\n                                            type: \"hidden\",\n                                            name: \"callbackUrl\",\n                                            value: callbackUrl\n                                        }),\n                                        (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"button\", {\n                                            type: \"submit\",\n                                            className: \"button\",\n                                            style: {\n                                                \"--provider-bg\": bg,\n                                                \"--provider-dark-bg\": bgDark,\n                                                \"--provider-color\": text,\n                                                \"--provider-dark-color\": textDark,\n                                                \"--provider-bg-hover\": hexToRgba(bg, 0.8),\n                                                \"--provider-dark-bg-hover\": hexToRgba(bgDark, 0.8)\n                                            },\n                                            tabIndex: 0,\n                                            children: [\n                                                logo && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n                                                    loading: \"lazy\",\n                                                    height: 24,\n                                                    width: 24,\n                                                    id: \"provider-logo\",\n                                                    src: logo\n                                                }),\n                                                logoDark && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n                                                    loading: \"lazy\",\n                                                    height: 24,\n                                                    width: 24,\n                                                    id: \"provider-logo-dark\",\n                                                    src: logoDark\n                                                }),\n                                                (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"span\", {\n                                                    children: [\n                                                        \"Sign in with \",\n                                                        provider.name\n                                                    ]\n                                                })\n                                            ]\n                                        })\n                                    ]\n                                }) : null,\n                                (provider.type === \"email\" || provider.type === \"credentials\" || provider.type === \"webauthn\") && i > 0 && providers[i - 1].type !== \"email\" && providers[i - 1].type !== \"credentials\" && providers[i - 1].type !== \"webauthn\" && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"hr\", {}),\n                                provider.type === \"email\" && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"form\", {\n                                    action: provider.signinUrl,\n                                    method: \"POST\",\n                                    children: [\n                                        (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", {\n                                            type: \"hidden\",\n                                            name: \"csrfToken\",\n                                            value: csrfToken\n                                        }),\n                                        (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"label\", {\n                                            className: \"section-header\",\n                                            htmlFor: `input-email-for-${provider.id}-provider`,\n                                            children: \"Email\"\n                                        }),\n                                        (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", {\n                                            id: `input-email-for-${provider.id}-provider`,\n                                            autoFocus: true,\n                                            type: \"email\",\n                                            name: \"email\",\n                                            value: email,\n                                            placeholder: \"email@example.com\",\n                                            required: true\n                                        }),\n                                        (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"button\", {\n                                            id: \"submitButton\",\n                                            type: \"submit\",\n                                            tabIndex: 0,\n                                            children: [\n                                                \"Sign in with \",\n                                                provider.name\n                                            ]\n                                        })\n                                    ]\n                                }),\n                                provider.type === \"credentials\" && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"form\", {\n                                    action: provider.callbackUrl,\n                                    method: \"POST\",\n                                    children: [\n                                        (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", {\n                                            type: \"hidden\",\n                                            name: \"csrfToken\",\n                                            value: csrfToken\n                                        }),\n                                        Object.keys(provider.credentials).map((credential)=>{\n                                            return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                                                children: [\n                                                    (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"label\", {\n                                                        className: \"section-header\",\n                                                        htmlFor: `input-${credential}-for-${provider.id}-provider`,\n                                                        children: provider.credentials[credential].label ?? credential\n                                                    }),\n                                                    (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", {\n                                                        name: credential,\n                                                        id: `input-${credential}-for-${provider.id}-provider`,\n                                                        type: provider.credentials[credential].type ?? \"text\",\n                                                        placeholder: provider.credentials[credential].placeholder ?? \"\",\n                                                        ...provider.credentials[credential]\n                                                    })\n                                                ]\n                                            }, `input-group-${provider.id}`);\n                                        }),\n                                        (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"button\", {\n                                            id: \"submitButton\",\n                                            type: \"submit\",\n                                            tabIndex: 0,\n                                            children: [\n                                                \"Sign in with \",\n                                                provider.name\n                                            ]\n                                        })\n                                    ]\n                                }),\n                                provider.type === \"webauthn\" && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"form\", {\n                                    action: provider.callbackUrl,\n                                    method: \"POST\",\n                                    id: `${provider.id}-form`,\n                                    children: [\n                                        (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", {\n                                            type: \"hidden\",\n                                            name: \"csrfToken\",\n                                            value: csrfToken\n                                        }),\n                                        Object.keys(provider.formFields).map((field)=>{\n                                            return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                                                children: [\n                                                    (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"label\", {\n                                                        className: \"section-header\",\n                                                        htmlFor: `input-${field}-for-${provider.id}-provider`,\n                                                        children: provider.formFields[field].label ?? field\n                                                    }),\n                                                    (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", {\n                                                        name: field,\n                                                        \"data-form-field\": true,\n                                                        id: `input-${field}-for-${provider.id}-provider`,\n                                                        type: provider.formFields[field].type ?? \"text\",\n                                                        placeholder: provider.formFields[field].placeholder ?? \"\",\n                                                        ...provider.formFields[field]\n                                                    })\n                                                ]\n                                            }, `input-group-${provider.id}`);\n                                        }),\n                                        (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"button\", {\n                                            id: `submitButton-${provider.id}`,\n                                            type: \"submit\",\n                                            tabIndex: 0,\n                                            children: [\n                                                \"Sign in with \",\n                                                provider.name\n                                            ]\n                                        })\n                                    ]\n                                }),\n                                (provider.type === \"email\" || provider.type === \"credentials\" || provider.type === \"webauthn\") && i + 1 < providers.length && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"hr\", {})\n                            ]\n                        }, provider.id);\n                    })\n                ]\n            }),\n            conditionalUIProviderID && ConditionalUIScript(conditionalUIProviderID)\n        ]\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvcGFnZXMvc2lnbmluLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF1RjtBQUMxQjtBQUM3RCxNQUFNTyxlQUFlO0lBQ2pCQyxTQUFTO0lBQ1RDLFFBQVE7SUFDUkMsYUFBYTtJQUNiQyxvQkFBb0I7SUFDcEJDLG9CQUFvQjtJQUNwQkMsb0JBQW9CO0lBQ3BCQyxVQUFVO0lBQ1ZDLHVCQUF1QjtJQUN2QkMsYUFBYTtJQUNiQyxtQkFBbUI7SUFDbkJDLGlCQUFpQjtBQUNyQjtBQUNBLFNBQVNDLFVBQVVDLEdBQUcsRUFBRUMsUUFBUSxDQUFDO0lBQzdCLElBQUksQ0FBQ0QsS0FBSztRQUNOO0lBQ0o7SUFDQSw0Q0FBNEM7SUFDNUNBLE1BQU1BLElBQUlFLE9BQU8sQ0FBQyxNQUFNO0lBQ3hCLHdEQUF3RDtJQUN4RCxJQUFJRixJQUFJRyxNQUFNLEtBQUssR0FBRztRQUNsQkgsTUFBTUEsR0FBRyxDQUFDLEVBQUUsR0FBR0EsR0FBRyxDQUFDLEVBQUUsR0FBR0EsR0FBRyxDQUFDLEVBQUUsR0FBR0EsR0FBRyxDQUFDLEVBQUUsR0FBR0EsR0FBRyxDQUFDLEVBQUUsR0FBR0EsR0FBRyxDQUFDLEVBQUU7SUFDN0Q7SUFDQSx5REFBeUQ7SUFDekQsTUFBTUksU0FBU0MsU0FBU0wsS0FBSztJQUM3QixNQUFNTSxJQUFJLFVBQVcsS0FBTTtJQUMzQixNQUFNQyxJQUFJLFVBQVcsSUFBSztJQUMxQixNQUFNQyxJQUFJSixTQUFTO0lBQ25CLDBEQUEwRDtJQUMxREgsUUFBUVEsS0FBS0MsR0FBRyxDQUFDRCxLQUFLRSxHQUFHLENBQUNWLE9BQU8sSUFBSTtJQUNyQyw0QkFBNEI7SUFDNUIsTUFBTVcsT0FBTyxDQUFDLEtBQUssRUFBRU4sRUFBRSxFQUFFLEVBQUVDLEVBQUUsRUFBRSxFQUFFQyxFQUFFLEVBQUUsRUFBRVAsTUFBTSxDQUFDLENBQUM7SUFDL0MsT0FBT1c7QUFDWDtBQUNBLFNBQVNDLG9CQUFvQkMs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TUFBTSxDQUFDOzZCQUFHO3dCQUFDLEdBQUd3RCxTQUFTRyxFQUFFO29CQUMxRTtpQkFBRztZQUFDO1lBQUlMLDJCQUEyQnRCLG9CQUFvQnNCO1NBQXlCO0lBQUM7QUFDckciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LXJ4Ly4vbm9kZV9tb2R1bGVzL0BhdXRoL2NvcmUvbGliL3BhZ2VzL3NpZ25pbi5qcz80N2JiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGpzeCBhcyBfanN4LCBGcmFnbWVudCBhcyBfRnJhZ21lbnQsIGpzeHMgYXMgX2pzeHMgfSBmcm9tIFwicHJlYWN0L2pzeC1ydW50aW1lXCI7XG5pbXBvcnQgeyB3ZWJhdXRoblNjcmlwdCB9IGZyb20gXCIuLi91dGlscy93ZWJhdXRobi1jbGllbnQuanNcIjtcbmNvbnN0IHNpZ25pbkVycm9ycyA9IHtcbiAgICBkZWZhdWx0OiBcIlVuYWJsZSB0byBzaWduIGluLlwiLFxuICAgIFNpZ25pbjogXCJUcnkgc2lnbmluZyBpbiB3aXRoIGEgZGlmZmVyZW50IGFjY291bnQuXCIsXG4gICAgT0F1dGhTaWduaW46IFwiVHJ5IHNpZ25pbmcgaW4gd2l0aCBhIGRpZmZlcmVudCBhY2NvdW50LlwiLFxuICAgIE9BdXRoQ2FsbGJhY2tFcnJvcjogXCJUcnkgc2lnbmluZyBpbiB3aXRoIGEgZGlmZmVyZW50IGFjY291bnQuXCIsXG4gICAgT0F1dGhDcmVhdGVBY2NvdW50OiBcIlRyeSBzaWduaW5nIGluIHdpdGggYSBkaWZmZXJlbnQgYWNjb3VudC5cIixcbiAgICBFbWFpbENyZWF0ZUFjY291bnQ6IFwiVHJ5IHNpZ25pbmcgaW4gd2l0aCBhIGRpZmZlcmVudCBhY2NvdW50LlwiLFxuICAgIENhbGxiYWNrOiBcIlRyeSBzaWduaW5nIGluIHdpdGggYSBkaWZmZXJlbnQgYWNjb3VudC5cIixcbiAgICBPQXV0aEFjY291bnROb3RMaW5rZWQ6IFwiVG8gY29uZmlybSB5b3VyIGlkZW50aXR5LCBzaWduIGluIHdpdGggdGhlIHNhbWUgYWNjb3VudCB5b3UgdXNlZCBvcmlnaW5hbGx5LlwiLFxuICAgIEVtYWlsU2lnbmluOiBcIlRoZSBlLW1haWwgY291bGQgbm90IGJlIHNlbnQuXCIsXG4gICAgQ3JlZGVudGlhbHNTaWduaW46IFwiU2lnbiBpbiBmYWlsZWQuIENoZWNrIHRoZSBkZXRhaWxzIHlvdSBwcm92aWRlZCBhcmUgY29ycmVjdC5cIixcbiAgICBTZXNzaW9uUmVxdWlyZWQ6IFwiUGxlYXNlIHNpZ24gaW4gdG8gYWNjZXNzIHRoaXMgcGFnZS5cIixcbn07XG5mdW5jdGlvbiBoZXhUb1JnYmEoaGV4LCBhbHBoYSA9IDEpIHtcbiAgICBpZiAoIWhleCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIFJlbW92ZSB0aGUgXCIjXCIgY2hhcmFjdGVyIGlmIGl0J3MgaW5jbHVkZWRcbiAgICBoZXggPSBoZXgucmVwbGFjZSgvXiMvLCBcIlwiKTtcbiAgICAvLyBFeHBhbmQgMy1kaWdpdCBoZXggY29kZXMgdG8gdGhlaXIgNi1kaWdpdCBlcXVpdmFsZW50c1xuICAgIGlmIChoZXgubGVuZ3RoID09PSAzKSB7XG4gICAgICAgIGhleCA9IGhleFswXSArIGhleFswXSArIGhleFsxXSArIGhleFsxXSArIGhleFsyXSArIGhleFsyXTtcbiAgICB9XG4gICAgLy8gUGFyc2UgdGhlIGhleCB2YWx1ZSB0byBzZXBhcmF0ZSBSLCBHLCBhbmQgQiBjb21wb25lbnRzXG4gICAgY29uc3QgYmlnaW50ID0gcGFyc2VJbnQoaGV4LCAxNik7XG4gICAgY29uc3QgciA9IChiaWdpbnQgPj4gMTYpICYgMjU1O1xuICAgIGNvbnN0IGcgPSAoYmlnaW50ID4+IDgpICYgMjU1O1xuICAgIGNvbnN0IGIgPSBiaWdpbnQgJiAyNTU7XG4gICAgLy8gRW5zdXJlIHRoZSBhbHBoYSB2YWx1ZSBpcyB3aXRoaW4gdGhlIHZhbGlkIHJhbmdlIFswLCAxXVxuICAgIGFscGhhID0gTWF0aC5taW4oTWF0aC5tYXgoYWxwaGEsIDApLCAxKTtcbiAgICAvLyBDb25zdHJ1Y3QgdGhlIFJHQkEgc3RyaW5nXG4gICAgY29uc3QgcmdiYSA9IGByZ2JhKCR7cn0sICR7Z30sICR7Yn0sICR7YWxwaGF9KWA7XG4gICAgcmV0dXJuIHJnYmE7XG59XG5mdW5jdGlvbiBDb25kaXRpb25hbFVJU2NyaXB0KHByb3ZpZGVySUQpIHtcbiAgICBjb25zdCBzdGFydENvbmRpdGlvbmFsVUlTY3JpcHQgPSBgXG5jb25zdCBjdXJyZW50VVJMID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG5jb25zdCBhdXRoVVJMID0gY3VycmVudFVSTC5zdWJzdHJpbmcoMCwgY3VycmVudFVSTC5sYXN0SW5kZXhPZignLycpKTtcbigke3dlYmF1dGhuU2NyaXB0fSkoYXV0aFVSTCwgXCIke3Byb3ZpZGVySUR9XCIpO1xuYDtcbiAgICByZXR1cm4gKF9qc3goX0ZyYWdtZW50LCB7IGNoaWxkcmVuOiBfanN4KFwic2NyaXB0XCIsIHsgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHsgX19odG1sOiBzdGFydENvbmRpdGlvbmFsVUlTY3JpcHQgfSB9KSB9KSk7XG59XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTaWduaW5QYWdlKHByb3BzKSB7XG4gICAgY29uc3QgeyBjc3JmVG9rZW4sIHByb3ZpZGVycyA9IFtdLCBjYWxsYmFja1VybCwgdGhlbWUsIGVtYWlsLCBlcnJvcjogZXJyb3JUeXBlLCB9ID0gcHJvcHM7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0aGVtZT8uYnJhbmRDb2xvcikge1xuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXCItLWJyYW5kLWNvbG9yXCIsIHRoZW1lLmJyYW5kQ29sb3IpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiICYmIHRoZW1lPy5idXR0b25UZXh0KSB7XG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tYnV0dG9uLXRleHQtY29sb3JcIiwgdGhlbWUuYnV0dG9uVGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGVycm9yID0gZXJyb3JUeXBlICYmIChzaWduaW5FcnJvcnNbZXJyb3JUeXBlXSA/PyBzaWduaW5FcnJvcnMuZGVmYXVsdCk7XG4gICAgY29uc3QgcHJvdmlkZXJMb2dvUGF0aCA9IFwiaHR0cHM6Ly9hdXRoanMuZGV2L2ltZy9wcm92aWRlcnNcIjtcbiAgICBjb25zdCBjb25kaXRpb25hbFVJUHJvdmlkZXJJRCA9IHByb3ZpZGVycy5maW5kKChwcm92aWRlcikgPT4gcHJvdmlkZXIudHlwZSA9PT0gXCJ3ZWJhdXRoblwiICYmIHByb3ZpZGVyLmVuYWJsZUNvbmRpdGlvbmFsVUkpPy5pZDtcbiAgICByZXR1cm4gKF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInNpZ25pblwiLCBjaGlsZHJlbjogW3RoZW1lPy5icmFuZENvbG9yICYmIChfanN4KFwic3R5bGVcIiwgeyBkYW5nZXJvdXNseVNldElubmVySFRNTDoge1xuICAgICAgICAgICAgICAgICAgICBfX2h0bWw6IGA6cm9vdCB7LS1icmFuZC1jb2xvcjogJHt0aGVtZS5icmFuZENvbG9yfX1gLFxuICAgICAgICAgICAgICAgIH0gfSkpLCB0aGVtZT8uYnV0dG9uVGV4dCAmJiAoX2pzeChcInN0eWxlXCIsIHsgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHtcbiAgICAgICAgICAgICAgICAgICAgX19odG1sOiBgXG4gICAgICAgIDpyb290IHtcbiAgICAgICAgICAtLWJ1dHRvbi10ZXh0LWNvbG9yOiAke3RoZW1lLmJ1dHRvblRleHR9XG4gICAgICAgIH1cbiAgICAgIGAsXG4gICAgICAgICAgICAgICAgfSB9KSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNhcmRcIiwgY2hpbGRyZW46IFtlcnJvciAmJiAoX2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJlcnJvclwiLCBjaGlsZHJlbjogX2pzeChcInBcIiwgeyBjaGlsZHJlbjogZXJyb3IgfSkgfSkpLCB0aGVtZT8ubG9nbyAmJiBfanN4KFwiaW1nXCIsIHsgc3JjOiB0aGVtZS5sb2dvLCBhbHQ6IFwiTG9nb1wiLCBjbGFzc05hbWU6IFwibG9nb1wiIH0pLCBwcm92aWRlcnMubWFwKChwcm92aWRlciwgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJnLCB0ZXh0LCBsb2dvLCBsb2dvRGFyaywgYmdEYXJrLCB0ZXh0RGFyaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm92aWRlci50eXBlID09PSBcIm9hdXRoXCIgfHwgcHJvdmlkZXIudHlwZSA9PT0gXCJvaWRjXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmcgPSBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nbyA9IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnRGFyayA9IGJnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0RGFyayA9IHRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ29EYXJrID0gXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ID0gcHJvdmlkZXIuc3R5bGUgPz8ge30pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ28gPSBsb2dvLnN0YXJ0c1dpdGgoXCIvXCIpID8gcHJvdmlkZXJMb2dvUGF0aCArIGxvZ28gOiBsb2dvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ29EYXJrID0gbG9nb0Rhcmsuc3RhcnRzV2l0aChcIi9cIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBwcm92aWRlckxvZ29QYXRoICsgbG9nb0RhcmtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBsb2dvRGFyayB8fCBsb2dvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ29EYXJrIHx8IChsb2dvRGFyayA9IGxvZ28pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJwcm92aWRlclwiLCBjaGlsZHJlbjogW3Byb3ZpZGVyLnR5cGUgPT09IFwib2F1dGhcIiB8fCBwcm92aWRlci50eXBlID09PSBcIm9pZGNcIiA/IChfanN4cyhcImZvcm1cIiwgeyBhY3Rpb246IHByb3ZpZGVyLnNpZ25pblVybCwgbWV0aG9kOiBcIlBPU1RcIiwgY2hpbGRyZW46IFtfanN4KFwiaW5wdXRcIiwgeyB0eXBlOiBcImhpZGRlblwiLCBuYW1lOiBcImNzcmZUb2tlblwiLCB2YWx1ZTogY3NyZlRva2VuIH0pLCBjYWxsYmFja1VybCAmJiAoX2pzeChcImlucHV0XCIsIHsgdHlwZTogXCJoaWRkZW5cIiwgbmFtZTogXCJjYWxsYmFja1VybFwiLCB2YWx1ZTogY2FsbGJhY2tVcmwgfSkpLCBfanN4cyhcImJ1dHRvblwiLCB7IHR5cGU6IFwic3VibWl0XCIsIGNsYXNzTmFtZTogXCJidXR0b25cIiwgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiLS1wcm92aWRlci1iZ1wiOiBiZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiLS1wcm92aWRlci1kYXJrLWJnXCI6IGJnRGFyayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiLS1wcm92aWRlci1jb2xvclwiOiB0ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCItLXByb3ZpZGVyLWRhcmstY29sb3JcIjogdGV4dERhcmssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIi0tcHJvdmlkZXItYmctaG92ZXJcIjogaGV4VG9SZ2JhKGJnLCAwLjgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCItLXByb3ZpZGVyLWRhcmstYmctaG92ZXJcIjogaGV4VG9SZ2JhKGJnRGFyaywgMC44KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgdGFiSW5kZXg6IDAsIGNoaWxkcmVuOiBbbG9nbyAmJiAoX2pzeChcImltZ1wiLCB7IGxvYWRpbmc6IFwibGF6eVwiLCBoZWlnaHQ6IDI0LCB3aWR0aDogMjQsIGlkOiBcInByb3ZpZGVyLWxvZ29cIiwgc3JjOiBsb2dvIH0pKSwgbG9nb0RhcmsgJiYgKF9qc3goXCJpbWdcIiwgeyBsb2FkaW5nOiBcImxhenlcIiwgaGVpZ2h0OiAyNCwgd2lkdGg6IDI0LCBpZDogXCJwcm92aWRlci1sb2dvLWRhcmtcIiwgc3JjOiBsb2dvRGFyayB9KSksIF9qc3hzKFwic3BhblwiLCB7IGNoaWxkcmVuOiBbXCJTaWduIGluIHdpdGggXCIsIHByb3ZpZGVyLm5hbWVdIH0pXSB9KV0gfSkpIDogbnVsbCwgKHByb3ZpZGVyLnR5cGUgPT09IFwiZW1haWxcIiB8fCBwcm92aWRlci50eXBlID09PSBcImNyZWRlbnRpYWxzXCIgfHwgcHJvdmlkZXIudHlwZSA9PT0gXCJ3ZWJhdXRoblwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA+IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyc1tpIC0gMV0udHlwZSAhPT0gXCJlbWFpbFwiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlcnNbaSAtIDFdLnR5cGUgIT09IFwiY3JlZGVudGlhbHNcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJzW2kgLSAxXS50eXBlICE9PSBcIndlYmF1dGhuXCIgJiYgX2pzeChcImhyXCIsIHt9KSwgcHJvdmlkZXIudHlwZSA9PT0gXCJlbWFpbFwiICYmIChfanN4cyhcImZvcm1cIiwgeyBhY3Rpb246IHByb3ZpZGVyLnNpZ25pblVybCwgbWV0aG9kOiBcIlBPU1RcIiwgY2hpbGRyZW46IFtfanN4KFwiaW5wdXRcIiwgeyB0eXBlOiBcImhpZGRlblwiLCBuYW1lOiBcImNzcmZUb2tlblwiLCB2YWx1ZTogY3NyZlRva2VuIH0pLCBfanN4KFwibGFiZWxcIiwgeyBjbGFzc05hbWU6IFwic2VjdGlvbi1oZWFkZXJcIiwgaHRtbEZvcjogYGlucHV0LWVtYWlsLWZvci0ke3Byb3ZpZGVyLmlkfS1wcm92aWRlcmAsIGNoaWxkcmVuOiBcIkVtYWlsXCIgfSksIF9qc3goXCJpbnB1dFwiLCB7IGlkOiBgaW5wdXQtZW1haWwtZm9yLSR7cHJvdmlkZXIuaWR9LXByb3ZpZGVyYCwgYXV0b0ZvY3VzOiB0cnVlLCB0eXBlOiBcImVtYWlsXCIsIG5hbWU6IFwiZW1haWxcIiwgdmFsdWU6IGVtYWlsLCBwbGFjZWhvbGRlcjogXCJlbWFpbEBleGFtcGxlLmNvbVwiLCByZXF1aXJlZDogdHJ1ZSB9KSwgX2pzeHMoXCJidXR0b25cIiwgeyBpZDogXCJzdWJtaXRCdXR0b25cIiwgdHlwZTogXCJzdWJtaXRcIiwgdGFiSW5kZXg6IDAsIGNoaWxkcmVuOiBbXCJTaWduIGluIHdpdGggXCIsIHByb3ZpZGVyLm5hbWVdIH0pXSB9KSksIHByb3ZpZGVyLnR5cGUgPT09IFwiY3JlZGVudGlhbHNcIiAmJiAoX2pzeHMoXCJmb3JtXCIsIHsgYWN0aW9uOiBwcm92aWRlci5jYWxsYmFja1VybCwgbWV0aG9kOiBcIlBPU1RcIiwgY2hpbGRyZW46IFtfanN4KFwiaW5wdXRcIiwgeyB0eXBlOiBcImhpZGRlblwiLCBuYW1lOiBcImNzcmZUb2tlblwiLCB2YWx1ZTogY3NyZlRva2VuIH0pLCBPYmplY3Qua2V5cyhwcm92aWRlci5jcmVkZW50aWFscykubWFwKChjcmVkZW50aWFsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoX2pzeHMoXCJkaXZcIiwgeyBjaGlsZHJlbjogW19qc3goXCJsYWJlbFwiLCB7IGNsYXNzTmFtZTogXCJzZWN0aW9uLWhlYWRlclwiLCBodG1sRm9yOiBgaW5wdXQtJHtjcmVkZW50aWFsfS1mb3ItJHtwcm92aWRlci5pZH0tcHJvdmlkZXJgLCBjaGlsZHJlbjogcHJvdmlkZXIuY3JlZGVudGlhbHNbY3JlZGVudGlhbF0ubGFiZWwgPz8gY3JlZGVudGlhbCB9KSwgX2pzeChcImlucHV0XCIsIHsgbmFtZTogY3JlZGVudGlhbCwgaWQ6IGBpbnB1dC0ke2NyZWRlbnRpYWx9LWZvci0ke3Byb3ZpZGVyLmlkfS1wcm92aWRlcmAsIHR5cGU6IHByb3ZpZGVyLmNyZWRlbnRpYWxzW2NyZWRlbnRpYWxdLnR5cGUgPz8gXCJ0ZXh0XCIsIHBsYWNlaG9sZGVyOiBwcm92aWRlci5jcmVkZW50aWFsc1tjcmVkZW50aWFsXS5wbGFjZWhvbGRlciA/PyBcIlwiLCAuLi5wcm92aWRlci5jcmVkZW50aWFsc1tjcmVkZW50aWFsXSB9KV0gfSwgYGlucHV0LWdyb3VwLSR7cHJvdmlkZXIuaWR9YCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCBfanN4cyhcImJ1dHRvblwiLCB7IGlkOiBcInN1Ym1pdEJ1dHRvblwiLCB0eXBlOiBcInN1Ym1pdFwiLCB0YWJJbmRleDogMCwgY2hpbGRyZW46IFtcIlNpZ24gaW4gd2l0aCBcIiwgcHJvdmlkZXIubmFtZV0gfSldIH0pKSwgcHJvdmlkZXIudHlwZSA9PT0gXCJ3ZWJhdXRoblwiICYmIChfanN4cyhcImZvcm1cIiwgeyBhY3Rpb246IHByb3ZpZGVyLmNhbGxiYWNrVXJsLCBtZXRob2Q6IFwiUE9TVFwiLCBpZDogYCR7cHJvdmlkZXIuaWR9LWZvcm1gLCBjaGlsZHJlbjogW19qc3goXCJpbnB1dFwiLCB7IHR5cGU6IFwiaGlkZGVuXCIsIG5hbWU6IFwiY3NyZlRva2VuXCIsIHZhbHVlOiBjc3JmVG9rZW4gfSksIE9iamVjdC5rZXlzKHByb3ZpZGVyLmZvcm1GaWVsZHMpLm1hcCgoZmllbGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChfanN4cyhcImRpdlwiLCB7IGNoaWxkcmVuOiBbX2pzeChcImxhYmVsXCIsIHsgY2xhc3NOYW1lOiBcInNlY3Rpb24taGVhZGVyXCIsIGh0bWxGb3I6IGBpbnB1dC0ke2ZpZWxkfS1mb3ItJHtwcm92aWRlci5pZH0tcHJvdmlkZXJgLCBjaGlsZHJlbjogcHJvdmlkZXIuZm9ybUZpZWxkc1tmaWVsZF0ubGFiZWwgPz8gZmllbGQgfSksIF9qc3goXCJpbnB1dFwiLCB7IG5hbWU6IGZpZWxkLCBcImRhdGEtZm9ybS1maWVsZFwiOiB0cnVlLCBpZDogYGlucHV0LSR7ZmllbGR9LWZvci0ke3Byb3ZpZGVyLmlkfS1wcm92aWRlcmAsIHR5cGU6IHByb3ZpZGVyLmZvcm1GaWVsZHNbZmllbGRdLnR5cGUgPz8gXCJ0ZXh0XCIsIHBsYWNlaG9sZGVyOiBwcm92aWRlci5mb3JtRmllbGRzW2ZpZWxkXS5wbGFjZWhvbGRlciA/PyBcIlwiLCAuLi5wcm92aWRlci5mb3JtRmllbGRzW2ZpZWxkXSB9KV0gfSwgYGlucHV0LWdyb3VwLSR7cHJvdmlkZXIuaWR9YCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCBfanN4cyhcImJ1dHRvblwiLCB7IGlkOiBgc3VibWl0QnV0dG9uLSR7cHJvdmlkZXIuaWR9YCwgdHlwZTogXCJzdWJtaXRcIiwgdGFiSW5kZXg6IDAsIGNoaWxkcmVuOiBbXCJTaWduIGluIHdpdGggXCIsIHByb3ZpZGVyLm5hbWVdIH0pXSB9KSksIChwcm92aWRlci50eXBlID09PSBcImVtYWlsXCIgfHwgcHJvdmlkZXIudHlwZSA9PT0gXCJjcmVkZW50aWFsc1wiIHx8IHByb3ZpZGVyLnR5cGUgPT09IFwid2ViYXV0aG5cIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgKyAxIDwgcHJvdmlkZXJzLmxlbmd0aCAmJiBfanN4KFwiaHJcIiwge30pXSB9LCBwcm92aWRlci5pZCkpO1xuICAgICAgICAgICAgICAgICAgICB9KV0gfSksIGNvbmRpdGlvbmFsVUlQcm92aWRlcklEICYmIENvbmRpdGlvbmFsVUlTY3JpcHQoY29uZGl0aW9uYWxVSVByb3ZpZGVySUQpXSB9KSk7XG59XG4iXSwibmFtZXMiOlsianN4IiwiX2pzeCIsIkZyYWdtZW50IiwiX0ZyYWdtZW50IiwianN4cyIsIl9qc3hzIiwid2ViYXV0aG5TY3JpcHQiLCJzaWduaW5FcnJvcnMiLCJkZWZhdWx0IiwiU2lnbmluIiwiT0F1dGhTaWduaW4iLCJPQXV0aENhbGxiYWNrRXJyb3IiLCJPQXV0aENyZWF0ZUFjY291bnQiLCJFbWFpbENyZWF0ZUFjY291bnQiLCJDYWxsYmFjayIsIk9BdXRoQWNjb3VudE5vdExpbmtlZCIsIkVtYWlsU2lnbmluIiwiQ3JlZGVudGlhbHNTaWduaW4iLCJTZXNzaW9uUmVxdWlyZWQiLCJoZXhUb1JnYmEiLCJoZXgiLCJhbHBoYSIsInJlcGxhY2UiLCJsZW5ndGgiLCJiaWdpbnQiLCJwYXJzZUludCIsInIiLCJnIiwiYiIsIk1hdGgiLCJtaW4iLCJtYXgiLCJyZ2JhIiwiQ29uZGl0aW9uYWxVSVNjcmlwdCIsInByb3ZpZGVySUQiLCJzdGFydENvbmRpdGlvbmFsVUlTY3JpcHQiLCJjaGlsZHJlbiIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIiwiX19odG1sIiwiU2lnbmluUGFnZSIsInByb3BzIiwiY3NyZlRva2VuIiwicHJvdmlkZXJzIiwiY2FsbGJhY2tVcmwiLCJ0aGVtZSIsImVtYWlsIiwiZXJyb3IiLCJlcnJvclR5cGUiLCJkb2N1bWVudCIsImJyYW5kQ29sb3IiLCJkb2N1bWVudEVsZW1lbnQiLCJzdHlsZSIsInNldFByb3BlcnR5IiwiYnV0dG9uVGV4dCIsInByb3ZpZGVyTG9nb1BhdGgiLCJjb25kaXRpb25hbFVJUHJvdmlkZXJJRCIsImZpbmQiLCJwcm92aWRlciIsInR5cGUiLCJlbmFibGVDb25kaXRpb25hbFVJIiwiaWQiLCJjbGFzc05hbWUiLCJsb2dvIiwic3JjIiwiYWx0IiwibWFwIiwiaSIsImJnIiwidGV4dCIsImxvZ29EYXJrIiwiYmdEYXJrIiwidGV4dERhcmsiLCJzdGFydHNXaXRoIiwiYWN0aW9uIiwic2lnbmluVXJsIiwibWV0aG9kIiwibmFtZSIsInZhbHVlIiwidGFiSW5kZXgiLCJsb2FkaW5nIiwiaGVpZ2h0Iiwid2lkdGgiLCJodG1sRm9yIiwiYXV0b0ZvY3VzIiwicGxhY2Vob2xkZXIiLCJyZXF1aXJlZCIsIk9iamVjdCIsImtleXMiLCJjcmVkZW50aWFscyIsImNyZWRlbnRpYWwiLCJsYWJlbCIsImZvcm1GaWVsZHMiLCJmaWVsZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/lib/pages/signin.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/lib/pages/signout.js":
/*!******************************************************!*\
  !*** ./node_modules/@auth/core/lib/pages/signout.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SignoutPage)\n/* harmony export */ });\n/* harmony import */ var preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact/jsx-runtime */ \"(action-browser)/./node_modules/preact/jsx-runtime/dist/jsxRuntime.mjs\");\n\nfunction SignoutPage(props) {\n    const { url, csrfToken, theme } = props;\n    return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n        className: \"signout\",\n        children: [\n            theme?.brandColor && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"style\", {\n                dangerouslySetInnerHTML: {\n                    __html: `\n        :root {\n          --brand-color: ${theme.brandColor}\n        }\n      `\n                }\n            }),\n            theme?.buttonText && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"style\", {\n                dangerouslySetInnerHTML: {\n                    __html: `\n        :root {\n          --button-text-color: ${theme.buttonText}\n        }\n      `\n                }\n            }),\n            (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                className: \"card\",\n                children: [\n                    theme?.logo && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n                        src: theme.logo,\n                        alt: \"Logo\",\n                        className: \"logo\"\n                    }),\n                    (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"h1\", {\n                        children: \"Signout\"\n                    }),\n                    (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n                        children: \"Are you sure you want to sign out?\"\n                    }),\n                    (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"form\", {\n                        action: url?.toString(),\n                        method: \"POST\",\n                        children: [\n                            (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", {\n                                type: \"hidden\",\n                                name: \"csrfToken\",\n                                value: csrfToken\n                            }),\n                            (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                                id: \"submitButton\",\n                                type: \"submit\",\n                                children: \"Sign out\"\n                            })\n                        ]\n                    })\n                ]\n            })\n        ]\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi9wYWdlcy9zaWdub3V0LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWdFO0FBQ2pELFNBQVNJLFlBQVlDLEtBQUs7SUFDckMsTUFBTSxFQUFFQyxHQUFHLEVBQUVDLFNBQVMsRUFBRUMsS0FBSyxFQUFFLEdBQUdIO0lBQ2xDLE9BQVFGLHdEQUFLQSxDQUFDLE9BQU87UUFBRU0sV0FBVztRQUFXQyxVQUFVO1lBQUNGLE9BQU9HLGNBQWVWLHVEQUFJQSxDQUFDLFNBQVM7Z0JBQUVXLHlCQUF5QjtvQkFDdkdDLFFBQVEsQ0FBQzs7eUJBRUosRUFBRUwsTUFBTUcsVUFBVSxDQUFDOztNQUV0QyxDQUFDO2dCQUNTO1lBQUU7WUFBS0gsT0FBT00sY0FBZWIsdURBQUlBLENBQUMsU0FBUztnQkFBRVcseUJBQXlCO29CQUNsRUMsUUFBUSxDQUFDOzsrQkFFRSxFQUFFTCxNQUFNTSxVQUFVLENBQUM7O01BRTVDLENBQUM7Z0JBQ1M7WUFBRTtZQUFLWCx3REFBS0EsQ0FBQyxPQUFPO2dCQUFFTSxXQUFXO2dCQUFRQyxVQUFVO29CQUFDRixPQUFPTyxRQUFRZCx1REFBSUEsQ0FBQyxPQUFPO3dCQUFFZSxLQUFLUixNQUFNTyxJQUFJO3dCQUFFRSxLQUFLO3dCQUFRUixXQUFXO29CQUFPO29CQUFJUix1REFBSUEsQ0FBQyxNQUFNO3dCQUFFUyxVQUFVO29CQUFVO29CQUFJVCx1REFBSUEsQ0FBQyxLQUFLO3dCQUFFUyxVQUFVO29CQUFxQztvQkFBSVAsd0RBQUtBLENBQUMsUUFBUTt3QkFBRWUsUUFBUVosS0FBS2E7d0JBQVlDLFFBQVE7d0JBQVFWLFVBQVU7NEJBQUNULHVEQUFJQSxDQUFDLFNBQVM7Z0NBQUVvQixNQUFNO2dDQUFVQyxNQUFNO2dDQUFhQyxPQUFPaEI7NEJBQVU7NEJBQUlOLHVEQUFJQSxDQUFDLFVBQVU7Z0NBQUV1QixJQUFJO2dDQUFnQkgsTUFBTTtnQ0FBVVgsVUFBVTs0QkFBVzt5QkFBRztvQkFBQztpQkFBRztZQUFDO1NBQUc7SUFBQztBQUMzZCIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtcngvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvcGFnZXMvc2lnbm91dC5qcz8yMmMzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInByZWFjdC9qc3gtcnVudGltZVwiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU2lnbm91dFBhZ2UocHJvcHMpIHtcbiAgICBjb25zdCB7IHVybCwgY3NyZlRva2VuLCB0aGVtZSB9ID0gcHJvcHM7XG4gICAgcmV0dXJuIChfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzaWdub3V0XCIsIGNoaWxkcmVuOiBbdGhlbWU/LmJyYW5kQ29sb3IgJiYgKF9qc3goXCJzdHlsZVwiLCB7IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7XG4gICAgICAgICAgICAgICAgICAgIF9faHRtbDogYFxuICAgICAgICA6cm9vdCB7XG4gICAgICAgICAgLS1icmFuZC1jb2xvcjogJHt0aGVtZS5icmFuZENvbG9yfVxuICAgICAgICB9XG4gICAgICBgLFxuICAgICAgICAgICAgICAgIH0gfSkpLCB0aGVtZT8uYnV0dG9uVGV4dCAmJiAoX2pzeChcInN0eWxlXCIsIHsgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHtcbiAgICAgICAgICAgICAgICAgICAgX19odG1sOiBgXG4gICAgICAgIDpyb290IHtcbiAgICAgICAgICAtLWJ1dHRvbi10ZXh0LWNvbG9yOiAke3RoZW1lLmJ1dHRvblRleHR9XG4gICAgICAgIH1cbiAgICAgIGAsXG4gICAgICAgICAgICAgICAgfSB9KSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNhcmRcIiwgY2hpbGRyZW46IFt0aGVtZT8ubG9nbyAmJiBfanN4KFwiaW1nXCIsIHsgc3JjOiB0aGVtZS5sb2dvLCBhbHQ6IFwiTG9nb1wiLCBjbGFzc05hbWU6IFwibG9nb1wiIH0pLCBfanN4KFwiaDFcIiwgeyBjaGlsZHJlbjogXCJTaWdub3V0XCIgfSksIF9qc3goXCJwXCIsIHsgY2hpbGRyZW46IFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHNpZ24gb3V0P1wiIH0pLCBfanN4cyhcImZvcm1cIiwgeyBhY3Rpb246IHVybD8udG9TdHJpbmcoKSwgbWV0aG9kOiBcIlBPU1RcIiwgY2hpbGRyZW46IFtfanN4KFwiaW5wdXRcIiwgeyB0eXBlOiBcImhpZGRlblwiLCBuYW1lOiBcImNzcmZUb2tlblwiLCB2YWx1ZTogY3NyZlRva2VuIH0pLCBfanN4KFwiYnV0dG9uXCIsIHsgaWQ6IFwic3VibWl0QnV0dG9uXCIsIHR5cGU6IFwic3VibWl0XCIsIGNoaWxkcmVuOiBcIlNpZ24gb3V0XCIgfSldIH0pXSB9KV0gfSkpO1xufVxuIl0sIm5hbWVzIjpbImpzeCIsIl9qc3giLCJqc3hzIiwiX2pzeHMiLCJTaWdub3V0UGFnZSIsInByb3BzIiwidXJsIiwiY3NyZlRva2VuIiwidGhlbWUiLCJjbGFzc05hbWUiLCJjaGlsZHJlbiIsImJyYW5kQ29sb3IiLCJkYW5nZXJvdXNseVNldElubmVySFRNTCIsIl9faHRtbCIsImJ1dHRvblRleHQiLCJsb2dvIiwic3JjIiwiYWx0IiwiYWN0aW9uIiwidG9TdHJpbmciLCJtZXRob2QiLCJ0eXBlIiwibmFtZSIsInZhbHVlIiwiaWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/lib/pages/signout.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/lib/pages/signout.js":
/*!******************************************************!*\
  !*** ./node_modules/@auth/core/lib/pages/signout.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SignoutPage)\n/* harmony export */ });\n/* harmony import */ var preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact/jsx-runtime */ \"(rsc)/./node_modules/preact/jsx-runtime/dist/jsxRuntime.mjs\");\n\nfunction SignoutPage(props) {\n    const { url, csrfToken, theme } = props;\n    return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n        className: \"signout\",\n        children: [\n            theme?.brandColor && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"style\", {\n                dangerouslySetInnerHTML: {\n                    __html: `\n        :root {\n          --brand-color: ${theme.brandColor}\n        }\n      `\n                }\n            }),\n            theme?.buttonText && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"style\", {\n                dangerouslySetInnerHTML: {\n                    __html: `\n        :root {\n          --button-text-color: ${theme.buttonText}\n        }\n      `\n                }\n            }),\n            (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                className: \"card\",\n                children: [\n                    theme?.logo && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n                        src: theme.logo,\n                        alt: \"Logo\",\n                        className: \"logo\"\n                    }),\n                    (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"h1\", {\n                        children: \"Signout\"\n                    }),\n                    (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n                        children: \"Are you sure you want to sign out?\"\n                    }),\n                    (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"form\", {\n                        action: url?.toString(),\n                        method: \"POST\",\n                        children: [\n                            (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"input\", {\n                                type: \"hidden\",\n                                name: \"csrfToken\",\n                                value: csrfToken\n                            }),\n                            (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", {\n                                id: \"submitButton\",\n                                type: \"submit\",\n                                children: \"Sign out\"\n                            })\n                        ]\n                    })\n                ]\n            })\n        ]\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvcGFnZXMvc2lnbm91dC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFnRTtBQUNqRCxTQUFTSSxZQUFZQyxLQUFLO0lBQ3JDLE1BQU0sRUFBRUMsR0FBRyxFQUFFQyxTQUFTLEVBQUVDLEtBQUssRUFBRSxHQUFHSDtJQUNsQyxPQUFRRix3REFBS0EsQ0FBQyxPQUFPO1FBQUVNLFdBQVc7UUFBV0MsVUFBVTtZQUFDRixPQUFPRyxjQUFlVix1REFBSUEsQ0FBQyxTQUFTO2dCQUFFVyx5QkFBeUI7b0JBQ3ZHQyxRQUFRLENBQUM7O3lCQUVKLEVBQUVMLE1BQU1HLFVBQVUsQ0FBQzs7TUFFdEMsQ0FBQztnQkFDUztZQUFFO1lBQUtILE9BQU9NLGNBQWViLHVEQUFJQSxDQUFDLFNBQVM7Z0JBQUVXLHlCQUF5QjtvQkFDbEVDLFFBQVEsQ0FBQzs7K0JBRUUsRUFBRUwsTUFBTU0sVUFBVSxDQUFDOztNQUU1QyxDQUFDO2dCQUNTO1lBQUU7WUFBS1gsd0RBQUtBLENBQUMsT0FBTztnQkFBRU0sV0FBVztnQkFBUUMsVUFBVTtvQkFBQ0YsT0FBT08sUUFBUWQsdURBQUlBLENBQUMsT0FBTzt3QkFBRWUsS0FBS1IsTUFBTU8sSUFBSTt3QkFBRUUsS0FBSzt3QkFBUVIsV0FBVztvQkFBTztvQkFBSVIsdURBQUlBLENBQUMsTUFBTTt3QkFBRVMsVUFBVTtvQkFBVTtvQkFBSVQsdURBQUlBLENBQUMsS0FBSzt3QkFBRVMsVUFBVTtvQkFBcUM7b0JBQUlQLHdEQUFLQSxDQUFDLFFBQVE7d0JBQUVlLFFBQVFaLEtBQUthO3dCQUFZQyxRQUFRO3dCQUFRVixVQUFVOzRCQUFDVCx1REFBSUEsQ0FBQyxTQUFTO2dDQUFFb0IsTUFBTTtnQ0FBVUMsTUFBTTtnQ0FBYUMsT0FBT2hCOzRCQUFVOzRCQUFJTix1REFBSUEsQ0FBQyxVQUFVO2dDQUFFdUIsSUFBSTtnQ0FBZ0JILE1BQU07Z0NBQVVYLFVBQVU7NEJBQVc7eUJBQUc7b0JBQUM7aUJBQUc7WUFBQztTQUFHO0lBQUM7QUFDM2QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LXJ4Ly4vbm9kZV9tb2R1bGVzL0BhdXRoL2NvcmUvbGliL3BhZ2VzL3NpZ25vdXQuanM/MjJjMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJwcmVhY3QvanN4LXJ1bnRpbWVcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNpZ25vdXRQYWdlKHByb3BzKSB7XG4gICAgY29uc3QgeyB1cmwsIGNzcmZUb2tlbiwgdGhlbWUgfSA9IHByb3BzO1xuICAgIHJldHVybiAoX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic2lnbm91dFwiLCBjaGlsZHJlbjogW3RoZW1lPy5icmFuZENvbG9yICYmIChfanN4KFwic3R5bGVcIiwgeyBkYW5nZXJvdXNseVNldElubmVySFRNTDoge1xuICAgICAgICAgICAgICAgICAgICBfX2h0bWw6IGBcbiAgICAgICAgOnJvb3Qge1xuICAgICAgICAgIC0tYnJhbmQtY29sb3I6ICR7dGhlbWUuYnJhbmRDb2xvcn1cbiAgICAgICAgfVxuICAgICAgYCxcbiAgICAgICAgICAgICAgICB9IH0pKSwgdGhlbWU/LmJ1dHRvblRleHQgJiYgKF9qc3goXCJzdHlsZVwiLCB7IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7XG4gICAgICAgICAgICAgICAgICAgIF9faHRtbDogYFxuICAgICAgICA6cm9vdCB7XG4gICAgICAgICAgLS1idXR0b24tdGV4dC1jb2xvcjogJHt0aGVtZS5idXR0b25UZXh0fVxuICAgICAgICB9XG4gICAgICBgLFxuICAgICAgICAgICAgICAgIH0gfSkpLCBfanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjYXJkXCIsIGNoaWxkcmVuOiBbdGhlbWU/LmxvZ28gJiYgX2pzeChcImltZ1wiLCB7IHNyYzogdGhlbWUubG9nbywgYWx0OiBcIkxvZ29cIiwgY2xhc3NOYW1lOiBcImxvZ29cIiB9KSwgX2pzeChcImgxXCIsIHsgY2hpbGRyZW46IFwiU2lnbm91dFwiIH0pLCBfanN4KFwicFwiLCB7IGNoaWxkcmVuOiBcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBzaWduIG91dD9cIiB9KSwgX2pzeHMoXCJmb3JtXCIsIHsgYWN0aW9uOiB1cmw/LnRvU3RyaW5nKCksIG1ldGhvZDogXCJQT1NUXCIsIGNoaWxkcmVuOiBbX2pzeChcImlucHV0XCIsIHsgdHlwZTogXCJoaWRkZW5cIiwgbmFtZTogXCJjc3JmVG9rZW5cIiwgdmFsdWU6IGNzcmZUb2tlbiB9KSwgX2pzeChcImJ1dHRvblwiLCB7IGlkOiBcInN1Ym1pdEJ1dHRvblwiLCB0eXBlOiBcInN1Ym1pdFwiLCBjaGlsZHJlbjogXCJTaWduIG91dFwiIH0pXSB9KV0gfSldIH0pKTtcbn1cbiJdLCJuYW1lcyI6WyJqc3giLCJfanN4IiwianN4cyIsIl9qc3hzIiwiU2lnbm91dFBhZ2UiLCJwcm9wcyIsInVybCIsImNzcmZUb2tlbiIsInRoZW1lIiwiY2xhc3NOYW1lIiwiY2hpbGRyZW4iLCJicmFuZENvbG9yIiwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiLCJfX2h0bWwiLCJidXR0b25UZXh0IiwibG9nbyIsInNyYyIsImFsdCIsImFjdGlvbiIsInRvU3RyaW5nIiwibWV0aG9kIiwidHlwZSIsIm5hbWUiLCJ2YWx1ZSIsImlkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/lib/pages/signout.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/lib/pages/styles.js":
/*!*****************************************************!*\
  !*** ./node_modules/@auth/core/lib/pages/styles.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Generated by `pnpm css`\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (`:root {\n  --border-width: 1px;\n  --border-radius: 0.5rem;\n  --color-error: #c94b4b;\n  --color-info: #157efb;\n  --color-info-hover: #0f6ddb;\n  --color-info-text: #fff;\n}\n\n.__next-auth-theme-auto,\n.__next-auth-theme-light {\n  --color-background: #ececec;\n  --color-background-hover: rgba(236, 236, 236, 0.8);\n  --color-background-card: #fff;\n  --color-text: #000;\n  --color-primary: #444;\n  --color-control-border: #bbb;\n  --color-button-active-background: #f9f9f9;\n  --color-button-active-border: #aaa;\n  --color-separator: #ccc;\n}\n\n.__next-auth-theme-dark {\n  --color-background: #161b22;\n  --color-background-hover: rgba(22, 27, 34, 0.8);\n  --color-background-card: #0d1117;\n  --color-text: #fff;\n  --color-primary: #ccc;\n  --color-control-border: #555;\n  --color-button-active-background: #060606;\n  --color-button-active-border: #666;\n  --color-separator: #444;\n}\n\n@media (prefers-color-scheme: dark) {\n  .__next-auth-theme-auto {\n    --color-background: #161b22;\n    --color-background-hover: rgba(22, 27, 34, 0.8);\n    --color-background-card: #0d1117;\n    --color-text: #fff;\n    --color-primary: #ccc;\n    --color-control-border: #555;\n    --color-button-active-background: #060606;\n    --color-button-active-border: #666;\n    --color-separator: #444;\n  }\n\n  button,\n  a.button {\n    color: var(--provider-dark-color, var(--color-primary));\n    background-color: var(--provider-dark-bg, var(--color-background));\n  }\n    :is(button,a.button):hover {\n      background-color: var(\n        --provider-dark-bg-hover,\n        var(--color-background-hover)\n      ) !important;\n    }\n  #provider-logo {\n    display: none !important;\n  }\n  #provider-logo-dark {\n    width: 25px;\n    display: block !important;\n  }\n}\nhtml {\n  box-sizing: border-box;\n}\n*,\n*:before,\n*:after {\n  box-sizing: inherit;\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  background-color: var(--color-background);\n  margin: 0;\n  padding: 0;\n  font-family:\n    ui-sans-serif,\n    system-ui,\n    -apple-system,\n    BlinkMacSystemFont,\n    \"Segoe UI\",\n    Roboto,\n    \"Helvetica Neue\",\n    Arial,\n    \"Noto Sans\",\n    sans-serif,\n    \"Apple Color Emoji\",\n    \"Segoe UI Emoji\",\n    \"Segoe UI Symbol\",\n    \"Noto Color Emoji\";\n}\n\nh1 {\n  margin-bottom: 1.5rem;\n  padding: 0 1rem;\n  font-weight: 400;\n  color: var(--color-text);\n}\n\np {\n  margin-bottom: 1.5rem;\n  padding: 0 1rem;\n  color: var(--color-text);\n}\n\nform {\n  margin: 0;\n  padding: 0;\n}\n\nlabel {\n  font-weight: 500;\n  text-align: left;\n  margin-bottom: 0.25rem;\n  display: block;\n  color: var(--color-text);\n}\n\ninput[type] {\n  box-sizing: border-box;\n  display: block;\n  width: 100%;\n  padding: 0.5rem 1rem;\n  border: var(--border-width) solid var(--color-control-border);\n  background: var(--color-background-card);\n  font-size: 1rem;\n  border-radius: var(--border-radius);\n  color: var(--color-text);\n}\n\ninput[type]:focus {\n    box-shadow: none;\n  }\n\np {\n  font-size: 1.1rem;\n  line-height: 2rem;\n}\n\na.button {\n  text-decoration: none;\n  line-height: 1rem;\n}\n\na.button:link,\n  a.button:visited {\n    background-color: var(--color-background);\n    color: var(--color-primary);\n  }\n\nbutton span {\n  flex-grow: 1;\n}\n\nbutton,\na.button {\n  padding: 0.75rem 1rem;\n  color: var(--provider-color, var(--color-primary));\n  background-color: var(--provider-bg);\n  font-size: 1.1rem;\n  min-height: 62px;\n  border-color: rgba(0, 0, 0, 0.1);\n  border-radius: var(--border-radius);\n  transition: all 0.1s ease-in-out;\n  font-weight: 500;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n:is(button,a.button):hover {\n    background-color: var(--provider-bg-hover, var(--color-background-hover));\n    cursor: pointer;\n  }\n\n:is(button,a.button):active {\n    cursor: pointer;\n  }\n\n:is(button,a.button) #provider-logo {\n    width: 25px;\n    display: block;\n  }\n\n:is(button,a.button) #provider-logo-dark {\n    display: none;\n  }\n\n#submitButton {\n  color: var(--button-text-color, var(--color-info-text));\n  background-color: var(--brand-color, var(--color-info));\n  width: 100%;\n}\n\n#submitButton:hover {\n    background-color: var(\n      --button-hover-bg,\n      var(--color-info-hover)\n    ) !important;\n  }\n\na.site {\n  color: var(--color-primary);\n  text-decoration: none;\n  font-size: 1rem;\n  line-height: 2rem;\n}\n\na.site:hover {\n    text-decoration: underline;\n  }\n\n.page {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: grid;\n  place-items: center;\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n.page > div {\n    text-align: center;\n  }\n\n.error a.button {\n    padding-left: 2rem;\n    padding-right: 2rem;\n    margin-top: 0.5rem;\n  }\n\n.error .message {\n    margin-bottom: 1.5rem;\n  }\n\n.signin input[type=\"text\"] {\n    margin-left: auto;\n    margin-right: auto;\n    display: block;\n  }\n\n.signin hr {\n    display: block;\n    border: 0;\n    border-top: 1px solid var(--color-separator);\n    margin: 2rem auto 1rem auto;\n    overflow: visible;\n  }\n\n.signin hr::before {\n      content: \"or\";\n      background: var(--color-background-card);\n      color: #888;\n      padding: 0 0.4rem;\n      position: relative;\n      top: -0.7rem;\n    }\n\n.signin .error {\n    background: #f5f5f5;\n    font-weight: 500;\n    border-radius: 0.3rem;\n    background: var(--color-error);\n  }\n\n.signin .error p {\n      text-align: left;\n      padding: 0.5rem 1rem;\n      font-size: 0.9rem;\n      line-height: 1.2rem;\n      color: var(--color-info-text);\n    }\n\n.signin > div,\n  .signin form {\n    display: block;\n  }\n\n.signin > div input[type], .signin form input[type] {\n      margin-bottom: 0.5rem;\n    }\n\n.signin > div button, .signin form button {\n      width: 100%;\n    }\n\n.signin .provider + .provider {\n    margin-top: 1rem;\n  }\n\n.logo {\n  display: inline-block;\n  max-width: 150px;\n  margin: 1.25rem 0;\n  max-height: 70px;\n}\n\n.card {\n  background-color: var(--color-background-card);\n  border-radius: 2rem;\n  padding: 1.25rem 2rem;\n}\n\n.card .header {\n    color: var(--color-primary);\n  }\n\n.section-header {\n  color: var(--color-text);\n}\n\n@media screen and (min-width: 450px) {\n  .card {\n    margin: 2rem 0;\n    width: 368px;\n  }\n}\n@media screen and (max-width: 450px) {\n  .card {\n    margin: 1rem 0;\n    width: 343px;\n  }\n}\n`);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi9wYWdlcy9zdHlsZXMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLDBCQUEwQjtBQUMxQixpRUFBZSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQTRVaEIsQ0FBQyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC1yeC8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi9wYWdlcy9zdHlsZXMuanM/MzgxMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBHZW5lcmF0ZWQgYnkgYHBucG0gY3NzYFxuZXhwb3J0IGRlZmF1bHQgYDpyb290IHtcbiAgLS1ib3JkZXItd2lkdGg6IDFweDtcbiAgLS1ib3JkZXItcmFkaXVzOiAwLjVyZW07XG4gIC0tY29sb3ItZXJyb3I6ICNjOTRiNGI7XG4gIC0tY29sb3ItaW5mbzogIzE1N2VmYjtcbiAgLS1jb2xvci1pbmZvLWhvdmVyOiAjMGY2ZGRiO1xuICAtLWNvbG9yLWluZm8tdGV4dDogI2ZmZjtcbn1cblxuLl9fbmV4dC1hdXRoLXRoZW1lLWF1dG8sXG4uX19uZXh0LWF1dGgtdGhlbWUtbGlnaHQge1xuICAtLWNvbG9yLWJhY2tncm91bmQ6ICNlY2VjZWM7XG4gIC0tY29sb3ItYmFja2dyb3VuZC1ob3ZlcjogcmdiYSgyMzYsIDIzNiwgMjM2LCAwLjgpO1xuICAtLWNvbG9yLWJhY2tncm91bmQtY2FyZDogI2ZmZjtcbiAgLS1jb2xvci10ZXh0OiAjMDAwO1xuICAtLWNvbG9yLXByaW1hcnk6ICM0NDQ7XG4gIC0tY29sb3ItY29udHJvbC1ib3JkZXI6ICNiYmI7XG4gIC0tY29sb3ItYnV0dG9uLWFjdGl2ZS1iYWNrZ3JvdW5kOiAjZjlmOWY5O1xuICAtLWNvbG9yLWJ1dHRvbi1hY3RpdmUtYm9yZGVyOiAjYWFhO1xuICAtLWNvbG9yLXNlcGFyYXRvcjogI2NjYztcbn1cblxuLl9fbmV4dC1hdXRoLXRoZW1lLWRhcmsge1xuICAtLWNvbG9yLWJhY2tncm91bmQ6ICMxNjFiMjI7XG4gIC0tY29sb3ItYmFja2dyb3VuZC1ob3ZlcjogcmdiYSgyMiwgMjcsIDM0LCAwLjgpO1xuICAtLWNvbG9yLWJhY2tncm91bmQtY2FyZDogIzBkMTExNztcbiAgLS1jb2xvci10ZXh0OiAjZmZmO1xuICAtLWNvbG9yLXByaW1hcnk6ICNjY2M7XG4gIC0tY29sb3ItY29udHJvbC1ib3JkZXI6ICM1NTU7XG4gIC0tY29sb3ItYnV0dG9uLWFjdGl2ZS1iYWNrZ3JvdW5kOiAjMDYwNjA2O1xuICAtLWNvbG9yLWJ1dHRvbi1hY3RpdmUtYm9yZGVyOiAjNjY2O1xuICAtLWNvbG9yLXNlcGFyYXRvcjogIzQ0NDtcbn1cblxuQG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaykge1xuICAuX19uZXh0LWF1dGgtdGhlbWUtYXV0byB7XG4gICAgLS1jb2xvci1iYWNrZ3JvdW5kOiAjMTYxYjIyO1xuICAgIC0tY29sb3ItYmFja2dyb3VuZC1ob3ZlcjogcmdiYSgyMiwgMjcsIDM0LCAwLjgpO1xuICAgIC0tY29sb3ItYmFja2dyb3VuZC1jYXJkOiAjMGQxMTE3O1xuICAgIC0tY29sb3ItdGV4dDogI2ZmZjtcbiAgICAtLWNvbG9yLXByaW1hcnk6ICNjY2M7XG4gICAgLS1jb2xvci1jb250cm9sLWJvcmRlcjogIzU1NTtcbiAgICAtLWNvbG9yLWJ1dHRvbi1hY3RpdmUtYmFja2dyb3VuZDogIzA2MDYwNjtcbiAgICAtLWNvbG9yLWJ1dHRvbi1hY3RpdmUtYm9yZGVyOiAjNjY2O1xuICAgIC0tY29sb3Itc2VwYXJhdG9yOiAjNDQ0O1xuICB9XG5cbiAgYnV0dG9uLFxuICBhLmJ1dHRvbiB7XG4gICAgY29sb3I6IHZhcigtLXByb3ZpZGVyLWRhcmstY29sb3IsIHZhcigtLWNvbG9yLXByaW1hcnkpKTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcm92aWRlci1kYXJrLWJnLCB2YXIoLS1jb2xvci1iYWNrZ3JvdW5kKSk7XG4gIH1cbiAgICA6aXMoYnV0dG9uLGEuYnV0dG9uKTpob3ZlciB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoXG4gICAgICAgIC0tcHJvdmlkZXItZGFyay1iZy1ob3ZlcixcbiAgICAgICAgdmFyKC0tY29sb3ItYmFja2dyb3VuZC1ob3ZlcilcbiAgICAgICkgIWltcG9ydGFudDtcbiAgICB9XG4gICNwcm92aWRlci1sb2dvIHtcbiAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XG4gIH1cbiAgI3Byb3ZpZGVyLWxvZ28tZGFyayB7XG4gICAgd2lkdGg6IDI1cHg7XG4gICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDtcbiAgfVxufVxuaHRtbCB7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG59XG4qLFxuKjpiZWZvcmUsXG4qOmFmdGVyIHtcbiAgYm94LXNpemluZzogaW5oZXJpdDtcbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nOiAwO1xufVxuXG5ib2R5IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sb3ItYmFja2dyb3VuZCk7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogMDtcbiAgZm9udC1mYW1pbHk6XG4gICAgdWktc2Fucy1zZXJpZixcbiAgICBzeXN0ZW0tdWksXG4gICAgLWFwcGxlLXN5c3RlbSxcbiAgICBCbGlua01hY1N5c3RlbUZvbnQsXG4gICAgXCJTZWdvZSBVSVwiLFxuICAgIFJvYm90byxcbiAgICBcIkhlbHZldGljYSBOZXVlXCIsXG4gICAgQXJpYWwsXG4gICAgXCJOb3RvIFNhbnNcIixcbiAgICBzYW5zLXNlcmlmLFxuICAgIFwiQXBwbGUgQ29sb3IgRW1vamlcIixcbiAgICBcIlNlZ29lIFVJIEVtb2ppXCIsXG4gICAgXCJTZWdvZSBVSSBTeW1ib2xcIixcbiAgICBcIk5vdG8gQ29sb3IgRW1vamlcIjtcbn1cblxuaDEge1xuICBtYXJnaW4tYm90dG9tOiAxLjVyZW07XG4gIHBhZGRpbmc6IDAgMXJlbTtcbiAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgY29sb3I6IHZhcigtLWNvbG9yLXRleHQpO1xufVxuXG5wIHtcbiAgbWFyZ2luLWJvdHRvbTogMS41cmVtO1xuICBwYWRkaW5nOiAwIDFyZW07XG4gIGNvbG9yOiB2YXIoLS1jb2xvci10ZXh0KTtcbn1cblxuZm9ybSB7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogMDtcbn1cblxubGFiZWwge1xuICBmb250LXdlaWdodDogNTAwO1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xuICBtYXJnaW4tYm90dG9tOiAwLjI1cmVtO1xuICBkaXNwbGF5OiBibG9jaztcbiAgY29sb3I6IHZhcigtLWNvbG9yLXRleHQpO1xufVxuXG5pbnB1dFt0eXBlXSB7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICB3aWR0aDogMTAwJTtcbiAgcGFkZGluZzogMC41cmVtIDFyZW07XG4gIGJvcmRlcjogdmFyKC0tYm9yZGVyLXdpZHRoKSBzb2xpZCB2YXIoLS1jb2xvci1jb250cm9sLWJvcmRlcik7XG4gIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLWJhY2tncm91bmQtY2FyZCk7XG4gIGZvbnQtc2l6ZTogMXJlbTtcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyLXJhZGl1cyk7XG4gIGNvbG9yOiB2YXIoLS1jb2xvci10ZXh0KTtcbn1cblxuaW5wdXRbdHlwZV06Zm9jdXMge1xuICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gIH1cblxucCB7XG4gIGZvbnQtc2l6ZTogMS4xcmVtO1xuICBsaW5lLWhlaWdodDogMnJlbTtcbn1cblxuYS5idXR0b24ge1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gIGxpbmUtaGVpZ2h0OiAxcmVtO1xufVxuXG5hLmJ1dHRvbjpsaW5rLFxuICBhLmJ1dHRvbjp2aXNpdGVkIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb2xvci1iYWNrZ3JvdW5kKTtcbiAgICBjb2xvcjogdmFyKC0tY29sb3ItcHJpbWFyeSk7XG4gIH1cblxuYnV0dG9uIHNwYW4ge1xuICBmbGV4LWdyb3c6IDE7XG59XG5cbmJ1dHRvbixcbmEuYnV0dG9uIHtcbiAgcGFkZGluZzogMC43NXJlbSAxcmVtO1xuICBjb2xvcjogdmFyKC0tcHJvdmlkZXItY29sb3IsIHZhcigtLWNvbG9yLXByaW1hcnkpKTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcHJvdmlkZXItYmcpO1xuICBmb250LXNpemU6IDEuMXJlbTtcbiAgbWluLWhlaWdodDogNjJweDtcbiAgYm9yZGVyLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlci1yYWRpdXMpO1xuICB0cmFuc2l0aW9uOiBhbGwgMC4xcyBlYXNlLWluLW91dDtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuOmlzKGJ1dHRvbixhLmJ1dHRvbik6aG92ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXByb3ZpZGVyLWJnLWhvdmVyLCB2YXIoLS1jb2xvci1iYWNrZ3JvdW5kLWhvdmVyKSk7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICB9XG5cbjppcyhidXR0b24sYS5idXR0b24pOmFjdGl2ZSB7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICB9XG5cbjppcyhidXR0b24sYS5idXR0b24pICNwcm92aWRlci1sb2dvIHtcbiAgICB3aWR0aDogMjVweDtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgfVxuXG46aXMoYnV0dG9uLGEuYnV0dG9uKSAjcHJvdmlkZXItbG9nby1kYXJrIHtcbiAgICBkaXNwbGF5OiBub25lO1xuICB9XG5cbiNzdWJtaXRCdXR0b24ge1xuICBjb2xvcjogdmFyKC0tYnV0dG9uLXRleHQtY29sb3IsIHZhcigtLWNvbG9yLWluZm8tdGV4dCkpO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1icmFuZC1jb2xvciwgdmFyKC0tY29sb3ItaW5mbykpO1xuICB3aWR0aDogMTAwJTtcbn1cblxuI3N1Ym1pdEJ1dHRvbjpob3ZlciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKFxuICAgICAgLS1idXR0b24taG92ZXItYmcsXG4gICAgICB2YXIoLS1jb2xvci1pbmZvLWhvdmVyKVxuICAgICkgIWltcG9ydGFudDtcbiAgfVxuXG5hLnNpdGUge1xuICBjb2xvcjogdmFyKC0tY29sb3ItcHJpbWFyeSk7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgZm9udC1zaXplOiAxcmVtO1xuICBsaW5lLWhlaWdodDogMnJlbTtcbn1cblxuYS5zaXRlOmhvdmVyIHtcbiAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgfVxuXG4ucGFnZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgZGlzcGxheTogZ3JpZDtcbiAgcGxhY2UtaXRlbXM6IGNlbnRlcjtcbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nOiAwO1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xufVxuXG4ucGFnZSA+IGRpdiB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB9XG5cbi5lcnJvciBhLmJ1dHRvbiB7XG4gICAgcGFkZGluZy1sZWZ0OiAycmVtO1xuICAgIHBhZGRpbmctcmlnaHQ6IDJyZW07XG4gICAgbWFyZ2luLXRvcDogMC41cmVtO1xuICB9XG5cbi5lcnJvciAubWVzc2FnZSB7XG4gICAgbWFyZ2luLWJvdHRvbTogMS41cmVtO1xuICB9XG5cbi5zaWduaW4gaW5wdXRbdHlwZT1cInRleHRcIl0ge1xuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgIG1hcmdpbi1yaWdodDogYXV0bztcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgfVxuXG4uc2lnbmluIGhyIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBib3JkZXI6IDA7XG4gICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHZhcigtLWNvbG9yLXNlcGFyYXRvcik7XG4gICAgbWFyZ2luOiAycmVtIGF1dG8gMXJlbSBhdXRvO1xuICAgIG92ZXJmbG93OiB2aXNpYmxlO1xuICB9XG5cbi5zaWduaW4gaHI6OmJlZm9yZSB7XG4gICAgICBjb250ZW50OiBcIm9yXCI7XG4gICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci1iYWNrZ3JvdW5kLWNhcmQpO1xuICAgICAgY29sb3I6ICM4ODg7XG4gICAgICBwYWRkaW5nOiAwIDAuNHJlbTtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIHRvcDogLTAuN3JlbTtcbiAgICB9XG5cbi5zaWduaW4gLmVycm9yIHtcbiAgICBiYWNrZ3JvdW5kOiAjZjVmNWY1O1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgYm9yZGVyLXJhZGl1czogMC4zcmVtO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLWVycm9yKTtcbiAgfVxuXG4uc2lnbmluIC5lcnJvciBwIHtcbiAgICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgICBwYWRkaW5nOiAwLjVyZW0gMXJlbTtcbiAgICAgIGZvbnQtc2l6ZTogMC45cmVtO1xuICAgICAgbGluZS1oZWlnaHQ6IDEuMnJlbTtcbiAgICAgIGNvbG9yOiB2YXIoLS1jb2xvci1pbmZvLXRleHQpO1xuICAgIH1cblxuLnNpZ25pbiA+IGRpdixcbiAgLnNpZ25pbiBmb3JtIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgfVxuXG4uc2lnbmluID4gZGl2IGlucHV0W3R5cGVdLCAuc2lnbmluIGZvcm0gaW5wdXRbdHlwZV0ge1xuICAgICAgbWFyZ2luLWJvdHRvbTogMC41cmVtO1xuICAgIH1cblxuLnNpZ25pbiA+IGRpdiBidXR0b24sIC5zaWduaW4gZm9ybSBidXR0b24ge1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgfVxuXG4uc2lnbmluIC5wcm92aWRlciArIC5wcm92aWRlciB7XG4gICAgbWFyZ2luLXRvcDogMXJlbTtcbiAgfVxuXG4ubG9nbyB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgbWF4LXdpZHRoOiAxNTBweDtcbiAgbWFyZ2luOiAxLjI1cmVtIDA7XG4gIG1heC1oZWlnaHQ6IDcwcHg7XG59XG5cbi5jYXJkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sb3ItYmFja2dyb3VuZC1jYXJkKTtcbiAgYm9yZGVyLXJhZGl1czogMnJlbTtcbiAgcGFkZGluZzogMS4yNXJlbSAycmVtO1xufVxuXG4uY2FyZCAuaGVhZGVyIHtcbiAgICBjb2xvcjogdmFyKC0tY29sb3ItcHJpbWFyeSk7XG4gIH1cblxuLnNlY3Rpb24taGVhZGVyIHtcbiAgY29sb3I6IHZhcigtLWNvbG9yLXRleHQpO1xufVxuXG5AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA0NTBweCkge1xuICAuY2FyZCB7XG4gICAgbWFyZ2luOiAycmVtIDA7XG4gICAgd2lkdGg6IDM2OHB4O1xuICB9XG59XG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA0NTBweCkge1xuICAuY2FyZCB7XG4gICAgbWFyZ2luOiAxcmVtIDA7XG4gICAgd2lkdGg6IDM0M3B4O1xuICB9XG59XG5gO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/lib/pages/styles.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/lib/pages/styles.js":
/*!*****************************************************!*\
  !*** ./node_modules/@auth/core/lib/pages/styles.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Generated by `pnpm css`\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (`:root {\n  --border-width: 1px;\n  --border-radius: 0.5rem;\n  --color-error: #c94b4b;\n  --color-info: #157efb;\n  --color-info-hover: #0f6ddb;\n  --color-info-text: #fff;\n}\n\n.__next-auth-theme-auto,\n.__next-auth-theme-light {\n  --color-background: #ececec;\n  --color-background-hover: rgba(236, 236, 236, 0.8);\n  --color-background-card: #fff;\n  --color-text: #000;\n  --color-primary: #444;\n  --color-control-border: #bbb;\n  --color-button-active-background: #f9f9f9;\n  --color-button-active-border: #aaa;\n  --color-separator: #ccc;\n}\n\n.__next-auth-theme-dark {\n  --color-background: #161b22;\n  --color-background-hover: rgba(22, 27, 34, 0.8);\n  --color-background-card: #0d1117;\n  --color-text: #fff;\n  --color-primary: #ccc;\n  --color-control-border: #555;\n  --color-button-active-background: #060606;\n  --color-button-active-border: #666;\n  --color-separator: #444;\n}\n\n@media (prefers-color-scheme: dark) {\n  .__next-auth-theme-auto {\n    --color-background: #161b22;\n    --color-background-hover: rgba(22, 27, 34, 0.8);\n    --color-background-card: #0d1117;\n    --color-text: #fff;\n    --color-primary: #ccc;\n    --color-control-border: #555;\n    --color-button-active-background: #060606;\n    --color-button-active-border: #666;\n    --color-separator: #444;\n  }\n\n  button,\n  a.button {\n    color: var(--provider-dark-color, var(--color-primary));\n    background-color: var(--provider-dark-bg, var(--color-background));\n  }\n    :is(button,a.button):hover {\n      background-color: var(\n        --provider-dark-bg-hover,\n        var(--color-background-hover)\n      ) !important;\n    }\n  #provider-logo {\n    display: none !important;\n  }\n  #provider-logo-dark {\n    width: 25px;\n    display: block !important;\n  }\n}\nhtml {\n  box-sizing: border-box;\n}\n*,\n*:before,\n*:after {\n  box-sizing: inherit;\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  background-color: var(--color-background);\n  margin: 0;\n  padding: 0;\n  font-family:\n    ui-sans-serif,\n    system-ui,\n    -apple-system,\n    BlinkMacSystemFont,\n    \"Segoe UI\",\n    Roboto,\n    \"Helvetica Neue\",\n    Arial,\n    \"Noto Sans\",\n    sans-serif,\n    \"Apple Color Emoji\",\n    \"Segoe UI Emoji\",\n    \"Segoe UI Symbol\",\n    \"Noto Color Emoji\";\n}\n\nh1 {\n  margin-bottom: 1.5rem;\n  padding: 0 1rem;\n  font-weight: 400;\n  color: var(--color-text);\n}\n\np {\n  margin-bottom: 1.5rem;\n  padding: 0 1rem;\n  color: var(--color-text);\n}\n\nform {\n  margin: 0;\n  padding: 0;\n}\n\nlabel {\n  font-weight: 500;\n  text-align: left;\n  margin-bottom: 0.25rem;\n  display: block;\n  color: var(--color-text);\n}\n\ninput[type] {\n  box-sizing: border-box;\n  display: block;\n  width: 100%;\n  padding: 0.5rem 1rem;\n  border: var(--border-width) solid var(--color-control-border);\n  background: var(--color-background-card);\n  font-size: 1rem;\n  border-radius: var(--border-radius);\n  color: var(--color-text);\n}\n\ninput[type]:focus {\n    box-shadow: none;\n  }\n\np {\n  font-size: 1.1rem;\n  line-height: 2rem;\n}\n\na.button {\n  text-decoration: none;\n  line-height: 1rem;\n}\n\na.button:link,\n  a.button:visited {\n    background-color: var(--color-background);\n    color: var(--color-primary);\n  }\n\nbutton span {\n  flex-grow: 1;\n}\n\nbutton,\na.button {\n  padding: 0.75rem 1rem;\n  color: var(--provider-color, var(--color-primary));\n  background-color: var(--provider-bg);\n  font-size: 1.1rem;\n  min-height: 62px;\n  border-color: rgba(0, 0, 0, 0.1);\n  border-radius: var(--border-radius);\n  transition: all 0.1s ease-in-out;\n  font-weight: 500;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n:is(button,a.button):hover {\n    background-color: var(--provider-bg-hover, var(--color-background-hover));\n    cursor: pointer;\n  }\n\n:is(button,a.button):active {\n    cursor: pointer;\n  }\n\n:is(button,a.button) #provider-logo {\n    width: 25px;\n    display: block;\n  }\n\n:is(button,a.button) #provider-logo-dark {\n    display: none;\n  }\n\n#submitButton {\n  color: var(--button-text-color, var(--color-info-text));\n  background-color: var(--brand-color, var(--color-info));\n  width: 100%;\n}\n\n#submitButton:hover {\n    background-color: var(\n      --button-hover-bg,\n      var(--color-info-hover)\n    ) !important;\n  }\n\na.site {\n  color: var(--color-primary);\n  text-decoration: none;\n  font-size: 1rem;\n  line-height: 2rem;\n}\n\na.site:hover {\n    text-decoration: underline;\n  }\n\n.page {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: grid;\n  place-items: center;\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n.page > div {\n    text-align: center;\n  }\n\n.error a.button {\n    padding-left: 2rem;\n    padding-right: 2rem;\n    margin-top: 0.5rem;\n  }\n\n.error .message {\n    margin-bottom: 1.5rem;\n  }\n\n.signin input[type=\"text\"] {\n    margin-left: auto;\n    margin-right: auto;\n    display: block;\n  }\n\n.signin hr {\n    display: block;\n    border: 0;\n    border-top: 1px solid var(--color-separator);\n    margin: 2rem auto 1rem auto;\n    overflow: visible;\n  }\n\n.signin hr::before {\n      content: \"or\";\n      background: var(--color-background-card);\n      color: #888;\n      padding: 0 0.4rem;\n      position: relative;\n      top: -0.7rem;\n    }\n\n.signin .error {\n    background: #f5f5f5;\n    font-weight: 500;\n    border-radius: 0.3rem;\n    background: var(--color-error);\n  }\n\n.signin .error p {\n      text-align: left;\n      padding: 0.5rem 1rem;\n      font-size: 0.9rem;\n      line-height: 1.2rem;\n      color: var(--color-info-text);\n    }\n\n.signin > div,\n  .signin form {\n    display: block;\n  }\n\n.signin > div input[type], .signin form input[type] {\n      margin-bottom: 0.5rem;\n    }\n\n.signin > div button, .signin form button {\n      width: 100%;\n    }\n\n.signin .provider + .provider {\n    margin-top: 1rem;\n  }\n\n.logo {\n  display: inline-block;\n  max-width: 150px;\n  margin: 1.25rem 0;\n  max-height: 70px;\n}\n\n.card {\n  background-color: var(--color-background-card);\n  border-radius: 2rem;\n  padding: 1.25rem 2rem;\n}\n\n.card .header {\n    color: var(--color-primary);\n  }\n\n.section-header {\n  color: var(--color-text);\n}\n\n@media screen and (min-width: 450px) {\n  .card {\n    margin: 2rem 0;\n    width: 368px;\n  }\n}\n@media screen and (max-width: 450px) {\n  .card {\n    margin: 1rem 0;\n    width: 343px;\n  }\n}\n`);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvcGFnZXMvc3R5bGVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSwwQkFBMEI7QUFDMUIsaUVBQWUsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUE0VWhCLENBQUMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtcngvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvcGFnZXMvc3R5bGVzLmpzPzM4MTMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gR2VuZXJhdGVkIGJ5IGBwbnBtIGNzc2BcbmV4cG9ydCBkZWZhdWx0IGA6cm9vdCB7XG4gIC0tYm9yZGVyLXdpZHRoOiAxcHg7XG4gIC0tYm9yZGVyLXJhZGl1czogMC41cmVtO1xuICAtLWNvbG9yLWVycm9yOiAjYzk0YjRiO1xuICAtLWNvbG9yLWluZm86ICMxNTdlZmI7XG4gIC0tY29sb3ItaW5mby1ob3ZlcjogIzBmNmRkYjtcbiAgLS1jb2xvci1pbmZvLXRleHQ6ICNmZmY7XG59XG5cbi5fX25leHQtYXV0aC10aGVtZS1hdXRvLFxuLl9fbmV4dC1hdXRoLXRoZW1lLWxpZ2h0IHtcbiAgLS1jb2xvci1iYWNrZ3JvdW5kOiAjZWNlY2VjO1xuICAtLWNvbG9yLWJhY2tncm91bmQtaG92ZXI6IHJnYmEoMjM2LCAyMzYsIDIzNiwgMC44KTtcbiAgLS1jb2xvci1iYWNrZ3JvdW5kLWNhcmQ6ICNmZmY7XG4gIC0tY29sb3ItdGV4dDogIzAwMDtcbiAgLS1jb2xvci1wcmltYXJ5OiAjNDQ0O1xuICAtLWNvbG9yLWNvbnRyb2wtYm9yZGVyOiAjYmJiO1xuICAtLWNvbG9yLWJ1dHRvbi1hY3RpdmUtYmFja2dyb3VuZDogI2Y5ZjlmOTtcbiAgLS1jb2xvci1idXR0b24tYWN0aXZlLWJvcmRlcjogI2FhYTtcbiAgLS1jb2xvci1zZXBhcmF0b3I6ICNjY2M7XG59XG5cbi5fX25leHQtYXV0aC10aGVtZS1kYXJrIHtcbiAgLS1jb2xvci1iYWNrZ3JvdW5kOiAjMTYxYjIyO1xuICAtLWNvbG9yLWJhY2tncm91bmQtaG92ZXI6IHJnYmEoMjIsIDI3LCAzNCwgMC44KTtcbiAgLS1jb2xvci1iYWNrZ3JvdW5kLWNhcmQ6ICMwZDExMTc7XG4gIC0tY29sb3ItdGV4dDogI2ZmZjtcbiAgLS1jb2xvci1wcmltYXJ5OiAjY2NjO1xuICAtLWNvbG9yLWNvbnRyb2wtYm9yZGVyOiAjNTU1O1xuICAtLWNvbG9yLWJ1dHRvbi1hY3RpdmUtYmFja2dyb3VuZDogIzA2MDYwNjtcbiAgLS1jb2xvci1idXR0b24tYWN0aXZlLWJvcmRlcjogIzY2NjtcbiAgLS1jb2xvci1zZXBhcmF0b3I6ICM0NDQ7XG59XG5cbkBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspIHtcbiAgLl9fbmV4dC1hdXRoLXRoZW1lLWF1dG8ge1xuICAgIC0tY29sb3ItYmFja2dyb3VuZDogIzE2MWIyMjtcbiAgICAtLWNvbG9yLWJhY2tncm91bmQtaG92ZXI6IHJnYmEoMjIsIDI3LCAzNCwgMC44KTtcbiAgICAtLWNvbG9yLWJhY2tncm91bmQtY2FyZDogIzBkMTExNztcbiAgICAtLWNvbG9yLXRleHQ6ICNmZmY7XG4gICAgLS1jb2xvci1wcmltYXJ5OiAjY2NjO1xuICAgIC0tY29sb3ItY29udHJvbC1ib3JkZXI6ICM1NTU7XG4gICAgLS1jb2xvci1idXR0b24tYWN0aXZlLWJhY2tncm91bmQ6ICMwNjA2MDY7XG4gICAgLS1jb2xvci1idXR0b24tYWN0aXZlLWJvcmRlcjogIzY2NjtcbiAgICAtLWNvbG9yLXNlcGFyYXRvcjogIzQ0NDtcbiAgfVxuXG4gIGJ1dHRvbixcbiAgYS5idXR0b24ge1xuICAgIGNvbG9yOiB2YXIoLS1wcm92aWRlci1kYXJrLWNvbG9yLCB2YXIoLS1jb2xvci1wcmltYXJ5KSk7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcHJvdmlkZXItZGFyay1iZywgdmFyKC0tY29sb3ItYmFja2dyb3VuZCkpO1xuICB9XG4gICAgOmlzKGJ1dHRvbixhLmJ1dHRvbik6aG92ZXIge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKFxuICAgICAgICAtLXByb3ZpZGVyLWRhcmstYmctaG92ZXIsXG4gICAgICAgIHZhcigtLWNvbG9yLWJhY2tncm91bmQtaG92ZXIpXG4gICAgICApICFpbXBvcnRhbnQ7XG4gICAgfVxuICAjcHJvdmlkZXItbG9nbyB7XG4gICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xuICB9XG4gICNwcm92aWRlci1sb2dvLWRhcmsge1xuICAgIHdpZHRoOiAyNXB4O1xuICAgIGRpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQ7XG4gIH1cbn1cbmh0bWwge1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xufVxuKixcbio6YmVmb3JlLFxuKjphZnRlciB7XG4gIGJveC1zaXppbmc6IGluaGVyaXQ7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogMDtcbn1cblxuYm9keSB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbG9yLWJhY2tncm91bmQpO1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDA7XG4gIGZvbnQtZmFtaWx5OlxuICAgIHVpLXNhbnMtc2VyaWYsXG4gICAgc3lzdGVtLXVpLFxuICAgIC1hcHBsZS1zeXN0ZW0sXG4gICAgQmxpbmtNYWNTeXN0ZW1Gb250LFxuICAgIFwiU2Vnb2UgVUlcIixcbiAgICBSb2JvdG8sXG4gICAgXCJIZWx2ZXRpY2EgTmV1ZVwiLFxuICAgIEFyaWFsLFxuICAgIFwiTm90byBTYW5zXCIsXG4gICAgc2Fucy1zZXJpZixcbiAgICBcIkFwcGxlIENvbG9yIEVtb2ppXCIsXG4gICAgXCJTZWdvZSBVSSBFbW9qaVwiLFxuICAgIFwiU2Vnb2UgVUkgU3ltYm9sXCIsXG4gICAgXCJOb3RvIENvbG9yIEVtb2ppXCI7XG59XG5cbmgxIHtcbiAgbWFyZ2luLWJvdHRvbTogMS41cmVtO1xuICBwYWRkaW5nOiAwIDFyZW07XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG4gIGNvbG9yOiB2YXIoLS1jb2xvci10ZXh0KTtcbn1cblxucCB7XG4gIG1hcmdpbi1ib3R0b206IDEuNXJlbTtcbiAgcGFkZGluZzogMCAxcmVtO1xuICBjb2xvcjogdmFyKC0tY29sb3ItdGV4dCk7XG59XG5cbmZvcm0ge1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDA7XG59XG5cbmxhYmVsIHtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbiAgbWFyZ2luLWJvdHRvbTogMC4yNXJlbTtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGNvbG9yOiB2YXIoLS1jb2xvci10ZXh0KTtcbn1cblxuaW5wdXRbdHlwZV0ge1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICBkaXNwbGF5OiBibG9jaztcbiAgd2lkdGg6IDEwMCU7XG4gIHBhZGRpbmc6IDAuNXJlbSAxcmVtO1xuICBib3JkZXI6IHZhcigtLWJvcmRlci13aWR0aCkgc29saWQgdmFyKC0tY29sb3ItY29udHJvbC1ib3JkZXIpO1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci1iYWNrZ3JvdW5kLWNhcmQpO1xuICBmb250LXNpemU6IDFyZW07XG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlci1yYWRpdXMpO1xuICBjb2xvcjogdmFyKC0tY29sb3ItdGV4dCk7XG59XG5cbmlucHV0W3R5cGVdOmZvY3VzIHtcbiAgICBib3gtc2hhZG93OiBub25lO1xuICB9XG5cbnAge1xuICBmb250LXNpemU6IDEuMXJlbTtcbiAgbGluZS1oZWlnaHQ6IDJyZW07XG59XG5cbmEuYnV0dG9uIHtcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICBsaW5lLWhlaWdodDogMXJlbTtcbn1cblxuYS5idXR0b246bGluayxcbiAgYS5idXR0b246dmlzaXRlZCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sb3ItYmFja2dyb3VuZCk7XG4gICAgY29sb3I6IHZhcigtLWNvbG9yLXByaW1hcnkpO1xuICB9XG5cbmJ1dHRvbiBzcGFuIHtcbiAgZmxleC1ncm93OiAxO1xufVxuXG5idXR0b24sXG5hLmJ1dHRvbiB7XG4gIHBhZGRpbmc6IDAuNzVyZW0gMXJlbTtcbiAgY29sb3I6IHZhcigtLXByb3ZpZGVyLWNvbG9yLCB2YXIoLS1jb2xvci1wcmltYXJ5KSk7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXByb3ZpZGVyLWJnKTtcbiAgZm9udC1zaXplOiAxLjFyZW07XG4gIG1pbi1oZWlnaHQ6IDYycHg7XG4gIGJvcmRlci1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjEpO1xuICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzKTtcbiAgdHJhbnNpdGlvbjogYWxsIDAuMXMgZWFzZS1pbi1vdXQ7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG59XG5cbjppcyhidXR0b24sYS5idXR0b24pOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcm92aWRlci1iZy1ob3ZlciwgdmFyKC0tY29sb3ItYmFja2dyb3VuZC1ob3ZlcikpO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgfVxuXG46aXMoYnV0dG9uLGEuYnV0dG9uKTphY3RpdmUge1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgfVxuXG46aXMoYnV0dG9uLGEuYnV0dG9uKSAjcHJvdmlkZXItbG9nbyB7XG4gICAgd2lkdGg6IDI1cHg7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gIH1cblxuOmlzKGJ1dHRvbixhLmJ1dHRvbikgI3Byb3ZpZGVyLWxvZ28tZGFyayB7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgfVxuXG4jc3VibWl0QnV0dG9uIHtcbiAgY29sb3I6IHZhcigtLWJ1dHRvbi10ZXh0LWNvbG9yLCB2YXIoLS1jb2xvci1pbmZvLXRleHQpKTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYnJhbmQtY29sb3IsIHZhcigtLWNvbG9yLWluZm8pKTtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbiNzdWJtaXRCdXR0b246aG92ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcihcbiAgICAgIC0tYnV0dG9uLWhvdmVyLWJnLFxuICAgICAgdmFyKC0tY29sb3ItaW5mby1ob3ZlcilcbiAgICApICFpbXBvcnRhbnQ7XG4gIH1cblxuYS5zaXRlIHtcbiAgY29sb3I6IHZhcigtLWNvbG9yLXByaW1hcnkpO1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gIGZvbnQtc2l6ZTogMXJlbTtcbiAgbGluZS1oZWlnaHQ6IDJyZW07XG59XG5cbmEuc2l0ZTpob3ZlciB7XG4gICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gIH1cblxuLnBhZ2Uge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIHBsYWNlLWl0ZW1zOiBjZW50ZXI7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogMDtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbn1cblxuLnBhZ2UgPiBkaXYge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgfVxuXG4uZXJyb3IgYS5idXR0b24ge1xuICAgIHBhZGRpbmctbGVmdDogMnJlbTtcbiAgICBwYWRkaW5nLXJpZ2h0OiAycmVtO1xuICAgIG1hcmdpbi10b3A6IDAuNXJlbTtcbiAgfVxuXG4uZXJyb3IgLm1lc3NhZ2Uge1xuICAgIG1hcmdpbi1ib3R0b206IDEuNXJlbTtcbiAgfVxuXG4uc2lnbmluIGlucHV0W3R5cGU9XCJ0ZXh0XCJdIHtcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcbiAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XG4gICAgZGlzcGxheTogYmxvY2s7XG4gIH1cblxuLnNpZ25pbiBociB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgYm9yZGVyOiAwO1xuICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1jb2xvci1zZXBhcmF0b3IpO1xuICAgIG1hcmdpbjogMnJlbSBhdXRvIDFyZW0gYXV0bztcbiAgICBvdmVyZmxvdzogdmlzaWJsZTtcbiAgfVxuXG4uc2lnbmluIGhyOjpiZWZvcmUge1xuICAgICAgY29udGVudDogXCJvclwiO1xuICAgICAgYmFja2dyb3VuZDogdmFyKC0tY29sb3ItYmFja2dyb3VuZC1jYXJkKTtcbiAgICAgIGNvbG9yOiAjODg4O1xuICAgICAgcGFkZGluZzogMCAwLjRyZW07XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICB0b3A6IC0wLjdyZW07XG4gICAgfVxuXG4uc2lnbmluIC5lcnJvciB7XG4gICAgYmFja2dyb3VuZDogI2Y1ZjVmNTtcbiAgICBmb250LXdlaWdodDogNTAwO1xuICAgIGJvcmRlci1yYWRpdXM6IDAuM3JlbTtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci1lcnJvcik7XG4gIH1cblxuLnNpZ25pbiAuZXJyb3IgcCB7XG4gICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgcGFkZGluZzogMC41cmVtIDFyZW07XG4gICAgICBmb250LXNpemU6IDAuOXJlbTtcbiAgICAgIGxpbmUtaGVpZ2h0OiAxLjJyZW07XG4gICAgICBjb2xvcjogdmFyKC0tY29sb3ItaW5mby10ZXh0KTtcbiAgICB9XG5cbi5zaWduaW4gPiBkaXYsXG4gIC5zaWduaW4gZm9ybSB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gIH1cblxuLnNpZ25pbiA+IGRpdiBpbnB1dFt0eXBlXSwgLnNpZ25pbiBmb3JtIGlucHV0W3R5cGVdIHtcbiAgICAgIG1hcmdpbi1ib3R0b206IDAuNXJlbTtcbiAgICB9XG5cbi5zaWduaW4gPiBkaXYgYnV0dG9uLCAuc2lnbmluIGZvcm0gYnV0dG9uIHtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgIH1cblxuLnNpZ25pbiAucHJvdmlkZXIgKyAucHJvdmlkZXIge1xuICAgIG1hcmdpbi10b3A6IDFyZW07XG4gIH1cblxuLmxvZ28ge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIG1heC13aWR0aDogMTUwcHg7XG4gIG1hcmdpbjogMS4yNXJlbSAwO1xuICBtYXgtaGVpZ2h0OiA3MHB4O1xufVxuXG4uY2FyZCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbG9yLWJhY2tncm91bmQtY2FyZCk7XG4gIGJvcmRlci1yYWRpdXM6IDJyZW07XG4gIHBhZGRpbmc6IDEuMjVyZW0gMnJlbTtcbn1cblxuLmNhcmQgLmhlYWRlciB7XG4gICAgY29sb3I6IHZhcigtLWNvbG9yLXByaW1hcnkpO1xuICB9XG5cbi5zZWN0aW9uLWhlYWRlciB7XG4gIGNvbG9yOiB2YXIoLS1jb2xvci10ZXh0KTtcbn1cblxuQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNDUwcHgpIHtcbiAgLmNhcmQge1xuICAgIG1hcmdpbjogMnJlbSAwO1xuICAgIHdpZHRoOiAzNjhweDtcbiAgfVxufVxuQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogNDUwcHgpIHtcbiAgLmNhcmQge1xuICAgIG1hcmdpbjogMXJlbSAwO1xuICAgIHdpZHRoOiAzNDNweDtcbiAgfVxufVxuYDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/lib/pages/styles.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/lib/pages/verify-request.js":
/*!*************************************************************!*\
  !*** ./node_modules/@auth/core/lib/pages/verify-request.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ VerifyRequestPage)\n/* harmony export */ });\n/* harmony import */ var preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact/jsx-runtime */ \"(action-browser)/./node_modules/preact/jsx-runtime/dist/jsxRuntime.mjs\");\n\nfunction VerifyRequestPage(props) {\n    const { url, theme } = props;\n    return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n        className: \"verify-request\",\n        children: [\n            theme.brandColor && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"style\", {\n                dangerouslySetInnerHTML: {\n                    __html: `\n        :root {\n          --brand-color: ${theme.brandColor}\n        }\n      `\n                }\n            }),\n            (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                className: \"card\",\n                children: [\n                    theme.logo && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n                        src: theme.logo,\n                        alt: \"Logo\",\n                        className: \"logo\"\n                    }),\n                    (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"h1\", {\n                        children: \"Check your email\"\n                    }),\n                    (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n                        children: \"A sign in link has been sent to your email address.\"\n                    }),\n                    (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n                        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"a\", {\n                            className: \"site\",\n                            href: url.origin,\n                            children: url.host\n                        })\n                    })\n                ]\n            })\n        ]\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi9wYWdlcy92ZXJpZnktcmVxdWVzdC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFnRTtBQUNqRCxTQUFTSSxrQkFBa0JDLEtBQUs7SUFDM0MsTUFBTSxFQUFFQyxHQUFHLEVBQUVDLEtBQUssRUFBRSxHQUFHRjtJQUN2QixPQUFRRix3REFBS0EsQ0FBQyxPQUFPO1FBQUVLLFdBQVc7UUFBa0JDLFVBQVU7WUFBQ0YsTUFBTUcsVUFBVSxJQUFLVCx1REFBSUEsQ0FBQyxTQUFTO2dCQUFFVSx5QkFBeUI7b0JBQzdHQyxRQUFRLENBQUM7O3lCQUVKLEVBQUVMLE1BQU1HLFVBQVUsQ0FBQzs7TUFFdEMsQ0FBQztnQkFDUztZQUFFO1lBQUtQLHdEQUFLQSxDQUFDLE9BQU87Z0JBQUVLLFdBQVc7Z0JBQVFDLFVBQVU7b0JBQUNGLE1BQU1NLElBQUksSUFBSVosdURBQUlBLENBQUMsT0FBTzt3QkFBRWEsS0FBS1AsTUFBTU0sSUFBSTt3QkFBRUUsS0FBSzt3QkFBUVAsV0FBVztvQkFBTztvQkFBSVAsdURBQUlBLENBQUMsTUFBTTt3QkFBRVEsVUFBVTtvQkFBbUI7b0JBQUlSLHVEQUFJQSxDQUFDLEtBQUs7d0JBQUVRLFVBQVU7b0JBQXNEO29CQUFJUix1REFBSUEsQ0FBQyxLQUFLO3dCQUFFUSxVQUFVUix1REFBSUEsQ0FBQyxLQUFLOzRCQUFFTyxXQUFXOzRCQUFRUSxNQUFNVixJQUFJVyxNQUFNOzRCQUFFUixVQUFVSCxJQUFJWSxJQUFJO3dCQUFDO29CQUFHO2lCQUFHO1lBQUM7U0FBRztJQUFDO0FBQ3ZYIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC1yeC8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi9wYWdlcy92ZXJpZnktcmVxdWVzdC5qcz82NmQwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGpzeCBhcyBfanN4LCBqc3hzIGFzIF9qc3hzIH0gZnJvbSBcInByZWFjdC9qc3gtcnVudGltZVwiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVmVyaWZ5UmVxdWVzdFBhZ2UocHJvcHMpIHtcbiAgICBjb25zdCB7IHVybCwgdGhlbWUgfSA9IHByb3BzO1xuICAgIHJldHVybiAoX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwidmVyaWZ5LXJlcXVlc3RcIiwgY2hpbGRyZW46IFt0aGVtZS5icmFuZENvbG9yICYmIChfanN4KFwic3R5bGVcIiwgeyBkYW5nZXJvdXNseVNldElubmVySFRNTDoge1xuICAgICAgICAgICAgICAgICAgICBfX2h0bWw6IGBcbiAgICAgICAgOnJvb3Qge1xuICAgICAgICAgIC0tYnJhbmQtY29sb3I6ICR7dGhlbWUuYnJhbmRDb2xvcn1cbiAgICAgICAgfVxuICAgICAgYCxcbiAgICAgICAgICAgICAgICB9IH0pKSwgX2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY2FyZFwiLCBjaGlsZHJlbjogW3RoZW1lLmxvZ28gJiYgX2pzeChcImltZ1wiLCB7IHNyYzogdGhlbWUubG9nbywgYWx0OiBcIkxvZ29cIiwgY2xhc3NOYW1lOiBcImxvZ29cIiB9KSwgX2pzeChcImgxXCIsIHsgY2hpbGRyZW46IFwiQ2hlY2sgeW91ciBlbWFpbFwiIH0pLCBfanN4KFwicFwiLCB7IGNoaWxkcmVuOiBcIkEgc2lnbiBpbiBsaW5rIGhhcyBiZWVuIHNlbnQgdG8geW91ciBlbWFpbCBhZGRyZXNzLlwiIH0pLCBfanN4KFwicFwiLCB7IGNoaWxkcmVuOiBfanN4KFwiYVwiLCB7IGNsYXNzTmFtZTogXCJzaXRlXCIsIGhyZWY6IHVybC5vcmlnaW4sIGNoaWxkcmVuOiB1cmwuaG9zdCB9KSB9KV0gfSldIH0pKTtcbn1cbiJdLCJuYW1lcyI6WyJqc3giLCJfanN4IiwianN4cyIsIl9qc3hzIiwiVmVyaWZ5UmVxdWVzdFBhZ2UiLCJwcm9wcyIsInVybCIsInRoZW1lIiwiY2xhc3NOYW1lIiwiY2hpbGRyZW4iLCJicmFuZENvbG9yIiwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiLCJfX2h0bWwiLCJsb2dvIiwic3JjIiwiYWx0IiwiaHJlZiIsIm9yaWdpbiIsImhvc3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/lib/pages/verify-request.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/lib/pages/verify-request.js":
/*!*************************************************************!*\
  !*** ./node_modules/@auth/core/lib/pages/verify-request.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ VerifyRequestPage)\n/* harmony export */ });\n/* harmony import */ var preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact/jsx-runtime */ \"(rsc)/./node_modules/preact/jsx-runtime/dist/jsxRuntime.mjs\");\n\nfunction VerifyRequestPage(props) {\n    const { url, theme } = props;\n    return (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n        className: \"verify-request\",\n        children: [\n            theme.brandColor && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"style\", {\n                dangerouslySetInnerHTML: {\n                    __html: `\n        :root {\n          --brand-color: ${theme.brandColor}\n        }\n      `\n                }\n            }),\n            (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", {\n                className: \"card\",\n                children: [\n                    theme.logo && (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"img\", {\n                        src: theme.logo,\n                        alt: \"Logo\",\n                        className: \"logo\"\n                    }),\n                    (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"h1\", {\n                        children: \"Check your email\"\n                    }),\n                    (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n                        children: \"A sign in link has been sent to your email address.\"\n                    }),\n                    (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", {\n                        children: (0,preact_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"a\", {\n                            className: \"site\",\n                            href: url.origin,\n                            children: url.host\n                        })\n                    })\n                ]\n            })\n        ]\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvcGFnZXMvdmVyaWZ5LXJlcXVlc3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBZ0U7QUFDakQsU0FBU0ksa0JBQWtCQyxLQUFLO0lBQzNDLE1BQU0sRUFBRUMsR0FBRyxFQUFFQyxLQUFLLEVBQUUsR0FBR0Y7SUFDdkIsT0FBUUYsd0RBQUtBLENBQUMsT0FBTztRQUFFSyxXQUFXO1FBQWtCQyxVQUFVO1lBQUNGLE1BQU1HLFVBQVUsSUFBS1QsdURBQUlBLENBQUMsU0FBUztnQkFBRVUseUJBQXlCO29CQUM3R0MsUUFBUSxDQUFDOzt5QkFFSixFQUFFTCxNQUFNRyxVQUFVLENBQUM7O01BRXRDLENBQUM7Z0JBQ1M7WUFBRTtZQUFLUCx3REFBS0EsQ0FBQyxPQUFPO2dCQUFFSyxXQUFXO2dCQUFRQyxVQUFVO29CQUFDRixNQUFNTSxJQUFJLElBQUlaLHVEQUFJQSxDQUFDLE9BQU87d0JBQUVhLEtBQUtQLE1BQU1NLElBQUk7d0JBQUVFLEtBQUs7d0JBQVFQLFdBQVc7b0JBQU87b0JBQUlQLHVEQUFJQSxDQUFDLE1BQU07d0JBQUVRLFVBQVU7b0JBQW1CO29CQUFJUix1REFBSUEsQ0FBQyxLQUFLO3dCQUFFUSxVQUFVO29CQUFzRDtvQkFBSVIsdURBQUlBLENBQUMsS0FBSzt3QkFBRVEsVUFBVVIsdURBQUlBLENBQUMsS0FBSzs0QkFBRU8sV0FBVzs0QkFBUVEsTUFBTVYsSUFBSVcsTUFBTTs0QkFBRVIsVUFBVUgsSUFBSVksSUFBSTt3QkFBQztvQkFBRztpQkFBRztZQUFDO1NBQUc7SUFBQztBQUN2WCIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtcngvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvcGFnZXMvdmVyaWZ5LXJlcXVlc3QuanM/NjZkMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqc3ggYXMgX2pzeCwganN4cyBhcyBfanN4cyB9IGZyb20gXCJwcmVhY3QvanN4LXJ1bnRpbWVcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFZlcmlmeVJlcXVlc3RQYWdlKHByb3BzKSB7XG4gICAgY29uc3QgeyB1cmwsIHRoZW1lIH0gPSBwcm9wcztcbiAgICByZXR1cm4gKF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInZlcmlmeS1yZXF1ZXN0XCIsIGNoaWxkcmVuOiBbdGhlbWUuYnJhbmRDb2xvciAmJiAoX2pzeChcInN0eWxlXCIsIHsgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHtcbiAgICAgICAgICAgICAgICAgICAgX19odG1sOiBgXG4gICAgICAgIDpyb290IHtcbiAgICAgICAgICAtLWJyYW5kLWNvbG9yOiAke3RoZW1lLmJyYW5kQ29sb3J9XG4gICAgICAgIH1cbiAgICAgIGAsXG4gICAgICAgICAgICAgICAgfSB9KSksIF9qc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNhcmRcIiwgY2hpbGRyZW46IFt0aGVtZS5sb2dvICYmIF9qc3goXCJpbWdcIiwgeyBzcmM6IHRoZW1lLmxvZ28sIGFsdDogXCJMb2dvXCIsIGNsYXNzTmFtZTogXCJsb2dvXCIgfSksIF9qc3goXCJoMVwiLCB7IGNoaWxkcmVuOiBcIkNoZWNrIHlvdXIgZW1haWxcIiB9KSwgX2pzeChcInBcIiwgeyBjaGlsZHJlbjogXCJBIHNpZ24gaW4gbGluayBoYXMgYmVlbiBzZW50IHRvIHlvdXIgZW1haWwgYWRkcmVzcy5cIiB9KSwgX2pzeChcInBcIiwgeyBjaGlsZHJlbjogX2pzeChcImFcIiwgeyBjbGFzc05hbWU6IFwic2l0ZVwiLCBocmVmOiB1cmwub3JpZ2luLCBjaGlsZHJlbjogdXJsLmhvc3QgfSkgfSldIH0pXSB9KSk7XG59XG4iXSwibmFtZXMiOlsianN4IiwiX2pzeCIsImpzeHMiLCJfanN4cyIsIlZlcmlmeVJlcXVlc3RQYWdlIiwicHJvcHMiLCJ1cmwiLCJ0aGVtZSIsImNsYXNzTmFtZSIsImNoaWxkcmVuIiwiYnJhbmRDb2xvciIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIiwiX19odG1sIiwibG9nbyIsInNyYyIsImFsdCIsImhyZWYiLCJvcmlnaW4iLCJob3N0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/lib/pages/verify-request.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/lib/utils/actions.js":
/*!******************************************************!*\
  !*** ./node_modules/@auth/core/lib/utils/actions.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isAuthAction: () => (/* binding */ isAuthAction)\n/* harmony export */ });\nconst actions = [\n    \"providers\",\n    \"session\",\n    \"csrf\",\n    \"signin\",\n    \"signout\",\n    \"callback\",\n    \"verify-request\",\n    \"error\",\n    \"webauthn-options\"\n];\nfunction isAuthAction(action) {\n    return actions.includes(action);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi91dGlscy9hY3Rpb25zLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxNQUFNQSxVQUFVO0lBQ1o7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0NBQ0g7QUFDTSxTQUFTQyxhQUFhQyxNQUFNO0lBQy9CLE9BQU9GLFFBQVFHLFFBQVEsQ0FBQ0Q7QUFDNUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LXJ4Ly4vbm9kZV9tb2R1bGVzL0BhdXRoL2NvcmUvbGliL3V0aWxzL2FjdGlvbnMuanM/YzRhOCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBhY3Rpb25zID0gW1xuICAgIFwicHJvdmlkZXJzXCIsXG4gICAgXCJzZXNzaW9uXCIsXG4gICAgXCJjc3JmXCIsXG4gICAgXCJzaWduaW5cIixcbiAgICBcInNpZ25vdXRcIixcbiAgICBcImNhbGxiYWNrXCIsXG4gICAgXCJ2ZXJpZnktcmVxdWVzdFwiLFxuICAgIFwiZXJyb3JcIixcbiAgICBcIndlYmF1dGhuLW9wdGlvbnNcIixcbl07XG5leHBvcnQgZnVuY3Rpb24gaXNBdXRoQWN0aW9uKGFjdGlvbikge1xuICAgIHJldHVybiBhY3Rpb25zLmluY2x1ZGVzKGFjdGlvbik7XG59XG4iXSwibmFtZXMiOlsiYWN0aW9ucyIsImlzQXV0aEFjdGlvbiIsImFjdGlvbiIsImluY2x1ZGVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/lib/utils/actions.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/lib/utils/actions.js":
/*!******************************************************!*\
  !*** ./node_modules/@auth/core/lib/utils/actions.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isAuthAction: () => (/* binding */ isAuthAction)\n/* harmony export */ });\nconst actions = [\n    \"providers\",\n    \"session\",\n    \"csrf\",\n    \"signin\",\n    \"signout\",\n    \"callback\",\n    \"verify-request\",\n    \"error\",\n    \"webauthn-options\"\n];\nfunction isAuthAction(action) {\n    return actions.includes(action);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvdXRpbHMvYWN0aW9ucy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsTUFBTUEsVUFBVTtJQUNaO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtDQUNIO0FBQ00sU0FBU0MsYUFBYUMsTUFBTTtJQUMvQixPQUFPRixRQUFRRyxRQUFRLENBQUNEO0FBQzVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC1yeC8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi91dGlscy9hY3Rpb25zLmpzP2M0YTgiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYWN0aW9ucyA9IFtcbiAgICBcInByb3ZpZGVyc1wiLFxuICAgIFwic2Vzc2lvblwiLFxuICAgIFwiY3NyZlwiLFxuICAgIFwic2lnbmluXCIsXG4gICAgXCJzaWdub3V0XCIsXG4gICAgXCJjYWxsYmFja1wiLFxuICAgIFwidmVyaWZ5LXJlcXVlc3RcIixcbiAgICBcImVycm9yXCIsXG4gICAgXCJ3ZWJhdXRobi1vcHRpb25zXCIsXG5dO1xuZXhwb3J0IGZ1bmN0aW9uIGlzQXV0aEFjdGlvbihhY3Rpb24pIHtcbiAgICByZXR1cm4gYWN0aW9ucy5pbmNsdWRlcyhhY3Rpb24pO1xufVxuIl0sIm5hbWVzIjpbImFjdGlvbnMiLCJpc0F1dGhBY3Rpb24iLCJhY3Rpb24iLCJpbmNsdWRlcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/lib/utils/actions.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/lib/utils/assert.js":
/*!*****************************************************!*\
  !*** ./node_modules/@auth/core/lib/utils/assert.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assertConfig: () => (/* binding */ assertConfig)\n/* harmony export */ });\n/* harmony import */ var _cookie_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cookie.js */ \"(action-browser)/./node_modules/@auth/core/lib/utils/cookie.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../errors.js */ \"(action-browser)/./node_modules/@auth/core/errors.js\");\n\n\nlet warned = false;\nfunction isValidHttpUrl(url, baseUrl) {\n    try {\n        return /^https?:/.test(new URL(url, url.startsWith(\"/\") ? baseUrl : undefined).protocol);\n    } catch  {\n        return false;\n    }\n}\nfunction isSemverString(version) {\n    return /^v\\d+(?:\\.\\d+){0,2}$/.test(version);\n}\nlet hasCredentials = false;\nlet hasEmail = false;\nlet hasWebAuthn = false;\nconst emailMethods = [\n    \"createVerificationToken\",\n    \"useVerificationToken\",\n    \"getUserByEmail\"\n];\nconst sessionMethods = [\n    \"createUser\",\n    \"getUser\",\n    \"getUserByEmail\",\n    \"getUserByAccount\",\n    \"updateUser\",\n    \"linkAccount\",\n    \"createSession\",\n    \"getSessionAndUser\",\n    \"updateSession\",\n    \"deleteSession\"\n];\nconst webauthnMethods = [\n    \"createUser\",\n    \"getUser\",\n    \"linkAccount\",\n    \"getAccount\",\n    \"getAuthenticator\",\n    \"createAuthenticator\",\n    \"listAuthenticatorsByUserId\",\n    \"updateAuthenticatorCounter\"\n];\n/**\n * Verify that the user configured Auth.js correctly.\n * Good place to mention deprecations as well.\n *\n * This is invoked before the init method, so default values are not available yet.\n */ function assertConfig(request, options) {\n    const { url } = request;\n    const warnings = [];\n    if (!warned && options.debug) warnings.push(\"debug-enabled\");\n    if (!options.trustHost) {\n        return new _errors_js__WEBPACK_IMPORTED_MODULE_1__.UntrustedHost(`Host must be trusted. URL was: ${request.url}`);\n    }\n    if (!options.secret) {\n        return new _errors_js__WEBPACK_IMPORTED_MODULE_1__.MissingSecret(\"Please define a `secret`.\");\n    }\n    const callbackUrlParam = request.query?.callbackUrl;\n    if (callbackUrlParam && !isValidHttpUrl(callbackUrlParam, url.origin)) {\n        return new _errors_js__WEBPACK_IMPORTED_MODULE_1__.InvalidCallbackUrl(`Invalid callback URL. Received: ${callbackUrlParam}`);\n    }\n    const { callbackUrl: defaultCallbackUrl } = (0,_cookie_js__WEBPACK_IMPORTED_MODULE_0__.defaultCookies)(options.useSecureCookies ?? url.protocol === \"https:\");\n    const callbackUrlCookie = request.cookies?.[options.cookies?.callbackUrl?.name ?? defaultCallbackUrl.name];\n    if (callbackUrlCookie && !isValidHttpUrl(callbackUrlCookie, url.origin)) {\n        return new _errors_js__WEBPACK_IMPORTED_MODULE_1__.InvalidCallbackUrl(`Invalid callback URL. Received: ${callbackUrlCookie}`);\n    }\n    // Keep track of webauthn providers that use conditional UI\n    let hasConditionalUIProvider = false;\n    for (const p of options.providers){\n        const provider = typeof p === \"function\" ? p() : p;\n        if ((provider.type === \"oauth\" || provider.type === \"oidc\") && !(provider.issuer ?? provider.options?.issuer)) {\n            const { authorization: a, token: t, userinfo: u } = provider;\n            let key;\n            if (typeof a !== \"string\" && !a?.url) key = \"authorization\";\n            else if (typeof t !== \"string\" && !t?.url) key = \"token\";\n            else if (typeof u !== \"string\" && !u?.url) key = \"userinfo\";\n            if (key) {\n                return new _errors_js__WEBPACK_IMPORTED_MODULE_1__.InvalidEndpoints(`Provider \"${provider.id}\" is missing both \\`issuer\\` and \\`${key}\\` endpoint config. At least one of them is required.`);\n            }\n        }\n        if (provider.type === \"credentials\") hasCredentials = true;\n        else if (provider.type === \"email\") hasEmail = true;\n        else if (provider.type === \"webauthn\") {\n            hasWebAuthn = true;\n            // Validate simpleWebAuthnBrowserVersion\n            if (provider.simpleWebAuthnBrowserVersion && !isSemverString(provider.simpleWebAuthnBrowserVersion)) {\n                return new _errors_js__WEBPACK_IMPORTED_MODULE_1__.AuthError(`Invalid provider config for \"${provider.id}\": simpleWebAuthnBrowserVersion \"${provider.simpleWebAuthnBrowserVersion}\" must be a valid semver string.`);\n            }\n            if (provider.enableConditionalUI) {\n                // Make sure only one webauthn provider has \"enableConditionalUI\" set to true\n                if (hasConditionalUIProvider) {\n                    return new _errors_js__WEBPACK_IMPORTED_MODULE_1__.DuplicateConditionalUI(`Multiple webauthn providers have 'enableConditionalUI' set to True. Only one provider can have this option enabled at a time.`);\n                }\n                hasConditionalUIProvider = true;\n                // Make sure at least one formField has \"webauthn\" in its autocomplete param\n                const hasWebauthnFormField = Object.values(provider.formFields).some((f)=>f.autocomplete && f.autocomplete.toString().indexOf(\"webauthn\") > -1);\n                if (!hasWebauthnFormField) {\n                    return new _errors_js__WEBPACK_IMPORTED_MODULE_1__.MissingWebAuthnAutocomplete(`Provider \"${provider.id}\" has 'enableConditionalUI' set to True, but none of its formFields have 'webauthn' in their autocomplete param.`);\n                }\n            }\n        }\n    }\n    if (hasCredentials) {\n        const dbStrategy = options.session?.strategy === \"database\";\n        const onlyCredentials = !options.providers.some((p)=>(typeof p === \"function\" ? p() : p).type !== \"credentials\");\n        if (dbStrategy && onlyCredentials) {\n            return new _errors_js__WEBPACK_IMPORTED_MODULE_1__.UnsupportedStrategy(\"Signing in with credentials only supported if JWT strategy is enabled\");\n        }\n        const credentialsNoAuthorize = options.providers.some((p)=>{\n            const provider = typeof p === \"function\" ? p() : p;\n            return provider.type === \"credentials\" && !provider.authorize;\n        });\n        if (credentialsNoAuthorize) {\n            return new _errors_js__WEBPACK_IMPORTED_MODULE_1__.MissingAuthorize(\"Must define an authorize() handler to use credentials authentication provider\");\n        }\n    }\n    const { adapter, session } = options;\n    let requiredMethods = [];\n    if (hasEmail || session?.strategy === \"database\" || !session?.strategy && adapter) {\n        if (hasEmail) {\n            if (!adapter) return new _errors_js__WEBPACK_IMPORTED_MODULE_1__.MissingAdapter(\"Email login requires an adapter.\");\n            requiredMethods.push(...emailMethods);\n        } else {\n            if (!adapter) return new _errors_js__WEBPACK_IMPORTED_MODULE_1__.MissingAdapter(\"Database session requires an adapter.\");\n            requiredMethods.push(...sessionMethods);\n        }\n    }\n    if (hasWebAuthn) {\n        // Log experimental warning\n        if (options.experimental?.enableWebAuthn) {\n            warnings.push(\"experimental-webauthn\");\n        } else {\n            return new _errors_js__WEBPACK_IMPORTED_MODULE_1__.ExperimentalFeatureNotEnabled(\"WebAuthn is an experimental feature. To enable it, set `experimental.enableWebAuthn` to `true` in your config.\");\n        }\n        if (!adapter) return new _errors_js__WEBPACK_IMPORTED_MODULE_1__.MissingAdapter(\"WebAuthn requires an adapter.\");\n        requiredMethods.push(...webauthnMethods);\n    }\n    if (adapter) {\n        const missing = requiredMethods.filter((m)=>!(m in adapter));\n        if (missing.length) {\n            return new _errors_js__WEBPACK_IMPORTED_MODULE_1__.MissingAdapterMethods(`Required adapter methods were missing: ${missing.join(\", \")}`);\n        }\n    }\n    if (!warned) warned = true;\n    return warnings;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi91dGlscy9hc3NlcnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTZDO0FBQ3NPO0FBQ25SLElBQUlhLFNBQVM7QUFDYixTQUFTQyxlQUFlQyxHQUFHLEVBQUVDLE9BQU87SUFDaEMsSUFBSTtRQUNBLE9BQU8sV0FBV0MsSUFBSSxDQUFDLElBQUlDLElBQUlILEtBQUtBLElBQUlJLFVBQVUsQ0FBQyxPQUFPSCxVQUFVSSxXQUFXQyxRQUFRO0lBQzNGLEVBQ0EsT0FBTTtRQUNGLE9BQU87SUFDWDtBQUNKO0FBQ0EsU0FBU0MsZUFBZUMsT0FBTztJQUMzQixPQUFPLHVCQUF1Qk4sSUFBSSxDQUFDTTtBQUN2QztBQUNBLElBQUlDLGlCQUFpQjtBQUNyQixJQUFJQyxXQUFXO0FBQ2YsSUFBSUMsY0FBYztBQUNsQixNQUFNQyxlQUFlO0lBQ2pCO0lBQ0E7SUFDQTtDQUNIO0FBQ0QsTUFBTUMsaUJBQWlCO0lBQ25CO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0NBQ0g7QUFDRCxNQUFNQyxrQkFBa0I7SUFDcEI7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtDQUNIO0FBQ0Q7Ozs7O0NBS0MsR0FDTSxTQUFTQyxhQUFhQyxPQUFPLEVBQUVDLE9BQU87SUFDekMsTUFBTSxFQUFFakIsR0FBRyxFQUFFLEdBQUdnQjtJQUNoQixNQUFNRSxXQUFXLEVBQUU7SUFDbkIsSUFBSSxDQUFDcEIsVUFBVW1CLFFBQVFFLEtBQUssRUFDeEJELFNBQVNFLElBQUksQ0FBQztJQUNsQixJQUFJLENBQUNILFFBQVFJLFNBQVMsRUFBRTtRQUNwQixPQUFPLElBQUl4QixxREFBYUEsQ0FBQyxDQUFDLCtCQUErQixFQUFFbUIsUUFBUWhCLEdBQUcsQ0FBQyxDQUFDO0lBQzVFO0lBQ0EsSUFBSSxDQUFDaUIsUUFBUUssTUFBTSxFQUFFO1FBQ2pCLE9BQU8sSUFB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T0FDSztZQUNELE9BQU8sSUFBSWhDLHFFQUE2QkEsQ0FBQztRQUM3QztRQUNBLElBQUksQ0FBQzJFLFNBQ0QsT0FBTyxJQUFJeEUsc0RBQWNBLENBQUM7UUFDOUJ5RSxnQkFBZ0I1QyxJQUFJLElBQUlOO0lBQzVCO0lBQ0EsSUFBSWlELFNBQVM7UUFDVCxNQUFNSSxVQUFVSCxnQkFBZ0JJLE1BQU0sQ0FBQyxDQUFDQyxJQUFNLENBQUVBLENBQUFBLEtBQUtOLE9BQU07UUFDM0QsSUFBSUksUUFBUUcsTUFBTSxFQUFFO1lBQ2hCLE9BQU8sSUFBSTlFLDZEQUFxQkEsQ0FBQyxDQUFDLHVDQUF1QyxFQUFFMkUsUUFBUUksSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUNuRztJQUNKO0lBQ0EsSUFBSSxDQUFDekUsUUFDREEsU0FBUztJQUNiLE9BQU9vQjtBQUNYIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC1yeC8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi91dGlscy9hc3NlcnQuanM/ZDZmMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZWZhdWx0Q29va2llcyB9IGZyb20gXCIuL2Nvb2tpZS5qc1wiO1xuaW1wb3J0IHsgQXV0aEVycm9yLCBEdXBsaWNhdGVDb25kaXRpb25hbFVJLCBFeHBlcmltZW50YWxGZWF0dXJlTm90RW5hYmxlZCwgSW52YWxpZENhbGxiYWNrVXJsLCBJbnZhbGlkRW5kcG9pbnRzLCBNaXNzaW5nQWRhcHRlciwgTWlzc2luZ0FkYXB0ZXJNZXRob2RzLCBNaXNzaW5nQXV0aG9yaXplLCBNaXNzaW5nU2VjcmV0LCBNaXNzaW5nV2ViQXV0aG5BdXRvY29tcGxldGUsIFVuc3VwcG9ydGVkU3RyYXRlZ3ksIFVudHJ1c3RlZEhvc3QsIH0gZnJvbSBcIi4uLy4uL2Vycm9ycy5qc1wiO1xubGV0IHdhcm5lZCA9IGZhbHNlO1xuZnVuY3Rpb24gaXNWYWxpZEh0dHBVcmwodXJsLCBiYXNlVXJsKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIC9eaHR0cHM/Oi8udGVzdChuZXcgVVJMKHVybCwgdXJsLnN0YXJ0c1dpdGgoXCIvXCIpID8gYmFzZVVybCA6IHVuZGVmaW5lZCkucHJvdG9jb2wpO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc1NlbXZlclN0cmluZyh2ZXJzaW9uKSB7XG4gICAgcmV0dXJuIC9edlxcZCsoPzpcXC5cXGQrKXswLDJ9JC8udGVzdCh2ZXJzaW9uKTtcbn1cbmxldCBoYXNDcmVkZW50aWFscyA9IGZhbHNlO1xubGV0IGhhc0VtYWlsID0gZmFsc2U7XG5sZXQgaGFzV2ViQXV0aG4gPSBmYWxzZTtcbmNvbnN0IGVtYWlsTWV0aG9kcyA9IFtcbiAgICBcImNyZWF0ZVZlcmlmaWNhdGlvblRva2VuXCIsXG4gICAgXCJ1c2VWZXJpZmljYXRpb25Ub2tlblwiLFxuICAgIFwiZ2V0VXNlckJ5RW1haWxcIixcbl07XG5jb25zdCBzZXNzaW9uTWV0aG9kcyA9IFtcbiAgICBcImNyZWF0ZVVzZXJcIixcbiAgICBcImdldFVzZXJcIixcbiAgICBcImdldFVzZXJCeUVtYWlsXCIsXG4gICAgXCJnZXRVc2VyQnlBY2NvdW50XCIsXG4gICAgXCJ1cGRhdGVVc2VyXCIsXG4gICAgXCJsaW5rQWNjb3VudFwiLFxuICAgIFwiY3JlYXRlU2Vzc2lvblwiLFxuICAgIFwiZ2V0U2Vzc2lvbkFuZFVzZXJcIixcbiAgICBcInVwZGF0ZVNlc3Npb25cIixcbiAgICBcImRlbGV0ZVNlc3Npb25cIixcbl07XG5jb25zdCB3ZWJhdXRobk1ldGhvZHMgPSBbXG4gICAgXCJjcmVhdGVVc2VyXCIsXG4gICAgXCJnZXRVc2VyXCIsXG4gICAgXCJsaW5rQWNjb3VudFwiLFxuICAgIFwiZ2V0QWNjb3VudFwiLFxuICAgIFwiZ2V0QXV0aGVudGljYXRvclwiLFxuICAgIFwiY3JlYXRlQXV0aGVudGljYXRvclwiLFxuICAgIFwibGlzdEF1dGhlbnRpY2F0b3JzQnlVc2VySWRcIixcbiAgICBcInVwZGF0ZUF1dGhlbnRpY2F0b3JDb3VudGVyXCIsXG5dO1xuLyoqXG4gKiBWZXJpZnkgdGhhdCB0aGUgdXNlciBjb25maWd1cmVkIEF1dGguanMgY29ycmVjdGx5LlxuICogR29vZCBwbGFjZSB0byBtZW50aW9uIGRlcHJlY2F0aW9ucyBhcyB3ZWxsLlxuICpcbiAqIFRoaXMgaXMgaW52b2tlZCBiZWZvcmUgdGhlIGluaXQgbWV0aG9kLCBzbyBkZWZhdWx0IHZhbHVlcyBhcmUgbm90IGF2YWlsYWJsZSB5ZXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRDb25maWcocmVxdWVzdCwgb3B0aW9ucykge1xuICAgIGNvbnN0IHsgdXJsIH0gPSByZXF1ZXN0O1xuICAgIGNvbnN0IHdhcm5pbmdzID0gW107XG4gICAgaWYgKCF3YXJuZWQgJiYgb3B0aW9ucy5kZWJ1ZylcbiAgICAgICAgd2FybmluZ3MucHVzaChcImRlYnVnLWVuYWJsZWRcIik7XG4gICAgaWYgKCFvcHRpb25zLnRydXN0SG9zdCkge1xuICAgICAgICByZXR1cm4gbmV3IFVudHJ1c3RlZEhvc3QoYEhvc3QgbXVzdCBiZSB0cnVzdGVkLiBVUkwgd2FzOiAke3JlcXVlc3QudXJsfWApO1xuICAgIH1cbiAgICBpZiAoIW9wdGlvbnMuc2VjcmV0KSB7XG4gICAgICAgIHJldHVybiBuZXcgTWlzc2luZ1NlY3JldChcIlBsZWFzZSBkZWZpbmUgYSBgc2VjcmV0YC5cIik7XG4gICAgfVxuICAgIGNvbnN0IGNhbGxiYWNrVXJsUGFyYW0gPSByZXF1ZXN0LnF1ZXJ5Py5jYWxsYmFja1VybDtcbiAgICBpZiAoY2FsbGJhY2tVcmxQYXJhbSAmJiAhaXNWYWxpZEh0dHBVcmwoY2FsbGJhY2tVcmxQYXJhbSwgdXJsLm9yaWdpbikpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnZhbGlkQ2FsbGJhY2tVcmwoYEludmFsaWQgY2FsbGJhY2sgVVJMLiBSZWNlaXZlZDogJHtjYWxsYmFja1VybFBhcmFtfWApO1xuICAgIH1cbiAgICBjb25zdCB7IGNhbGxiYWNrVXJsOiBkZWZhdWx0Q2FsbGJhY2tVcmwgfSA9IGRlZmF1bHRDb29raWVzKG9wdGlvbnMudXNlU2VjdXJlQ29va2llcyA/PyB1cmwucHJvdG9jb2wgPT09IFwiaHR0cHM6XCIpO1xuICAgIGNvbnN0IGNhbGxiYWNrVXJsQ29va2llID0gcmVxdWVzdC5jb29raWVzPy5bb3B0aW9ucy5jb29raWVzPy5jYWxsYmFja1VybD8ubmFtZSA/PyBkZWZhdWx0Q2FsbGJhY2tVcmwubmFtZV07XG4gICAgaWYgKGNhbGxiYWNrVXJsQ29va2llICYmICFpc1ZhbGlkSHR0cFVybChjYWxsYmFja1VybENvb2tpZSwgdXJsLm9yaWdpbikpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnZhbGlkQ2FsbGJhY2tVcmwoYEludmFsaWQgY2FsbGJhY2sgVVJMLiBSZWNlaXZlZDogJHtjYWxsYmFja1VybENvb2tpZX1gKTtcbiAgICB9XG4gICAgLy8gS2VlcCB0cmFjayBvZiB3ZWJhdXRobiBwcm92aWRlcnMgdGhhdCB1c2UgY29uZGl0aW9uYWwgVUlcbiAgICBsZXQgaGFzQ29uZGl0aW9uYWxVSVByb3ZpZGVyID0gZmFsc2U7XG4gICAgZm9yIChjb25zdCBwIG9mIG9wdGlvbnMucHJvdmlkZXJzKSB7XG4gICAgICAgIGNvbnN0IHByb3ZpZGVyID0gdHlwZW9mIHAgPT09IFwiZnVuY3Rpb25cIiA/IHAoKSA6IHA7XG4gICAgICAgIGlmICgocHJvdmlkZXIudHlwZSA9PT0gXCJvYXV0aFwiIHx8IHByb3ZpZGVyLnR5cGUgPT09IFwib2lkY1wiKSAmJlxuICAgICAgICAgICAgIShwcm92aWRlci5pc3N1ZXIgPz8gcHJvdmlkZXIub3B0aW9ucz8uaXNzdWVyKSkge1xuICAgICAgICAgICAgY29uc3QgeyBhdXRob3JpemF0aW9uOiBhLCB0b2tlbjogdCwgdXNlcmluZm86IHUgfSA9IHByb3ZpZGVyO1xuICAgICAgICAgICAgbGV0IGtleTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYSAhPT0gXCJzdHJpbmdcIiAmJiAhYT8udXJsKVxuICAgICAgICAgICAgICAgIGtleSA9IFwiYXV0aG9yaXphdGlvblwiO1xuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHQgIT09IFwic3RyaW5nXCIgJiYgIXQ/LnVybClcbiAgICAgICAgICAgICAgICBrZXkgPSBcInRva2VuXCI7XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgdSAhPT0gXCJzdHJpbmdcIiAmJiAhdT8udXJsKVxuICAgICAgICAgICAgICAgIGtleSA9IFwidXNlcmluZm9cIjtcbiAgICAgICAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEludmFsaWRFbmRwb2ludHMoYFByb3ZpZGVyIFwiJHtwcm92aWRlci5pZH1cIiBpcyBtaXNzaW5nIGJvdGggXFxgaXNzdWVyXFxgIGFuZCBcXGAke2tleX1cXGAgZW5kcG9pbnQgY29uZmlnLiBBdCBsZWFzdCBvbmUgb2YgdGhlbSBpcyByZXF1aXJlZC5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvdmlkZXIudHlwZSA9PT0gXCJjcmVkZW50aWFsc1wiKVxuICAgICAgICAgICAgaGFzQ3JlZGVudGlhbHMgPSB0cnVlO1xuICAgICAgICBlbHNlIGlmIChwcm92aWRlci50eXBlID09PSBcImVtYWlsXCIpXG4gICAgICAgICAgICBoYXNFbWFpbCA9IHRydWU7XG4gICAgICAgIGVsc2UgaWYgKHByb3ZpZGVyLnR5cGUgPT09IFwid2ViYXV0aG5cIikge1xuICAgICAgICAgICAgaGFzV2ViQXV0aG4gPSB0cnVlO1xuICAgICAgICAgICAgLy8gVmFsaWRhdGUgc2ltcGxlV2ViQXV0aG5Ccm93c2VyVmVyc2lvblxuICAgICAgICAgICAgaWYgKHByb3ZpZGVyLnNpbXBsZVdlYkF1dGhuQnJvd3NlclZlcnNpb24gJiYgIWlzU2VtdmVyU3RyaW5nKHByb3ZpZGVyLnNpbXBsZVdlYkF1dGhuQnJvd3NlclZlcnNpb24pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBdXRoRXJyb3IoYEludmFsaWQgcHJvdmlkZXIgY29uZmlnIGZvciBcIiR7cHJvdmlkZXIuaWR9XCI6IHNpbXBsZVdlYkF1dGhuQnJvd3NlclZlcnNpb24gXCIke3Byb3ZpZGVyLnNpbXBsZVdlYkF1dGhuQnJvd3NlclZlcnNpb259XCIgbXVzdCBiZSBhIHZhbGlkIHNlbXZlciBzdHJpbmcuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJvdmlkZXIuZW5hYmxlQ29uZGl0aW9uYWxVSSkge1xuICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSBvbmx5IG9uZSB3ZWJhdXRobiBwcm92aWRlciBoYXMgXCJlbmFibGVDb25kaXRpb25hbFVJXCIgc2V0IHRvIHRydWVcbiAgICAgICAgICAgICAgICBpZiAoaGFzQ29uZGl0aW9uYWxVSVByb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRHVwbGljYXRlQ29uZGl0aW9uYWxVSShgTXVsdGlwbGUgd2ViYXV0aG4gcHJvdmlkZXJzIGhhdmUgJ2VuYWJsZUNvbmRpdGlvbmFsVUknIHNldCB0byBUcnVlLiBPbmx5IG9uZSBwcm92aWRlciBjYW4gaGF2ZSB0aGlzIG9wdGlvbiBlbmFibGVkIGF0IGEgdGltZS5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaGFzQ29uZGl0aW9uYWxVSVByb3ZpZGVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgYXQgbGVhc3Qgb25lIGZvcm1GaWVsZCBoYXMgXCJ3ZWJhdXRoblwiIGluIGl0cyBhdXRvY29tcGxldGUgcGFyYW1cbiAgICAgICAgICAgICAgICBjb25zdCBoYXNXZWJhdXRobkZvcm1GaWVsZCA9IE9iamVjdC52YWx1ZXMocHJvdmlkZXIuZm9ybUZpZWxkcykuc29tZSgoZikgPT4gZi5hdXRvY29tcGxldGUgJiYgZi5hdXRvY29tcGxldGUudG9TdHJpbmcoKS5pbmRleE9mKFwid2ViYXV0aG5cIikgPiAtMSk7XG4gICAgICAgICAgICAgICAgaWYgKCFoYXNXZWJhdXRobkZvcm1GaWVsZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IE1pc3NpbmdXZWJBdXRobkF1dG9jb21wbGV0ZShgUHJvdmlkZXIgXCIke3Byb3ZpZGVyLmlkfVwiIGhhcyAnZW5hYmxlQ29uZGl0aW9uYWxVSScgc2V0IHRvIFRydWUsIGJ1dCBub25lIG9mIGl0cyBmb3JtRmllbGRzIGhhdmUgJ3dlYmF1dGhuJyBpbiB0aGVpciBhdXRvY29tcGxldGUgcGFyYW0uYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChoYXNDcmVkZW50aWFscykge1xuICAgICAgICBjb25zdCBkYlN0cmF0ZWd5ID0gb3B0aW9ucy5zZXNzaW9uPy5zdHJhdGVneSA9PT0gXCJkYXRhYmFzZVwiO1xuICAgICAgICBjb25zdCBvbmx5Q3JlZGVudGlhbHMgPSAhb3B0aW9ucy5wcm92aWRlcnMuc29tZSgocCkgPT4gKHR5cGVvZiBwID09PSBcImZ1bmN0aW9uXCIgPyBwKCkgOiBwKS50eXBlICE9PSBcImNyZWRlbnRpYWxzXCIpO1xuICAgICAgICBpZiAoZGJTdHJhdGVneSAmJiBvbmx5Q3JlZGVudGlhbHMpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVW5zdXBwb3J0ZWRTdHJhdGVneShcIlNpZ25pbmcgaW4gd2l0aCBjcmVkZW50aWFscyBvbmx5IHN1cHBvcnRlZCBpZiBKV1Qgc3RyYXRlZ3kgaXMgZW5hYmxlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjcmVkZW50aWFsc05vQXV0aG9yaXplID0gb3B0aW9ucy5wcm92aWRlcnMuc29tZSgocCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJvdmlkZXIgPSB0eXBlb2YgcCA9PT0gXCJmdW5jdGlvblwiID8gcCgpIDogcDtcbiAgICAgICAgICAgIHJldHVybiBwcm92aWRlci50eXBlID09PSBcImNyZWRlbnRpYWxzXCIgJiYgIXByb3ZpZGVyLmF1dGhvcml6ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChjcmVkZW50aWFsc05vQXV0aG9yaXplKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1pc3NpbmdBdXRob3JpemUoXCJNdXN0IGRlZmluZSBhbiBhdXRob3JpemUoKSBoYW5kbGVyIHRvIHVzZSBjcmVkZW50aWFscyBhdXRoZW50aWNhdGlvbiBwcm92aWRlclwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB7IGFkYXB0ZXIsIHNlc3Npb24gfSA9IG9wdGlvbnM7XG4gICAgbGV0IHJlcXVpcmVkTWV0aG9kcyA9IFtdO1xuICAgIGlmIChoYXNFbWFpbCB8fCBzZXNzaW9uPy5zdHJhdGVneSA9PT0gXCJkYXRhYmFzZVwiIHx8ICghc2Vzc2lvbj8uc3RyYXRlZ3kgJiYgYWRhcHRlcikpIHtcbiAgICAgICAgaWYgKGhhc0VtYWlsKSB7XG4gICAgICAgICAgICBpZiAoIWFkYXB0ZXIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBNaXNzaW5nQWRhcHRlcihcIkVtYWlsIGxvZ2luIHJlcXVpcmVzIGFuIGFkYXB0ZXIuXCIpO1xuICAgICAgICAgICAgcmVxdWlyZWRNZXRob2RzLnB1c2goLi4uZW1haWxNZXRob2RzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghYWRhcHRlcilcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IE1pc3NpbmdBZGFwdGVyKFwiRGF0YWJhc2Ugc2Vzc2lvbiByZXF1aXJlcyBhbiBhZGFwdGVyLlwiKTtcbiAgICAgICAgICAgIHJlcXVpcmVkTWV0aG9kcy5wdXNoKC4uLnNlc3Npb25NZXRob2RzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaGFzV2ViQXV0aG4pIHtcbiAgICAgICAgLy8gTG9nIGV4cGVyaW1lbnRhbCB3YXJuaW5nXG4gICAgICAgIGlmIChvcHRpb25zLmV4cGVyaW1lbnRhbD8uZW5hYmxlV2ViQXV0aG4pIHtcbiAgICAgICAgICAgIHdhcm5pbmdzLnB1c2goXCJleHBlcmltZW50YWwtd2ViYXV0aG5cIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEV4cGVyaW1lbnRhbEZlYXR1cmVOb3RFbmFibGVkKFwiV2ViQXV0aG4gaXMgYW4gZXhwZXJpbWVudGFsIGZlYXR1cmUuIFRvIGVuYWJsZSBpdCwgc2V0IGBleHBlcmltZW50YWwuZW5hYmxlV2ViQXV0aG5gIHRvIGB0cnVlYCBpbiB5b3VyIGNvbmZpZy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhZGFwdGVyKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBNaXNzaW5nQWRhcHRlcihcIldlYkF1dGhuIHJlcXVpcmVzIGFuIGFkYXB0ZXIuXCIpO1xuICAgICAgICByZXF1aXJlZE1ldGhvZHMucHVzaCguLi53ZWJhdXRobk1ldGhvZHMpO1xuICAgIH1cbiAgICBpZiAoYWRhcHRlcikge1xuICAgICAgICBjb25zdCBtaXNzaW5nID0gcmVxdWlyZWRNZXRob2RzLmZpbHRlcigobSkgPT4gIShtIGluIGFkYXB0ZXIpKTtcbiAgICAgICAgaWYgKG1pc3NpbmcubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1pc3NpbmdBZGFwdGVyTWV0aG9kcyhgUmVxdWlyZWQgYWRhcHRlciBtZXRob2RzIHdlcmUgbWlzc2luZzogJHttaXNzaW5nLmpvaW4oXCIsIFwiKX1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXdhcm5lZClcbiAgICAgICAgd2FybmVkID0gdHJ1ZTtcbiAgICByZXR1cm4gd2FybmluZ3M7XG59XG4iXSwibmFtZXMiOlsiZGVmYXVsdENvb2tpZXMiLCJBdXRoRXJyb3IiLCJEdXBsaWNhdGVDb25kaXRpb25hbFVJIiwiRXhwZXJpbWVudGFsRmVhdHVyZU5vdEVuYWJsZWQiLCJJbnZhbGlkQ2FsbGJhY2tVcmwiLCJJbnZhbGlkRW5kcG9pbnRzIiwiTWlzc2luZ0FkYXB0ZXIiLCJNaXNzaW5nQWRhcHRlck1ldGhvZHMiLCJNaXNzaW5nQXV0aG9yaXplIiwiTWlzc2luZ1NlY3JldCIsIk1pc3NpbmdXZWJBdXRobkF1dG9jb21wbGV0ZSIsIlVuc3VwcG9ydGVkU3RyYXRlZ3kiLCJVbnRydXN0ZWRIb3N0Iiwid2FybmVkIiwiaXNWYWxpZEh0dHBVcmwiLCJ1cmwiLCJiYXNlVXJsIiwidGVzdCIsIlVSTCIsInN0YXJ0c1dpdGgiLCJ1bmRlZmluZWQiLCJwcm90b2NvbCIsImlzU2VtdmVyU3RyaW5nIiwidmVyc2lvbiIsImhhc0NyZWRlbnRpYWxzIiwiaGFzRW1haWwiLCJoYXNXZWJBdXRobiIsImVtYWlsTWV0aG9kcyIsInNlc3Npb25NZXRob2RzIiwid2ViYXV0aG5NZXRob2RzIiwiYXNzZXJ0Q29uZmlnIiwicmVxdWVzdCIsIm9wdGlvbnMiLCJ3YXJuaW5ncyIsImRlYnVnIiwicHVzaCIsInRydXN0SG9zdCIsInNlY3JldCIsImNhbGxiYWNrVXJsUGFyYW0iLCJxdWVyeSIsImNhbGxiYWNrVXJsIiwib3JpZ2luIiwiZGVmYXVsdENhbGxiYWNrVXJsIiwidXNlU2VjdXJlQ29va2llcyIsImNhbGxiYWNrVXJsQ29va2llIiwiY29va2llcyIsIm5hbWUiLCJoYXNDb25kaXRpb25hbFVJUHJvdmlkZXIiLCJwIiwicHJvdmlkZXJzIiwicHJvdmlkZXIiLCJ0eXBlIiwiaXNzdWVyIiwiYXV0aG9yaXphdGlvbiIsImEiLCJ0b2tlbiIsInQiLCJ1c2VyaW5mbyIsInUiLCJrZXkiLCJpZCIsInNpbXBsZVdlYkF1dGhuQnJvd3NlclZlcnNpb24iLCJlbmFibGVDb25kaXRpb25hbFVJIiwiaGFzV2ViYXV0aG5Gb3JtRmllbGQiLCJPYmplY3QiLCJ2YWx1ZXMiLCJmb3JtRmllbGRzIiwic29tZSIsImYiLCJhdXRvY29tcGxldGUiLCJ0b1N0cmluZyIsImluZGV4T2YiLCJkYlN0cmF0ZWd5Iiwic2Vzc2lvbiIsInN0cmF0ZWd5Iiwib25seUNyZWRlbnRpYWxzIiwiY3JlZGVudGlhbHNOb0F1dGhvcml6ZSIsImF1dGhvcml6ZSIsImFkYXB0ZXIiLCJyZXF1aXJlZE1ldGhvZHMiLCJleHBlcmltZW50YWwiLCJlbmFibGVXZWJBdXRobiIsIm1pc3NpbmciLCJmaWx0ZXIiLCJtIiwibGVuZ3RoIiwiam9pbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/lib/utils/assert.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/lib/utils/assert.js":
/*!*****************************************************!*\
  !*** ./node_modules/@auth/core/lib/utils/assert.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assertConfig: () => (/* binding */ assertConfig)\n/* harmony export */ });\n/* harmony import */ var _cookie_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cookie.js */ \"(rsc)/./node_modules/@auth/core/lib/utils/cookie.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../errors.js */ \"(rsc)/./node_modules/@auth/core/errors.js\");\n\n\nlet warned = false;\nfunction isValidHttpUrl(url, baseUrl) {\n    try {\n        return /^https?:/.test(new URL(url, url.startsWith(\"/\") ? baseUrl : undefined).protocol);\n    } catch  {\n        return false;\n    }\n}\nfunction isSemverString(version) {\n    return /^v\\d+(?:\\.\\d+){0,2}$/.test(version);\n}\nlet hasCredentials = false;\nlet hasEmail = false;\nlet hasWebAuthn = false;\nconst emailMethods = [\n    \"createVerificationToken\",\n    \"useVerificationToken\",\n    \"getUserByEmail\"\n];\nconst sessionMethods = [\n    \"createUser\",\n    \"getUser\",\n    \"getUserByEmail\",\n    \"getUserByAccount\",\n    \"updateUser\",\n    \"linkAccount\",\n    \"createSession\",\n    \"getSessionAndUser\",\n    \"updateSession\",\n    \"deleteSession\"\n];\nconst webauthnMethods = [\n    \"createUser\",\n    \"getUser\",\n    \"linkAccount\",\n    \"getAccount\",\n    \"getAuthenticator\",\n    \"createAuthenticator\",\n    \"listAuthenticatorsByUserId\",\n    \"updateAuthenticatorCounter\"\n];\n/**\n * Verify that the user configured Auth.js correctly.\n * Good place to mention deprecations as well.\n *\n * This is invoked before the init method, so default values are not available yet.\n */ function assertConfig(request, options) {\n    const { url } = request;\n    const warnings = [];\n    if (!warned && options.debug) warnings.push(\"debug-enabled\");\n    if (!options.trustHost) {\n        return new _errors_js__WEBPACK_IMPORTED_MODULE_1__.UntrustedHost(`Host must be trusted. URL was: ${request.url}`);\n    }\n    if (!options.secret) {\n        return new _errors_js__WEBPACK_IMPORTED_MODULE_1__.MissingSecret(\"Please define a `secret`.\");\n    }\n    const callbackUrlParam = request.query?.callbackUrl;\n    if (callbackUrlParam && !isValidHttpUrl(callbackUrlParam, url.origin)) {\n        return new _errors_js__WEBPACK_IMPORTED_MODULE_1__.InvalidCallbackUrl(`Invalid callback URL. Received: ${callbackUrlParam}`);\n    }\n    const { callbackUrl: defaultCallbackUrl } = (0,_cookie_js__WEBPACK_IMPORTED_MODULE_0__.defaultCookies)(options.useSecureCookies ?? url.protocol === \"https:\");\n    const callbackUrlCookie = request.cookies?.[options.cookies?.callbackUrl?.name ?? defaultCallbackUrl.name];\n    if (callbackUrlCookie && !isValidHttpUrl(callbackUrlCookie, url.origin)) {\n        return new _errors_js__WEBPACK_IMPORTED_MODULE_1__.InvalidCallbackUrl(`Invalid callback URL. Received: ${callbackUrlCookie}`);\n    }\n    // Keep track of webauthn providers that use conditional UI\n    let hasConditionalUIProvider = false;\n    for (const p of options.providers){\n        const provider = typeof p === \"function\" ? p() : p;\n        if ((provider.type === \"oauth\" || provider.type === \"oidc\") && !(provider.issuer ?? provider.options?.issuer)) {\n            const { authorization: a, token: t, userinfo: u } = provider;\n            let key;\n            if (typeof a !== \"string\" && !a?.url) key = \"authorization\";\n            else if (typeof t !== \"string\" && !t?.url) key = \"token\";\n            else if (typeof u !== \"string\" && !u?.url) key = \"userinfo\";\n            if (key) {\n                return new _errors_js__WEBPACK_IMPORTED_MODULE_1__.InvalidEndpoints(`Provider \"${provider.id}\" is missing both \\`issuer\\` and \\`${key}\\` endpoint config. At least one of them is required.`);\n            }\n        }\n        if (provider.type === \"credentials\") hasCredentials = true;\n        else if (provider.type === \"email\") hasEmail = true;\n        else if (provider.type === \"webauthn\") {\n            hasWebAuthn = true;\n            // Validate simpleWebAuthnBrowserVersion\n            if (provider.simpleWebAuthnBrowserVersion && !isSemverString(provider.simpleWebAuthnBrowserVersion)) {\n                return new _errors_js__WEBPACK_IMPORTED_MODULE_1__.AuthError(`Invalid provider config for \"${provider.id}\": simpleWebAuthnBrowserVersion \"${provider.simpleWebAuthnBrowserVersion}\" must be a valid semver string.`);\n            }\n            if (provider.enableConditionalUI) {\n                // Make sure only one webauthn provider has \"enableConditionalUI\" set to true\n                if (hasConditionalUIProvider) {\n                    return new _errors_js__WEBPACK_IMPORTED_MODULE_1__.DuplicateConditionalUI(`Multiple webauthn providers have 'enableConditionalUI' set to True. Only one provider can have this option enabled at a time.`);\n                }\n                hasConditionalUIProvider = true;\n                // Make sure at least one formField has \"webauthn\" in its autocomplete param\n                const hasWebauthnFormField = Object.values(provider.formFields).some((f)=>f.autocomplete && f.autocomplete.toString().indexOf(\"webauthn\") > -1);\n                if (!hasWebauthnFormField) {\n                    return new _errors_js__WEBPACK_IMPORTED_MODULE_1__.MissingWebAuthnAutocomplete(`Provider \"${provider.id}\" has 'enableConditionalUI' set to True, but none of its formFields have 'webauthn' in their autocomplete param.`);\n                }\n            }\n        }\n    }\n    if (hasCredentials) {\n        const dbStrategy = options.session?.strategy === \"database\";\n        const onlyCredentials = !options.providers.some((p)=>(typeof p === \"function\" ? p() : p).type !== \"credentials\");\n        if (dbStrategy && onlyCredentials) {\n            return new _errors_js__WEBPACK_IMPORTED_MODULE_1__.UnsupportedStrategy(\"Signing in with credentials only supported if JWT strategy is enabled\");\n        }\n        const credentialsNoAuthorize = options.providers.some((p)=>{\n            const provider = typeof p === \"function\" ? p() : p;\n            return provider.type === \"credentials\" && !provider.authorize;\n        });\n        if (credentialsNoAuthorize) {\n            return new _errors_js__WEBPACK_IMPORTED_MODULE_1__.MissingAuthorize(\"Must define an authorize() handler to use credentials authentication provider\");\n        }\n    }\n    const { adapter, session } = options;\n    let requiredMethods = [];\n    if (hasEmail || session?.strategy === \"database\" || !session?.strategy && adapter) {\n        if (hasEmail) {\n            if (!adapter) return new _errors_js__WEBPACK_IMPORTED_MODULE_1__.MissingAdapter(\"Email login requires an adapter.\");\n            requiredMethods.push(...emailMethods);\n        } else {\n            if (!adapter) return new _errors_js__WEBPACK_IMPORTED_MODULE_1__.MissingAdapter(\"Database session requires an adapter.\");\n            requiredMethods.push(...sessionMethods);\n        }\n    }\n    if (hasWebAuthn) {\n        // Log experimental warning\n        if (options.experimental?.enableWebAuthn) {\n            warnings.push(\"experimental-webauthn\");\n        } else {\n            return new _errors_js__WEBPACK_IMPORTED_MODULE_1__.ExperimentalFeatureNotEnabled(\"WebAuthn is an experimental feature. To enable it, set `experimental.enableWebAuthn` to `true` in your config.\");\n        }\n        if (!adapter) return new _errors_js__WEBPACK_IMPORTED_MODULE_1__.MissingAdapter(\"WebAuthn requires an adapter.\");\n        requiredMethods.push(...webauthnMethods);\n    }\n    if (adapter) {\n        const missing = requiredMethods.filter((m)=>!(m in adapter));\n        if (missing.length) {\n            return new _errors_js__WEBPACK_IMPORTED_MODULE_1__.MissingAdapterMethods(`Required adapter methods were missing: ${missing.join(\", \")}`);\n        }\n    }\n    if (!warned) warned = true;\n    return warnings;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvdXRpbHMvYXNzZXJ0LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2QztBQUNzTztBQUNuUixJQUFJYSxTQUFTO0FBQ2IsU0FBU0MsZUFBZUMsR0FBRyxFQUFFQyxPQUFPO0lBQ2hDLElBQUk7UUFDQSxPQUFPLFdBQVdDLElBQUksQ0FBQyxJQUFJQyxJQUFJSCxLQUFLQSxJQUFJSSxVQUFVLENBQUMsT0FBT0gsVUFBVUksV0FBV0MsUUFBUTtJQUMzRixFQUNBLE9BQU07UUFDRixPQUFPO0lBQ1g7QUFDSjtBQUNBLFNBQVNDLGVBQWVDLE9BQU87SUFDM0IsT0FBTyx1QkFBdUJOLElBQUksQ0FBQ007QUFDdkM7QUFDQSxJQUFJQyxpQkFBaUI7QUFDckIsSUFBSUMsV0FBVztBQUNmLElBQUlDLGNBQWM7QUFDbEIsTUFBTUMsZUFBZTtJQUNqQjtJQUNBO0lBQ0E7Q0FDSDtBQUNELE1BQU1DLGlCQUFpQjtJQUNuQjtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtDQUNIO0FBQ0QsTUFBTUMsa0JBQWtCO0lBQ3BCO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7Q0FDSDtBQUNEOzs7OztDQUtDLEdBQ00sU0FBU0MsYUFBYUMsT0FBTyxFQUFFQyxPQUFPO0lBQ3pDLE1BQU0sRUFBRWpCLEdBQUcsRUFBRSxHQUFHZ0I7SUFDaEIsTUFBTUUsV0FBVyxFQUFFO0lBQ25CLElBQUksQ0FBQ3BCLFVBQVVtQixRQUFRRSxLQUFLLEVBQ3hCRCxTQUFTRSxJQUFJLENBQUM7SUFDbEIsSUFBSSxDQUFDSCxRQUFRSSxTQUFTLEVBQUU7UUFDcEIsT0FBTyxJQUFJeEIscURBQWFBLENBQUMsQ0FBQywrQkFBK0IsRUFBRW1CLFFBQVFoQixHQUFHLENBQUMsQ0FBQztJQUM1RTtJQUNBLElBQUksQ0FBQ2lCLFFBQVFLLE1BQU0sRUFBRTtRQUNqQixPQUFPLElBQUk1QixxREFBYUEs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QUFPLElBQUloQyxxRUFBNkJBLENBQUM7UUFDN0M7UUFDQSxJQUFJLENBQUMyRSxTQUNELE9BQU8sSUFBSXhFLHNEQUFjQSxDQUFDO1FBQzlCeUUsZ0JBQWdCNUMsSUFBSSxJQUFJTjtJQUM1QjtJQUNBLElBQUlpRCxTQUFTO1FBQ1QsTUFBTUksVUFBVUgsZ0JBQWdCSSxNQUFNLENBQUMsQ0FBQ0MsSUFBTSxDQUFFQSxDQUFBQSxLQUFLTixPQUFNO1FBQzNELElBQUlJLFFBQVFHLE1BQU0sRUFBRTtZQUNoQixPQUFPLElBQUk5RSw2REFBcUJBLENBQUMsQ0FBQyx1Q0FBdUMsRUFBRTJFLFFBQVFJLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDbkc7SUFDSjtJQUNBLElBQUksQ0FBQ3pFLFFBQ0RBLFNBQVM7SUFDYixPQUFPb0I7QUFDWCIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtcngvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvdXRpbHMvYXNzZXJ0LmpzP2Q2ZjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVmYXVsdENvb2tpZXMgfSBmcm9tIFwiLi9jb29raWUuanNcIjtcbmltcG9ydCB7IEF1dGhFcnJvciwgRHVwbGljYXRlQ29uZGl0aW9uYWxVSSwgRXhwZXJpbWVudGFsRmVhdHVyZU5vdEVuYWJsZWQsIEludmFsaWRDYWxsYmFja1VybCwgSW52YWxpZEVuZHBvaW50cywgTWlzc2luZ0FkYXB0ZXIsIE1pc3NpbmdBZGFwdGVyTWV0aG9kcywgTWlzc2luZ0F1dGhvcml6ZSwgTWlzc2luZ1NlY3JldCwgTWlzc2luZ1dlYkF1dGhuQXV0b2NvbXBsZXRlLCBVbnN1cHBvcnRlZFN0cmF0ZWd5LCBVbnRydXN0ZWRIb3N0LCB9IGZyb20gXCIuLi8uLi9lcnJvcnMuanNcIjtcbmxldCB3YXJuZWQgPSBmYWxzZTtcbmZ1bmN0aW9uIGlzVmFsaWRIdHRwVXJsKHVybCwgYmFzZVVybCkge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiAvXmh0dHBzPzovLnRlc3QobmV3IFVSTCh1cmwsIHVybC5zdGFydHNXaXRoKFwiL1wiKSA/IGJhc2VVcmwgOiB1bmRlZmluZWQpLnByb3RvY29sKTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNTZW12ZXJTdHJpbmcodmVyc2lvbikge1xuICAgIHJldHVybiAvXnZcXGQrKD86XFwuXFxkKyl7MCwyfSQvLnRlc3QodmVyc2lvbik7XG59XG5sZXQgaGFzQ3JlZGVudGlhbHMgPSBmYWxzZTtcbmxldCBoYXNFbWFpbCA9IGZhbHNlO1xubGV0IGhhc1dlYkF1dGhuID0gZmFsc2U7XG5jb25zdCBlbWFpbE1ldGhvZHMgPSBbXG4gICAgXCJjcmVhdGVWZXJpZmljYXRpb25Ub2tlblwiLFxuICAgIFwidXNlVmVyaWZpY2F0aW9uVG9rZW5cIixcbiAgICBcImdldFVzZXJCeUVtYWlsXCIsXG5dO1xuY29uc3Qgc2Vzc2lvbk1ldGhvZHMgPSBbXG4gICAgXCJjcmVhdGVVc2VyXCIsXG4gICAgXCJnZXRVc2VyXCIsXG4gICAgXCJnZXRVc2VyQnlFbWFpbFwiLFxuICAgIFwiZ2V0VXNlckJ5QWNjb3VudFwiLFxuICAgIFwidXBkYXRlVXNlclwiLFxuICAgIFwibGlua0FjY291bnRcIixcbiAgICBcImNyZWF0ZVNlc3Npb25cIixcbiAgICBcImdldFNlc3Npb25BbmRVc2VyXCIsXG4gICAgXCJ1cGRhdGVTZXNzaW9uXCIsXG4gICAgXCJkZWxldGVTZXNzaW9uXCIsXG5dO1xuY29uc3Qgd2ViYXV0aG5NZXRob2RzID0gW1xuICAgIFwiY3JlYXRlVXNlclwiLFxuICAgIFwiZ2V0VXNlclwiLFxuICAgIFwibGlua0FjY291bnRcIixcbiAgICBcImdldEFjY291bnRcIixcbiAgICBcImdldEF1dGhlbnRpY2F0b3JcIixcbiAgICBcImNyZWF0ZUF1dGhlbnRpY2F0b3JcIixcbiAgICBcImxpc3RBdXRoZW50aWNhdG9yc0J5VXNlcklkXCIsXG4gICAgXCJ1cGRhdGVBdXRoZW50aWNhdG9yQ291bnRlclwiLFxuXTtcbi8qKlxuICogVmVyaWZ5IHRoYXQgdGhlIHVzZXIgY29uZmlndXJlZCBBdXRoLmpzIGNvcnJlY3RseS5cbiAqIEdvb2QgcGxhY2UgdG8gbWVudGlvbiBkZXByZWNhdGlvbnMgYXMgd2VsbC5cbiAqXG4gKiBUaGlzIGlzIGludm9rZWQgYmVmb3JlIHRoZSBpbml0IG1ldGhvZCwgc28gZGVmYXVsdCB2YWx1ZXMgYXJlIG5vdCBhdmFpbGFibGUgeWV0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0Q29uZmlnKHJlcXVlc3QsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IHVybCB9ID0gcmVxdWVzdDtcbiAgICBjb25zdCB3YXJuaW5ncyA9IFtdO1xuICAgIGlmICghd2FybmVkICYmIG9wdGlvbnMuZGVidWcpXG4gICAgICAgIHdhcm5pbmdzLnB1c2goXCJkZWJ1Zy1lbmFibGVkXCIpO1xuICAgIGlmICghb3B0aW9ucy50cnVzdEhvc3QpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVbnRydXN0ZWRIb3N0KGBIb3N0IG11c3QgYmUgdHJ1c3RlZC4gVVJMIHdhczogJHtyZXF1ZXN0LnVybH1gKTtcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zLnNlY3JldCkge1xuICAgICAgICByZXR1cm4gbmV3IE1pc3NpbmdTZWNyZXQoXCJQbGVhc2UgZGVmaW5lIGEgYHNlY3JldGAuXCIpO1xuICAgIH1cbiAgICBjb25zdCBjYWxsYmFja1VybFBhcmFtID0gcmVxdWVzdC5xdWVyeT8uY2FsbGJhY2tVcmw7XG4gICAgaWYgKGNhbGxiYWNrVXJsUGFyYW0gJiYgIWlzVmFsaWRIdHRwVXJsKGNhbGxiYWNrVXJsUGFyYW0sIHVybC5vcmlnaW4pKSB7XG4gICAgICAgIHJldHVybiBuZXcgSW52YWxpZENhbGxiYWNrVXJsKGBJbnZhbGlkIGNhbGxiYWNrIFVSTC4gUmVjZWl2ZWQ6ICR7Y2FsbGJhY2tVcmxQYXJhbX1gKTtcbiAgICB9XG4gICAgY29uc3QgeyBjYWxsYmFja1VybDogZGVmYXVsdENhbGxiYWNrVXJsIH0gPSBkZWZhdWx0Q29va2llcyhvcHRpb25zLnVzZVNlY3VyZUNvb2tpZXMgPz8gdXJsLnByb3RvY29sID09PSBcImh0dHBzOlwiKTtcbiAgICBjb25zdCBjYWxsYmFja1VybENvb2tpZSA9IHJlcXVlc3QuY29va2llcz8uW29wdGlvbnMuY29va2llcz8uY2FsbGJhY2tVcmw/Lm5hbWUgPz8gZGVmYXVsdENhbGxiYWNrVXJsLm5hbWVdO1xuICAgIGlmIChjYWxsYmFja1VybENvb2tpZSAmJiAhaXNWYWxpZEh0dHBVcmwoY2FsbGJhY2tVcmxDb29raWUsIHVybC5vcmlnaW4pKSB7XG4gICAgICAgIHJldHVybiBuZXcgSW52YWxpZENhbGxiYWNrVXJsKGBJbnZhbGlkIGNhbGxiYWNrIFVSTC4gUmVjZWl2ZWQ6ICR7Y2FsbGJhY2tVcmxDb29raWV9YCk7XG4gICAgfVxuICAgIC8vIEtlZXAgdHJhY2sgb2Ygd2ViYXV0aG4gcHJvdmlkZXJzIHRoYXQgdXNlIGNvbmRpdGlvbmFsIFVJXG4gICAgbGV0IGhhc0NvbmRpdGlvbmFsVUlQcm92aWRlciA9IGZhbHNlO1xuICAgIGZvciAoY29uc3QgcCBvZiBvcHRpb25zLnByb3ZpZGVycykge1xuICAgICAgICBjb25zdCBwcm92aWRlciA9IHR5cGVvZiBwID09PSBcImZ1bmN0aW9uXCIgPyBwKCkgOiBwO1xuICAgICAgICBpZiAoKHByb3ZpZGVyLnR5cGUgPT09IFwib2F1dGhcIiB8fCBwcm92aWRlci50eXBlID09PSBcIm9pZGNcIikgJiZcbiAgICAgICAgICAgICEocHJvdmlkZXIuaXNzdWVyID8/IHByb3ZpZGVyLm9wdGlvbnM/Lmlzc3VlcikpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgYXV0aG9yaXphdGlvbjogYSwgdG9rZW46IHQsIHVzZXJpbmZvOiB1IH0gPSBwcm92aWRlcjtcbiAgICAgICAgICAgIGxldCBrZXk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGEgIT09IFwic3RyaW5nXCIgJiYgIWE/LnVybClcbiAgICAgICAgICAgICAgICBrZXkgPSBcImF1dGhvcml6YXRpb25cIjtcbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiB0ICE9PSBcInN0cmluZ1wiICYmICF0Py51cmwpXG4gICAgICAgICAgICAgICAga2V5ID0gXCJ0b2tlblwiO1xuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHUgIT09IFwic3RyaW5nXCIgJiYgIXU/LnVybClcbiAgICAgICAgICAgICAgICBrZXkgPSBcInVzZXJpbmZvXCI7XG4gICAgICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnZhbGlkRW5kcG9pbnRzKGBQcm92aWRlciBcIiR7cHJvdmlkZXIuaWR9XCIgaXMgbWlzc2luZyBib3RoIFxcYGlzc3VlclxcYCBhbmQgXFxgJHtrZXl9XFxgIGVuZHBvaW50IGNvbmZpZy4gQXQgbGVhc3Qgb25lIG9mIHRoZW0gaXMgcmVxdWlyZWQuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3ZpZGVyLnR5cGUgPT09IFwiY3JlZGVudGlhbHNcIilcbiAgICAgICAgICAgIGhhc0NyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICAgICAgZWxzZSBpZiAocHJvdmlkZXIudHlwZSA9PT0gXCJlbWFpbFwiKVxuICAgICAgICAgICAgaGFzRW1haWwgPSB0cnVlO1xuICAgICAgICBlbHNlIGlmIChwcm92aWRlci50eXBlID09PSBcIndlYmF1dGhuXCIpIHtcbiAgICAgICAgICAgIGhhc1dlYkF1dGhuID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIFZhbGlkYXRlIHNpbXBsZVdlYkF1dGhuQnJvd3NlclZlcnNpb25cbiAgICAgICAgICAgIGlmIChwcm92aWRlci5zaW1wbGVXZWJBdXRobkJyb3dzZXJWZXJzaW9uICYmICFpc1NlbXZlclN0cmluZyhwcm92aWRlci5zaW1wbGVXZWJBdXRobkJyb3dzZXJWZXJzaW9uKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQXV0aEVycm9yKGBJbnZhbGlkIHByb3ZpZGVyIGNvbmZpZyBmb3IgXCIke3Byb3ZpZGVyLmlkfVwiOiBzaW1wbGVXZWJBdXRobkJyb3dzZXJWZXJzaW9uIFwiJHtwcm92aWRlci5zaW1wbGVXZWJBdXRobkJyb3dzZXJWZXJzaW9ufVwiIG11c3QgYmUgYSB2YWxpZCBzZW12ZXIgc3RyaW5nLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByb3ZpZGVyLmVuYWJsZUNvbmRpdGlvbmFsVUkpIHtcbiAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgb25seSBvbmUgd2ViYXV0aG4gcHJvdmlkZXIgaGFzIFwiZW5hYmxlQ29uZGl0aW9uYWxVSVwiIHNldCB0byB0cnVlXG4gICAgICAgICAgICAgICAgaWYgKGhhc0NvbmRpdGlvbmFsVUlQcm92aWRlcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IER1cGxpY2F0ZUNvbmRpdGlvbmFsVUkoYE11bHRpcGxlIHdlYmF1dGhuIHByb3ZpZGVycyBoYXZlICdlbmFibGVDb25kaXRpb25hbFVJJyBzZXQgdG8gVHJ1ZS4gT25seSBvbmUgcHJvdmlkZXIgY2FuIGhhdmUgdGhpcyBvcHRpb24gZW5hYmxlZCBhdCBhIHRpbWUuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhhc0NvbmRpdGlvbmFsVUlQcm92aWRlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIGF0IGxlYXN0IG9uZSBmb3JtRmllbGQgaGFzIFwid2ViYXV0aG5cIiBpbiBpdHMgYXV0b2NvbXBsZXRlIHBhcmFtXG4gICAgICAgICAgICAgICAgY29uc3QgaGFzV2ViYXV0aG5Gb3JtRmllbGQgPSBPYmplY3QudmFsdWVzKHByb3ZpZGVyLmZvcm1GaWVsZHMpLnNvbWUoKGYpID0+IGYuYXV0b2NvbXBsZXRlICYmIGYuYXV0b2NvbXBsZXRlLnRvU3RyaW5nKCkuaW5kZXhPZihcIndlYmF1dGhuXCIpID4gLTEpO1xuICAgICAgICAgICAgICAgIGlmICghaGFzV2ViYXV0aG5Gb3JtRmllbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBNaXNzaW5nV2ViQXV0aG5BdXRvY29tcGxldGUoYFByb3ZpZGVyIFwiJHtwcm92aWRlci5pZH1cIiBoYXMgJ2VuYWJsZUNvbmRpdGlvbmFsVUknIHNldCB0byBUcnVlLCBidXQgbm9uZSBvZiBpdHMgZm9ybUZpZWxkcyBoYXZlICd3ZWJhdXRobicgaW4gdGhlaXIgYXV0b2NvbXBsZXRlIHBhcmFtLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaGFzQ3JlZGVudGlhbHMpIHtcbiAgICAgICAgY29uc3QgZGJTdHJhdGVneSA9IG9wdGlvbnMuc2Vzc2lvbj8uc3RyYXRlZ3kgPT09IFwiZGF0YWJhc2VcIjtcbiAgICAgICAgY29uc3Qgb25seUNyZWRlbnRpYWxzID0gIW9wdGlvbnMucHJvdmlkZXJzLnNvbWUoKHApID0+ICh0eXBlb2YgcCA9PT0gXCJmdW5jdGlvblwiID8gcCgpIDogcCkudHlwZSAhPT0gXCJjcmVkZW50aWFsc1wiKTtcbiAgICAgICAgaWYgKGRiU3RyYXRlZ3kgJiYgb25seUNyZWRlbnRpYWxzKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFVuc3VwcG9ydGVkU3RyYXRlZ3koXCJTaWduaW5nIGluIHdpdGggY3JlZGVudGlhbHMgb25seSBzdXBwb3J0ZWQgaWYgSldUIHN0cmF0ZWd5IGlzIGVuYWJsZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3JlZGVudGlhbHNOb0F1dGhvcml6ZSA9IG9wdGlvbnMucHJvdmlkZXJzLnNvbWUoKHApID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByb3ZpZGVyID0gdHlwZW9mIHAgPT09IFwiZnVuY3Rpb25cIiA/IHAoKSA6IHA7XG4gICAgICAgICAgICByZXR1cm4gcHJvdmlkZXIudHlwZSA9PT0gXCJjcmVkZW50aWFsc1wiICYmICFwcm92aWRlci5hdXRob3JpemU7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY3JlZGVudGlhbHNOb0F1dGhvcml6ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBNaXNzaW5nQXV0aG9yaXplKFwiTXVzdCBkZWZpbmUgYW4gYXV0aG9yaXplKCkgaGFuZGxlciB0byB1c2UgY3JlZGVudGlhbHMgYXV0aGVudGljYXRpb24gcHJvdmlkZXJcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgeyBhZGFwdGVyLCBzZXNzaW9uIH0gPSBvcHRpb25zO1xuICAgIGxldCByZXF1aXJlZE1ldGhvZHMgPSBbXTtcbiAgICBpZiAoaGFzRW1haWwgfHwgc2Vzc2lvbj8uc3RyYXRlZ3kgPT09IFwiZGF0YWJhc2VcIiB8fCAoIXNlc3Npb24/LnN0cmF0ZWd5ICYmIGFkYXB0ZXIpKSB7XG4gICAgICAgIGlmIChoYXNFbWFpbCkge1xuICAgICAgICAgICAgaWYgKCFhZGFwdGVyKVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTWlzc2luZ0FkYXB0ZXIoXCJFbWFpbCBsb2dpbiByZXF1aXJlcyBhbiBhZGFwdGVyLlwiKTtcbiAgICAgICAgICAgIHJlcXVpcmVkTWV0aG9kcy5wdXNoKC4uLmVtYWlsTWV0aG9kcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoIWFkYXB0ZXIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBNaXNzaW5nQWRhcHRlcihcIkRhdGFiYXNlIHNlc3Npb24gcmVxdWlyZXMgYW4gYWRhcHRlci5cIik7XG4gICAgICAgICAgICByZXF1aXJlZE1ldGhvZHMucHVzaCguLi5zZXNzaW9uTWV0aG9kcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGhhc1dlYkF1dGhuKSB7XG4gICAgICAgIC8vIExvZyBleHBlcmltZW50YWwgd2FybmluZ1xuICAgICAgICBpZiAob3B0aW9ucy5leHBlcmltZW50YWw/LmVuYWJsZVdlYkF1dGhuKSB7XG4gICAgICAgICAgICB3YXJuaW5ncy5wdXNoKFwiZXhwZXJpbWVudGFsLXdlYmF1dGhuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBFeHBlcmltZW50YWxGZWF0dXJlTm90RW5hYmxlZChcIldlYkF1dGhuIGlzIGFuIGV4cGVyaW1lbnRhbCBmZWF0dXJlLiBUbyBlbmFibGUgaXQsIHNldCBgZXhwZXJpbWVudGFsLmVuYWJsZVdlYkF1dGhuYCB0byBgdHJ1ZWAgaW4geW91ciBjb25maWcuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYWRhcHRlcilcbiAgICAgICAgICAgIHJldHVybiBuZXcgTWlzc2luZ0FkYXB0ZXIoXCJXZWJBdXRobiByZXF1aXJlcyBhbiBhZGFwdGVyLlwiKTtcbiAgICAgICAgcmVxdWlyZWRNZXRob2RzLnB1c2goLi4ud2ViYXV0aG5NZXRob2RzKTtcbiAgICB9XG4gICAgaWYgKGFkYXB0ZXIpIHtcbiAgICAgICAgY29uc3QgbWlzc2luZyA9IHJlcXVpcmVkTWV0aG9kcy5maWx0ZXIoKG0pID0+ICEobSBpbiBhZGFwdGVyKSk7XG4gICAgICAgIGlmIChtaXNzaW5nLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBNaXNzaW5nQWRhcHRlck1ldGhvZHMoYFJlcXVpcmVkIGFkYXB0ZXIgbWV0aG9kcyB3ZXJlIG1pc3Npbmc6ICR7bWlzc2luZy5qb2luKFwiLCBcIil9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCF3YXJuZWQpXG4gICAgICAgIHdhcm5lZCA9IHRydWU7XG4gICAgcmV0dXJuIHdhcm5pbmdzO1xufVxuIl0sIm5hbWVzIjpbImRlZmF1bHRDb29raWVzIiwiQXV0aEVycm9yIiwiRHVwbGljYXRlQ29uZGl0aW9uYWxVSSIsIkV4cGVyaW1lbnRhbEZlYXR1cmVOb3RFbmFibGVkIiwiSW52YWxpZENhbGxiYWNrVXJsIiwiSW52YWxpZEVuZHBvaW50cyIsIk1pc3NpbmdBZGFwdGVyIiwiTWlzc2luZ0FkYXB0ZXJNZXRob2RzIiwiTWlzc2luZ0F1dGhvcml6ZSIsIk1pc3NpbmdTZWNyZXQiLCJNaXNzaW5nV2ViQXV0aG5BdXRvY29tcGxldGUiLCJVbnN1cHBvcnRlZFN0cmF0ZWd5IiwiVW50cnVzdGVkSG9zdCIsIndhcm5lZCIsImlzVmFsaWRIdHRwVXJsIiwidXJsIiwiYmFzZVVybCIsInRlc3QiLCJVUkwiLCJzdGFydHNXaXRoIiwidW5kZWZpbmVkIiwicHJvdG9jb2wiLCJpc1NlbXZlclN0cmluZyIsInZlcnNpb24iLCJoYXNDcmVkZW50aWFscyIsImhhc0VtYWlsIiwiaGFzV2ViQXV0aG4iLCJlbWFpbE1ldGhvZHMiLCJzZXNzaW9uTWV0aG9kcyIsIndlYmF1dGhuTWV0aG9kcyIsImFzc2VydENvbmZpZyIsInJlcXVlc3QiLCJvcHRpb25zIiwid2FybmluZ3MiLCJkZWJ1ZyIsInB1c2giLCJ0cnVzdEhvc3QiLCJzZWNyZXQiLCJjYWxsYmFja1VybFBhcmFtIiwicXVlcnkiLCJjYWxsYmFja1VybCIsIm9yaWdpbiIsImRlZmF1bHRDYWxsYmFja1VybCIsInVzZVNlY3VyZUNvb2tpZXMiLCJjYWxsYmFja1VybENvb2tpZSIsImNvb2tpZXMiLCJuYW1lIiwiaGFzQ29uZGl0aW9uYWxVSVByb3ZpZGVyIiwicCIsInByb3ZpZGVycyIsInByb3ZpZGVyIiwidHlwZSIsImlzc3VlciIsImF1dGhvcml6YXRpb24iLCJhIiwidG9rZW4iLCJ0IiwidXNlcmluZm8iLCJ1Iiwia2V5IiwiaWQiLCJzaW1wbGVXZWJBdXRobkJyb3dzZXJWZXJzaW9uIiwiZW5hYmxlQ29uZGl0aW9uYWxVSSIsImhhc1dlYmF1dGhuRm9ybUZpZWxkIiwiT2JqZWN0IiwidmFsdWVzIiwiZm9ybUZpZWxkcyIsInNvbWUiLCJmIiwiYXV0b2NvbXBsZXRlIiwidG9TdHJpbmciLCJpbmRleE9mIiwiZGJTdHJhdGVneSIsInNlc3Npb24iLCJzdHJhdGVneSIsIm9ubHlDcmVkZW50aWFscyIsImNyZWRlbnRpYWxzTm9BdXRob3JpemUiLCJhdXRob3JpemUiLCJhZGFwdGVyIiwicmVxdWlyZWRNZXRob2RzIiwiZXhwZXJpbWVudGFsIiwiZW5hYmxlV2ViQXV0aG4iLCJtaXNzaW5nIiwiZmlsdGVyIiwibSIsImxlbmd0aCIsImpvaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/lib/utils/assert.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/lib/utils/callback-url.js":
/*!***********************************************************!*\
  !*** ./node_modules/@auth/core/lib/utils/callback-url.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createCallbackUrl: () => (/* binding */ createCallbackUrl)\n/* harmony export */ });\n/**\n * Get callback URL based on query param / cookie + validation,\n * and add it to `req.options.callbackUrl`.\n */ async function createCallbackUrl({ options, paramValue, cookieValue }) {\n    const { url, callbacks } = options;\n    let callbackUrl = url.origin;\n    if (paramValue) {\n        // If callbackUrl form field or query parameter is passed try to use it if allowed\n        callbackUrl = await callbacks.redirect({\n            url: paramValue,\n            baseUrl: url.origin\n        });\n    } else if (cookieValue) {\n        // If no callbackUrl specified, try using the value from the cookie if allowed\n        callbackUrl = await callbacks.redirect({\n            url: cookieValue,\n            baseUrl: url.origin\n        });\n    }\n    return {\n        callbackUrl,\n        // Save callback URL in a cookie so that it can be used for subsequent requests in signin/signout/callback flow\n        callbackUrlCookie: callbackUrl !== cookieValue ? callbackUrl : undefined\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi91dGlscy9jYWxsYmFjay11cmwuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOzs7Q0FHQyxHQUNNLGVBQWVBLGtCQUFrQixFQUFFQyxPQUFPLEVBQUVDLFVBQVUsRUFBRUMsV0FBVyxFQUFHO0lBQ3pFLE1BQU0sRUFBRUMsR0FBRyxFQUFFQyxTQUFTLEVBQUUsR0FBR0o7SUFDM0IsSUFBSUssY0FBY0YsSUFBSUcsTUFBTTtJQUM1QixJQUFJTCxZQUFZO1FBQ1osa0ZBQWtGO1FBQ2xGSSxjQUFjLE1BQU1ELFVBQVVHLFFBQVEsQ0FBQztZQUNuQ0osS0FBS0Y7WUFDTE8sU0FBU0wsSUFBSUcsTUFBTTtRQUN2QjtJQUNKLE9BQ0ssSUFBSUosYUFBYTtRQUNsQiw4RUFBOEU7UUFDOUVHLGNBQWMsTUFBTUQsVUFBVUcsUUFBUSxDQUFDO1lBQ25DSixLQUFLRDtZQUNMTSxTQUFTTCxJQUFJRyxNQUFNO1FBQ3ZCO0lBQ0o7SUFDQSxPQUFPO1FBQ0hEO1FBQ0EsK0dBQStHO1FBQy9HSSxtQkFBbUJKLGdCQUFnQkgsY0FBY0csY0FBY0s7SUFDbkU7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtcngvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvdXRpbHMvY2FsbGJhY2stdXJsLmpzPzY2N2IiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBHZXQgY2FsbGJhY2sgVVJMIGJhc2VkIG9uIHF1ZXJ5IHBhcmFtIC8gY29va2llICsgdmFsaWRhdGlvbixcbiAqIGFuZCBhZGQgaXQgdG8gYHJlcS5vcHRpb25zLmNhbGxiYWNrVXJsYC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUNhbGxiYWNrVXJsKHsgb3B0aW9ucywgcGFyYW1WYWx1ZSwgY29va2llVmFsdWUsIH0pIHtcbiAgICBjb25zdCB7IHVybCwgY2FsbGJhY2tzIH0gPSBvcHRpb25zO1xuICAgIGxldCBjYWxsYmFja1VybCA9IHVybC5vcmlnaW47XG4gICAgaWYgKHBhcmFtVmFsdWUpIHtcbiAgICAgICAgLy8gSWYgY2FsbGJhY2tVcmwgZm9ybSBmaWVsZCBvciBxdWVyeSBwYXJhbWV0ZXIgaXMgcGFzc2VkIHRyeSB0byB1c2UgaXQgaWYgYWxsb3dlZFxuICAgICAgICBjYWxsYmFja1VybCA9IGF3YWl0IGNhbGxiYWNrcy5yZWRpcmVjdCh7XG4gICAgICAgICAgICB1cmw6IHBhcmFtVmFsdWUsXG4gICAgICAgICAgICBiYXNlVXJsOiB1cmwub3JpZ2luLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY29va2llVmFsdWUpIHtcbiAgICAgICAgLy8gSWYgbm8gY2FsbGJhY2tVcmwgc3BlY2lmaWVkLCB0cnkgdXNpbmcgdGhlIHZhbHVlIGZyb20gdGhlIGNvb2tpZSBpZiBhbGxvd2VkXG4gICAgICAgIGNhbGxiYWNrVXJsID0gYXdhaXQgY2FsbGJhY2tzLnJlZGlyZWN0KHtcbiAgICAgICAgICAgIHVybDogY29va2llVmFsdWUsXG4gICAgICAgICAgICBiYXNlVXJsOiB1cmwub3JpZ2luLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2FsbGJhY2tVcmwsXG4gICAgICAgIC8vIFNhdmUgY2FsbGJhY2sgVVJMIGluIGEgY29va2llIHNvIHRoYXQgaXQgY2FuIGJlIHVzZWQgZm9yIHN1YnNlcXVlbnQgcmVxdWVzdHMgaW4gc2lnbmluL3NpZ25vdXQvY2FsbGJhY2sgZmxvd1xuICAgICAgICBjYWxsYmFja1VybENvb2tpZTogY2FsbGJhY2tVcmwgIT09IGNvb2tpZVZhbHVlID8gY2FsbGJhY2tVcmwgOiB1bmRlZmluZWQsXG4gICAgfTtcbn1cbiJdLCJuYW1lcyI6WyJjcmVhdGVDYWxsYmFja1VybCIsIm9wdGlvbnMiLCJwYXJhbVZhbHVlIiwiY29va2llVmFsdWUiLCJ1cmwiLCJjYWxsYmFja3MiLCJjYWxsYmFja1VybCIsIm9yaWdpbiIsInJlZGlyZWN0IiwiYmFzZVVybCIsImNhbGxiYWNrVXJsQ29va2llIiwidW5kZWZpbmVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/lib/utils/callback-url.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/lib/utils/callback-url.js":
/*!***********************************************************!*\
  !*** ./node_modules/@auth/core/lib/utils/callback-url.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createCallbackUrl: () => (/* binding */ createCallbackUrl)\n/* harmony export */ });\n/**\n * Get callback URL based on query param / cookie + validation,\n * and add it to `req.options.callbackUrl`.\n */ async function createCallbackUrl({ options, paramValue, cookieValue }) {\n    const { url, callbacks } = options;\n    let callbackUrl = url.origin;\n    if (paramValue) {\n        // If callbackUrl form field or query parameter is passed try to use it if allowed\n        callbackUrl = await callbacks.redirect({\n            url: paramValue,\n            baseUrl: url.origin\n        });\n    } else if (cookieValue) {\n        // If no callbackUrl specified, try using the value from the cookie if allowed\n        callbackUrl = await callbacks.redirect({\n            url: cookieValue,\n            baseUrl: url.origin\n        });\n    }\n    return {\n        callbackUrl,\n        // Save callback URL in a cookie so that it can be used for subsequent requests in signin/signout/callback flow\n        callbackUrlCookie: callbackUrl !== cookieValue ? callbackUrl : undefined\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvdXRpbHMvY2FsbGJhY2stdXJsLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7O0NBR0MsR0FDTSxlQUFlQSxrQkFBa0IsRUFBRUMsT0FBTyxFQUFFQyxVQUFVLEVBQUVDLFdBQVcsRUFBRztJQUN6RSxNQUFNLEVBQUVDLEdBQUcsRUFBRUMsU0FBUyxFQUFFLEdBQUdKO0lBQzNCLElBQUlLLGNBQWNGLElBQUlHLE1BQU07SUFDNUIsSUFBSUwsWUFBWTtRQUNaLGtGQUFrRjtRQUNsRkksY0FBYyxNQUFNRCxVQUFVRyxRQUFRLENBQUM7WUFDbkNKLEtBQUtGO1lBQ0xPLFNBQVNMLElBQUlHLE1BQU07UUFDdkI7SUFDSixPQUNLLElBQUlKLGFBQWE7UUFDbEIsOEVBQThFO1FBQzlFRyxjQUFjLE1BQU1ELFVBQVVHLFFBQVEsQ0FBQztZQUNuQ0osS0FBS0Q7WUFDTE0sU0FBU0wsSUFBSUcsTUFBTTtRQUN2QjtJQUNKO0lBQ0EsT0FBTztRQUNIRDtRQUNBLCtHQUErRztRQUMvR0ksbUJBQW1CSixnQkFBZ0JILGNBQWNHLGNBQWNLO0lBQ25FO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LXJ4Ly4vbm9kZV9tb2R1bGVzL0BhdXRoL2NvcmUvbGliL3V0aWxzL2NhbGxiYWNrLXVybC5qcz82NjdiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2V0IGNhbGxiYWNrIFVSTCBiYXNlZCBvbiBxdWVyeSBwYXJhbSAvIGNvb2tpZSArIHZhbGlkYXRpb24sXG4gKiBhbmQgYWRkIGl0IHRvIGByZXEub3B0aW9ucy5jYWxsYmFja1VybGAuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVDYWxsYmFja1VybCh7IG9wdGlvbnMsIHBhcmFtVmFsdWUsIGNvb2tpZVZhbHVlLCB9KSB7XG4gICAgY29uc3QgeyB1cmwsIGNhbGxiYWNrcyB9ID0gb3B0aW9ucztcbiAgICBsZXQgY2FsbGJhY2tVcmwgPSB1cmwub3JpZ2luO1xuICAgIGlmIChwYXJhbVZhbHVlKSB7XG4gICAgICAgIC8vIElmIGNhbGxiYWNrVXJsIGZvcm0gZmllbGQgb3IgcXVlcnkgcGFyYW1ldGVyIGlzIHBhc3NlZCB0cnkgdG8gdXNlIGl0IGlmIGFsbG93ZWRcbiAgICAgICAgY2FsbGJhY2tVcmwgPSBhd2FpdCBjYWxsYmFja3MucmVkaXJlY3Qoe1xuICAgICAgICAgICAgdXJsOiBwYXJhbVZhbHVlLFxuICAgICAgICAgICAgYmFzZVVybDogdXJsLm9yaWdpbixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNvb2tpZVZhbHVlKSB7XG4gICAgICAgIC8vIElmIG5vIGNhbGxiYWNrVXJsIHNwZWNpZmllZCwgdHJ5IHVzaW5nIHRoZSB2YWx1ZSBmcm9tIHRoZSBjb29raWUgaWYgYWxsb3dlZFxuICAgICAgICBjYWxsYmFja1VybCA9IGF3YWl0IGNhbGxiYWNrcy5yZWRpcmVjdCh7XG4gICAgICAgICAgICB1cmw6IGNvb2tpZVZhbHVlLFxuICAgICAgICAgICAgYmFzZVVybDogdXJsLm9yaWdpbixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGNhbGxiYWNrVXJsLFxuICAgICAgICAvLyBTYXZlIGNhbGxiYWNrIFVSTCBpbiBhIGNvb2tpZSBzbyB0aGF0IGl0IGNhbiBiZSB1c2VkIGZvciBzdWJzZXF1ZW50IHJlcXVlc3RzIGluIHNpZ25pbi9zaWdub3V0L2NhbGxiYWNrIGZsb3dcbiAgICAgICAgY2FsbGJhY2tVcmxDb29raWU6IGNhbGxiYWNrVXJsICE9PSBjb29raWVWYWx1ZSA/IGNhbGxiYWNrVXJsIDogdW5kZWZpbmVkLFxuICAgIH07XG59XG4iXSwibmFtZXMiOlsiY3JlYXRlQ2FsbGJhY2tVcmwiLCJvcHRpb25zIiwicGFyYW1WYWx1ZSIsImNvb2tpZVZhbHVlIiwidXJsIiwiY2FsbGJhY2tzIiwiY2FsbGJhY2tVcmwiLCJvcmlnaW4iLCJyZWRpcmVjdCIsImJhc2VVcmwiLCJjYWxsYmFja1VybENvb2tpZSIsInVuZGVmaW5lZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/lib/utils/callback-url.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/lib/utils/cookie.js":
/*!*****************************************************!*\
  !*** ./node_modules/@auth/core/lib/utils/cookie.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SessionStore: () => (/* binding */ SessionStore),\n/* harmony export */   defaultCookies: () => (/* binding */ defaultCookies)\n/* harmony export */ });\nvar __classPrivateFieldSet = undefined && undefined.__classPrivateFieldSet || function(receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet = undefined && undefined.__classPrivateFieldGet || function(receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _SessionStore_instances, _SessionStore_chunks, _SessionStore_option, _SessionStore_logger, _SessionStore_chunk, _SessionStore_clean;\n// Uncomment to recalculate the estimated size\n// of an empty session cookie\n// import { serialize } from \"cookie\"\n// console.log(\n//   \"Cookie estimated to be \",\n//   serialize(`__Secure.authjs.session-token.0`, \"\", {\n//     expires: new Date(),\n//     httpOnly: true,\n//     maxAge: Number.MAX_SAFE_INTEGER,\n//     path: \"/\",\n//     sameSite: \"strict\",\n//     secure: true,\n//     domain: \"example.com\",\n//   }).length,\n//   \" bytes\"\n// )\nconst ALLOWED_COOKIE_SIZE = 4096;\n// Based on commented out section above\nconst ESTIMATED_EMPTY_COOKIE_SIZE = 160;\nconst CHUNK_SIZE = ALLOWED_COOKIE_SIZE - ESTIMATED_EMPTY_COOKIE_SIZE;\n/**\n * Use secure cookies if the site uses HTTPS\n * This being conditional allows cookies to work non-HTTPS development URLs\n * Honour secure cookie option, which sets 'secure' and also adds '__Secure-'\n * prefix, but enable them by default if the site URL is HTTPS; but not for\n * non-HTTPS URLs like http://localhost which are used in development).\n * For more on prefixes see https://googlechrome.github.io/samples/cookie-prefixes/\n *\n * @TODO Review cookie settings (names, options)\n */ function defaultCookies(useSecureCookies) {\n    const cookiePrefix = useSecureCookies ? \"__Secure-\" : \"\";\n    return {\n        // default cookie options\n        sessionToken: {\n            name: `${cookiePrefix}authjs.session-token`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies\n            }\n        },\n        callbackUrl: {\n            name: `${cookiePrefix}authjs.callback-url`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies\n            }\n        },\n        csrfToken: {\n            // Default to __Host- for CSRF token for additional protection if using useSecureCookies\n            // NB: The `__Host-` prefix is stricter than the `__Secure-` prefix.\n            name: `${useSecureCookies ? \"__Host-\" : \"\"}authjs.csrf-token`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies\n            }\n        },\n        pkceCodeVerifier: {\n            name: `${cookiePrefix}authjs.pkce.code_verifier`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies,\n                maxAge: 60 * 15\n            }\n        },\n        state: {\n            name: `${cookiePrefix}authjs.state`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies,\n                maxAge: 60 * 15\n            }\n        },\n        nonce: {\n            name: `${cookiePrefix}authjs.nonce`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies\n            }\n        },\n        webauthnChallenge: {\n            name: `${cookiePrefix}authjs.challenge`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies,\n                maxAge: 60 * 15\n            }\n        }\n    };\n}\nclass SessionStore {\n    constructor(option, cookies, logger){\n        _SessionStore_instances.add(this);\n        _SessionStore_chunks.set(this, {});\n        _SessionStore_option.set(this, void 0);\n        _SessionStore_logger.set(this, void 0);\n        __classPrivateFieldSet(this, _SessionStore_logger, logger, \"f\");\n        __classPrivateFieldSet(this, _SessionStore_option, option, \"f\");\n        if (!cookies) return;\n        const { name: sessionCookiePrefix } = option;\n        for (const [name, value] of Object.entries(cookies)){\n            if (!name.startsWith(sessionCookiePrefix) || !value) continue;\n            __classPrivateFieldGet(this, _SessionStore_chunks, \"f\")[name] = value;\n        }\n    }\n    /**\n     * The JWT Session or database Session ID\n     * constructed from the cookie chunks.\n     */ get value() {\n        // Sort the chunks by their keys before joining\n        const sortedKeys = Object.keys(__classPrivateFieldGet(this, _SessionStore_chunks, \"f\")).sort((a, b)=>{\n            const aSuffix = parseInt(a.split(\".\").pop() || \"0\");\n            const bSuffix = parseInt(b.split(\".\").pop() || \"0\");\n            return aSuffix - bSuffix;\n        });\n        // Use the sorted keys to join the chunks in the correct order\n        return sortedKeys.map((key)=>__classPrivateFieldGet(this, _SessionStore_chunks, \"f\")[key]).join(\"\");\n    }\n    /**\n     * Given a cookie value, return new cookies, chunked, to fit the allowed cookie size.\n     * If the cookie has changed from chunked to unchunked or vice versa,\n     * it deletes the old cookies as well.\n     */ chunk(value, options) {\n        // Assume all cookies should be cleaned by default\n        const cookies = __classPrivateFieldGet(this, _SessionStore_instances, \"m\", _SessionStore_clean).call(this);\n        // Calculate new chunks\n        const chunked = __classPrivateFieldGet(this, _SessionStore_instances, \"m\", _SessionStore_chunk).call(this, {\n            name: __classPrivateFieldGet(this, _SessionStore_option, \"f\").name,\n            value,\n            options: {\n                ...__classPrivateFieldGet(this, _SessionStore_option, \"f\").options,\n                ...options\n            }\n        });\n        // Update stored chunks / cookies\n        for (const chunk of chunked){\n            cookies[chunk.name] = chunk;\n        }\n        return Object.values(cookies);\n    }\n    /** Returns a list of cookies that should be cleaned. */ clean() {\n        return Object.values(__classPrivateFieldGet(this, _SessionStore_instances, \"m\", _SessionStore_clean).call(this));\n    }\n}\n_SessionStore_chunks = new WeakMap(), _SessionStore_option = new WeakMap(), _SessionStore_logger = new WeakMap(), _SessionStore_instances = new WeakSet(), _SessionStore_chunk = function _SessionStore_chunk(cookie) {\n    const chunkCount = Math.ceil(cookie.value.length / CHUNK_SIZE);\n    if (chunkCount === 1) {\n        __classPrivateFieldGet(this, _SessionStore_chunks, \"f\")[cookie.name] = cookie.value;\n        return [\n            cookie\n        ];\n    }\n    const cookies = [];\n    for(let i = 0; i < chunkCount; i++){\n        const name = `${cookie.name}.${i}`;\n        const value = cookie.value.substr(i * CHUNK_SIZE, CHUNK_SIZE);\n        cookies.push({\n            ...cookie,\n            name,\n            value\n        });\n        __classPrivateFieldGet(this, _SessionStore_chunks, \"f\")[name] = value;\n    }\n    __classPrivateFieldGet(this, _SessionStore_logger, \"f\").debug(\"CHUNKING_SESSION_COOKIE\", {\n        message: `Session cookie exceeds allowed ${ALLOWED_COOKIE_SIZE} bytes.`,\n        emptyCookieSize: ESTIMATED_EMPTY_COOKIE_SIZE,\n        valueSize: cookie.value.length,\n        chunks: cookies.map((c)=>c.value.length + ESTIMATED_EMPTY_COOKIE_SIZE)\n    });\n    return cookies;\n}, _SessionStore_clean = function _SessionStore_clean() {\n    const cleanedChunks = {};\n    for(const name in __classPrivateFieldGet(this, _SessionStore_chunks, \"f\")){\n        delete __classPrivateFieldGet(this, _SessionStore_chunks, \"f\")?.[name];\n        cleanedChunks[name] = {\n            name,\n            value: \"\",\n            options: {\n                ...__classPrivateFieldGet(this, _SessionStore_option, \"f\").options,\n                maxAge: 0\n            }\n        };\n    }\n    return cleanedChunks;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi91dGlscy9jb29raWUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxJQUFJQSx5QkFBeUIsU0FBSyxJQUFJLFNBQUksQ0FBQ0Esc0JBQXNCLElBQUssU0FBVUMsUUFBUSxFQUFFQyxLQUFLLEVBQUVDLEtBQUssRUFBRUMsSUFBSSxFQUFFQyxDQUFDO0lBQzNHLElBQUlELFNBQVMsS0FBSyxNQUFNLElBQUlFLFVBQVU7SUFDdEMsSUFBSUYsU0FBUyxPQUFPLENBQUNDLEdBQUcsTUFBTSxJQUFJQyxVQUFVO0lBQzVDLElBQUksT0FBT0osVUFBVSxhQUFhRCxhQUFhQyxTQUFTLENBQUNHLElBQUksQ0FBQ0gsTUFBTUssR0FBRyxDQUFDTixXQUFXLE1BQU0sSUFBSUssVUFBVTtJQUN2RyxPQUFPLFNBQVUsTUFBTUQsRUFBRUcsSUFBSSxDQUFDUCxVQUFVRSxTQUFTRSxJQUFJQSxFQUFFRixLQUFLLEdBQUdBLFFBQVFELE1BQU1PLEdBQUcsQ0FBQ1IsVUFBVUUsUUFBU0E7QUFDeEc7QUFDQSxJQUFJTyx5QkFBeUIsU0FBSyxJQUFJLFNBQUksQ0FBQ0Esc0JBQXNCLElBQUssU0FBVVQsUUFBUSxFQUFFQyxLQUFLLEVBQUVFLElBQUksRUFBRUMsQ0FBQztJQUNwRyxJQUFJRCxTQUFTLE9BQU8sQ0FBQ0MsR0FBRyxNQUFNLElBQUlDLFVBQVU7SUFDNUMsSUFBSSxPQUFPSixVQUFVLGFBQWFELGFBQWFDLFNBQVMsQ0FBQ0csSUFBSSxDQUFDSCxNQUFNSyxHQUFHLENBQUNOLFdBQVcsTUFBTSxJQUFJSyxVQUFVO0lBQ3ZHLE9BQU9GLFNBQVMsTUFBTUMsSUFBSUQsU0FBUyxNQUFNQyxFQUFFRyxJQUFJLENBQUNQLFlBQVlJLElBQUlBLEVBQUVGLEtBQUssR0FBR0QsTUFBTVMsR0FBRyxDQUFDVjtBQUN4RjtBQUNBLElBQUlXLHlCQUF5QkMsc0JBQXNCQyxzQkFBc0JDLHNCQUFzQkMscUJBQXFC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QztRQUN2RTBELGlCQUFpQnpEO1FBQ2pCMEQsV0FBV1gsT0FBTy9ELEtBQUssQ0FBQ21FLE1BQU07UUFDOUJRLFFBQVF0QyxRQUFRaUIsR0FBRyxDQUFDLENBQUNzQixJQUFNQSxFQUFFNUUsS0FBSyxDQUFDbUUsTUFBTSxHQUFHbkQ7SUFDaEQ7SUFDQSxPQUFPcUI7QUFDWCxHQUFHdkIsc0JBQXNCLFNBQVNBO0lBQzlCLE1BQU0rRCxnQkFBZ0IsQ0FBQztJQUN2QixJQUFLLE1BQU12RCxRQUFRZix1QkFBdUIsSUFBSSxFQUFFRyxzQkFBc0IsS0FBTTtRQUN4RSxPQUFPSCx1QkFBdUIsSUFBSSxFQUFFRyxzQkFBc0IsTUFBTSxDQUFDWSxLQUFLO1FBQ3RFdUQsYUFBYSxDQUFDdkQsS0FBSyxHQUFHO1lBQ2xCQTtZQUNBdEIsT0FBTztZQUNQdUIsU0FBUztnQkFBRSxHQUFHaEIsdUJBQXVCLElBQUksRUFBRUksc0JBQXNCLEtBQUtZLE9BQU87Z0JBQUVRLFFBQVE7WUFBRTtRQUM3RjtJQUNKO0lBQ0EsT0FBTzhDO0FBQ1giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LXJ4Ly4vbm9kZV9tb2R1bGVzL0BhdXRoL2NvcmUvbGliL3V0aWxzL2Nvb2tpZS5qcz81MmQxIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0ID0gKHRoaXMgJiYgdGhpcy5fX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KSB8fCBmdW5jdGlvbiAocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcbn07XG52YXIgX19jbGFzc1ByaXZhdGVGaWVsZEdldCA9ICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZEdldCkgfHwgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xufTtcbnZhciBfU2Vzc2lvblN0b3JlX2luc3RhbmNlcywgX1Nlc3Npb25TdG9yZV9jaHVua3MsIF9TZXNzaW9uU3RvcmVfb3B0aW9uLCBfU2Vzc2lvblN0b3JlX2xvZ2dlciwgX1Nlc3Npb25TdG9yZV9jaHVuaywgX1Nlc3Npb25TdG9yZV9jbGVhbjtcbi8vIFVuY29tbWVudCB0byByZWNhbGN1bGF0ZSB0aGUgZXN0aW1hdGVkIHNpemVcbi8vIG9mIGFuIGVtcHR5IHNlc3Npb24gY29va2llXG4vLyBpbXBvcnQgeyBzZXJpYWxpemUgfSBmcm9tIFwiY29va2llXCJcbi8vIGNvbnNvbGUubG9nKFxuLy8gICBcIkNvb2tpZSBlc3RpbWF0ZWQgdG8gYmUgXCIsXG4vLyAgIHNlcmlhbGl6ZShgX19TZWN1cmUuYXV0aGpzLnNlc3Npb24tdG9rZW4uMGAsIFwiXCIsIHtcbi8vICAgICBleHBpcmVzOiBuZXcgRGF0ZSgpLFxuLy8gICAgIGh0dHBPbmx5OiB0cnVlLFxuLy8gICAgIG1heEFnZTogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsXG4vLyAgICAgcGF0aDogXCIvXCIsXG4vLyAgICAgc2FtZVNpdGU6IFwic3RyaWN0XCIsXG4vLyAgICAgc2VjdXJlOiB0cnVlLFxuLy8gICAgIGRvbWFpbjogXCJleGFtcGxlLmNvbVwiLFxuLy8gICB9KS5sZW5ndGgsXG4vLyAgIFwiIGJ5dGVzXCJcbi8vIClcbmNvbnN0IEFMTE9XRURfQ09PS0lFX1NJWkUgPSA0MDk2O1xuLy8gQmFzZWQgb24gY29tbWVudGVkIG91dCBzZWN0aW9uIGFib3ZlXG5jb25zdCBFU1RJTUFURURfRU1QVFlfQ09PS0lFX1NJWkUgPSAxNjA7XG5jb25zdCBDSFVOS19TSVpFID0gQUxMT1dFRF9DT09LSUVfU0laRSAtIEVTVElNQVRFRF9FTVBUWV9DT09LSUVfU0laRTtcbi8qKlxuICogVXNlIHNlY3VyZSBjb29raWVzIGlmIHRoZSBzaXRlIHVzZXMgSFRUUFNcbiAqIFRoaXMgYmVpbmcgY29uZGl0aW9uYWwgYWxsb3dzIGNvb2tpZXMgdG8gd29yayBub24tSFRUUFMgZGV2ZWxvcG1lbnQgVVJMc1xuICogSG9ub3VyIHNlY3VyZSBjb29raWUgb3B0aW9uLCB3aGljaCBzZXRzICdzZWN1cmUnIGFuZCBhbHNvIGFkZHMgJ19fU2VjdXJlLSdcbiAqIHByZWZpeCwgYnV0IGVuYWJsZSB0aGVtIGJ5IGRlZmF1bHQgaWYgdGhlIHNpdGUgVVJMIGlzIEhUVFBTOyBidXQgbm90IGZvclxuICogbm9uLUhUVFBTIFVSTHMgbGlrZSBodHRwOi8vbG9jYWxob3N0IHdoaWNoIGFyZSB1c2VkIGluIGRldmVsb3BtZW50KS5cbiAqIEZvciBtb3JlIG9uIHByZWZpeGVzIHNlZSBodHRwczovL2dvb2dsZWNocm9tZS5naXRodWIuaW8vc2FtcGxlcy9jb29raWUtcHJlZml4ZXMvXG4gKlxuICogQFRPRE8gUmV2aWV3IGNvb2tpZSBzZXR0aW5ncyAobmFtZXMsIG9wdGlvbnMpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0Q29va2llcyh1c2VTZWN1cmVDb29raWVzKSB7XG4gICAgY29uc3QgY29va2llUHJlZml4ID0gdXNlU2VjdXJlQ29va2llcyA/IFwiX19TZWN1cmUtXCIgOiBcIlwiO1xuICAgIHJldHVybiB7XG4gICAgICAgIC8vIGRlZmF1bHQgY29va2llIG9wdGlvbnNcbiAgICAgICAgc2Vzc2lvblRva2VuOiB7XG4gICAgICAgICAgICBuYW1lOiBgJHtjb29raWVQcmVmaXh9YXV0aGpzLnNlc3Npb24tdG9rZW5gLFxuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgICAgICAgICAgICAgIHNhbWVTaXRlOiBcImxheFwiLFxuICAgICAgICAgICAgICAgIHBhdGg6IFwiL1wiLFxuICAgICAgICAgICAgICAgIHNlY3VyZTogdXNlU2VjdXJlQ29va2llcyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGNhbGxiYWNrVXJsOiB7XG4gICAgICAgICAgICBuYW1lOiBgJHtjb29raWVQcmVmaXh9YXV0aGpzLmNhbGxiYWNrLXVybGAsXG4gICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgaHR0cE9ubHk6IHRydWUsXG4gICAgICAgICAgICAgICAgc2FtZVNpdGU6IFwibGF4XCIsXG4gICAgICAgICAgICAgICAgcGF0aDogXCIvXCIsXG4gICAgICAgICAgICAgICAgc2VjdXJlOiB1c2VTZWN1cmVDb29raWVzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgY3NyZlRva2VuOiB7XG4gICAgICAgICAgICAvLyBEZWZhdWx0IHRvIF9fSG9zdC0gZm9yIENTUkYgdG9rZW4gZm9yIGFkZGl0aW9uYWwgcHJvdGVjdGlvbiBpZiB1c2luZyB1c2VTZWN1cmVDb29raWVzXG4gICAgICAgICAgICAvLyBOQjogVGhlIGBfX0hvc3QtYCBwcmVmaXggaXMgc3RyaWN0ZXIgdGhhbiB0aGUgYF9fU2VjdXJlLWAgcHJlZml4LlxuICAgICAgICAgICAgbmFtZTogYCR7dXNlU2VjdXJlQ29va2llcyA/IFwiX19Ib3N0LVwiIDogXCJcIn1hdXRoanMuY3NyZi10b2tlbmAsXG4gICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgaHR0cE9ubHk6IHRydWUsXG4gICAgICAgICAgICAgICAgc2FtZVNpdGU6IFwibGF4XCIsXG4gICAgICAgICAgICAgICAgcGF0aDogXCIvXCIsXG4gICAgICAgICAgICAgICAgc2VjdXJlOiB1c2VTZWN1cmVDb29raWVzLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgcGtjZUNvZGVWZXJpZmllcjoge1xuICAgICAgICAgICAgbmFtZTogYCR7Y29va2llUHJlZml4fWF1dGhqcy5wa2NlLmNvZGVfdmVyaWZpZXJgLFxuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgICAgICAgICAgICAgIHNhbWVTaXRlOiBcImxheFwiLFxuICAgICAgICAgICAgICAgIHBhdGg6IFwiL1wiLFxuICAgICAgICAgICAgICAgIHNlY3VyZTogdXNlU2VjdXJlQ29va2llcyxcbiAgICAgICAgICAgICAgICBtYXhBZ2U6IDYwICogMTUsIC8vIDE1IG1pbnV0ZXMgaW4gc2Vjb25kc1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgIG5hbWU6IGAke2Nvb2tpZVByZWZpeH1hdXRoanMuc3RhdGVgLFxuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgICAgICAgICAgICAgIHNhbWVTaXRlOiBcImxheFwiLFxuICAgICAgICAgICAgICAgIHBhdGg6IFwiL1wiLFxuICAgICAgICAgICAgICAgIHNlY3VyZTogdXNlU2VjdXJlQ29va2llcyxcbiAgICAgICAgICAgICAgICBtYXhBZ2U6IDYwICogMTUsIC8vIDE1IG1pbnV0ZXMgaW4gc2Vjb25kc1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgbm9uY2U6IHtcbiAgICAgICAgICAgIG5hbWU6IGAke2Nvb2tpZVByZWZpeH1hdXRoanMubm9uY2VgLFxuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgICAgICAgICAgICAgIHNhbWVTaXRlOiBcImxheFwiLFxuICAgICAgICAgICAgICAgIHBhdGg6IFwiL1wiLFxuICAgICAgICAgICAgICAgIHNlY3VyZTogdXNlU2VjdXJlQ29va2llcyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHdlYmF1dGhuQ2hhbGxlbmdlOiB7XG4gICAgICAgICAgICBuYW1lOiBgJHtjb29raWVQcmVmaXh9YXV0aGpzLmNoYWxsZW5nZWAsXG4gICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgaHR0cE9ubHk6IHRydWUsXG4gICAgICAgICAgICAgICAgc2FtZVNpdGU6IFwibGF4XCIsXG4gICAgICAgICAgICAgICAgcGF0aDogXCIvXCIsXG4gICAgICAgICAgICAgICAgc2VjdXJlOiB1c2VTZWN1cmVDb29raWVzLFxuICAgICAgICAgICAgICAgIG1heEFnZTogNjAgKiAxNSwgLy8gMTUgbWludXRlcyBpbiBzZWNvbmRzXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH07XG59XG5leHBvcnQgY2xhc3MgU2Vzc2lvblN0b3JlIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb24sIGNvb2tpZXMsIGxvZ2dlcikge1xuICAgICAgICBfU2Vzc2lvblN0b3JlX2luc3RhbmNlcy5hZGQodGhpcyk7XG4gICAgICAgIF9TZXNzaW9uU3RvcmVfY2h1bmtzLnNldCh0aGlzLCB7fSk7XG4gICAgICAgIF9TZXNzaW9uU3RvcmVfb3B0aW9uLnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICBfU2Vzc2lvblN0b3JlX2xvZ2dlci5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfU2Vzc2lvblN0b3JlX2xvZ2dlciwgbG9nZ2VyLCBcImZcIik7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1Nlc3Npb25TdG9yZV9vcHRpb24sIG9wdGlvbiwgXCJmXCIpO1xuICAgICAgICBpZiAoIWNvb2tpZXMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHsgbmFtZTogc2Vzc2lvbkNvb2tpZVByZWZpeCB9ID0gb3B0aW9uO1xuICAgICAgICBmb3IgKGNvbnN0IFtuYW1lLCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoY29va2llcykpIHtcbiAgICAgICAgICAgIGlmICghbmFtZS5zdGFydHNXaXRoKHNlc3Npb25Db29raWVQcmVmaXgpIHx8ICF2YWx1ZSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1Nlc3Npb25TdG9yZV9jaHVua3MsIFwiZlwiKVtuYW1lXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBKV1QgU2Vzc2lvbiBvciBkYXRhYmFzZSBTZXNzaW9uIElEXG4gICAgICogY29uc3RydWN0ZWQgZnJvbSB0aGUgY29va2llIGNodW5rcy5cbiAgICAgKi9cbiAgICBnZXQgdmFsdWUoKSB7XG4gICAgICAgIC8vIFNvcnQgdGhlIGNodW5rcyBieSB0aGVpciBrZXlzIGJlZm9yZSBqb2luaW5nXG4gICAgICAgIGNvbnN0IHNvcnRlZEtleXMgPSBPYmplY3Qua2V5cyhfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9TZXNzaW9uU3RvcmVfY2h1bmtzLCBcImZcIikpLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFTdWZmaXggPSBwYXJzZUludChhLnNwbGl0KFwiLlwiKS5wb3AoKSB8fCBcIjBcIik7XG4gICAgICAgICAgICBjb25zdCBiU3VmZml4ID0gcGFyc2VJbnQoYi5zcGxpdChcIi5cIikucG9wKCkgfHwgXCIwXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGFTdWZmaXggLSBiU3VmZml4O1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gVXNlIHRoZSBzb3J0ZWQga2V5cyB0byBqb2luIHRoZSBjaHVua3MgaW4gdGhlIGNvcnJlY3Qgb3JkZXJcbiAgICAgICAgcmV0dXJuIHNvcnRlZEtleXMubWFwKChrZXkpID0+IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1Nlc3Npb25TdG9yZV9jaHVua3MsIFwiZlwiKVtrZXldKS5qb2luKFwiXCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIGNvb2tpZSB2YWx1ZSwgcmV0dXJuIG5ldyBjb29raWVzLCBjaHVua2VkLCB0byBmaXQgdGhlIGFsbG93ZWQgY29va2llIHNpemUuXG4gICAgICogSWYgdGhlIGNvb2tpZSBoYXMgY2hhbmdlZCBmcm9tIGNodW5rZWQgdG8gdW5jaHVua2VkIG9yIHZpY2UgdmVyc2EsXG4gICAgICogaXQgZGVsZXRlcyB0aGUgb2xkIGNvb2tpZXMgYXMgd2VsbC5cbiAgICAgKi9cbiAgICBjaHVuayh2YWx1ZSwgb3B0aW9ucykge1xuICAgICAgICAvLyBBc3N1bWUgYWxsIGNvb2tpZXMgc2hvdWxkIGJlIGNsZWFuZWQgYnkgZGVmYXVsdFxuICAgICAgICBjb25zdCBjb29raWVzID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfU2Vzc2lvblN0b3JlX2luc3RhbmNlcywgXCJtXCIsIF9TZXNzaW9uU3RvcmVfY2xlYW4pLmNhbGwodGhpcyk7XG4gICAgICAgIC8vIENhbGN1bGF0ZSBuZXcgY2h1bmtzXG4gICAgICAgIGNvbnN0IGNodW5rZWQgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9TZXNzaW9uU3RvcmVfaW5zdGFuY2VzLCBcIm1cIiwgX1Nlc3Npb25TdG9yZV9jaHVuaykuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICBuYW1lOiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9TZXNzaW9uU3RvcmVfb3B0aW9uLCBcImZcIikubmFtZSxcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgb3B0aW9uczogeyAuLi5fX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9TZXNzaW9uU3RvcmVfb3B0aW9uLCBcImZcIikub3B0aW9ucywgLi4ub3B0aW9ucyB9LFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gVXBkYXRlIHN0b3JlZCBjaHVua3MgLyBjb29raWVzXG4gICAgICAgIGZvciAoY29uc3QgY2h1bmsgb2YgY2h1bmtlZCkge1xuICAgICAgICAgICAgY29va2llc1tjaHVuay5uYW1lXSA9IGNodW5rO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKGNvb2tpZXMpO1xuICAgIH1cbiAgICAvKiogUmV0dXJucyBhIGxpc3Qgb2YgY29va2llcyB0aGF0IHNob3VsZCBiZSBjbGVhbmVkLiAqL1xuICAgIGNsZWFuKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9TZXNzaW9uU3RvcmVfaW5zdGFuY2VzLCBcIm1cIiwgX1Nlc3Npb25TdG9yZV9jbGVhbikuY2FsbCh0aGlzKSk7XG4gICAgfVxufVxuX1Nlc3Npb25TdG9yZV9jaHVua3MgPSBuZXcgV2Vha01hcCgpLCBfU2Vzc2lvblN0b3JlX29wdGlvbiA9IG5ldyBXZWFrTWFwKCksIF9TZXNzaW9uU3RvcmVfbG9nZ2VyID0gbmV3IFdlYWtNYXAoKSwgX1Nlc3Npb25TdG9yZV9pbnN0YW5jZXMgPSBuZXcgV2Vha1NldCgpLCBfU2Vzc2lvblN0b3JlX2NodW5rID0gZnVuY3Rpb24gX1Nlc3Npb25TdG9yZV9jaHVuayhjb29raWUpIHtcbiAgICBjb25zdCBjaHVua0NvdW50ID0gTWF0aC5jZWlsKGNvb2tpZS52YWx1ZS5sZW5ndGggLyBDSFVOS19TSVpFKTtcbiAgICBpZiAoY2h1bmtDb3VudCA9PT0gMSkge1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9TZXNzaW9uU3RvcmVfY2h1bmtzLCBcImZcIilbY29va2llLm5hbWVdID0gY29va2llLnZhbHVlO1xuICAgICAgICByZXR1cm4gW2Nvb2tpZV07XG4gICAgfVxuICAgIGNvbnN0IGNvb2tpZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNodW5rQ291bnQ7IGkrKykge1xuICAgICAgICBjb25zdCBuYW1lID0gYCR7Y29va2llLm5hbWV9LiR7aX1gO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGNvb2tpZS52YWx1ZS5zdWJzdHIoaSAqIENIVU5LX1NJWkUsIENIVU5LX1NJWkUpO1xuICAgICAgICBjb29raWVzLnB1c2goeyAuLi5jb29raWUsIG5hbWUsIHZhbHVlIH0pO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9TZXNzaW9uU3RvcmVfY2h1bmtzLCBcImZcIilbbmFtZV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfU2Vzc2lvblN0b3JlX2xvZ2dlciwgXCJmXCIpLmRlYnVnKFwiQ0hVTktJTkdfU0VTU0lPTl9DT09LSUVcIiwge1xuICAgICAgICBtZXNzYWdlOiBgU2Vzc2lvbiBjb29raWUgZXhjZWVkcyBhbGxvd2VkICR7QUxMT1dFRF9DT09LSUVfU0laRX0gYnl0ZXMuYCxcbiAgICAgICAgZW1wdHlDb29raWVTaXplOiBFU1RJTUFURURfRU1QVFlfQ09PS0lFX1NJWkUsXG4gICAgICAgIHZhbHVlU2l6ZTogY29va2llLnZhbHVlLmxlbmd0aCxcbiAgICAgICAgY2h1bmtzOiBjb29raWVzLm1hcCgoYykgPT4gYy52YWx1ZS5sZW5ndGggKyBFU1RJTUFURURfRU1QVFlfQ09PS0lFX1NJWkUpLFxuICAgIH0pO1xuICAgIHJldHVybiBjb29raWVzO1xufSwgX1Nlc3Npb25TdG9yZV9jbGVhbiA9IGZ1bmN0aW9uIF9TZXNzaW9uU3RvcmVfY2xlYW4oKSB7XG4gICAgY29uc3QgY2xlYW5lZENodW5rcyA9IHt9O1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9TZXNzaW9uU3RvcmVfY2h1bmtzLCBcImZcIikpIHtcbiAgICAgICAgZGVsZXRlIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1Nlc3Npb25TdG9yZV9jaHVua3MsIFwiZlwiKT8uW25hbWVdO1xuICAgICAgICBjbGVhbmVkQ2h1bmtzW25hbWVdID0ge1xuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIHZhbHVlOiBcIlwiLFxuICAgICAgICAgICAgb3B0aW9uczogeyAuLi5fX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9TZXNzaW9uU3RvcmVfb3B0aW9uLCBcImZcIikub3B0aW9ucywgbWF4QWdlOiAwIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBjbGVhbmVkQ2h1bmtzO1xufTtcbiJdLCJuYW1lcyI6WyJfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0IiwicmVjZWl2ZXIiLCJzdGF0ZSIsInZhbHVlIiwia2luZCIsImYiLCJUeXBlRXJyb3IiLCJoYXMiLCJjYWxsIiwic2V0IiwiX19jbGFzc1ByaXZhdGVGaWVsZEdldCIsImdldCIsIl9TZXNzaW9uU3RvcmVfaW5zdGFuY2VzIiwiX1Nlc3Npb25TdG9yZV9jaHVua3MiLCJfU2Vzc2lvblN0b3JlX29wdGlvbiIsIl9TZXNzaW9uU3RvcmVfbG9nZ2VyIiwiX1Nlc3Npb25TdG9yZV9jaHVuayIsIl9TZXNzaW9uU3RvcmVfY2xlYW4iLCJBTExPV0VEX0NPT0tJRV9TSVpFIiwiRVNUSU1BVEVEX0VNUFRZX0NPT0tJRV9TSVpFIiwiQ0hVTktfU0laRSIsImRlZmF1bHRDb29raWVzIiwidXNlU2VjdXJlQ29va2llcyIsImNvb2tpZVByZWZpeCIsInNlc3Npb25Ub2tlbiIsIm5hbWUiLCJvcHRpb25zIiwiaHR0cE9ubHkiLCJzYW1lU2l0ZSIsInBhdGgiLCJzZWN1cmUiLCJjYWxsYmFja1VybCIsImNzcmZUb2tlbiIsInBrY2VDb2RlVmVyaWZpZXIiLCJtYXhBZ2UiLCJub25jZSIsIndlYmF1dGhuQ2hhbGxlbmdlIiwiU2Vzc2lvblN0b3JlIiwiY29uc3RydWN0b3IiLCJvcHRpb24iLCJjb29raWVzIiwibG9nZ2VyIiwiYWRkIiwic2Vzc2lvbkNvb2tpZVByZWZpeCIsIk9iamVjdCIsImVudHJpZXMiLCJzdGFydHNXaXRoIiwic29ydGVkS2V5cyIsImtleXMiLCJzb3J0IiwiYSIsImIiLCJhU3VmZml4IiwicGFyc2VJbnQiLCJzcGxpdCIsInBvcCIsImJTdWZmaXgiLCJtYXAiLCJrZXkiLCJqb2luIiwiY2h1bmsiLCJjaHVua2VkIiwidmFsdWVzIiwiY2xlYW4iLCJXZWFrTWFwIiwiV2Vha1NldCIsImNvb2tpZSIsImNodW5rQ291bnQiLCJNYXRoIiwiY2VpbCIsImxlbmd0aCIsImkiLCJzdWJzdHIiLCJwdXNoIiwiZGVidWciLCJtZXNzYWdlIiwiZW1wdHlDb29raWVTaXplIiwidmFsdWVTaXplIiwiY2h1bmtzIiwiYyIsImNsZWFuZWRDaHVua3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/lib/utils/cookie.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/lib/utils/cookie.js":
/*!*****************************************************!*\
  !*** ./node_modules/@auth/core/lib/utils/cookie.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SessionStore: () => (/* binding */ SessionStore),\n/* harmony export */   defaultCookies: () => (/* binding */ defaultCookies)\n/* harmony export */ });\nvar __classPrivateFieldSet = undefined && undefined.__classPrivateFieldSet || function(receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet = undefined && undefined.__classPrivateFieldGet || function(receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _SessionStore_instances, _SessionStore_chunks, _SessionStore_option, _SessionStore_logger, _SessionStore_chunk, _SessionStore_clean;\n// Uncomment to recalculate the estimated size\n// of an empty session cookie\n// import { serialize } from \"cookie\"\n// console.log(\n//   \"Cookie estimated to be \",\n//   serialize(`__Secure.authjs.session-token.0`, \"\", {\n//     expires: new Date(),\n//     httpOnly: true,\n//     maxAge: Number.MAX_SAFE_INTEGER,\n//     path: \"/\",\n//     sameSite: \"strict\",\n//     secure: true,\n//     domain: \"example.com\",\n//   }).length,\n//   \" bytes\"\n// )\nconst ALLOWED_COOKIE_SIZE = 4096;\n// Based on commented out section above\nconst ESTIMATED_EMPTY_COOKIE_SIZE = 160;\nconst CHUNK_SIZE = ALLOWED_COOKIE_SIZE - ESTIMATED_EMPTY_COOKIE_SIZE;\n/**\n * Use secure cookies if the site uses HTTPS\n * This being conditional allows cookies to work non-HTTPS development URLs\n * Honour secure cookie option, which sets 'secure' and also adds '__Secure-'\n * prefix, but enable them by default if the site URL is HTTPS; but not for\n * non-HTTPS URLs like http://localhost which are used in development).\n * For more on prefixes see https://googlechrome.github.io/samples/cookie-prefixes/\n *\n * @TODO Review cookie settings (names, options)\n */ function defaultCookies(useSecureCookies) {\n    const cookiePrefix = useSecureCookies ? \"__Secure-\" : \"\";\n    return {\n        // default cookie options\n        sessionToken: {\n            name: `${cookiePrefix}authjs.session-token`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies\n            }\n        },\n        callbackUrl: {\n            name: `${cookiePrefix}authjs.callback-url`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies\n            }\n        },\n        csrfToken: {\n            // Default to __Host- for CSRF token for additional protection if using useSecureCookies\n            // NB: The `__Host-` prefix is stricter than the `__Secure-` prefix.\n            name: `${useSecureCookies ? \"__Host-\" : \"\"}authjs.csrf-token`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies\n            }\n        },\n        pkceCodeVerifier: {\n            name: `${cookiePrefix}authjs.pkce.code_verifier`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies,\n                maxAge: 60 * 15\n            }\n        },\n        state: {\n            name: `${cookiePrefix}authjs.state`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies,\n                maxAge: 60 * 15\n            }\n        },\n        nonce: {\n            name: `${cookiePrefix}authjs.nonce`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies\n            }\n        },\n        webauthnChallenge: {\n            name: `${cookiePrefix}authjs.challenge`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: useSecureCookies,\n                maxAge: 60 * 15\n            }\n        }\n    };\n}\nclass SessionStore {\n    constructor(option, cookies, logger){\n        _SessionStore_instances.add(this);\n        _SessionStore_chunks.set(this, {});\n        _SessionStore_option.set(this, void 0);\n        _SessionStore_logger.set(this, void 0);\n        __classPrivateFieldSet(this, _SessionStore_logger, logger, \"f\");\n        __classPrivateFieldSet(this, _SessionStore_option, option, \"f\");\n        if (!cookies) return;\n        const { name: sessionCookiePrefix } = option;\n        for (const [name, value] of Object.entries(cookies)){\n            if (!name.startsWith(sessionCookiePrefix) || !value) continue;\n            __classPrivateFieldGet(this, _SessionStore_chunks, \"f\")[name] = value;\n        }\n    }\n    /**\n     * The JWT Session or database Session ID\n     * constructed from the cookie chunks.\n     */ get value() {\n        // Sort the chunks by their keys before joining\n        const sortedKeys = Object.keys(__classPrivateFieldGet(this, _SessionStore_chunks, \"f\")).sort((a, b)=>{\n            const aSuffix = parseInt(a.split(\".\").pop() || \"0\");\n            const bSuffix = parseInt(b.split(\".\").pop() || \"0\");\n            return aSuffix - bSuffix;\n        });\n        // Use the sorted keys to join the chunks in the correct order\n        return sortedKeys.map((key)=>__classPrivateFieldGet(this, _SessionStore_chunks, \"f\")[key]).join(\"\");\n    }\n    /**\n     * Given a cookie value, return new cookies, chunked, to fit the allowed cookie size.\n     * If the cookie has changed from chunked to unchunked or vice versa,\n     * it deletes the old cookies as well.\n     */ chunk(value, options) {\n        // Assume all cookies should be cleaned by default\n        const cookies = __classPrivateFieldGet(this, _SessionStore_instances, \"m\", _SessionStore_clean).call(this);\n        // Calculate new chunks\n        const chunked = __classPrivateFieldGet(this, _SessionStore_instances, \"m\", _SessionStore_chunk).call(this, {\n            name: __classPrivateFieldGet(this, _SessionStore_option, \"f\").name,\n            value,\n            options: {\n                ...__classPrivateFieldGet(this, _SessionStore_option, \"f\").options,\n                ...options\n            }\n        });\n        // Update stored chunks / cookies\n        for (const chunk of chunked){\n            cookies[chunk.name] = chunk;\n        }\n        return Object.values(cookies);\n    }\n    /** Returns a list of cookies that should be cleaned. */ clean() {\n        return Object.values(__classPrivateFieldGet(this, _SessionStore_instances, \"m\", _SessionStore_clean).call(this));\n    }\n}\n_SessionStore_chunks = new WeakMap(), _SessionStore_option = new WeakMap(), _SessionStore_logger = new WeakMap(), _SessionStore_instances = new WeakSet(), _SessionStore_chunk = function _SessionStore_chunk(cookie) {\n    const chunkCount = Math.ceil(cookie.value.length / CHUNK_SIZE);\n    if (chunkCount === 1) {\n        __classPrivateFieldGet(this, _SessionStore_chunks, \"f\")[cookie.name] = cookie.value;\n        return [\n            cookie\n        ];\n    }\n    const cookies = [];\n    for(let i = 0; i < chunkCount; i++){\n        const name = `${cookie.name}.${i}`;\n        const value = cookie.value.substr(i * CHUNK_SIZE, CHUNK_SIZE);\n        cookies.push({\n            ...cookie,\n            name,\n            value\n        });\n        __classPrivateFieldGet(this, _SessionStore_chunks, \"f\")[name] = value;\n    }\n    __classPrivateFieldGet(this, _SessionStore_logger, \"f\").debug(\"CHUNKING_SESSION_COOKIE\", {\n        message: `Session cookie exceeds allowed ${ALLOWED_COOKIE_SIZE} bytes.`,\n        emptyCookieSize: ESTIMATED_EMPTY_COOKIE_SIZE,\n        valueSize: cookie.value.length,\n        chunks: cookies.map((c)=>c.value.length + ESTIMATED_EMPTY_COOKIE_SIZE)\n    });\n    return cookies;\n}, _SessionStore_clean = function _SessionStore_clean() {\n    const cleanedChunks = {};\n    for(const name in __classPrivateFieldGet(this, _SessionStore_chunks, \"f\")){\n        delete __classPrivateFieldGet(this, _SessionStore_chunks, \"f\")?.[name];\n        cleanedChunks[name] = {\n            name,\n            value: \"\",\n            options: {\n                ...__classPrivateFieldGet(this, _SessionStore_option, \"f\").options,\n                maxAge: 0\n            }\n        };\n    }\n    return cleanedChunks;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvdXRpbHMvY29va2llLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsSUFBSUEseUJBQXlCLFNBQUssSUFBSSxTQUFJLENBQUNBLHNCQUFzQixJQUFLLFNBQVVDLFFBQVEsRUFBRUMsS0FBSyxFQUFFQyxLQUFLLEVBQUVDLElBQUksRUFBRUMsQ0FBQztJQUMzRyxJQUFJRCxTQUFTLEtBQUssTUFBTSxJQUFJRSxVQUFVO0lBQ3RDLElBQUlGLFNBQVMsT0FBTyxDQUFDQyxHQUFHLE1BQU0sSUFBSUMsVUFBVTtJQUM1QyxJQUFJLE9BQU9KLFVBQVUsYUFBYUQsYUFBYUMsU0FBUyxDQUFDRyxJQUFJLENBQUNILE1BQU1LLEdBQUcsQ0FBQ04sV0FBVyxNQUFNLElBQUlLLFVBQVU7SUFDdkcsT0FBTyxTQUFVLE1BQU1ELEVBQUVHLElBQUksQ0FBQ1AsVUFBVUUsU0FBU0UsSUFBSUEsRUFBRUYsS0FBSyxHQUFHQSxRQUFRRCxNQUFNTyxHQUFHLENBQUNSLFVBQVVFLFFBQVNBO0FBQ3hHO0FBQ0EsSUFBSU8seUJBQXlCLFNBQUssSUFBSSxTQUFJLENBQUNBLHNCQUFzQixJQUFLLFNBQVVULFFBQVEsRUFBRUMsS0FBSyxFQUFFRSxJQUFJLEVBQUVDLENBQUM7SUFDcEcsSUFBSUQsU0FBUyxPQUFPLENBQUNDLEdBQUcsTUFBTSxJQUFJQyxVQUFVO0lBQzVDLElBQUksT0FBT0osVUFBVSxhQUFhRCxhQUFhQyxTQUFTLENBQUNHLElBQUksQ0FBQ0gsTUFBTUssR0FBRyxDQUFDTixXQUFXLE1BQU0sSUFBSUssVUFBVTtJQUN2RyxPQUFPRixTQUFTLE1BQU1DLElBQUlELFNBQVMsTUFBTUMsRUFBRUcsSUFBSSxDQUFDUCxZQUFZSSxJQUFJQSxFQUFFRixLQUFLLEdBQUdELE1BQU1TLEdBQUcsQ0FBQ1Y7QUFDeEY7QUFDQSxJQUFJVyx5QkFBeUJDLHNCQUFzQkMsc0JBQXNCQyxzQkFBc0JDLHFCQUFxQkM7QUFDcEgsOENB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QkFBaUJ6RDtRQUNqQjBELFdBQVdYLE9BQU8vRCxLQUFLLENBQUNtRSxNQUFNO1FBQzlCUSxRQUFRdEMsUUFBUWlCLEdBQUcsQ0FBQyxDQUFDc0IsSUFBTUEsRUFBRTVFLEtBQUssQ0FBQ21FLE1BQU0sR0FBR25EO0lBQ2hEO0lBQ0EsT0FBT3FCO0FBQ1gsR0FBR3ZCLHNCQUFzQixTQUFTQTtJQUM5QixNQUFNK0QsZ0JBQWdCLENBQUM7SUFDdkIsSUFBSyxNQUFNdkQsUUFBUWYsdUJBQXVCLElBQUksRUFBRUcsc0JBQXNCLEtBQU07UUFDeEUsT0FBT0gsdUJBQXVCLElBQUksRUFBRUcsc0JBQXNCLE1BQU0sQ0FBQ1ksS0FBSztRQUN0RXVELGFBQWEsQ0FBQ3ZELEtBQUssR0FBRztZQUNsQkE7WUFDQXRCLE9BQU87WUFDUHVCLFNBQVM7Z0JBQUUsR0FBR2hCLHVCQUF1QixJQUFJLEVBQUVJLHNCQUFzQixLQUFLWSxPQUFPO2dCQUFFUSxRQUFRO1lBQUU7UUFDN0Y7SUFDSjtJQUNBLE9BQU84QztBQUNYIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC1yeC8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi91dGlscy9jb29raWUuanM/NTJkMSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19jbGFzc1ByaXZhdGVGaWVsZFNldCA9ICh0aGlzICYmIHRoaXMuX19jbGFzc1ByaXZhdGVGaWVsZFNldCkgfHwgZnVuY3Rpb24gKHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcbiAgICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO1xuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gICAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XG59O1xudmFyIF9fY2xhc3NQcml2YXRlRmllbGRHZXQgPSAodGhpcyAmJiB0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRHZXQpIHx8IGZ1bmN0aW9uIChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gICAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcbn07XG52YXIgX1Nlc3Npb25TdG9yZV9pbnN0YW5jZXMsIF9TZXNzaW9uU3RvcmVfY2h1bmtzLCBfU2Vzc2lvblN0b3JlX29wdGlvbiwgX1Nlc3Npb25TdG9yZV9sb2dnZXIsIF9TZXNzaW9uU3RvcmVfY2h1bmssIF9TZXNzaW9uU3RvcmVfY2xlYW47XG4vLyBVbmNvbW1lbnQgdG8gcmVjYWxjdWxhdGUgdGhlIGVzdGltYXRlZCBzaXplXG4vLyBvZiBhbiBlbXB0eSBzZXNzaW9uIGNvb2tpZVxuLy8gaW1wb3J0IHsgc2VyaWFsaXplIH0gZnJvbSBcImNvb2tpZVwiXG4vLyBjb25zb2xlLmxvZyhcbi8vICAgXCJDb29raWUgZXN0aW1hdGVkIHRvIGJlIFwiLFxuLy8gICBzZXJpYWxpemUoYF9fU2VjdXJlLmF1dGhqcy5zZXNzaW9uLXRva2VuLjBgLCBcIlwiLCB7XG4vLyAgICAgZXhwaXJlczogbmV3IERhdGUoKSxcbi8vICAgICBodHRwT25seTogdHJ1ZSxcbi8vICAgICBtYXhBZ2U6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSLFxuLy8gICAgIHBhdGg6IFwiL1wiLFxuLy8gICAgIHNhbWVTaXRlOiBcInN0cmljdFwiLFxuLy8gICAgIHNlY3VyZTogdHJ1ZSxcbi8vICAgICBkb21haW46IFwiZXhhbXBsZS5jb21cIixcbi8vICAgfSkubGVuZ3RoLFxuLy8gICBcIiBieXRlc1wiXG4vLyApXG5jb25zdCBBTExPV0VEX0NPT0tJRV9TSVpFID0gNDA5Njtcbi8vIEJhc2VkIG9uIGNvbW1lbnRlZCBvdXQgc2VjdGlvbiBhYm92ZVxuY29uc3QgRVNUSU1BVEVEX0VNUFRZX0NPT0tJRV9TSVpFID0gMTYwO1xuY29uc3QgQ0hVTktfU0laRSA9IEFMTE9XRURfQ09PS0lFX1NJWkUgLSBFU1RJTUFURURfRU1QVFlfQ09PS0lFX1NJWkU7XG4vKipcbiAqIFVzZSBzZWN1cmUgY29va2llcyBpZiB0aGUgc2l0ZSB1c2VzIEhUVFBTXG4gKiBUaGlzIGJlaW5nIGNvbmRpdGlvbmFsIGFsbG93cyBjb29raWVzIHRvIHdvcmsgbm9uLUhUVFBTIGRldmVsb3BtZW50IFVSTHNcbiAqIEhvbm91ciBzZWN1cmUgY29va2llIG9wdGlvbiwgd2hpY2ggc2V0cyAnc2VjdXJlJyBhbmQgYWxzbyBhZGRzICdfX1NlY3VyZS0nXG4gKiBwcmVmaXgsIGJ1dCBlbmFibGUgdGhlbSBieSBkZWZhdWx0IGlmIHRoZSBzaXRlIFVSTCBpcyBIVFRQUzsgYnV0IG5vdCBmb3JcbiAqIG5vbi1IVFRQUyBVUkxzIGxpa2UgaHR0cDovL2xvY2FsaG9zdCB3aGljaCBhcmUgdXNlZCBpbiBkZXZlbG9wbWVudCkuXG4gKiBGb3IgbW9yZSBvbiBwcmVmaXhlcyBzZWUgaHR0cHM6Ly9nb29nbGVjaHJvbWUuZ2l0aHViLmlvL3NhbXBsZXMvY29va2llLXByZWZpeGVzL1xuICpcbiAqIEBUT0RPIFJldmlldyBjb29raWUgc2V0dGluZ3MgKG5hbWVzLCBvcHRpb25zKVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdENvb2tpZXModXNlU2VjdXJlQ29va2llcykge1xuICAgIGNvbnN0IGNvb2tpZVByZWZpeCA9IHVzZVNlY3VyZUNvb2tpZXMgPyBcIl9fU2VjdXJlLVwiIDogXCJcIjtcbiAgICByZXR1cm4ge1xuICAgICAgICAvLyBkZWZhdWx0IGNvb2tpZSBvcHRpb25zXG4gICAgICAgIHNlc3Npb25Ub2tlbjoge1xuICAgICAgICAgICAgbmFtZTogYCR7Y29va2llUHJlZml4fWF1dGhqcy5zZXNzaW9uLXRva2VuYCxcbiAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBodHRwT25seTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzYW1lU2l0ZTogXCJsYXhcIixcbiAgICAgICAgICAgICAgICBwYXRoOiBcIi9cIixcbiAgICAgICAgICAgICAgICBzZWN1cmU6IHVzZVNlY3VyZUNvb2tpZXMsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBjYWxsYmFja1VybDoge1xuICAgICAgICAgICAgbmFtZTogYCR7Y29va2llUHJlZml4fWF1dGhqcy5jYWxsYmFjay11cmxgLFxuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgICAgICAgICAgICAgIHNhbWVTaXRlOiBcImxheFwiLFxuICAgICAgICAgICAgICAgIHBhdGg6IFwiL1wiLFxuICAgICAgICAgICAgICAgIHNlY3VyZTogdXNlU2VjdXJlQ29va2llcyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGNzcmZUb2tlbjoge1xuICAgICAgICAgICAgLy8gRGVmYXVsdCB0byBfX0hvc3QtIGZvciBDU1JGIHRva2VuIGZvciBhZGRpdGlvbmFsIHByb3RlY3Rpb24gaWYgdXNpbmcgdXNlU2VjdXJlQ29va2llc1xuICAgICAgICAgICAgLy8gTkI6IFRoZSBgX19Ib3N0LWAgcHJlZml4IGlzIHN0cmljdGVyIHRoYW4gdGhlIGBfX1NlY3VyZS1gIHByZWZpeC5cbiAgICAgICAgICAgIG5hbWU6IGAke3VzZVNlY3VyZUNvb2tpZXMgPyBcIl9fSG9zdC1cIiA6IFwiXCJ9YXV0aGpzLmNzcmYtdG9rZW5gLFxuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgICAgICAgICAgICAgIHNhbWVTaXRlOiBcImxheFwiLFxuICAgICAgICAgICAgICAgIHBhdGg6IFwiL1wiLFxuICAgICAgICAgICAgICAgIHNlY3VyZTogdXNlU2VjdXJlQ29va2llcyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHBrY2VDb2RlVmVyaWZpZXI6IHtcbiAgICAgICAgICAgIG5hbWU6IGAke2Nvb2tpZVByZWZpeH1hdXRoanMucGtjZS5jb2RlX3ZlcmlmaWVyYCxcbiAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBodHRwT25seTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzYW1lU2l0ZTogXCJsYXhcIixcbiAgICAgICAgICAgICAgICBwYXRoOiBcIi9cIixcbiAgICAgICAgICAgICAgICBzZWN1cmU6IHVzZVNlY3VyZUNvb2tpZXMsXG4gICAgICAgICAgICAgICAgbWF4QWdlOiA2MCAqIDE1LCAvLyAxNSBtaW51dGVzIGluIHNlY29uZHNcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICBuYW1lOiBgJHtjb29raWVQcmVmaXh9YXV0aGpzLnN0YXRlYCxcbiAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBodHRwT25seTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzYW1lU2l0ZTogXCJsYXhcIixcbiAgICAgICAgICAgICAgICBwYXRoOiBcIi9cIixcbiAgICAgICAgICAgICAgICBzZWN1cmU6IHVzZVNlY3VyZUNvb2tpZXMsXG4gICAgICAgICAgICAgICAgbWF4QWdlOiA2MCAqIDE1LCAvLyAxNSBtaW51dGVzIGluIHNlY29uZHNcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIG5vbmNlOiB7XG4gICAgICAgICAgICBuYW1lOiBgJHtjb29raWVQcmVmaXh9YXV0aGpzLm5vbmNlYCxcbiAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBodHRwT25seTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzYW1lU2l0ZTogXCJsYXhcIixcbiAgICAgICAgICAgICAgICBwYXRoOiBcIi9cIixcbiAgICAgICAgICAgICAgICBzZWN1cmU6IHVzZVNlY3VyZUNvb2tpZXMsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICB3ZWJhdXRobkNoYWxsZW5nZToge1xuICAgICAgICAgICAgbmFtZTogYCR7Y29va2llUHJlZml4fWF1dGhqcy5jaGFsbGVuZ2VgLFxuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgICAgICAgICAgICAgIHNhbWVTaXRlOiBcImxheFwiLFxuICAgICAgICAgICAgICAgIHBhdGg6IFwiL1wiLFxuICAgICAgICAgICAgICAgIHNlY3VyZTogdXNlU2VjdXJlQ29va2llcyxcbiAgICAgICAgICAgICAgICBtYXhBZ2U6IDYwICogMTUsIC8vIDE1IG1pbnV0ZXMgaW4gc2Vjb25kc1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZXhwb3J0IGNsYXNzIFNlc3Npb25TdG9yZSB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9uLCBjb29raWVzLCBsb2dnZXIpIHtcbiAgICAgICAgX1Nlc3Npb25TdG9yZV9pbnN0YW5jZXMuYWRkKHRoaXMpO1xuICAgICAgICBfU2Vzc2lvblN0b3JlX2NodW5rcy5zZXQodGhpcywge30pO1xuICAgICAgICBfU2Vzc2lvblN0b3JlX29wdGlvbi5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX1Nlc3Npb25TdG9yZV9sb2dnZXIuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1Nlc3Npb25TdG9yZV9sb2dnZXIsIGxvZ2dlciwgXCJmXCIpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9TZXNzaW9uU3RvcmVfb3B0aW9uLCBvcHRpb24sIFwiZlwiKTtcbiAgICAgICAgaWYgKCFjb29raWVzKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB7IG5hbWU6IHNlc3Npb25Db29raWVQcmVmaXggfSA9IG9wdGlvbjtcbiAgICAgICAgZm9yIChjb25zdCBbbmFtZSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGNvb2tpZXMpKSB7XG4gICAgICAgICAgICBpZiAoIW5hbWUuc3RhcnRzV2l0aChzZXNzaW9uQ29va2llUHJlZml4KSB8fCAhdmFsdWUpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9TZXNzaW9uU3RvcmVfY2h1bmtzLCBcImZcIilbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgSldUIFNlc3Npb24gb3IgZGF0YWJhc2UgU2Vzc2lvbiBJRFxuICAgICAqIGNvbnN0cnVjdGVkIGZyb20gdGhlIGNvb2tpZSBjaHVua3MuXG4gICAgICovXG4gICAgZ2V0IHZhbHVlKCkge1xuICAgICAgICAvLyBTb3J0IHRoZSBjaHVua3MgYnkgdGhlaXIga2V5cyBiZWZvcmUgam9pbmluZ1xuICAgICAgICBjb25zdCBzb3J0ZWRLZXlzID0gT2JqZWN0LmtleXMoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfU2Vzc2lvblN0b3JlX2NodW5rcywgXCJmXCIpKS5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhU3VmZml4ID0gcGFyc2VJbnQoYS5zcGxpdChcIi5cIikucG9wKCkgfHwgXCIwXCIpO1xuICAgICAgICAgICAgY29uc3QgYlN1ZmZpeCA9IHBhcnNlSW50KGIuc3BsaXQoXCIuXCIpLnBvcCgpIHx8IFwiMFwiKTtcbiAgICAgICAgICAgIHJldHVybiBhU3VmZml4IC0gYlN1ZmZpeDtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFVzZSB0aGUgc29ydGVkIGtleXMgdG8gam9pbiB0aGUgY2h1bmtzIGluIHRoZSBjb3JyZWN0IG9yZGVyXG4gICAgICAgIHJldHVybiBzb3J0ZWRLZXlzLm1hcCgoa2V5KSA9PiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9TZXNzaW9uU3RvcmVfY2h1bmtzLCBcImZcIilba2V5XSkuam9pbihcIlwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2l2ZW4gYSBjb29raWUgdmFsdWUsIHJldHVybiBuZXcgY29va2llcywgY2h1bmtlZCwgdG8gZml0IHRoZSBhbGxvd2VkIGNvb2tpZSBzaXplLlxuICAgICAqIElmIHRoZSBjb29raWUgaGFzIGNoYW5nZWQgZnJvbSBjaHVua2VkIHRvIHVuY2h1bmtlZCBvciB2aWNlIHZlcnNhLFxuICAgICAqIGl0IGRlbGV0ZXMgdGhlIG9sZCBjb29raWVzIGFzIHdlbGwuXG4gICAgICovXG4gICAgY2h1bmsodmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gQXNzdW1lIGFsbCBjb29raWVzIHNob3VsZCBiZSBjbGVhbmVkIGJ5IGRlZmF1bHRcbiAgICAgICAgY29uc3QgY29va2llcyA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1Nlc3Npb25TdG9yZV9pbnN0YW5jZXMsIFwibVwiLCBfU2Vzc2lvblN0b3JlX2NsZWFuKS5jYWxsKHRoaXMpO1xuICAgICAgICAvLyBDYWxjdWxhdGUgbmV3IGNodW5rc1xuICAgICAgICBjb25zdCBjaHVua2VkID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfU2Vzc2lvblN0b3JlX2luc3RhbmNlcywgXCJtXCIsIF9TZXNzaW9uU3RvcmVfY2h1bmspLmNhbGwodGhpcywge1xuICAgICAgICAgICAgbmFtZTogX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfU2Vzc2lvblN0b3JlX29wdGlvbiwgXCJmXCIpLm5hbWUsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIG9wdGlvbnM6IHsgLi4uX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfU2Vzc2lvblN0b3JlX29wdGlvbiwgXCJmXCIpLm9wdGlvbnMsIC4uLm9wdGlvbnMgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFVwZGF0ZSBzdG9yZWQgY2h1bmtzIC8gY29va2llc1xuICAgICAgICBmb3IgKGNvbnN0IGNodW5rIG9mIGNodW5rZWQpIHtcbiAgICAgICAgICAgIGNvb2tpZXNbY2h1bmsubmFtZV0gPSBjaHVuaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhjb29raWVzKTtcbiAgICB9XG4gICAgLyoqIFJldHVybnMgYSBsaXN0IG9mIGNvb2tpZXMgdGhhdCBzaG91bGQgYmUgY2xlYW5lZC4gKi9cbiAgICBjbGVhbigpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfU2Vzc2lvblN0b3JlX2luc3RhbmNlcywgXCJtXCIsIF9TZXNzaW9uU3RvcmVfY2xlYW4pLmNhbGwodGhpcykpO1xuICAgIH1cbn1cbl9TZXNzaW9uU3RvcmVfY2h1bmtzID0gbmV3IFdlYWtNYXAoKSwgX1Nlc3Npb25TdG9yZV9vcHRpb24gPSBuZXcgV2Vha01hcCgpLCBfU2Vzc2lvblN0b3JlX2xvZ2dlciA9IG5ldyBXZWFrTWFwKCksIF9TZXNzaW9uU3RvcmVfaW5zdGFuY2VzID0gbmV3IFdlYWtTZXQoKSwgX1Nlc3Npb25TdG9yZV9jaHVuayA9IGZ1bmN0aW9uIF9TZXNzaW9uU3RvcmVfY2h1bmsoY29va2llKSB7XG4gICAgY29uc3QgY2h1bmtDb3VudCA9IE1hdGguY2VpbChjb29raWUudmFsdWUubGVuZ3RoIC8gQ0hVTktfU0laRSk7XG4gICAgaWYgKGNodW5rQ291bnQgPT09IDEpIHtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfU2Vzc2lvblN0b3JlX2NodW5rcywgXCJmXCIpW2Nvb2tpZS5uYW1lXSA9IGNvb2tpZS52YWx1ZTtcbiAgICAgICAgcmV0dXJuIFtjb29raWVdO1xuICAgIH1cbiAgICBjb25zdCBjb29raWVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaHVua0NvdW50OyBpKyspIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IGAke2Nvb2tpZS5uYW1lfS4ke2l9YDtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBjb29raWUudmFsdWUuc3Vic3RyKGkgKiBDSFVOS19TSVpFLCBDSFVOS19TSVpFKTtcbiAgICAgICAgY29va2llcy5wdXNoKHsgLi4uY29va2llLCBuYW1lLCB2YWx1ZSB9KTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfU2Vzc2lvblN0b3JlX2NodW5rcywgXCJmXCIpW25hbWVdID0gdmFsdWU7XG4gICAgfVxuICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1Nlc3Npb25TdG9yZV9sb2dnZXIsIFwiZlwiKS5kZWJ1ZyhcIkNIVU5LSU5HX1NFU1NJT05fQ09PS0lFXCIsIHtcbiAgICAgICAgbWVzc2FnZTogYFNlc3Npb24gY29va2llIGV4Y2VlZHMgYWxsb3dlZCAke0FMTE9XRURfQ09PS0lFX1NJWkV9IGJ5dGVzLmAsXG4gICAgICAgIGVtcHR5Q29va2llU2l6ZTogRVNUSU1BVEVEX0VNUFRZX0NPT0tJRV9TSVpFLFxuICAgICAgICB2YWx1ZVNpemU6IGNvb2tpZS52YWx1ZS5sZW5ndGgsXG4gICAgICAgIGNodW5rczogY29va2llcy5tYXAoKGMpID0+IGMudmFsdWUubGVuZ3RoICsgRVNUSU1BVEVEX0VNUFRZX0NPT0tJRV9TSVpFKSxcbiAgICB9KTtcbiAgICByZXR1cm4gY29va2llcztcbn0sIF9TZXNzaW9uU3RvcmVfY2xlYW4gPSBmdW5jdGlvbiBfU2Vzc2lvblN0b3JlX2NsZWFuKCkge1xuICAgIGNvbnN0IGNsZWFuZWRDaHVua3MgPSB7fTtcbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfU2Vzc2lvblN0b3JlX2NodW5rcywgXCJmXCIpKSB7XG4gICAgICAgIGRlbGV0ZSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9TZXNzaW9uU3RvcmVfY2h1bmtzLCBcImZcIik/LltuYW1lXTtcbiAgICAgICAgY2xlYW5lZENodW5rc1tuYW1lXSA9IHtcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICB2YWx1ZTogXCJcIixcbiAgICAgICAgICAgIG9wdGlvbnM6IHsgLi4uX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfU2Vzc2lvblN0b3JlX29wdGlvbiwgXCJmXCIpLm9wdGlvbnMsIG1heEFnZTogMCB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gY2xlYW5lZENodW5rcztcbn07XG4iXSwibmFtZXMiOlsiX19jbGFzc1ByaXZhdGVGaWVsZFNldCIsInJlY2VpdmVyIiwic3RhdGUiLCJ2YWx1ZSIsImtpbmQiLCJmIiwiVHlwZUVycm9yIiwiaGFzIiwiY2FsbCIsInNldCIsIl9fY2xhc3NQcml2YXRlRmllbGRHZXQiLCJnZXQiLCJfU2Vzc2lvblN0b3JlX2luc3RhbmNlcyIsIl9TZXNzaW9uU3RvcmVfY2h1bmtzIiwiX1Nlc3Npb25TdG9yZV9vcHRpb24iLCJfU2Vzc2lvblN0b3JlX2xvZ2dlciIsIl9TZXNzaW9uU3RvcmVfY2h1bmsiLCJfU2Vzc2lvblN0b3JlX2NsZWFuIiwiQUxMT1dFRF9DT09LSUVfU0laRSIsIkVTVElNQVRFRF9FTVBUWV9DT09LSUVfU0laRSIsIkNIVU5LX1NJWkUiLCJkZWZhdWx0Q29va2llcyIsInVzZVNlY3VyZUNvb2tpZXMiLCJjb29raWVQcmVmaXgiLCJzZXNzaW9uVG9rZW4iLCJuYW1lIiwib3B0aW9ucyIsImh0dHBPbmx5Iiwic2FtZVNpdGUiLCJwYXRoIiwic2VjdXJlIiwiY2FsbGJhY2tVcmwiLCJjc3JmVG9rZW4iLCJwa2NlQ29kZVZlcmlmaWVyIiwibWF4QWdlIiwibm9uY2UiLCJ3ZWJhdXRobkNoYWxsZW5nZSIsIlNlc3Npb25TdG9yZSIsImNvbnN0cnVjdG9yIiwib3B0aW9uIiwiY29va2llcyIsImxvZ2dlciIsImFkZCIsInNlc3Npb25Db29raWVQcmVmaXgiLCJPYmplY3QiLCJlbnRyaWVzIiwic3RhcnRzV2l0aCIsInNvcnRlZEtleXMiLCJrZXlzIiwic29ydCIsImEiLCJiIiwiYVN1ZmZpeCIsInBhcnNlSW50Iiwic3BsaXQiLCJwb3AiLCJiU3VmZml4IiwibWFwIiwia2V5Iiwiam9pbiIsImNodW5rIiwiY2h1bmtlZCIsInZhbHVlcyIsImNsZWFuIiwiV2Vha01hcCIsIldlYWtTZXQiLCJjb29raWUiLCJjaHVua0NvdW50IiwiTWF0aCIsImNlaWwiLCJsZW5ndGgiLCJpIiwic3Vic3RyIiwicHVzaCIsImRlYnVnIiwibWVzc2FnZSIsImVtcHR5Q29va2llU2l6ZSIsInZhbHVlU2l6ZSIsImNodW5rcyIsImMiLCJjbGVhbmVkQ2h1bmtzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/lib/utils/cookie.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/lib/utils/date.js":
/*!***************************************************!*\
  !*** ./node_modules/@auth/core/lib/utils/date.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fromDate: () => (/* binding */ fromDate)\n/* harmony export */ });\n/**\n * Takes a number in seconds and returns the date in the future.\n * Optionally takes a second date parameter. In that case\n * the date in the future will be calculated from that date instead of now.\n */ function fromDate(time, date = Date.now()) {\n    return new Date(date + time * 1000);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi91dGlscy9kYXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7OztDQUlDLEdBQ00sU0FBU0EsU0FBU0MsSUFBSSxFQUFFQyxPQUFPQyxLQUFLQyxHQUFHLEVBQUU7SUFDNUMsT0FBTyxJQUFJRCxLQUFLRCxPQUFPRCxPQUFPO0FBQ2xDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC1yeC8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi91dGlscy9kYXRlLmpzPzlkOTMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUYWtlcyBhIG51bWJlciBpbiBzZWNvbmRzIGFuZCByZXR1cm5zIHRoZSBkYXRlIGluIHRoZSBmdXR1cmUuXG4gKiBPcHRpb25hbGx5IHRha2VzIGEgc2Vjb25kIGRhdGUgcGFyYW1ldGVyLiBJbiB0aGF0IGNhc2VcbiAqIHRoZSBkYXRlIGluIHRoZSBmdXR1cmUgd2lsbCBiZSBjYWxjdWxhdGVkIGZyb20gdGhhdCBkYXRlIGluc3RlYWQgb2Ygbm93LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbURhdGUodGltZSwgZGF0ZSA9IERhdGUubm93KCkpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoZGF0ZSArIHRpbWUgKiAxMDAwKTtcbn1cbiJdLCJuYW1lcyI6WyJmcm9tRGF0ZSIsInRpbWUiLCJkYXRlIiwiRGF0ZSIsIm5vdyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/lib/utils/date.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/lib/utils/date.js":
/*!***************************************************!*\
  !*** ./node_modules/@auth/core/lib/utils/date.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fromDate: () => (/* binding */ fromDate)\n/* harmony export */ });\n/**\n * Takes a number in seconds and returns the date in the future.\n * Optionally takes a second date parameter. In that case\n * the date in the future will be calculated from that date instead of now.\n */ function fromDate(time, date = Date.now()) {\n    return new Date(date + time * 1000);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvdXRpbHMvZGF0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7Ozs7Q0FJQyxHQUNNLFNBQVNBLFNBQVNDLElBQUksRUFBRUMsT0FBT0MsS0FBS0MsR0FBRyxFQUFFO0lBQzVDLE9BQU8sSUFBSUQsS0FBS0QsT0FBT0QsT0FBTztBQUNsQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtcngvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvdXRpbHMvZGF0ZS5qcz85ZDkzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGFrZXMgYSBudW1iZXIgaW4gc2Vjb25kcyBhbmQgcmV0dXJucyB0aGUgZGF0ZSBpbiB0aGUgZnV0dXJlLlxuICogT3B0aW9uYWxseSB0YWtlcyBhIHNlY29uZCBkYXRlIHBhcmFtZXRlci4gSW4gdGhhdCBjYXNlXG4gKiB0aGUgZGF0ZSBpbiB0aGUgZnV0dXJlIHdpbGwgYmUgY2FsY3VsYXRlZCBmcm9tIHRoYXQgZGF0ZSBpbnN0ZWFkIG9mIG5vdy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21EYXRlKHRpbWUsIGRhdGUgPSBEYXRlLm5vdygpKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKGRhdGUgKyB0aW1lICogMTAwMCk7XG59XG4iXSwibmFtZXMiOlsiZnJvbURhdGUiLCJ0aW1lIiwiZGF0ZSIsIkRhdGUiLCJub3ciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/lib/utils/date.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/lib/utils/env.js":
/*!**************************************************!*\
  !*** ./node_modules/@auth/core/lib/utils/env.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createActionURL: () => (/* binding */ createActionURL),\n/* harmony export */   setEnvDefaults: () => (/* binding */ setEnvDefaults)\n/* harmony export */ });\n/** Set default env variables on the config object */ function setEnvDefaults(envObject, config) {\n    try {\n        const url = envObject.AUTH_URL;\n        if (url && !config.basePath) config.basePath = new URL(url).pathname;\n    } catch  {} finally{\n        config.basePath ?? (config.basePath = `/auth`);\n    }\n    if (!config.secret?.length) {\n        config.secret = [];\n        const secret = envObject.AUTH_SECRET;\n        if (secret) config.secret.push(secret);\n        for (const i of [\n            1,\n            2,\n            3\n        ]){\n            const secret = envObject[`AUTH_SECRET_${i}`];\n            if (secret) config.secret.unshift(secret);\n        }\n    }\n    config.redirectProxyUrl ?? (config.redirectProxyUrl = envObject.AUTH_REDIRECT_PROXY_URL);\n    config.trustHost ?? (config.trustHost = !!(envObject.AUTH_URL ?? envObject.AUTH_TRUST_HOST ?? envObject.VERCEL ?? envObject.CF_PAGES ?? envObject.NODE_ENV !== \"production\"));\n    config.providers = config.providers.map((p)=>{\n        const finalProvider = typeof p === \"function\" ? p({}) : p;\n        const ID = finalProvider.id.toUpperCase();\n        if (finalProvider.type === \"oauth\" || finalProvider.type === \"oidc\") {\n            finalProvider.clientId ?? (finalProvider.clientId = envObject[`AUTH_${ID}_ID`]);\n            finalProvider.clientSecret ?? (finalProvider.clientSecret = envObject[`AUTH_${ID}_SECRET`]);\n            if (finalProvider.type === \"oidc\") {\n                finalProvider.issuer ?? (finalProvider.issuer = envObject[`AUTH_${ID}_ISSUER`]);\n            }\n        } else if (finalProvider.type === \"email\") {\n            finalProvider.apiKey ?? (finalProvider.apiKey = envObject[`AUTH_${ID}_KEY`]);\n        }\n        return finalProvider;\n    });\n}\nfunction createActionURL(action, protocol, headers, envObject, basePath) {\n    let url = envObject.AUTH_URL ?? envObject.NEXTAUTH_URL;\n    if (!url) {\n        const host = headers.get(\"x-forwarded-host\") ?? headers.get(\"host\");\n        if (!host) throw new TypeError(\"Missing host\");\n        const proto = headers.get(\"x-forwarded-proto\") ?? protocol;\n        url = `${proto === \"http\" ? \"http\" : \"https\"}://${host}${basePath}`;\n    }\n    return new URL(`${url.replace(/\\/$/, \"\")}/${action}`);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi91dGlscy9lbnYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxtREFBbUQsR0FDNUMsU0FBU0EsZUFBZUMsU0FBUyxFQUFFQyxNQUFNO0lBQzVDLElBQUk7UUFDQSxNQUFNQyxNQUFNRixVQUFVRyxRQUFRO1FBQzlCLElBQUlELE9BQU8sQ0FBQ0QsT0FBT0csUUFBUSxFQUN2QkgsT0FBT0csUUFBUSxHQUFHLElBQUlDLElBQUlILEtBQUtJLFFBQVE7SUFDL0MsRUFDQSxPQUFNLENBQ04sU0FDUTtRQUNKTCxPQUFPRyxRQUFRLElBQUtILENBQUFBLE9BQU9HLFFBQVEsR0FBRyxDQUFDLEtBQUssQ0FBQztJQUNqRDtJQUNBLElBQUksQ0FBQ0gsT0FBT00sTUFBTSxFQUFFQyxRQUFRO1FBQ3hCUCxPQUFPTSxNQUFNLEdBQUcsRUFBRTtRQUNsQixNQUFNQSxTQUFTUCxVQUFVUyxXQUFXO1FBQ3BDLElBQUlGLFFBQ0FOLE9BQU9NLE1BQU0sQ0FBQ0csSUFBSSxDQUFDSDtRQUN2QixLQUFLLE1BQU1JLEtBQUs7WUFBQztZQUFHO1lBQUc7U0FBRSxDQUFFO1lBQ3ZCLE1BQU1KLFNBQVNQLFNBQVMsQ0FBQyxDQUFDLFlBQVksRUFBRVcsRUFBRSxDQUFDLENBQUM7WUFDNUMsSUFBSUosUUFDQU4sT0FBT00sTUFBTSxDQUFDSyxPQUFPLENBQUNMO1FBQzlCO0lBQ0o7SUFDQU4sT0FBT1ksZ0JBQWdCLElBQUtaLENBQUFBLE9BQU9ZLGdCQUFnQixHQUFHYixVQUFVYyx1QkFBdUI7SUFDdkZiLE9BQU9jLFNBQVMsSUFBS2QsQ0FBQUEsT0FBT2MsU0FBUyxHQUFHLENBQUMsQ0FBRWYsQ0FBQUEsVUFBVUcsUUFBUSxJQUN6REgsVUFBVWdCLGVBQWUsSUFDekJoQixVQUFVaUIsTUFBTSxJQUNoQmpCLFVBQVVrQixRQUFRLElBQ2xCbEIsVUFBVW1CLFFBQVEsS0FBSyxZQUFXLENBQUM7SUFDdkNsQixPQUFPbUIsU0FBUyxHQUFHbkIsT0FBT21CLFNBQVMsQ0FBQ0MsR0FBRyxDQUFDLENBQUNDO1FBQ3JDLE1BQU1DLGdCQUFnQixPQUFPRCxNQUFNLGFBQWFBLEVBQUUsQ0FBQyxLQUFLQTtRQUN4RCxNQUFNRSxLQUFLRCxjQUFjRSxFQUFFLENBQUNDLFdBQVc7UUFDdkMsSUFBSUgsY0FBY0ksSUFBSSxLQUFLLFdBQVdKLGNBQWNJLElBQUksS0FBSyxRQUFRO1lBQ2pFSixjQUFjSyxRQUFRLElBQUtMLENBQUFBLGNBQWNLLFFBQVEsR0FBRzVCLFNBQVMsQ0FBQyxDQUFDLEtBQUssRUFBRXdCLEdBQUcsR0FBRyxDQUFDLENBQUM7WUFDOUVELGNBQWNNLFlBQVksSUFBS04sQ0FBQUEsY0FBY00sWUFBWSxHQUFHN0IsU0FBUyxDQUFDLENBQUMsS0FBSyxFQUFFd0IsR0FBRyxPQUFPLENBQUMsQ0FBQztZQUMxRixJQUFJRCxjQUFjSSxJQUFJLEtBQUssUUFBUTtnQkFDL0JKLGNBQWNPLE1BQU0sSUFBS1AsQ0FBQUEsY0FBY08sTUFBTSxHQUFHOUIsU0FBUyxDQUFDLENBQUMsS0FBSyxFQUFFd0IsR0FBRyxPQUFPLENBQUMsQ0FBQztZQUNsRjtRQUNKLE9BQ0ssSUFBSUQsY0FBY0ksSUFBSSxLQUFLLFNBQVM7WUFDckNKLGNBQWNRLE1BQU0sSUFBS1IsQ0FBQUEsY0FBY1EsTUFBTSxHQUFHL0IsU0FBUyxDQUFDLENBQUMsS0FBSyxFQUFFd0IsR0FBRyxJQUFJLENBQUMsQ0FBQztRQUMvRTtRQUNBLE9BQU9EO0lBQ1g7QUFDSjtBQUNPLFNBQVNTLGdCQUFnQkMsTUFBTSxFQUFFQyxRQUFRLEVBQUVDLE9BQU8sRUFBRW5DLFNBQVMsRUFBRUksUUFBUTtJQUMxRSxJQUFJRixNQUFNRixVQUFVRyxRQUFRLElBQUlILFVBQVVvQyxZQUFZO0lBQ3RELElBQUksQ0FBQ2xDLEtBQUs7UUFDTixNQUFNbUMsT0FBT0YsUUFBUUcsR0FBRyxDQUFDLHVCQUF1QkgsUUFBUUcsR0FBRyxDQUFDO1FBQzVELElBQUksQ0FBQ0QsTUFDRCxNQUFNLElBQUlFLFVBQVU7UUFDeEIsTUFBTUMsUUFBUUwsUUFBUUcsR0FBRyxDQUFDLHdCQUF3Qko7UUFDbERoQyxNQUFNLENBQUMsRUFBRXNDLFVBQVUsU0FBUyxTQUFTLFFBQVEsR0FBRyxFQUFFSCxLQUFLLEVBQUVqQyxTQUFTLENBQUM7SUFDdkU7SUFDQSxPQUFPLElBQUlDLElBQUksQ0FBQyxFQUFFSCxJQUFJdUMsT0FBTyxDQUFDLE9BQU8sSUFBSSxDQUFDLEVBQUVSLE9BQU8sQ0FBQztBQUN4RCIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtcngvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvdXRpbHMvZW52LmpzPzJkMDciXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIFNldCBkZWZhdWx0IGVudiB2YXJpYWJsZXMgb24gdGhlIGNvbmZpZyBvYmplY3QgKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRFbnZEZWZhdWx0cyhlbnZPYmplY3QsIGNvbmZpZykge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVybCA9IGVudk9iamVjdC5BVVRIX1VSTDtcbiAgICAgICAgaWYgKHVybCAmJiAhY29uZmlnLmJhc2VQYXRoKVxuICAgICAgICAgICAgY29uZmlnLmJhc2VQYXRoID0gbmV3IFVSTCh1cmwpLnBhdGhuYW1lO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBjb25maWcuYmFzZVBhdGggPz8gKGNvbmZpZy5iYXNlUGF0aCA9IGAvYXV0aGApO1xuICAgIH1cbiAgICBpZiAoIWNvbmZpZy5zZWNyZXQ/Lmxlbmd0aCkge1xuICAgICAgICBjb25maWcuc2VjcmV0ID0gW107XG4gICAgICAgIGNvbnN0IHNlY3JldCA9IGVudk9iamVjdC5BVVRIX1NFQ1JFVDtcbiAgICAgICAgaWYgKHNlY3JldClcbiAgICAgICAgICAgIGNvbmZpZy5zZWNyZXQucHVzaChzZWNyZXQpO1xuICAgICAgICBmb3IgKGNvbnN0IGkgb2YgWzEsIDIsIDNdKSB7XG4gICAgICAgICAgICBjb25zdCBzZWNyZXQgPSBlbnZPYmplY3RbYEFVVEhfU0VDUkVUXyR7aX1gXTtcbiAgICAgICAgICAgIGlmIChzZWNyZXQpXG4gICAgICAgICAgICAgICAgY29uZmlnLnNlY3JldC51bnNoaWZ0KHNlY3JldCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uZmlnLnJlZGlyZWN0UHJveHlVcmwgPz8gKGNvbmZpZy5yZWRpcmVjdFByb3h5VXJsID0gZW52T2JqZWN0LkFVVEhfUkVESVJFQ1RfUFJPWFlfVVJMKTtcbiAgICBjb25maWcudHJ1c3RIb3N0ID8/IChjb25maWcudHJ1c3RIb3N0ID0gISEoZW52T2JqZWN0LkFVVEhfVVJMID8/XG4gICAgICAgIGVudk9iamVjdC5BVVRIX1RSVVNUX0hPU1QgPz9cbiAgICAgICAgZW52T2JqZWN0LlZFUkNFTCA/P1xuICAgICAgICBlbnZPYmplY3QuQ0ZfUEFHRVMgPz9cbiAgICAgICAgZW52T2JqZWN0Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpO1xuICAgIGNvbmZpZy5wcm92aWRlcnMgPSBjb25maWcucHJvdmlkZXJzLm1hcCgocCkgPT4ge1xuICAgICAgICBjb25zdCBmaW5hbFByb3ZpZGVyID0gdHlwZW9mIHAgPT09IFwiZnVuY3Rpb25cIiA/IHAoe30pIDogcDtcbiAgICAgICAgY29uc3QgSUQgPSBmaW5hbFByb3ZpZGVyLmlkLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIGlmIChmaW5hbFByb3ZpZGVyLnR5cGUgPT09IFwib2F1dGhcIiB8fCBmaW5hbFByb3ZpZGVyLnR5cGUgPT09IFwib2lkY1wiKSB7XG4gICAgICAgICAgICBmaW5hbFByb3ZpZGVyLmNsaWVudElkID8/IChmaW5hbFByb3ZpZGVyLmNsaWVudElkID0gZW52T2JqZWN0W2BBVVRIXyR7SUR9X0lEYF0pO1xuICAgICAgICAgICAgZmluYWxQcm92aWRlci5jbGllbnRTZWNyZXQgPz8gKGZpbmFsUHJvdmlkZXIuY2xpZW50U2VjcmV0ID0gZW52T2JqZWN0W2BBVVRIXyR7SUR9X1NFQ1JFVGBdKTtcbiAgICAgICAgICAgIGlmIChmaW5hbFByb3ZpZGVyLnR5cGUgPT09IFwib2lkY1wiKSB7XG4gICAgICAgICAgICAgICAgZmluYWxQcm92aWRlci5pc3N1ZXIgPz8gKGZpbmFsUHJvdmlkZXIuaXNzdWVyID0gZW52T2JqZWN0W2BBVVRIXyR7SUR9X0lTU1VFUmBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmaW5hbFByb3ZpZGVyLnR5cGUgPT09IFwiZW1haWxcIikge1xuICAgICAgICAgICAgZmluYWxQcm92aWRlci5hcGlLZXkgPz8gKGZpbmFsUHJvdmlkZXIuYXBpS2V5ID0gZW52T2JqZWN0W2BBVVRIXyR7SUR9X0tFWWBdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmluYWxQcm92aWRlcjtcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBY3Rpb25VUkwoYWN0aW9uLCBwcm90b2NvbCwgaGVhZGVycywgZW52T2JqZWN0LCBiYXNlUGF0aCkge1xuICAgIGxldCB1cmwgPSBlbnZPYmplY3QuQVVUSF9VUkwgPz8gZW52T2JqZWN0Lk5FWFRBVVRIX1VSTDtcbiAgICBpZiAoIXVybCkge1xuICAgICAgICBjb25zdCBob3N0ID0gaGVhZGVycy5nZXQoXCJ4LWZvcndhcmRlZC1ob3N0XCIpID8/IGhlYWRlcnMuZ2V0KFwiaG9zdFwiKTtcbiAgICAgICAgaWYgKCFob3N0KVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk1pc3NpbmcgaG9zdFwiKTtcbiAgICAgICAgY29uc3QgcHJvdG8gPSBoZWFkZXJzLmdldChcIngtZm9yd2FyZGVkLXByb3RvXCIpID8/IHByb3RvY29sO1xuICAgICAgICB1cmwgPSBgJHtwcm90byA9PT0gXCJodHRwXCIgPyBcImh0dHBcIiA6IFwiaHR0cHNcIn06Ly8ke2hvc3R9JHtiYXNlUGF0aH1gO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFVSTChgJHt1cmwucmVwbGFjZSgvXFwvJC8sIFwiXCIpfS8ke2FjdGlvbn1gKTtcbn1cbiJdLCJuYW1lcyI6WyJzZXRFbnZEZWZhdWx0cyIsImVudk9iamVjdCIsImNvbmZpZyIsInVybCIsIkFVVEhfVVJMIiwiYmFzZVBhdGgiLCJVUkwiLCJwYXRobmFtZSIsInNlY3JldCIsImxlbmd0aCIsIkFVVEhfU0VDUkVUIiwicHVzaCIsImkiLCJ1bnNoaWZ0IiwicmVkaXJlY3RQcm94eVVybCIsIkFVVEhfUkVESVJFQ1RfUFJPWFlfVVJMIiwidHJ1c3RIb3N0IiwiQVVUSF9UUlVTVF9IT1NUIiwiVkVSQ0VMIiwiQ0ZfUEFHRVMiLCJOT0RFX0VOViIsInByb3ZpZGVycyIsIm1hcCIsInAiLCJmaW5hbFByb3ZpZGVyIiwiSUQiLCJpZCIsInRvVXBwZXJDYXNlIiwidHlwZSIsImNsaWVudElkIiwiY2xpZW50U2VjcmV0IiwiaXNzdWVyIiwiYXBpS2V5IiwiY3JlYXRlQWN0aW9uVVJMIiwiYWN0aW9uIiwicHJvdG9jb2wiLCJoZWFkZXJzIiwiTkVYVEFVVEhfVVJMIiwiaG9zdCIsImdldCIsIlR5cGVFcnJvciIsInByb3RvIiwicmVwbGFjZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/lib/utils/env.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/lib/utils/env.js":
/*!**************************************************!*\
  !*** ./node_modules/@auth/core/lib/utils/env.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createActionURL: () => (/* binding */ createActionURL),\n/* harmony export */   setEnvDefaults: () => (/* binding */ setEnvDefaults)\n/* harmony export */ });\n/** Set default env variables on the config object */ function setEnvDefaults(envObject, config) {\n    try {\n        const url = envObject.AUTH_URL;\n        if (url && !config.basePath) config.basePath = new URL(url).pathname;\n    } catch  {} finally{\n        config.basePath ?? (config.basePath = `/auth`);\n    }\n    if (!config.secret?.length) {\n        config.secret = [];\n        const secret = envObject.AUTH_SECRET;\n        if (secret) config.secret.push(secret);\n        for (const i of [\n            1,\n            2,\n            3\n        ]){\n            const secret = envObject[`AUTH_SECRET_${i}`];\n            if (secret) config.secret.unshift(secret);\n        }\n    }\n    config.redirectProxyUrl ?? (config.redirectProxyUrl = envObject.AUTH_REDIRECT_PROXY_URL);\n    config.trustHost ?? (config.trustHost = !!(envObject.AUTH_URL ?? envObject.AUTH_TRUST_HOST ?? envObject.VERCEL ?? envObject.CF_PAGES ?? envObject.NODE_ENV !== \"production\"));\n    config.providers = config.providers.map((p)=>{\n        const finalProvider = typeof p === \"function\" ? p({}) : p;\n        const ID = finalProvider.id.toUpperCase();\n        if (finalProvider.type === \"oauth\" || finalProvider.type === \"oidc\") {\n            finalProvider.clientId ?? (finalProvider.clientId = envObject[`AUTH_${ID}_ID`]);\n            finalProvider.clientSecret ?? (finalProvider.clientSecret = envObject[`AUTH_${ID}_SECRET`]);\n            if (finalProvider.type === \"oidc\") {\n                finalProvider.issuer ?? (finalProvider.issuer = envObject[`AUTH_${ID}_ISSUER`]);\n            }\n        } else if (finalProvider.type === \"email\") {\n            finalProvider.apiKey ?? (finalProvider.apiKey = envObject[`AUTH_${ID}_KEY`]);\n        }\n        return finalProvider;\n    });\n}\nfunction createActionURL(action, protocol, headers, envObject, basePath) {\n    let url = envObject.AUTH_URL ?? envObject.NEXTAUTH_URL;\n    if (!url) {\n        const host = headers.get(\"x-forwarded-host\") ?? headers.get(\"host\");\n        if (!host) throw new TypeError(\"Missing host\");\n        const proto = headers.get(\"x-forwarded-proto\") ?? protocol;\n        url = `${proto === \"http\" ? \"http\" : \"https\"}://${host}${basePath}`;\n    }\n    return new URL(`${url.replace(/\\/$/, \"\")}/${action}`);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvdXRpbHMvZW52LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsbURBQW1ELEdBQzVDLFNBQVNBLGVBQWVDLFNBQVMsRUFBRUMsTUFBTTtJQUM1QyxJQUFJO1FBQ0EsTUFBTUMsTUFBTUYsVUFBVUcsUUFBUTtRQUM5QixJQUFJRCxPQUFPLENBQUNELE9BQU9HLFFBQVEsRUFDdkJILE9BQU9HLFFBQVEsR0FBRyxJQUFJQyxJQUFJSCxLQUFLSSxRQUFRO0lBQy9DLEVBQ0EsT0FBTSxDQUNOLFNBQ1E7UUFDSkwsT0FBT0csUUFBUSxJQUFLSCxDQUFBQSxPQUFPRyxRQUFRLEdBQUcsQ0FBQyxLQUFLLENBQUM7SUFDakQ7SUFDQSxJQUFJLENBQUNILE9BQU9NLE1BQU0sRUFBRUMsUUFBUTtRQUN4QlAsT0FBT00sTUFBTSxHQUFHLEVBQUU7UUFDbEIsTUFBTUEsU0FBU1AsVUFBVVMsV0FBVztRQUNwQyxJQUFJRixRQUNBTixPQUFPTSxNQUFNLENBQUNHLElBQUksQ0FBQ0g7UUFDdkIsS0FBSyxNQUFNSSxLQUFLO1lBQUM7WUFBRztZQUFHO1NBQUUsQ0FBRTtZQUN2QixNQUFNSixTQUFTUCxTQUFTLENBQUMsQ0FBQyxZQUFZLEVBQUVXLEVBQUUsQ0FBQyxDQUFDO1lBQzVDLElBQUlKLFFBQ0FOLE9BQU9NLE1BQU0sQ0FBQ0ssT0FBTyxDQUFDTDtRQUM5QjtJQUNKO0lBQ0FOLE9BQU9ZLGdCQUFnQixJQUFLWixDQUFBQSxPQUFPWSxnQkFBZ0IsR0FBR2IsVUFBVWMsdUJBQXVCO0lBQ3ZGYixPQUFPYyxTQUFTLElBQUtkLENBQUFBLE9BQU9jLFNBQVMsR0FBRyxDQUFDLENBQUVmLENBQUFBLFVBQVVHLFFBQVEsSUFDekRILFVBQVVnQixlQUFlLElBQ3pCaEIsVUFBVWlCLE1BQU0sSUFDaEJqQixVQUFVa0IsUUFBUSxJQUNsQmxCLFVBQVVtQixRQUFRLEtBQUssWUFBVyxDQUFDO0lBQ3ZDbEIsT0FBT21CLFNBQVMsR0FBR25CLE9BQU9tQixTQUFTLENBQUNDLEdBQUcsQ0FBQyxDQUFDQztRQUNyQyxNQUFNQyxnQkFBZ0IsT0FBT0QsTUFBTSxhQUFhQSxFQUFFLENBQUMsS0FBS0E7UUFDeEQsTUFBTUUsS0FBS0QsY0FBY0UsRUFBRSxDQUFDQyxXQUFXO1FBQ3ZDLElBQUlILGNBQWNJLElBQUksS0FBSyxXQUFXSixjQUFjSSxJQUFJLEtBQUssUUFBUTtZQUNqRUosY0FBY0ssUUFBUSxJQUFLTCxDQUFBQSxjQUFjSyxRQUFRLEdBQUc1QixTQUFTLENBQUMsQ0FBQyxLQUFLLEVBQUV3QixHQUFHLEdBQUcsQ0FBQyxDQUFDO1lBQzlFRCxjQUFjTSxZQUFZLElBQUtOLENBQUFBLGNBQWNNLFlBQVksR0FBRzdCLFNBQVMsQ0FBQyxDQUFDLEtBQUssRUFBRXdCLEdBQUcsT0FBTyxDQUFDLENBQUM7WUFDMUYsSUFBSUQsY0FBY0ksSUFBSSxLQUFLLFFBQVE7Z0JBQy9CSixjQUFjTyxNQUFNLElBQUtQLENBQUFBLGNBQWNPLE1BQU0sR0FBRzlCLFNBQVMsQ0FBQyxDQUFDLEtBQUssRUFBRXdCLEdBQUcsT0FBTyxDQUFDLENBQUM7WUFDbEY7UUFDSixPQUNLLElBQUlELGNBQWNJLElBQUksS0FBSyxTQUFTO1lBQ3JDSixjQUFjUSxNQUFNLElBQUtSLENBQUFBLGNBQWNRLE1BQU0sR0FBRy9CLFNBQVMsQ0FBQyxDQUFDLEtBQUssRUFBRXdCLEdBQUcsSUFBSSxDQUFDLENBQUM7UUFDL0U7UUFDQSxPQUFPRDtJQUNYO0FBQ0o7QUFDTyxTQUFTUyxnQkFBZ0JDLE1BQU0sRUFBRUMsUUFBUSxFQUFFQyxPQUFPLEVBQUVuQyxTQUFTLEVBQUVJLFFBQVE7SUFDMUUsSUFBSUYsTUFBTUYsVUFBVUcsUUFBUSxJQUFJSCxVQUFVb0MsWUFBWTtJQUN0RCxJQUFJLENBQUNsQyxLQUFLO1FBQ04sTUFBTW1DLE9BQU9GLFFBQVFHLEdBQUcsQ0FBQyx1QkFBdUJILFFBQVFHLEdBQUcsQ0FBQztRQUM1RCxJQUFJLENBQUNELE1BQ0QsTUFBTSxJQUFJRSxVQUFVO1FBQ3hCLE1BQU1DLFFBQVFMLFFBQVFHLEdBQUcsQ0FBQyx3QkFBd0JKO1FBQ2xEaEMsTUFBTSxDQUFDLEVBQUVzQyxVQUFVLFNBQVMsU0FBUyxRQUFRLEdBQUcsRUFBRUgsS0FBSyxFQUFFakMsU0FBUyxDQUFDO0lBQ3ZFO0lBQ0EsT0FBTyxJQUFJQyxJQUFJLENBQUMsRUFBRUgsSUFBSXVDLE9BQU8sQ0FBQyxPQUFPLElBQUksQ0FBQyxFQUFFUixPQUFPLENBQUM7QUFDeEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LXJ4Ly4vbm9kZV9tb2R1bGVzL0BhdXRoL2NvcmUvbGliL3V0aWxzL2Vudi5qcz8yZDA3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBTZXQgZGVmYXVsdCBlbnYgdmFyaWFibGVzIG9uIHRoZSBjb25maWcgb2JqZWN0ICovXG5leHBvcnQgZnVuY3Rpb24gc2V0RW52RGVmYXVsdHMoZW52T2JqZWN0LCBjb25maWcpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB1cmwgPSBlbnZPYmplY3QuQVVUSF9VUkw7XG4gICAgICAgIGlmICh1cmwgJiYgIWNvbmZpZy5iYXNlUGF0aClcbiAgICAgICAgICAgIGNvbmZpZy5iYXNlUGF0aCA9IG5ldyBVUkwodXJsKS5wYXRobmFtZTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgY29uZmlnLmJhc2VQYXRoID8/IChjb25maWcuYmFzZVBhdGggPSBgL2F1dGhgKTtcbiAgICB9XG4gICAgaWYgKCFjb25maWcuc2VjcmV0Py5sZW5ndGgpIHtcbiAgICAgICAgY29uZmlnLnNlY3JldCA9IFtdO1xuICAgICAgICBjb25zdCBzZWNyZXQgPSBlbnZPYmplY3QuQVVUSF9TRUNSRVQ7XG4gICAgICAgIGlmIChzZWNyZXQpXG4gICAgICAgICAgICBjb25maWcuc2VjcmV0LnB1c2goc2VjcmV0KTtcbiAgICAgICAgZm9yIChjb25zdCBpIG9mIFsxLCAyLCAzXSkge1xuICAgICAgICAgICAgY29uc3Qgc2VjcmV0ID0gZW52T2JqZWN0W2BBVVRIX1NFQ1JFVF8ke2l9YF07XG4gICAgICAgICAgICBpZiAoc2VjcmV0KVxuICAgICAgICAgICAgICAgIGNvbmZpZy5zZWNyZXQudW5zaGlmdChzZWNyZXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbmZpZy5yZWRpcmVjdFByb3h5VXJsID8/IChjb25maWcucmVkaXJlY3RQcm94eVVybCA9IGVudk9iamVjdC5BVVRIX1JFRElSRUNUX1BST1hZX1VSTCk7XG4gICAgY29uZmlnLnRydXN0SG9zdCA/PyAoY29uZmlnLnRydXN0SG9zdCA9ICEhKGVudk9iamVjdC5BVVRIX1VSTCA/P1xuICAgICAgICBlbnZPYmplY3QuQVVUSF9UUlVTVF9IT1NUID8/XG4gICAgICAgIGVudk9iamVjdC5WRVJDRUwgPz9cbiAgICAgICAgZW52T2JqZWN0LkNGX1BBR0VTID8/XG4gICAgICAgIGVudk9iamVjdC5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKTtcbiAgICBjb25maWcucHJvdmlkZXJzID0gY29uZmlnLnByb3ZpZGVycy5tYXAoKHApID0+IHtcbiAgICAgICAgY29uc3QgZmluYWxQcm92aWRlciA9IHR5cGVvZiBwID09PSBcImZ1bmN0aW9uXCIgPyBwKHt9KSA6IHA7XG4gICAgICAgIGNvbnN0IElEID0gZmluYWxQcm92aWRlci5pZC50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBpZiAoZmluYWxQcm92aWRlci50eXBlID09PSBcIm9hdXRoXCIgfHwgZmluYWxQcm92aWRlci50eXBlID09PSBcIm9pZGNcIikge1xuICAgICAgICAgICAgZmluYWxQcm92aWRlci5jbGllbnRJZCA/PyAoZmluYWxQcm92aWRlci5jbGllbnRJZCA9IGVudk9iamVjdFtgQVVUSF8ke0lEfV9JRGBdKTtcbiAgICAgICAgICAgIGZpbmFsUHJvdmlkZXIuY2xpZW50U2VjcmV0ID8/IChmaW5hbFByb3ZpZGVyLmNsaWVudFNlY3JldCA9IGVudk9iamVjdFtgQVVUSF8ke0lEfV9TRUNSRVRgXSk7XG4gICAgICAgICAgICBpZiAoZmluYWxQcm92aWRlci50eXBlID09PSBcIm9pZGNcIikge1xuICAgICAgICAgICAgICAgIGZpbmFsUHJvdmlkZXIuaXNzdWVyID8/IChmaW5hbFByb3ZpZGVyLmlzc3VlciA9IGVudk9iamVjdFtgQVVUSF8ke0lEfV9JU1NVRVJgXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZmluYWxQcm92aWRlci50eXBlID09PSBcImVtYWlsXCIpIHtcbiAgICAgICAgICAgIGZpbmFsUHJvdmlkZXIuYXBpS2V5ID8/IChmaW5hbFByb3ZpZGVyLmFwaUtleSA9IGVudk9iamVjdFtgQVVUSF8ke0lEfV9LRVlgXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpbmFsUHJvdmlkZXI7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQWN0aW9uVVJMKGFjdGlvbiwgcHJvdG9jb2wsIGhlYWRlcnMsIGVudk9iamVjdCwgYmFzZVBhdGgpIHtcbiAgICBsZXQgdXJsID0gZW52T2JqZWN0LkFVVEhfVVJMID8/IGVudk9iamVjdC5ORVhUQVVUSF9VUkw7XG4gICAgaWYgKCF1cmwpIHtcbiAgICAgICAgY29uc3QgaG9zdCA9IGhlYWRlcnMuZ2V0KFwieC1mb3J3YXJkZWQtaG9zdFwiKSA/PyBoZWFkZXJzLmdldChcImhvc3RcIik7XG4gICAgICAgIGlmICghaG9zdClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJNaXNzaW5nIGhvc3RcIik7XG4gICAgICAgIGNvbnN0IHByb3RvID0gaGVhZGVycy5nZXQoXCJ4LWZvcndhcmRlZC1wcm90b1wiKSA/PyBwcm90b2NvbDtcbiAgICAgICAgdXJsID0gYCR7cHJvdG8gPT09IFwiaHR0cFwiID8gXCJodHRwXCIgOiBcImh0dHBzXCJ9Oi8vJHtob3N0fSR7YmFzZVBhdGh9YDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBVUkwoYCR7dXJsLnJlcGxhY2UoL1xcLyQvLCBcIlwiKX0vJHthY3Rpb259YCk7XG59XG4iXSwibmFtZXMiOlsic2V0RW52RGVmYXVsdHMiLCJlbnZPYmplY3QiLCJjb25maWciLCJ1cmwiLCJBVVRIX1VSTCIsImJhc2VQYXRoIiwiVVJMIiwicGF0aG5hbWUiLCJzZWNyZXQiLCJsZW5ndGgiLCJBVVRIX1NFQ1JFVCIsInB1c2giLCJpIiwidW5zaGlmdCIsInJlZGlyZWN0UHJveHlVcmwiLCJBVVRIX1JFRElSRUNUX1BST1hZX1VSTCIsInRydXN0SG9zdCIsIkFVVEhfVFJVU1RfSE9TVCIsIlZFUkNFTCIsIkNGX1BBR0VTIiwiTk9ERV9FTlYiLCJwcm92aWRlcnMiLCJtYXAiLCJwIiwiZmluYWxQcm92aWRlciIsIklEIiwiaWQiLCJ0b1VwcGVyQ2FzZSIsInR5cGUiLCJjbGllbnRJZCIsImNsaWVudFNlY3JldCIsImlzc3VlciIsImFwaUtleSIsImNyZWF0ZUFjdGlvblVSTCIsImFjdGlvbiIsInByb3RvY29sIiwiaGVhZGVycyIsIk5FWFRBVVRIX1VSTCIsImhvc3QiLCJnZXQiLCJUeXBlRXJyb3IiLCJwcm90byIsInJlcGxhY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/lib/utils/env.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/lib/utils/logger.js":
/*!*****************************************************!*\
  !*** ./node_modules/@auth/core/lib/utils/logger.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   logger: () => (/* binding */ logger),\n/* harmony export */   setLogger: () => (/* binding */ setLogger)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../errors.js */ \"(action-browser)/./node_modules/@auth/core/errors.js\");\n\nconst red = \"\\x1b[31m\";\nconst yellow = \"\\x1b[33m\";\nconst grey = \"\\x1b[90m\";\nconst reset = \"\\x1b[0m\";\nconst logger = {\n    error (error) {\n        const name = error instanceof _errors_js__WEBPACK_IMPORTED_MODULE_0__.AuthError ? error.type : error.name;\n        console.error(`${red}[auth][error]${reset} ${name}: ${error.message}`);\n        if (error.cause && typeof error.cause === \"object\" && \"err\" in error.cause && error.cause.err instanceof Error) {\n            const { err, ...data } = error.cause;\n            console.error(`${red}[auth][cause]${reset}:`, err.stack);\n            if (data) console.error(`${red}[auth][details]${reset}:`, JSON.stringify(data, null, 2));\n        } else if (error.stack) {\n            console.error(error.stack.replace(/.*/, \"\").substring(1));\n        }\n    },\n    warn (code) {\n        const url = `https://warnings.authjs.dev#${code}`;\n        console.warn(`${yellow}[auth][warn][${code}]${reset}`, `Read more: ${url}`);\n    },\n    debug (message, metadata) {\n        console.log(`${grey}[auth][debug]:${reset} ${message}`, JSON.stringify(metadata, null, 2));\n    }\n};\n/**\n * Override the built-in logger with user's implementation.\n * Any `undefined` level will use the default logger.\n */ function setLogger(newLogger = {}, debug) {\n    // Turn off debug logging if `debug` isn't set to `true`\n    if (!debug) logger.debug = ()=>{};\n    if (newLogger.error) logger.error = newLogger.error;\n    if (newLogger.warn) logger.warn = newLogger.warn;\n    if (newLogger.debug) logger.debug = newLogger.debug;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi91dGlscy9sb2dnZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTRDO0FBQzVDLE1BQU1DLE1BQU07QUFDWixNQUFNQyxTQUFTO0FBQ2YsTUFBTUMsT0FBTztBQUNiLE1BQU1DLFFBQVE7QUFDUCxNQUFNQyxTQUFTO0lBQ2xCQyxPQUFNQSxLQUFLO1FBQ1AsTUFBTUMsT0FBT0QsaUJBQWlCTixpREFBU0EsR0FBR00sTUFBTUUsSUFBSSxHQUFHRixNQUFNQyxJQUFJO1FBQ2pFRSxRQUFRSCxLQUFLLENBQUMsQ0FBQyxFQUFFTCxJQUFJLGFBQWEsRUFBRUcsTUFBTSxDQUFDLEVBQUVHLEtBQUssRUFBRSxFQUFFRCxNQUFNSSxPQUFPLENBQUMsQ0FBQztRQUNyRSxJQUFJSixNQUFNSyxLQUFLLElBQ1gsT0FBT0wsTUFBTUssS0FBSyxLQUFLLFlBQ3ZCLFNBQVNMLE1BQU1LLEtBQUssSUFDcEJMLE1BQU1LLEtBQUssQ0FBQ0MsR0FBRyxZQUFZQyxPQUFPO1lBQ2xDLE1BQU0sRUFBRUQsR0FBRyxFQUFFLEdBQUdFLE1BQU0sR0FBR1IsTUFBTUssS0FBSztZQUNwQ0YsUUFBUUgsS0FBSyxDQUFDLENBQUMsRUFBRUwsSUFBSSxhQUFhLEVBQUVHLE1BQU0sQ0FBQyxDQUFDLEVBQUVRLElBQUlHLEtBQUs7WUFDdkQsSUFBSUQsTUFDQUwsUUFBUUgsS0FBSyxDQUFDLENBQUMsRUFBRUwsSUFBSSxlQUFlLEVBQUVHLE1BQU0sQ0FBQyxDQUFDLEVBQUVZLEtBQUtDLFNBQVMsQ0FBQ0gsTUFBTSxNQUFNO1FBQ25GLE9BQ0ssSUFBSVIsTUFBTVMsS0FBSyxFQUFFO1lBQ2xCTixRQUFRSCxLQUFLLENBQUNBLE1BQU1TLEtBQUssQ0FBQ0csT0FBTyxDQUFDLE1BQU0sSUFBSUMsU0FBUyxDQUFDO1FBQzFEO0lBQ0o7SUFDQUMsTUFBS0MsSUFBSTtRQUNMLE1BQU1DLE1BQU0sQ0FBQyw0QkFBNEIsRUFBRUQsS0FBSyxDQUFDO1FBQ2pEWixRQUFRVyxJQUFJLENBQUMsQ0FBQyxFQUFFbEIsT0FBTyxhQUFhLEVBQUVtQixLQUFLLENBQUMsRUFBRWpCLE1BQU0sQ0FBQyxFQUFFLENBQUMsV0FBVyxFQUFFa0IsSUFBSSxDQUFDO0lBQzlFO0lBQ0FDLE9BQU1iLE9BQU8sRUFBRWMsUUFBUTtRQUNuQmYsUUFBUWdCLEdBQUcsQ0FBQyxDQUFDLEVBQUV0QixLQUFLLGNBQWMsRUFBRUMsTUFBTSxDQUFDLEVBQUVNLFFBQVEsQ0FBQyxFQUFFTSxLQUFLQyxTQUFTLENBQUNPLFVBQVUsTUFBTTtJQUMzRjtBQUNKLEVBQUU7QUFDRjs7O0NBR0MsR0FDTSxTQUFTRSxVQUFVQyxZQUFZLENBQUMsQ0FBQyxFQUFFSixLQUFLO0lBQzNDLHdEQUF3RDtJQUN4RCxJQUFJLENBQUNBLE9BQ0RsQixPQUFPa0IsS0FBSyxHQUFHLEtBQVE7SUFDM0IsSUFBSUksVUFBVXJCLEtBQUssRUFDZkQsT0FBT0MsS0FBSyxHQUFHcUIsVUFBVXJCLEtBQUs7SUFDbEMsSUFBSXFCLFVBQVVQLElBQUksRUFDZGYsT0FBT2UsSUFBSSxHQUFHTyxVQUFVUCxJQUFJO0lBQ2hDLElBQUlPLFVBQVVKLEtBQUssRUFDZmxCLE9BQU9rQixLQUFLLEdBQUdJLFVBQVVKLEtBQUs7QUFDdEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LXJ4Ly4vbm9kZV9tb2R1bGVzL0BhdXRoL2NvcmUvbGliL3V0aWxzL2xvZ2dlci5qcz9kOTRiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEF1dGhFcnJvciB9IGZyb20gXCIuLi8uLi9lcnJvcnMuanNcIjtcbmNvbnN0IHJlZCA9IFwiXFx4MWJbMzFtXCI7XG5jb25zdCB5ZWxsb3cgPSBcIlxceDFiWzMzbVwiO1xuY29uc3QgZ3JleSA9IFwiXFx4MWJbOTBtXCI7XG5jb25zdCByZXNldCA9IFwiXFx4MWJbMG1cIjtcbmV4cG9ydCBjb25zdCBsb2dnZXIgPSB7XG4gICAgZXJyb3IoZXJyb3IpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IGVycm9yIGluc3RhbmNlb2YgQXV0aEVycm9yID8gZXJyb3IudHlwZSA6IGVycm9yLm5hbWU7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYCR7cmVkfVthdXRoXVtlcnJvcl0ke3Jlc2V0fSAke25hbWV9OiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgIGlmIChlcnJvci5jYXVzZSAmJlxuICAgICAgICAgICAgdHlwZW9mIGVycm9yLmNhdXNlID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgICBcImVyclwiIGluIGVycm9yLmNhdXNlICYmXG4gICAgICAgICAgICBlcnJvci5jYXVzZS5lcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgY29uc3QgeyBlcnIsIC4uLmRhdGEgfSA9IGVycm9yLmNhdXNlO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgJHtyZWR9W2F1dGhdW2NhdXNlXSR7cmVzZXR9OmAsIGVyci5zdGFjayk7XG4gICAgICAgICAgICBpZiAoZGF0YSlcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGAke3JlZH1bYXV0aF1bZGV0YWlsc10ke3Jlc2V0fTpgLCBKU09OLnN0cmluZ2lmeShkYXRhLCBudWxsLCAyKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXJyb3Iuc3RhY2spIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3Iuc3RhY2sucmVwbGFjZSgvLiovLCBcIlwiKS5zdWJzdHJpbmcoMSkpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB3YXJuKGNvZGUpIHtcbiAgICAgICAgY29uc3QgdXJsID0gYGh0dHBzOi8vd2FybmluZ3MuYXV0aGpzLmRldiMke2NvZGV9YDtcbiAgICAgICAgY29uc29sZS53YXJuKGAke3llbGxvd31bYXV0aF1bd2Fybl1bJHtjb2RlfV0ke3Jlc2V0fWAsIGBSZWFkIG1vcmU6ICR7dXJsfWApO1xuICAgIH0sXG4gICAgZGVidWcobWVzc2FnZSwgbWV0YWRhdGEpIHtcbiAgICAgICAgY29uc29sZS5sb2coYCR7Z3JleX1bYXV0aF1bZGVidWddOiR7cmVzZXR9ICR7bWVzc2FnZX1gLCBKU09OLnN0cmluZ2lmeShtZXRhZGF0YSwgbnVsbCwgMikpO1xuICAgIH0sXG59O1xuLyoqXG4gKiBPdmVycmlkZSB0aGUgYnVpbHQtaW4gbG9nZ2VyIHdpdGggdXNlcidzIGltcGxlbWVudGF0aW9uLlxuICogQW55IGB1bmRlZmluZWRgIGxldmVsIHdpbGwgdXNlIHRoZSBkZWZhdWx0IGxvZ2dlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldExvZ2dlcihuZXdMb2dnZXIgPSB7fSwgZGVidWcpIHtcbiAgICAvLyBUdXJuIG9mZiBkZWJ1ZyBsb2dnaW5nIGlmIGBkZWJ1Z2AgaXNuJ3Qgc2V0IHRvIGB0cnVlYFxuICAgIGlmICghZGVidWcpXG4gICAgICAgIGxvZ2dlci5kZWJ1ZyA9ICgpID0+IHsgfTtcbiAgICBpZiAobmV3TG9nZ2VyLmVycm9yKVxuICAgICAgICBsb2dnZXIuZXJyb3IgPSBuZXdMb2dnZXIuZXJyb3I7XG4gICAgaWYgKG5ld0xvZ2dlci53YXJuKVxuICAgICAgICBsb2dnZXIud2FybiA9IG5ld0xvZ2dlci53YXJuO1xuICAgIGlmIChuZXdMb2dnZXIuZGVidWcpXG4gICAgICAgIGxvZ2dlci5kZWJ1ZyA9IG5ld0xvZ2dlci5kZWJ1Zztcbn1cbiJdLCJuYW1lcyI6WyJBdXRoRXJyb3IiLCJyZWQiLCJ5ZWxsb3ciLCJncmV5IiwicmVzZXQiLCJsb2dnZXIiLCJlcnJvciIsIm5hbWUiLCJ0eXBlIiwiY29uc29sZSIsIm1lc3NhZ2UiLCJjYXVzZSIsImVyciIsIkVycm9yIiwiZGF0YSIsInN0YWNrIiwiSlNPTiIsInN0cmluZ2lmeSIsInJlcGxhY2UiLCJzdWJzdHJpbmciLCJ3YXJuIiwiY29kZSIsInVybCIsImRlYnVnIiwibWV0YWRhdGEiLCJsb2ciLCJzZXRMb2dnZXIiLCJuZXdMb2dnZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/lib/utils/logger.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/lib/utils/logger.js":
/*!*****************************************************!*\
  !*** ./node_modules/@auth/core/lib/utils/logger.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   logger: () => (/* binding */ logger),\n/* harmony export */   setLogger: () => (/* binding */ setLogger)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../errors.js */ \"(rsc)/./node_modules/@auth/core/errors.js\");\n\nconst red = \"\\x1b[31m\";\nconst yellow = \"\\x1b[33m\";\nconst grey = \"\\x1b[90m\";\nconst reset = \"\\x1b[0m\";\nconst logger = {\n    error (error) {\n        const name = error instanceof _errors_js__WEBPACK_IMPORTED_MODULE_0__.AuthError ? error.type : error.name;\n        console.error(`${red}[auth][error]${reset} ${name}: ${error.message}`);\n        if (error.cause && typeof error.cause === \"object\" && \"err\" in error.cause && error.cause.err instanceof Error) {\n            const { err, ...data } = error.cause;\n            console.error(`${red}[auth][cause]${reset}:`, err.stack);\n            if (data) console.error(`${red}[auth][details]${reset}:`, JSON.stringify(data, null, 2));\n        } else if (error.stack) {\n            console.error(error.stack.replace(/.*/, \"\").substring(1));\n        }\n    },\n    warn (code) {\n        const url = `https://warnings.authjs.dev#${code}`;\n        console.warn(`${yellow}[auth][warn][${code}]${reset}`, `Read more: ${url}`);\n    },\n    debug (message, metadata) {\n        console.log(`${grey}[auth][debug]:${reset} ${message}`, JSON.stringify(metadata, null, 2));\n    }\n};\n/**\n * Override the built-in logger with user's implementation.\n * Any `undefined` level will use the default logger.\n */ function setLogger(newLogger = {}, debug) {\n    // Turn off debug logging if `debug` isn't set to `true`\n    if (!debug) logger.debug = ()=>{};\n    if (newLogger.error) logger.error = newLogger.error;\n    if (newLogger.warn) logger.warn = newLogger.warn;\n    if (newLogger.debug) logger.debug = newLogger.debug;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvdXRpbHMvbG9nZ2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE0QztBQUM1QyxNQUFNQyxNQUFNO0FBQ1osTUFBTUMsU0FBUztBQUNmLE1BQU1DLE9BQU87QUFDYixNQUFNQyxRQUFRO0FBQ1AsTUFBTUMsU0FBUztJQUNsQkMsT0FBTUEsS0FBSztRQUNQLE1BQU1DLE9BQU9ELGlCQUFpQk4saURBQVNBLEdBQUdNLE1BQU1FLElBQUksR0FBR0YsTUFBTUMsSUFBSTtRQUNqRUUsUUFBUUgsS0FBSyxDQUFDLENBQUMsRUFBRUwsSUFBSSxhQUFhLEVBQUVHLE1BQU0sQ0FBQyxFQUFFRyxLQUFLLEVBQUUsRUFBRUQsTUFBTUksT0FBTyxDQUFDLENBQUM7UUFDckUsSUFBSUosTUFBTUssS0FBSyxJQUNYLE9BQU9MLE1BQU1LLEtBQUssS0FBSyxZQUN2QixTQUFTTCxNQUFNSyxLQUFLLElBQ3BCTCxNQUFNSyxLQUFLLENBQUNDLEdBQUcsWUFBWUMsT0FBTztZQUNsQyxNQUFNLEVBQUVELEdBQUcsRUFBRSxHQUFHRSxNQUFNLEdBQUdSLE1BQU1LLEtBQUs7WUFDcENGLFFBQVFILEtBQUssQ0FBQyxDQUFDLEVBQUVMLElBQUksYUFBYSxFQUFFRyxNQUFNLENBQUMsQ0FBQyxFQUFFUSxJQUFJRyxLQUFLO1lBQ3ZELElBQUlELE1BQ0FMLFFBQVFILEtBQUssQ0FBQyxDQUFDLEVBQUVMLElBQUksZUFBZSxFQUFFRyxNQUFNLENBQUMsQ0FBQyxFQUFFWSxLQUFLQyxTQUFTLENBQUNILE1BQU0sTUFBTTtRQUNuRixPQUNLLElBQUlSLE1BQU1TLEtBQUssRUFBRTtZQUNsQk4sUUFBUUgsS0FBSyxDQUFDQSxNQUFNUyxLQUFLLENBQUNHLE9BQU8sQ0FBQyxNQUFNLElBQUlDLFNBQVMsQ0FBQztRQUMxRDtJQUNKO0lBQ0FDLE1BQUtDLElBQUk7UUFDTCxNQUFNQyxNQUFNLENBQUMsNEJBQTRCLEVBQUVELEtBQUssQ0FBQztRQUNqRFosUUFBUVcsSUFBSSxDQUFDLENBQUMsRUFBRWxCLE9BQU8sYUFBYSxFQUFFbUIsS0FBSyxDQUFDLEVBQUVqQixNQUFNLENBQUMsRUFBRSxDQUFDLFdBQVcsRUFBRWtCLElBQUksQ0FBQztJQUM5RTtJQUNBQyxPQUFNYixPQUFPLEVBQUVjLFFBQVE7UUFDbkJmLFFBQVFnQixHQUFHLENBQUMsQ0FBQyxFQUFFdEIsS0FBSyxjQUFjLEVBQUVDLE1BQU0sQ0FBQyxFQUFFTSxRQUFRLENBQUMsRUFBRU0sS0FBS0MsU0FBUyxDQUFDTyxVQUFVLE1BQU07SUFDM0Y7QUFDSixFQUFFO0FBQ0Y7OztDQUdDLEdBQ00sU0FBU0UsVUFBVUMsWUFBWSxDQUFDLENBQUMsRUFBRUosS0FBSztJQUMzQyx3REFBd0Q7SUFDeEQsSUFBSSxDQUFDQSxPQUNEbEIsT0FBT2tCLEtBQUssR0FBRyxLQUFRO0lBQzNCLElBQUlJLFVBQVVyQixLQUFLLEVBQ2ZELE9BQU9DLEtBQUssR0FBR3FCLFVBQVVyQixLQUFLO0lBQ2xDLElBQUlxQixVQUFVUCxJQUFJLEVBQ2RmLE9BQU9lLElBQUksR0FBR08sVUFBVVAsSUFBSTtJQUNoQyxJQUFJTyxVQUFVSixLQUFLLEVBQ2ZsQixPQUFPa0IsS0FBSyxHQUFHSSxVQUFVSixLQUFLO0FBQ3RDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC1yeC8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi91dGlscy9sb2dnZXIuanM/ZDk0YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBdXRoRXJyb3IgfSBmcm9tIFwiLi4vLi4vZXJyb3JzLmpzXCI7XG5jb25zdCByZWQgPSBcIlxceDFiWzMxbVwiO1xuY29uc3QgeWVsbG93ID0gXCJcXHgxYlszM21cIjtcbmNvbnN0IGdyZXkgPSBcIlxceDFiWzkwbVwiO1xuY29uc3QgcmVzZXQgPSBcIlxceDFiWzBtXCI7XG5leHBvcnQgY29uc3QgbG9nZ2VyID0ge1xuICAgIGVycm9yKGVycm9yKSB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBlcnJvciBpbnN0YW5jZW9mIEF1dGhFcnJvciA/IGVycm9yLnR5cGUgOiBlcnJvci5uYW1lO1xuICAgICAgICBjb25zb2xlLmVycm9yKGAke3JlZH1bYXV0aF1bZXJyb3JdJHtyZXNldH0gJHtuYW1lfTogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgICBpZiAoZXJyb3IuY2F1c2UgJiZcbiAgICAgICAgICAgIHR5cGVvZiBlcnJvci5jYXVzZSA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICAgICAgXCJlcnJcIiBpbiBlcnJvci5jYXVzZSAmJlxuICAgICAgICAgICAgZXJyb3IuY2F1c2UuZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZXJyLCAuLi5kYXRhIH0gPSBlcnJvci5jYXVzZTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYCR7cmVkfVthdXRoXVtjYXVzZV0ke3Jlc2V0fTpgLCBlcnIuc3RhY2spO1xuICAgICAgICAgICAgaWYgKGRhdGEpXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgJHtyZWR9W2F1dGhdW2RldGFpbHNdJHtyZXNldH06YCwgSlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgMikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGVycm9yLnN0YWNrKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLnN0YWNrLnJlcGxhY2UoLy4qLywgXCJcIikuc3Vic3RyaW5nKDEpKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgd2Fybihjb2RlKSB7XG4gICAgICAgIGNvbnN0IHVybCA9IGBodHRwczovL3dhcm5pbmdzLmF1dGhqcy5kZXYjJHtjb2RlfWA7XG4gICAgICAgIGNvbnNvbGUud2FybihgJHt5ZWxsb3d9W2F1dGhdW3dhcm5dWyR7Y29kZX1dJHtyZXNldH1gLCBgUmVhZCBtb3JlOiAke3VybH1gKTtcbiAgICB9LFxuICAgIGRlYnVnKG1lc3NhZ2UsIG1ldGFkYXRhKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGAke2dyZXl9W2F1dGhdW2RlYnVnXToke3Jlc2V0fSAke21lc3NhZ2V9YCwgSlNPTi5zdHJpbmdpZnkobWV0YWRhdGEsIG51bGwsIDIpKTtcbiAgICB9LFxufTtcbi8qKlxuICogT3ZlcnJpZGUgdGhlIGJ1aWx0LWluIGxvZ2dlciB3aXRoIHVzZXIncyBpbXBsZW1lbnRhdGlvbi5cbiAqIEFueSBgdW5kZWZpbmVkYCBsZXZlbCB3aWxsIHVzZSB0aGUgZGVmYXVsdCBsb2dnZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRMb2dnZXIobmV3TG9nZ2VyID0ge30sIGRlYnVnKSB7XG4gICAgLy8gVHVybiBvZmYgZGVidWcgbG9nZ2luZyBpZiBgZGVidWdgIGlzbid0IHNldCB0byBgdHJ1ZWBcbiAgICBpZiAoIWRlYnVnKVxuICAgICAgICBsb2dnZXIuZGVidWcgPSAoKSA9PiB7IH07XG4gICAgaWYgKG5ld0xvZ2dlci5lcnJvcilcbiAgICAgICAgbG9nZ2VyLmVycm9yID0gbmV3TG9nZ2VyLmVycm9yO1xuICAgIGlmIChuZXdMb2dnZXIud2FybilcbiAgICAgICAgbG9nZ2VyLndhcm4gPSBuZXdMb2dnZXIud2FybjtcbiAgICBpZiAobmV3TG9nZ2VyLmRlYnVnKVxuICAgICAgICBsb2dnZXIuZGVidWcgPSBuZXdMb2dnZXIuZGVidWc7XG59XG4iXSwibmFtZXMiOlsiQXV0aEVycm9yIiwicmVkIiwieWVsbG93IiwiZ3JleSIsInJlc2V0IiwibG9nZ2VyIiwiZXJyb3IiLCJuYW1lIiwidHlwZSIsImNvbnNvbGUiLCJtZXNzYWdlIiwiY2F1c2UiLCJlcnIiLCJFcnJvciIsImRhdGEiLCJzdGFjayIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZXBsYWNlIiwic3Vic3RyaW5nIiwid2FybiIsImNvZGUiLCJ1cmwiLCJkZWJ1ZyIsIm1ldGFkYXRhIiwibG9nIiwic2V0TG9nZ2VyIiwibmV3TG9nZ2VyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/lib/utils/logger.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/lib/utils/merge.js":
/*!****************************************************!*\
  !*** ./node_modules/@auth/core/lib/utils/merge.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   merge: () => (/* binding */ merge)\n/* harmony export */ });\n// Source: https://stackoverflow.com/a/34749873/5364135\n/** Simple object check */ function isObject(item) {\n    return item && typeof item === \"object\" && !Array.isArray(item);\n}\n/** Deep merge two objects */ function merge(target, ...sources) {\n    if (!sources.length) return target;\n    const source = sources.shift();\n    if (isObject(target) && isObject(source)) {\n        for(const key in source){\n            if (isObject(source[key])) {\n                if (!target[key]) Object.assign(target, {\n                    [key]: {}\n                });\n                merge(target[key], source[key]);\n            } else {\n                Object.assign(target, {\n                    [key]: source[key]\n                });\n            }\n        }\n    }\n    return merge(target, ...sources);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi91dGlscy9tZXJnZS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsdURBQXVEO0FBQ3ZELHdCQUF3QixHQUN4QixTQUFTQSxTQUFTQyxJQUFJO0lBQ2xCLE9BQU9BLFFBQVEsT0FBT0EsU0FBUyxZQUFZLENBQUNDLE1BQU1DLE9BQU8sQ0FBQ0Y7QUFDOUQ7QUFDQSwyQkFBMkIsR0FDcEIsU0FBU0csTUFBTUMsTUFBTSxFQUFFLEdBQUdDLE9BQU87SUFDcEMsSUFBSSxDQUFDQSxRQUFRQyxNQUFNLEVBQ2YsT0FBT0Y7SUFDWCxNQUFNRyxTQUFTRixRQUFRRyxLQUFLO0lBQzVCLElBQUlULFNBQVNLLFdBQVdMLFNBQVNRLFNBQVM7UUFDdEMsSUFBSyxNQUFNRSxPQUFPRixPQUFRO1lBQ3RCLElBQUlSLFNBQVNRLE1BQU0sQ0FBQ0UsSUFBSSxHQUFHO2dCQUN2QixJQUFJLENBQUNMLE1BQU0sQ0FBQ0ssSUFBSSxFQUNaQyxPQUFPQyxNQUFNLENBQUNQLFFBQVE7b0JBQUUsQ0FBQ0ssSUFBSSxFQUFFLENBQUM7Z0JBQUU7Z0JBQ3RDTixNQUFNQyxNQUFNLENBQUNLLElBQUksRUFBRUYsTUFBTSxDQUFDRSxJQUFJO1lBQ2xDLE9BQ0s7Z0JBQ0RDLE9BQU9DLE1BQU0sQ0FBQ1AsUUFBUTtvQkFBRSxDQUFDSyxJQUFJLEVBQUVGLE1BQU0sQ0FBQ0UsSUFBSTtnQkFBQztZQUMvQztRQUNKO0lBQ0o7SUFDQSxPQUFPTixNQUFNQyxXQUFXQztBQUM1QiIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtcngvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvdXRpbHMvbWVyZ2UuanM/OTI3YSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTb3VyY2U6IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zNDc0OTg3My81MzY0MTM1XG4vKiogU2ltcGxlIG9iamVjdCBjaGVjayAqL1xuZnVuY3Rpb24gaXNPYmplY3QoaXRlbSkge1xuICAgIHJldHVybiBpdGVtICYmIHR5cGVvZiBpdGVtID09PSBcIm9iamVjdFwiICYmICFBcnJheS5pc0FycmF5KGl0ZW0pO1xufVxuLyoqIERlZXAgbWVyZ2UgdHdvIG9iamVjdHMgKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZSh0YXJnZXQsIC4uLnNvdXJjZXMpIHtcbiAgICBpZiAoIXNvdXJjZXMubGVuZ3RoKVxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIGNvbnN0IHNvdXJjZSA9IHNvdXJjZXMuc2hpZnQoKTtcbiAgICBpZiAoaXNPYmplY3QodGFyZ2V0KSAmJiBpc09iamVjdChzb3VyY2UpKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KHNvdXJjZVtrZXldKSkge1xuICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0W2tleV0pXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGFyZ2V0LCB7IFtrZXldOiB7fSB9KTtcbiAgICAgICAgICAgICAgICBtZXJnZSh0YXJnZXRba2V5XSwgc291cmNlW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0YXJnZXQsIHsgW2tleV06IHNvdXJjZVtrZXldIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtZXJnZSh0YXJnZXQsIC4uLnNvdXJjZXMpO1xufVxuIl0sIm5hbWVzIjpbImlzT2JqZWN0IiwiaXRlbSIsIkFycmF5IiwiaXNBcnJheSIsIm1lcmdlIiwidGFyZ2V0Iiwic291cmNlcyIsImxlbmd0aCIsInNvdXJjZSIsInNoaWZ0Iiwia2V5IiwiT2JqZWN0IiwiYXNzaWduIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/lib/utils/merge.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/lib/utils/merge.js":
/*!****************************************************!*\
  !*** ./node_modules/@auth/core/lib/utils/merge.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   merge: () => (/* binding */ merge)\n/* harmony export */ });\n// Source: https://stackoverflow.com/a/34749873/5364135\n/** Simple object check */ function isObject(item) {\n    return item && typeof item === \"object\" && !Array.isArray(item);\n}\n/** Deep merge two objects */ function merge(target, ...sources) {\n    if (!sources.length) return target;\n    const source = sources.shift();\n    if (isObject(target) && isObject(source)) {\n        for(const key in source){\n            if (isObject(source[key])) {\n                if (!target[key]) Object.assign(target, {\n                    [key]: {}\n                });\n                merge(target[key], source[key]);\n            } else {\n                Object.assign(target, {\n                    [key]: source[key]\n                });\n            }\n        }\n    }\n    return merge(target, ...sources);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvdXRpbHMvbWVyZ2UuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLHVEQUF1RDtBQUN2RCx3QkFBd0IsR0FDeEIsU0FBU0EsU0FBU0MsSUFBSTtJQUNsQixPQUFPQSxRQUFRLE9BQU9BLFNBQVMsWUFBWSxDQUFDQyxNQUFNQyxPQUFPLENBQUNGO0FBQzlEO0FBQ0EsMkJBQTJCLEdBQ3BCLFNBQVNHLE1BQU1DLE1BQU0sRUFBRSxHQUFHQyxPQUFPO0lBQ3BDLElBQUksQ0FBQ0EsUUFBUUMsTUFBTSxFQUNmLE9BQU9GO0lBQ1gsTUFBTUcsU0FBU0YsUUFBUUcsS0FBSztJQUM1QixJQUFJVCxTQUFTSyxXQUFXTCxTQUFTUSxTQUFTO1FBQ3RDLElBQUssTUFBTUUsT0FBT0YsT0FBUTtZQUN0QixJQUFJUixTQUFTUSxNQUFNLENBQUNFLElBQUksR0FBRztnQkFDdkIsSUFBSSxDQUFDTCxNQUFNLENBQUNLLElBQUksRUFDWkMsT0FBT0MsTUFBTSxDQUFDUCxRQUFRO29CQUFFLENBQUNLLElBQUksRUFBRSxDQUFDO2dCQUFFO2dCQUN0Q04sTUFBTUMsTUFBTSxDQUFDSyxJQUFJLEVBQUVGLE1BQU0sQ0FBQ0UsSUFBSTtZQUNsQyxPQUNLO2dCQUNEQyxPQUFPQyxNQUFNLENBQUNQLFFBQVE7b0JBQUUsQ0FBQ0ssSUFBSSxFQUFFRixNQUFNLENBQUNFLElBQUk7Z0JBQUM7WUFDL0M7UUFDSjtJQUNKO0lBQ0EsT0FBT04sTUFBTUMsV0FBV0M7QUFDNUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LXJ4Ly4vbm9kZV9tb2R1bGVzL0BhdXRoL2NvcmUvbGliL3V0aWxzL21lcmdlLmpzPzkyN2EiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU291cmNlOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzQ3NDk4NzMvNTM2NDEzNVxuLyoqIFNpbXBsZSBvYmplY3QgY2hlY2sgKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KGl0ZW0pIHtcbiAgICByZXR1cm4gaXRlbSAmJiB0eXBlb2YgaXRlbSA9PT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheShpdGVtKTtcbn1cbi8qKiBEZWVwIG1lcmdlIHR3byBvYmplY3RzICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2UodGFyZ2V0LCAuLi5zb3VyY2VzKSB7XG4gICAgaWYgKCFzb3VyY2VzLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICBjb25zdCBzb3VyY2UgPSBzb3VyY2VzLnNoaWZ0KCk7XG4gICAgaWYgKGlzT2JqZWN0KHRhcmdldCkgJiYgaXNPYmplY3Qoc291cmNlKSkge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgIGlmIChpc09iamVjdChzb3VyY2Vba2V5XSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRhcmdldFtrZXldKVxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHRhcmdldCwgeyBba2V5XToge30gfSk7XG4gICAgICAgICAgICAgICAgbWVyZ2UodGFyZ2V0W2tleV0sIHNvdXJjZVtrZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGFyZ2V0LCB7IFtrZXldOiBzb3VyY2Vba2V5XSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVyZ2UodGFyZ2V0LCAuLi5zb3VyY2VzKTtcbn1cbiJdLCJuYW1lcyI6WyJpc09iamVjdCIsIml0ZW0iLCJBcnJheSIsImlzQXJyYXkiLCJtZXJnZSIsInRhcmdldCIsInNvdXJjZXMiLCJsZW5ndGgiLCJzb3VyY2UiLCJzaGlmdCIsImtleSIsIk9iamVjdCIsImFzc2lnbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/lib/utils/merge.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/lib/utils/providers.js":
/*!********************************************************!*\
  !*** ./node_modules/@auth/core/lib/utils/providers.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ parseProviders)\n/* harmony export */ });\n/* harmony import */ var _merge_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./merge.js */ \"(action-browser)/./node_modules/@auth/core/lib/utils/merge.js\");\n\n/**\n * Adds `signinUrl` and `callbackUrl` to each provider\n * and deep merge user-defined options.\n */ function parseProviders(params) {\n    const { providerId, options } = params;\n    const url = new URL(options.basePath ?? \"/auth\", params.url.origin);\n    const providers = params.providers.map((p)=>{\n        const provider = typeof p === \"function\" ? p() : p;\n        const { options: userOptions, ...defaults } = provider;\n        const id = userOptions?.id ?? defaults.id;\n        const merged = (0,_merge_js__WEBPACK_IMPORTED_MODULE_0__.merge)(defaults, userOptions, {\n            signinUrl: `${url}/signin/${id}`,\n            callbackUrl: `${url}/callback/${id}`\n        });\n        if (provider.type === \"oauth\" || provider.type === \"oidc\") {\n            merged.redirectProxyUrl ?? (merged.redirectProxyUrl = options.redirectProxyUrl);\n            return normalizeOAuth(merged);\n        }\n        return merged;\n    });\n    return {\n        providers,\n        provider: providers.find(({ id })=>id === providerId)\n    };\n}\n// TODO: Also add discovery here, if some endpoints/config are missing.\n// We should return both a client and authorization server config.\nfunction normalizeOAuth(c) {\n    if (c.issuer) c.wellKnown ?? (c.wellKnown = `${c.issuer}/.well-known/openid-configuration`);\n    const authorization = normalizeEndpoint(c.authorization, c.issuer);\n    if (authorization && !authorization.url?.searchParams.has(\"scope\")) {\n        authorization.url.searchParams.set(\"scope\", \"openid profile email\");\n    }\n    const token = normalizeEndpoint(c.token, c.issuer);\n    const userinfo = normalizeEndpoint(c.userinfo, c.issuer);\n    const checks = c.checks ?? [\n        \"pkce\"\n    ];\n    if (c.redirectProxyUrl) {\n        if (!checks.includes(\"state\")) checks.push(\"state\");\n        c.redirectProxyUrl = `${c.redirectProxyUrl}/callback/${c.id}`;\n    }\n    return {\n        ...c,\n        authorization,\n        token,\n        checks,\n        userinfo,\n        profile: c.profile ?? defaultProfile,\n        account: c.account ?? defaultAccount\n    };\n}\n/**\n * Returns basic user profile from the userinfo response/`id_token` claims.\n * The returned `id` will become the `account.providerAccountId`. `user.id`\n * and `account.id` are auto-generated UUID's.\n *\n * The result if this function is used to create the `User` in the database.\n * @see https://authjs.dev/reference/core/adapters#user\n * @see https://openid.net/specs/openid-connect-core-1_0.html#IDToken\n * @see https://openid.net/specs/openid-connect-core-1_0.html#\n */ const defaultProfile = (profile)=>{\n    return stripUndefined({\n        id: profile.sub ?? profile.id ?? crypto.randomUUID(),\n        name: profile.name ?? profile.nickname ?? profile.preferred_username,\n        email: profile.email,\n        image: profile.picture\n    });\n};\n/**\n * Returns basic OAuth/OIDC values from the token response.\n * @see https://www.ietf.org/rfc/rfc6749.html#section-5.1\n * @see https://openid.net/specs/openid-connect-core-1_0.html#TokenResponse\n * @see https://authjs.dev/reference/core/adapters#account\n */ const defaultAccount = (account)=>{\n    return stripUndefined({\n        access_token: account.access_token,\n        id_token: account.id_token,\n        refresh_token: account.refresh_token,\n        expires_at: account.expires_at,\n        scope: account.scope,\n        token_type: account.token_type,\n        session_state: account.session_state\n    });\n};\nfunction stripUndefined(o) {\n    const result = {};\n    for (let [k, v] of Object.entries(o))v !== undefined && (result[k] = v);\n    return result;\n}\nfunction normalizeEndpoint(e, issuer) {\n    if (!e && issuer) return;\n    if (typeof e === \"string\") {\n        return {\n            url: new URL(e)\n        };\n    }\n    // If e.url is undefined, it's because the provider config\n    // assumes that we will use the issuer endpoint.\n    // The existence of either e.url or provider.issuer is checked in\n    // assert.ts. We fallback to \"https://authjs.dev\" to be able to pass around\n    // a valid URL even if the user only provided params.\n    // NOTE: This need to be checked when constructing the URL\n    // for the authorization, token and userinfo endpoints.\n    const url = new URL(e?.url ?? \"https://authjs.dev\");\n    if (e?.params != null) {\n        for (let [key, value] of Object.entries(e.params)){\n            if (key === \"claims\") value = JSON.stringify(value);\n            url.searchParams.set(key, String(value));\n        }\n    }\n    return {\n        url,\n        request: e?.request,\n        conform: e?.conform\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi91dGlscy9wcm92aWRlcnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBbUM7QUFDbkM7OztDQUdDLEdBQ2MsU0FBU0MsZUFBZUMsTUFBTTtJQUN6QyxNQUFNLEVBQUVDLFVBQVUsRUFBRUMsT0FBTyxFQUFFLEdBQUdGO0lBQ2hDLE1BQU1HLE1BQU0sSUFBSUMsSUFBSUYsUUFBUUcsUUFBUSxJQUFJLFNBQVNMLE9BQU9HLEdBQUcsQ0FBQ0csTUFBTTtJQUNsRSxNQUFNQyxZQUFZUCxPQUFPTyxTQUFTLENBQUNDLEdBQUcsQ0FBQyxDQUFDQztRQUNwQyxNQUFNQyxXQUFXLE9BQU9ELE1BQU0sYUFBYUEsTUFBTUE7UUFDakQsTUFBTSxFQUFFUCxTQUFTUyxXQUFXLEVBQUUsR0FBR0MsVUFBVSxHQUFHRjtRQUM5QyxNQUFNRyxLQUFNRixhQUFhRSxNQUFNRCxTQUFTQyxFQUFFO1FBQzFDLE1BQU1DLFNBQVNoQixnREFBS0EsQ0FBQ2MsVUFBVUQsYUFBYTtZQUN4Q0ksV0FBVyxDQUFDLEVBQUVaLElBQUksUUFBUSxFQUFFVSxHQUFHLENBQUM7WUFDaENHLGFBQWEsQ0FBQyxFQUFFYixJQUFJLFVBQVUsRUFBRVUsR0FBRyxDQUFDO1FBQ3hDO1FBQ0EsSUFBSUgsU0FBU08sSUFBSSxLQUFLLFdBQVdQLFNBQVNPLElBQUksS0FBSyxRQUFRO1lBQ3ZESCxPQUFPSSxnQkFBZ0IsSUFBS0osQ0FBQUEsT0FBT0ksZ0JBQWdCLEdBQUdoQixRQUFRZ0IsZ0JBQWdCO1lBQzlFLE9BQU9DLGVBQWVMO1FBQzFCO1FBQ0EsT0FBT0E7SUFDWDtJQUNBLE9BQU87UUFDSFA7UUFDQUcsVUFBVUgsVUFBVWEsSUFBSSxDQUFDLENBQUMsRUFBRVAsRUFBRSxFQUFFLEdBQUtBLE9BQU9aO0lBQ2hEO0FBQ0o7QUFDQSx1RUFBdUU7QUFDdkUsa0VBQWtFO0FBQ2xFLFNBQVNrQixlQUFlRSxDQUFDO0lBQ3JCLElBQUlB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M0I3RCxJQUFJdUIsWUFBWSxDQUFDRSxHQUFHLENBQUNtQyxLQUFLSSxPQUFPSDtRQUNyQztJQUNKO0lBQ0EsT0FBTztRQUFFN0Q7UUFBS2lFLFNBQVNOLEdBQUdNO1FBQVNDLFNBQVNQLEdBQUdPO0lBQVE7QUFDM0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LXJ4Ly4vbm9kZV9tb2R1bGVzL0BhdXRoL2NvcmUvbGliL3V0aWxzL3Byb3ZpZGVycy5qcz9kZGJkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1lcmdlIH0gZnJvbSBcIi4vbWVyZ2UuanNcIjtcbi8qKlxuICogQWRkcyBgc2lnbmluVXJsYCBhbmQgYGNhbGxiYWNrVXJsYCB0byBlYWNoIHByb3ZpZGVyXG4gKiBhbmQgZGVlcCBtZXJnZSB1c2VyLWRlZmluZWQgb3B0aW9ucy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcGFyc2VQcm92aWRlcnMocGFyYW1zKSB7XG4gICAgY29uc3QgeyBwcm92aWRlcklkLCBvcHRpb25zIH0gPSBwYXJhbXM7XG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChvcHRpb25zLmJhc2VQYXRoID8/IFwiL2F1dGhcIiwgcGFyYW1zLnVybC5vcmlnaW4pO1xuICAgIGNvbnN0IHByb3ZpZGVycyA9IHBhcmFtcy5wcm92aWRlcnMubWFwKChwKSA9PiB7XG4gICAgICAgIGNvbnN0IHByb3ZpZGVyID0gdHlwZW9mIHAgPT09IFwiZnVuY3Rpb25cIiA/IHAoKSA6IHA7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9uczogdXNlck9wdGlvbnMsIC4uLmRlZmF1bHRzIH0gPSBwcm92aWRlcjtcbiAgICAgICAgY29uc3QgaWQgPSAodXNlck9wdGlvbnM/LmlkID8/IGRlZmF1bHRzLmlkKTtcbiAgICAgICAgY29uc3QgbWVyZ2VkID0gbWVyZ2UoZGVmYXVsdHMsIHVzZXJPcHRpb25zLCB7XG4gICAgICAgICAgICBzaWduaW5Vcmw6IGAke3VybH0vc2lnbmluLyR7aWR9YCxcbiAgICAgICAgICAgIGNhbGxiYWNrVXJsOiBgJHt1cmx9L2NhbGxiYWNrLyR7aWR9YCxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChwcm92aWRlci50eXBlID09PSBcIm9hdXRoXCIgfHwgcHJvdmlkZXIudHlwZSA9PT0gXCJvaWRjXCIpIHtcbiAgICAgICAgICAgIG1lcmdlZC5yZWRpcmVjdFByb3h5VXJsID8/IChtZXJnZWQucmVkaXJlY3RQcm94eVVybCA9IG9wdGlvbnMucmVkaXJlY3RQcm94eVVybCk7XG4gICAgICAgICAgICByZXR1cm4gbm9ybWFsaXplT0F1dGgobWVyZ2VkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVyZ2VkO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHByb3ZpZGVycyxcbiAgICAgICAgcHJvdmlkZXI6IHByb3ZpZGVycy5maW5kKCh7IGlkIH0pID0+IGlkID09PSBwcm92aWRlcklkKSxcbiAgICB9O1xufVxuLy8gVE9ETzogQWxzbyBhZGQgZGlzY292ZXJ5IGhlcmUsIGlmIHNvbWUgZW5kcG9pbnRzL2NvbmZpZyBhcmUgbWlzc2luZy5cbi8vIFdlIHNob3VsZCByZXR1cm4gYm90aCBhIGNsaWVudCBhbmQgYXV0aG9yaXphdGlvbiBzZXJ2ZXIgY29uZmlnLlxuZnVuY3Rpb24gbm9ybWFsaXplT0F1dGgoYykge1xuICAgIGlmIChjLmlzc3VlcilcbiAgICAgICAgYy53ZWxsS25vd24gPz8gKGMud2VsbEtub3duID0gYCR7Yy5pc3N1ZXJ9Ly53ZWxsLWtub3duL29wZW5pZC1jb25maWd1cmF0aW9uYCk7XG4gICAgY29uc3QgYXV0aG9yaXphdGlvbiA9IG5vcm1hbGl6ZUVuZHBvaW50KGMuYXV0aG9yaXphdGlvbiwgYy5pc3N1ZXIpO1xuICAgIGlmIChhdXRob3JpemF0aW9uICYmICFhdXRob3JpemF0aW9uLnVybD8uc2VhcmNoUGFyYW1zLmhhcyhcInNjb3BlXCIpKSB7XG4gICAgICAgIGF1dGhvcml6YXRpb24udXJsLnNlYXJjaFBhcmFtcy5zZXQoXCJzY29wZVwiLCBcIm9wZW5pZCBwcm9maWxlIGVtYWlsXCIpO1xuICAgIH1cbiAgICBjb25zdCB0b2tlbiA9IG5vcm1hbGl6ZUVuZHBvaW50KGMudG9rZW4sIGMuaXNzdWVyKTtcbiAgICBjb25zdCB1c2VyaW5mbyA9IG5vcm1hbGl6ZUVuZHBvaW50KGMudXNlcmluZm8sIGMuaXNzdWVyKTtcbiAgICBjb25zdCBjaGVja3MgPSBjLmNoZWNrcyA/PyBbXCJwa2NlXCJdO1xuICAgIGlmIChjLnJlZGlyZWN0UHJveHlVcmwpIHtcbiAgICAgICAgaWYgKCFjaGVja3MuaW5jbHVkZXMoXCJzdGF0ZVwiKSlcbiAgICAgICAgICAgIGNoZWNrcy5wdXNoKFwic3RhdGVcIik7XG4gICAgICAgIGMucmVkaXJlY3RQcm94eVVybCA9IGAke2MucmVkaXJlY3RQcm94eVVybH0vY2FsbGJhY2svJHtjLmlkfWA7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmMsXG4gICAgICAgIGF1dGhvcml6YXRpb24sXG4gICAgICAgIHRva2VuLFxuICAgICAgICBjaGVja3MsXG4gICAgICAgIHVzZXJpbmZvLFxuICAgICAgICBwcm9maWxlOiBjLnByb2ZpbGUgPz8gZGVmYXVsdFByb2ZpbGUsXG4gICAgICAgIGFjY291bnQ6IGMuYWNjb3VudCA/PyBkZWZhdWx0QWNjb3VudCxcbiAgICB9O1xufVxuLyoqXG4gKiBSZXR1cm5zIGJhc2ljIHVzZXIgcHJvZmlsZSBmcm9tIHRoZSB1c2VyaW5mbyByZXNwb25zZS9gaWRfdG9rZW5gIGNsYWltcy5cbiAqIFRoZSByZXR1cm5lZCBgaWRgIHdpbGwgYmVjb21lIHRoZSBgYWNjb3VudC5wcm92aWRlckFjY291bnRJZGAuIGB1c2VyLmlkYFxuICogYW5kIGBhY2NvdW50LmlkYCBhcmUgYXV0by1nZW5lcmF0ZWQgVVVJRCdzLlxuICpcbiAqIFRoZSByZXN1bHQgaWYgdGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGNyZWF0ZSB0aGUgYFVzZXJgIGluIHRoZSBkYXRhYmFzZS5cbiAqIEBzZWUgaHR0cHM6Ly9hdXRoanMuZGV2L3JlZmVyZW5jZS9jb3JlL2FkYXB0ZXJzI3VzZXJcbiAqIEBzZWUgaHR0cHM6Ly9vcGVuaWQubmV0L3NwZWNzL29wZW5pZC1jb25uZWN0LWNvcmUtMV8wLmh0bWwjSURUb2tlblxuICogQHNlZSBodHRwczovL29wZW5pZC5uZXQvc3BlY3Mvb3BlbmlkLWNvbm5lY3QtY29yZS0xXzAuaHRtbCNcbiAqL1xuY29uc3QgZGVmYXVsdFByb2ZpbGUgPSAocHJvZmlsZSkgPT4ge1xuICAgIHJldHVybiBzdHJpcFVuZGVmaW5lZCh7XG4gICAgICAgIGlkOiBwcm9maWxlLnN1YiA/PyBwcm9maWxlLmlkID8/IGNyeXB0by5yYW5kb21VVUlEKCksXG4gICAgICAgIG5hbWU6IHByb2ZpbGUubmFtZSA/PyBwcm9maWxlLm5pY2tuYW1lID8/IHByb2ZpbGUucHJlZmVycmVkX3VzZXJuYW1lLFxuICAgICAgICBlbWFpbDogcHJvZmlsZS5lbWFpbCxcbiAgICAgICAgaW1hZ2U6IHByb2ZpbGUucGljdHVyZSxcbiAgICB9KTtcbn07XG4vKipcbiAqIFJldHVybnMgYmFzaWMgT0F1dGgvT0lEQyB2YWx1ZXMgZnJvbSB0aGUgdG9rZW4gcmVzcG9uc2UuXG4gKiBAc2VlIGh0dHBzOi8vd3d3LmlldGYub3JnL3JmYy9yZmM2NzQ5Lmh0bWwjc2VjdGlvbi01LjFcbiAqIEBzZWUgaHR0cHM6Ly9vcGVuaWQubmV0L3NwZWNzL29wZW5pZC1jb25uZWN0LWNvcmUtMV8wLmh0bWwjVG9rZW5SZXNwb25zZVxuICogQHNlZSBodHRwczovL2F1dGhqcy5kZXYvcmVmZXJlbmNlL2NvcmUvYWRhcHRlcnMjYWNjb3VudFxuICovXG5jb25zdCBkZWZhdWx0QWNjb3VudCA9IChhY2NvdW50KSA9PiB7XG4gICAgcmV0dXJuIHN0cmlwVW5kZWZpbmVkKHtcbiAgICAgICAgYWNjZXNzX3Rva2VuOiBhY2NvdW50LmFjY2Vzc190b2tlbixcbiAgICAgICAgaWRfdG9rZW46IGFjY291bnQuaWRfdG9rZW4sXG4gICAgICAgIHJlZnJlc2hfdG9rZW46IGFjY291bnQucmVmcmVzaF90b2tlbixcbiAgICAgICAgZXhwaXJlc19hdDogYWNjb3VudC5leHBpcmVzX2F0LFxuICAgICAgICBzY29wZTogYWNjb3VudC5zY29wZSxcbiAgICAgICAgdG9rZW5fdHlwZTogYWNjb3VudC50b2tlbl90eXBlLFxuICAgICAgICBzZXNzaW9uX3N0YXRlOiBhY2NvdW50LnNlc3Npb25fc3RhdGUsXG4gICAgfSk7XG59O1xuZnVuY3Rpb24gc3RyaXBVbmRlZmluZWQobykge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGZvciAobGV0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhvKSlcbiAgICAgICAgdiAhPT0gdW5kZWZpbmVkICYmIChyZXN1bHRba10gPSB2KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gbm9ybWFsaXplRW5kcG9pbnQoZSwgaXNzdWVyKSB7XG4gICAgaWYgKCFlICYmIGlzc3VlcilcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmICh0eXBlb2YgZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4geyB1cmw6IG5ldyBVUkwoZSkgfTtcbiAgICB9XG4gICAgLy8gSWYgZS51cmwgaXMgdW5kZWZpbmVkLCBpdCdzIGJlY2F1c2UgdGhlIHByb3ZpZGVyIGNvbmZpZ1xuICAgIC8vIGFzc3VtZXMgdGhhdCB3ZSB3aWxsIHVzZSB0aGUgaXNzdWVyIGVuZHBvaW50LlxuICAgIC8vIFRoZSBleGlzdGVuY2Ugb2YgZWl0aGVyIGUudXJsIG9yIHByb3ZpZGVyLmlzc3VlciBpcyBjaGVja2VkIGluXG4gICAgLy8gYXNzZXJ0LnRzLiBXZSBmYWxsYmFjayB0byBcImh0dHBzOi8vYXV0aGpzLmRldlwiIHRvIGJlIGFibGUgdG8gcGFzcyBhcm91bmRcbiAgICAvLyBhIHZhbGlkIFVSTCBldmVuIGlmIHRoZSB1c2VyIG9ubHkgcHJvdmlkZWQgcGFyYW1zLlxuICAgIC8vIE5PVEU6IFRoaXMgbmVlZCB0byBiZSBjaGVja2VkIHdoZW4gY29uc3RydWN0aW5nIHRoZSBVUkxcbiAgICAvLyBmb3IgdGhlIGF1dGhvcml6YXRpb24sIHRva2VuIGFuZCB1c2VyaW5mbyBlbmRwb2ludHMuXG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChlPy51cmwgPz8gXCJodHRwczovL2F1dGhqcy5kZXZcIik7XG4gICAgaWYgKGU/LnBhcmFtcyAhPSBudWxsKSB7XG4gICAgICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhlLnBhcmFtcykpIHtcbiAgICAgICAgICAgIGlmIChrZXkgPT09IFwiY2xhaW1zXCIpXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldChrZXksIFN0cmluZyh2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IHVybCwgcmVxdWVzdDogZT8ucmVxdWVzdCwgY29uZm9ybTogZT8uY29uZm9ybSB9O1xufVxuIl0sIm5hbWVzIjpbIm1lcmdlIiwicGFyc2VQcm92aWRlcnMiLCJwYXJhbXMiLCJwcm92aWRlcklkIiwib3B0aW9ucyIsInVybCIsIlVSTCIsImJhc2VQYXRoIiwib3JpZ2luIiwicHJvdmlkZXJzIiwibWFwIiwicCIsInByb3ZpZGVyIiwidXNlck9wdGlvbnMiLCJkZWZhdWx0cyIsImlkIiwibWVyZ2VkIiwic2lnbmluVXJsIiwiY2FsbGJhY2tVcmwiLCJ0eXBlIiwicmVkaXJlY3RQcm94eVVybCIsIm5vcm1hbGl6ZU9BdXRoIiwiZmluZCIsImMiLCJpc3N1ZXIiLCJ3ZWxsS25vd24iLCJhdXRob3JpemF0aW9uIiwibm9ybWFsaXplRW5kcG9pbnQiLCJzZWFyY2hQYXJhbXMiLCJoYXMiLCJzZXQiLCJ0b2tlbiIsInVzZXJpbmZvIiwiY2hlY2tzIiwiaW5jbHVkZXMiLCJwdXNoIiwicHJvZmlsZSIsImRlZmF1bHRQcm9maWxlIiwiYWNjb3VudCIsImRlZmF1bHRBY2NvdW50Iiwic3RyaXBVbmRlZmluZWQiLCJzdWIiLCJjcnlwdG8iLCJyYW5kb21VVUlEIiwibmFtZSIsIm5pY2tuYW1lIiwicHJlZmVycmVkX3VzZXJuYW1lIiwiZW1haWwiLCJpbWFnZSIsInBpY3R1cmUiLCJhY2Nlc3NfdG9rZW4iLCJpZF90b2tlbiIsInJlZnJlc2hfdG9rZW4iLCJleHBpcmVzX2F0Iiwic2NvcGUiLCJ0b2tlbl90eXBlIiwic2Vzc2lvbl9zdGF0ZSIsIm8iLCJyZXN1bHQiLCJrIiwidiIsIk9iamVjdCIsImVudHJpZXMiLCJ1bmRlZmluZWQiLCJlIiwia2V5IiwidmFsdWUiLCJKU09OIiwic3RyaW5naWZ5IiwiU3RyaW5nIiwicmVxdWVzdCIsImNvbmZvcm0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/lib/utils/providers.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/lib/utils/providers.js":
/*!********************************************************!*\
  !*** ./node_modules/@auth/core/lib/utils/providers.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ parseProviders)\n/* harmony export */ });\n/* harmony import */ var _merge_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./merge.js */ \"(rsc)/./node_modules/@auth/core/lib/utils/merge.js\");\n\n/**\n * Adds `signinUrl` and `callbackUrl` to each provider\n * and deep merge user-defined options.\n */ function parseProviders(params) {\n    const { providerId, options } = params;\n    const url = new URL(options.basePath ?? \"/auth\", params.url.origin);\n    const providers = params.providers.map((p)=>{\n        const provider = typeof p === \"function\" ? p() : p;\n        const { options: userOptions, ...defaults } = provider;\n        const id = userOptions?.id ?? defaults.id;\n        const merged = (0,_merge_js__WEBPACK_IMPORTED_MODULE_0__.merge)(defaults, userOptions, {\n            signinUrl: `${url}/signin/${id}`,\n            callbackUrl: `${url}/callback/${id}`\n        });\n        if (provider.type === \"oauth\" || provider.type === \"oidc\") {\n            merged.redirectProxyUrl ?? (merged.redirectProxyUrl = options.redirectProxyUrl);\n            return normalizeOAuth(merged);\n        }\n        return merged;\n    });\n    return {\n        providers,\n        provider: providers.find(({ id })=>id === providerId)\n    };\n}\n// TODO: Also add discovery here, if some endpoints/config are missing.\n// We should return both a client and authorization server config.\nfunction normalizeOAuth(c) {\n    if (c.issuer) c.wellKnown ?? (c.wellKnown = `${c.issuer}/.well-known/openid-configuration`);\n    const authorization = normalizeEndpoint(c.authorization, c.issuer);\n    if (authorization && !authorization.url?.searchParams.has(\"scope\")) {\n        authorization.url.searchParams.set(\"scope\", \"openid profile email\");\n    }\n    const token = normalizeEndpoint(c.token, c.issuer);\n    const userinfo = normalizeEndpoint(c.userinfo, c.issuer);\n    const checks = c.checks ?? [\n        \"pkce\"\n    ];\n    if (c.redirectProxyUrl) {\n        if (!checks.includes(\"state\")) checks.push(\"state\");\n        c.redirectProxyUrl = `${c.redirectProxyUrl}/callback/${c.id}`;\n    }\n    return {\n        ...c,\n        authorization,\n        token,\n        checks,\n        userinfo,\n        profile: c.profile ?? defaultProfile,\n        account: c.account ?? defaultAccount\n    };\n}\n/**\n * Returns basic user profile from the userinfo response/`id_token` claims.\n * The returned `id` will become the `account.providerAccountId`. `user.id`\n * and `account.id` are auto-generated UUID's.\n *\n * The result if this function is used to create the `User` in the database.\n * @see https://authjs.dev/reference/core/adapters#user\n * @see https://openid.net/specs/openid-connect-core-1_0.html#IDToken\n * @see https://openid.net/specs/openid-connect-core-1_0.html#\n */ const defaultProfile = (profile)=>{\n    return stripUndefined({\n        id: profile.sub ?? profile.id ?? crypto.randomUUID(),\n        name: profile.name ?? profile.nickname ?? profile.preferred_username,\n        email: profile.email,\n        image: profile.picture\n    });\n};\n/**\n * Returns basic OAuth/OIDC values from the token response.\n * @see https://www.ietf.org/rfc/rfc6749.html#section-5.1\n * @see https://openid.net/specs/openid-connect-core-1_0.html#TokenResponse\n * @see https://authjs.dev/reference/core/adapters#account\n */ const defaultAccount = (account)=>{\n    return stripUndefined({\n        access_token: account.access_token,\n        id_token: account.id_token,\n        refresh_token: account.refresh_token,\n        expires_at: account.expires_at,\n        scope: account.scope,\n        token_type: account.token_type,\n        session_state: account.session_state\n    });\n};\nfunction stripUndefined(o) {\n    const result = {};\n    for (let [k, v] of Object.entries(o))v !== undefined && (result[k] = v);\n    return result;\n}\nfunction normalizeEndpoint(e, issuer) {\n    if (!e && issuer) return;\n    if (typeof e === \"string\") {\n        return {\n            url: new URL(e)\n        };\n    }\n    // If e.url is undefined, it's because the provider config\n    // assumes that we will use the issuer endpoint.\n    // The existence of either e.url or provider.issuer is checked in\n    // assert.ts. We fallback to \"https://authjs.dev\" to be able to pass around\n    // a valid URL even if the user only provided params.\n    // NOTE: This need to be checked when constructing the URL\n    // for the authorization, token and userinfo endpoints.\n    const url = new URL(e?.url ?? \"https://authjs.dev\");\n    if (e?.params != null) {\n        for (let [key, value] of Object.entries(e.params)){\n            if (key === \"claims\") value = JSON.stringify(value);\n            url.searchParams.set(key, String(value));\n        }\n    }\n    return {\n        url,\n        request: e?.request,\n        conform: e?.conform\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvdXRpbHMvcHJvdmlkZXJzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQW1DO0FBQ25DOzs7Q0FHQyxHQUNjLFNBQVNDLGVBQWVDLE1BQU07SUFDekMsTUFBTSxFQUFFQyxVQUFVLEVBQUVDLE9BQU8sRUFBRSxHQUFHRjtJQUNoQyxNQUFNRyxNQUFNLElBQUlDLElBQUlGLFFBQVFHLFFBQVEsSUFBSSxTQUFTTCxPQUFPRyxHQUFHLENBQUNHLE1BQU07SUFDbEUsTUFBTUMsWUFBWVAsT0FBT08sU0FBUyxDQUFDQyxHQUFHLENBQUMsQ0FBQ0M7UUFDcEMsTUFBTUMsV0FBVyxPQUFPRCxNQUFNLGFBQWFBLE1BQU1BO1FBQ2pELE1BQU0sRUFBRVAsU0FBU1MsV0FBVyxFQUFFLEdBQUdDLFVBQVUsR0FBR0Y7UUFDOUMsTUFBTUcsS0FBTUYsYUFBYUUsTUFBTUQsU0FBU0MsRUFBRTtRQUMxQyxNQUFNQyxTQUFTaEIsZ0RBQUtBLENBQUNjLFVBQVVELGFBQWE7WUFDeENJLFdBQVcsQ0FBQyxFQUFFWixJQUFJLFFBQVEsRUFBRVUsR0FBRyxDQUFDO1lBQ2hDRyxhQUFhLENBQUMsRUFBRWIsSUFBSSxVQUFVLEVBQUVVLEdBQUcsQ0FBQztRQUN4QztRQUNBLElBQUlILFNBQVNPLElBQUksS0FBSyxXQUFXUCxTQUFTTyxJQUFJLEtBQUssUUFBUTtZQUN2REgsT0FBT0ksZ0JBQWdCLElBQUtKLENBQUFBLE9BQU9JLGdCQUFnQixHQUFHaEIsUUFBUWdCLGdCQUFnQjtZQUM5RSxPQUFPQyxlQUFlTDtRQUMxQjtRQUNBLE9BQU9BO0lBQ1g7SUFDQSxPQUFPO1FBQ0hQO1FBQ0FHLFVBQVVILFVBQVVhLElBQUksQ0FBQyxDQUFDLEVBQUVQLEVBQUUsRUFBRSxHQUFLQSxPQUFPWjtJQUNoRDtBQUNKO0FBQ0EsdUVBQXVFO0FBQ3ZFLGtFQUFrRTtBQUNsRSxTQUFTa0IsZUFBZUUsQ0FBQztJQUNyQixJQUFJQSxFQUFFQyxNQUFN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LFlBQVksQ0FBQ0UsR0FBRyxDQUFDbUMsS0FBS0ksT0FBT0g7UUFDckM7SUFDSjtJQUNBLE9BQU87UUFBRTdEO1FBQUtpRSxTQUFTTixHQUFHTTtRQUFTQyxTQUFTUCxHQUFHTztJQUFRO0FBQzNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC1yeC8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi91dGlscy9wcm92aWRlcnMuanM/ZGRiZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtZXJnZSB9IGZyb20gXCIuL21lcmdlLmpzXCI7XG4vKipcbiAqIEFkZHMgYHNpZ25pblVybGAgYW5kIGBjYWxsYmFja1VybGAgdG8gZWFjaCBwcm92aWRlclxuICogYW5kIGRlZXAgbWVyZ2UgdXNlci1kZWZpbmVkIG9wdGlvbnMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBhcnNlUHJvdmlkZXJzKHBhcmFtcykge1xuICAgIGNvbnN0IHsgcHJvdmlkZXJJZCwgb3B0aW9ucyB9ID0gcGFyYW1zO1xuICAgIGNvbnN0IHVybCA9IG5ldyBVUkwob3B0aW9ucy5iYXNlUGF0aCA/PyBcIi9hdXRoXCIsIHBhcmFtcy51cmwub3JpZ2luKTtcbiAgICBjb25zdCBwcm92aWRlcnMgPSBwYXJhbXMucHJvdmlkZXJzLm1hcCgocCkgPT4ge1xuICAgICAgICBjb25zdCBwcm92aWRlciA9IHR5cGVvZiBwID09PSBcImZ1bmN0aW9uXCIgPyBwKCkgOiBwO1xuICAgICAgICBjb25zdCB7IG9wdGlvbnM6IHVzZXJPcHRpb25zLCAuLi5kZWZhdWx0cyB9ID0gcHJvdmlkZXI7XG4gICAgICAgIGNvbnN0IGlkID0gKHVzZXJPcHRpb25zPy5pZCA/PyBkZWZhdWx0cy5pZCk7XG4gICAgICAgIGNvbnN0IG1lcmdlZCA9IG1lcmdlKGRlZmF1bHRzLCB1c2VyT3B0aW9ucywge1xuICAgICAgICAgICAgc2lnbmluVXJsOiBgJHt1cmx9L3NpZ25pbi8ke2lkfWAsXG4gICAgICAgICAgICBjYWxsYmFja1VybDogYCR7dXJsfS9jYWxsYmFjay8ke2lkfWAsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocHJvdmlkZXIudHlwZSA9PT0gXCJvYXV0aFwiIHx8IHByb3ZpZGVyLnR5cGUgPT09IFwib2lkY1wiKSB7XG4gICAgICAgICAgICBtZXJnZWQucmVkaXJlY3RQcm94eVVybCA/PyAobWVyZ2VkLnJlZGlyZWN0UHJveHlVcmwgPSBvcHRpb25zLnJlZGlyZWN0UHJveHlVcmwpO1xuICAgICAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZU9BdXRoKG1lcmdlZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lcmdlZDtcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBwcm92aWRlcnMsXG4gICAgICAgIHByb3ZpZGVyOiBwcm92aWRlcnMuZmluZCgoeyBpZCB9KSA9PiBpZCA9PT0gcHJvdmlkZXJJZCksXG4gICAgfTtcbn1cbi8vIFRPRE86IEFsc28gYWRkIGRpc2NvdmVyeSBoZXJlLCBpZiBzb21lIGVuZHBvaW50cy9jb25maWcgYXJlIG1pc3NpbmcuXG4vLyBXZSBzaG91bGQgcmV0dXJuIGJvdGggYSBjbGllbnQgYW5kIGF1dGhvcml6YXRpb24gc2VydmVyIGNvbmZpZy5cbmZ1bmN0aW9uIG5vcm1hbGl6ZU9BdXRoKGMpIHtcbiAgICBpZiAoYy5pc3N1ZXIpXG4gICAgICAgIGMud2VsbEtub3duID8/IChjLndlbGxLbm93biA9IGAke2MuaXNzdWVyfS8ud2VsbC1rbm93bi9vcGVuaWQtY29uZmlndXJhdGlvbmApO1xuICAgIGNvbnN0IGF1dGhvcml6YXRpb24gPSBub3JtYWxpemVFbmRwb2ludChjLmF1dGhvcml6YXRpb24sIGMuaXNzdWVyKTtcbiAgICBpZiAoYXV0aG9yaXphdGlvbiAmJiAhYXV0aG9yaXphdGlvbi51cmw/LnNlYXJjaFBhcmFtcy5oYXMoXCJzY29wZVwiKSkge1xuICAgICAgICBhdXRob3JpemF0aW9uLnVybC5zZWFyY2hQYXJhbXMuc2V0KFwic2NvcGVcIiwgXCJvcGVuaWQgcHJvZmlsZSBlbWFpbFwiKTtcbiAgICB9XG4gICAgY29uc3QgdG9rZW4gPSBub3JtYWxpemVFbmRwb2ludChjLnRva2VuLCBjLmlzc3Vlcik7XG4gICAgY29uc3QgdXNlcmluZm8gPSBub3JtYWxpemVFbmRwb2ludChjLnVzZXJpbmZvLCBjLmlzc3Vlcik7XG4gICAgY29uc3QgY2hlY2tzID0gYy5jaGVja3MgPz8gW1wicGtjZVwiXTtcbiAgICBpZiAoYy5yZWRpcmVjdFByb3h5VXJsKSB7XG4gICAgICAgIGlmICghY2hlY2tzLmluY2x1ZGVzKFwic3RhdGVcIikpXG4gICAgICAgICAgICBjaGVja3MucHVzaChcInN0YXRlXCIpO1xuICAgICAgICBjLnJlZGlyZWN0UHJveHlVcmwgPSBgJHtjLnJlZGlyZWN0UHJveHlVcmx9L2NhbGxiYWNrLyR7Yy5pZH1gO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5jLFxuICAgICAgICBhdXRob3JpemF0aW9uLFxuICAgICAgICB0b2tlbixcbiAgICAgICAgY2hlY2tzLFxuICAgICAgICB1c2VyaW5mbyxcbiAgICAgICAgcHJvZmlsZTogYy5wcm9maWxlID8/IGRlZmF1bHRQcm9maWxlLFxuICAgICAgICBhY2NvdW50OiBjLmFjY291bnQgPz8gZGVmYXVsdEFjY291bnQsXG4gICAgfTtcbn1cbi8qKlxuICogUmV0dXJucyBiYXNpYyB1c2VyIHByb2ZpbGUgZnJvbSB0aGUgdXNlcmluZm8gcmVzcG9uc2UvYGlkX3Rva2VuYCBjbGFpbXMuXG4gKiBUaGUgcmV0dXJuZWQgYGlkYCB3aWxsIGJlY29tZSB0aGUgYGFjY291bnQucHJvdmlkZXJBY2NvdW50SWRgLiBgdXNlci5pZGBcbiAqIGFuZCBgYWNjb3VudC5pZGAgYXJlIGF1dG8tZ2VuZXJhdGVkIFVVSUQncy5cbiAqXG4gKiBUaGUgcmVzdWx0IGlmIHRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBjcmVhdGUgdGhlIGBVc2VyYCBpbiB0aGUgZGF0YWJhc2UuXG4gKiBAc2VlIGh0dHBzOi8vYXV0aGpzLmRldi9yZWZlcmVuY2UvY29yZS9hZGFwdGVycyN1c2VyXG4gKiBAc2VlIGh0dHBzOi8vb3BlbmlkLm5ldC9zcGVjcy9vcGVuaWQtY29ubmVjdC1jb3JlLTFfMC5odG1sI0lEVG9rZW5cbiAqIEBzZWUgaHR0cHM6Ly9vcGVuaWQubmV0L3NwZWNzL29wZW5pZC1jb25uZWN0LWNvcmUtMV8wLmh0bWwjXG4gKi9cbmNvbnN0IGRlZmF1bHRQcm9maWxlID0gKHByb2ZpbGUpID0+IHtcbiAgICByZXR1cm4gc3RyaXBVbmRlZmluZWQoe1xuICAgICAgICBpZDogcHJvZmlsZS5zdWIgPz8gcHJvZmlsZS5pZCA/PyBjcnlwdG8ucmFuZG9tVVVJRCgpLFxuICAgICAgICBuYW1lOiBwcm9maWxlLm5hbWUgPz8gcHJvZmlsZS5uaWNrbmFtZSA/PyBwcm9maWxlLnByZWZlcnJlZF91c2VybmFtZSxcbiAgICAgICAgZW1haWw6IHByb2ZpbGUuZW1haWwsXG4gICAgICAgIGltYWdlOiBwcm9maWxlLnBpY3R1cmUsXG4gICAgfSk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIGJhc2ljIE9BdXRoL09JREMgdmFsdWVzIGZyb20gdGhlIHRva2VuIHJlc3BvbnNlLlxuICogQHNlZSBodHRwczovL3d3dy5pZXRmLm9yZy9yZmMvcmZjNjc0OS5odG1sI3NlY3Rpb24tNS4xXG4gKiBAc2VlIGh0dHBzOi8vb3BlbmlkLm5ldC9zcGVjcy9vcGVuaWQtY29ubmVjdC1jb3JlLTFfMC5odG1sI1Rva2VuUmVzcG9uc2VcbiAqIEBzZWUgaHR0cHM6Ly9hdXRoanMuZGV2L3JlZmVyZW5jZS9jb3JlL2FkYXB0ZXJzI2FjY291bnRcbiAqL1xuY29uc3QgZGVmYXVsdEFjY291bnQgPSAoYWNjb3VudCkgPT4ge1xuICAgIHJldHVybiBzdHJpcFVuZGVmaW5lZCh7XG4gICAgICAgIGFjY2Vzc190b2tlbjogYWNjb3VudC5hY2Nlc3NfdG9rZW4sXG4gICAgICAgIGlkX3Rva2VuOiBhY2NvdW50LmlkX3Rva2VuLFxuICAgICAgICByZWZyZXNoX3Rva2VuOiBhY2NvdW50LnJlZnJlc2hfdG9rZW4sXG4gICAgICAgIGV4cGlyZXNfYXQ6IGFjY291bnQuZXhwaXJlc19hdCxcbiAgICAgICAgc2NvcGU6IGFjY291bnQuc2NvcGUsXG4gICAgICAgIHRva2VuX3R5cGU6IGFjY291bnQudG9rZW5fdHlwZSxcbiAgICAgICAgc2Vzc2lvbl9zdGF0ZTogYWNjb3VudC5zZXNzaW9uX3N0YXRlLFxuICAgIH0pO1xufTtcbmZ1bmN0aW9uIHN0cmlwVW5kZWZpbmVkKG8pIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGxldCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMobykpXG4gICAgICAgIHYgIT09IHVuZGVmaW5lZCAmJiAocmVzdWx0W2tdID0gdik7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUVuZHBvaW50KGUsIGlzc3Vlcikge1xuICAgIGlmICghZSAmJiBpc3N1ZXIpXG4gICAgICAgIHJldHVybjtcbiAgICBpZiAodHlwZW9mIGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIHsgdXJsOiBuZXcgVVJMKGUpIH07XG4gICAgfVxuICAgIC8vIElmIGUudXJsIGlzIHVuZGVmaW5lZCwgaXQncyBiZWNhdXNlIHRoZSBwcm92aWRlciBjb25maWdcbiAgICAvLyBhc3N1bWVzIHRoYXQgd2Ugd2lsbCB1c2UgdGhlIGlzc3VlciBlbmRwb2ludC5cbiAgICAvLyBUaGUgZXhpc3RlbmNlIG9mIGVpdGhlciBlLnVybCBvciBwcm92aWRlci5pc3N1ZXIgaXMgY2hlY2tlZCBpblxuICAgIC8vIGFzc2VydC50cy4gV2UgZmFsbGJhY2sgdG8gXCJodHRwczovL2F1dGhqcy5kZXZcIiB0byBiZSBhYmxlIHRvIHBhc3MgYXJvdW5kXG4gICAgLy8gYSB2YWxpZCBVUkwgZXZlbiBpZiB0aGUgdXNlciBvbmx5IHByb3ZpZGVkIHBhcmFtcy5cbiAgICAvLyBOT1RFOiBUaGlzIG5lZWQgdG8gYmUgY2hlY2tlZCB3aGVuIGNvbnN0cnVjdGluZyB0aGUgVVJMXG4gICAgLy8gZm9yIHRoZSBhdXRob3JpemF0aW9uLCB0b2tlbiBhbmQgdXNlcmluZm8gZW5kcG9pbnRzLlxuICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoZT8udXJsID8/IFwiaHR0cHM6Ly9hdXRoanMuZGV2XCIpO1xuICAgIGlmIChlPy5wYXJhbXMgIT0gbnVsbCkge1xuICAgICAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZS5wYXJhbXMpKSB7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSBcImNsYWltc1wiKVxuICAgICAgICAgICAgICAgIHZhbHVlID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoa2V5LCBTdHJpbmcodmFsdWUpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyB1cmwsIHJlcXVlc3Q6IGU/LnJlcXVlc3QsIGNvbmZvcm06IGU/LmNvbmZvcm0gfTtcbn1cbiJdLCJuYW1lcyI6WyJtZXJnZSIsInBhcnNlUHJvdmlkZXJzIiwicGFyYW1zIiwicHJvdmlkZXJJZCIsIm9wdGlvbnMiLCJ1cmwiLCJVUkwiLCJiYXNlUGF0aCIsIm9yaWdpbiIsInByb3ZpZGVycyIsIm1hcCIsInAiLCJwcm92aWRlciIsInVzZXJPcHRpb25zIiwiZGVmYXVsdHMiLCJpZCIsIm1lcmdlZCIsInNpZ25pblVybCIsImNhbGxiYWNrVXJsIiwidHlwZSIsInJlZGlyZWN0UHJveHlVcmwiLCJub3JtYWxpemVPQXV0aCIsImZpbmQiLCJjIiwiaXNzdWVyIiwid2VsbEtub3duIiwiYXV0aG9yaXphdGlvbiIsIm5vcm1hbGl6ZUVuZHBvaW50Iiwic2VhcmNoUGFyYW1zIiwiaGFzIiwic2V0IiwidG9rZW4iLCJ1c2VyaW5mbyIsImNoZWNrcyIsImluY2x1ZGVzIiwicHVzaCIsInByb2ZpbGUiLCJkZWZhdWx0UHJvZmlsZSIsImFjY291bnQiLCJkZWZhdWx0QWNjb3VudCIsInN0cmlwVW5kZWZpbmVkIiwic3ViIiwiY3J5cHRvIiwicmFuZG9tVVVJRCIsIm5hbWUiLCJuaWNrbmFtZSIsInByZWZlcnJlZF91c2VybmFtZSIsImVtYWlsIiwiaW1hZ2UiLCJwaWN0dXJlIiwiYWNjZXNzX3Rva2VuIiwiaWRfdG9rZW4iLCJyZWZyZXNoX3Rva2VuIiwiZXhwaXJlc19hdCIsInNjb3BlIiwidG9rZW5fdHlwZSIsInNlc3Npb25fc3RhdGUiLCJvIiwicmVzdWx0IiwiayIsInYiLCJPYmplY3QiLCJlbnRyaWVzIiwidW5kZWZpbmVkIiwiZSIsImtleSIsInZhbHVlIiwiSlNPTiIsInN0cmluZ2lmeSIsIlN0cmluZyIsInJlcXVlc3QiLCJjb25mb3JtIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/lib/utils/providers.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/lib/utils/session.js":
/*!******************************************************!*\
  !*** ./node_modules/@auth/core/lib/utils/session.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getLoggedInUser: () => (/* binding */ getLoggedInUser)\n/* harmony export */ });\n/**\n * Returns the currently logged in user, if any.\n */ async function getLoggedInUser(options, sessionStore) {\n    const { adapter, jwt, session: { strategy: sessionStrategy } } = options;\n    const sessionToken = sessionStore.value;\n    if (!sessionToken) return null;\n    // Try to decode JWT\n    if (sessionStrategy === \"jwt\") {\n        const salt = options.cookies.sessionToken.name;\n        const payload = await jwt.decode({\n            ...jwt,\n            token: sessionToken,\n            salt\n        });\n        if (payload && payload.sub) {\n            return {\n                id: payload.sub,\n                name: payload.name,\n                email: payload.email,\n                image: payload.picture\n            };\n        }\n    } else {\n        const userAndSession = await adapter?.getSessionAndUser(sessionToken);\n        if (userAndSession) {\n            return userAndSession.user;\n        }\n    }\n    return null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi91dGlscy9zZXNzaW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7Q0FFQyxHQUNNLGVBQWVBLGdCQUFnQkMsT0FBTyxFQUFFQyxZQUFZO0lBQ3ZELE1BQU0sRUFBRUMsT0FBTyxFQUFFQyxHQUFHLEVBQUVDLFNBQVMsRUFBRUMsVUFBVUMsZUFBZSxFQUFFLEVBQUcsR0FBR047SUFDbEUsTUFBTU8sZUFBZU4sYUFBYU8sS0FBSztJQUN2QyxJQUFJLENBQUNELGNBQ0QsT0FBTztJQUNYLG9CQUFvQjtJQUNwQixJQUFJRCxvQkFBb0IsT0FBTztRQUMzQixNQUFNRyxPQUFPVCxRQUFRVSxPQUFPLENBQUNILFlBQVksQ0FBQ0ksSUFBSTtRQUM5QyxNQUFNQyxVQUFVLE1BQU1ULElBQUlVLE1BQU0sQ0FBQztZQUFFLEdBQUdWLEdBQUc7WUFBRVcsT0FBT1A7WUFBY0U7UUFBSztRQUNyRSxJQUFJRyxXQUFXQSxRQUFRRyxHQUFHLEVBQUU7WUFDeEIsT0FBTztnQkFDSEMsSUFBSUosUUFBUUcsR0FBRztnQkFDZkosTUFBTUMsUUFBUUQsSUFBSTtnQkFDbEJNLE9BQU9MLFFBQVFLLEtBQUs7Z0JBQ3BCQyxPQUFPTixRQUFRTyxPQUFPO1lBQzFCO1FBQ0o7SUFDSixPQUNLO1FBQ0QsTUFBTUMsaUJBQWlCLE1BQU1sQixTQUFTbUIsa0JBQWtCZDtRQUN4RCxJQUFJYSxnQkFBZ0I7WUFDaEIsT0FBT0EsZUFBZUUsSUFBSTtRQUM5QjtJQUNKO0lBQ0EsT0FBTztBQUNYIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC1yeC8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi91dGlscy9zZXNzaW9uLmpzP2JmNjgiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBSZXR1cm5zIHRoZSBjdXJyZW50bHkgbG9nZ2VkIGluIHVzZXIsIGlmIGFueS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldExvZ2dlZEluVXNlcihvcHRpb25zLCBzZXNzaW9uU3RvcmUpIHtcbiAgICBjb25zdCB7IGFkYXB0ZXIsIGp3dCwgc2Vzc2lvbjogeyBzdHJhdGVneTogc2Vzc2lvblN0cmF0ZWd5IH0sIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IHNlc3Npb25Ub2tlbiA9IHNlc3Npb25TdG9yZS52YWx1ZTtcbiAgICBpZiAoIXNlc3Npb25Ub2tlbilcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgLy8gVHJ5IHRvIGRlY29kZSBKV1RcbiAgICBpZiAoc2Vzc2lvblN0cmF0ZWd5ID09PSBcImp3dFwiKSB7XG4gICAgICAgIGNvbnN0IHNhbHQgPSBvcHRpb25zLmNvb2tpZXMuc2Vzc2lvblRva2VuLm5hbWU7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCBqd3QuZGVjb2RlKHsgLi4uand0LCB0b2tlbjogc2Vzc2lvblRva2VuLCBzYWx0IH0pO1xuICAgICAgICBpZiAocGF5bG9hZCAmJiBwYXlsb2FkLnN1Yikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpZDogcGF5bG9hZC5zdWIsXG4gICAgICAgICAgICAgICAgbmFtZTogcGF5bG9hZC5uYW1lLFxuICAgICAgICAgICAgICAgIGVtYWlsOiBwYXlsb2FkLmVtYWlsLFxuICAgICAgICAgICAgICAgIGltYWdlOiBwYXlsb2FkLnBpY3R1cmUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCB1c2VyQW5kU2Vzc2lvbiA9IGF3YWl0IGFkYXB0ZXI/LmdldFNlc3Npb25BbmRVc2VyKHNlc3Npb25Ub2tlbik7XG4gICAgICAgIGlmICh1c2VyQW5kU2Vzc2lvbikge1xuICAgICAgICAgICAgcmV0dXJuIHVzZXJBbmRTZXNzaW9uLnVzZXI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4iXSwibmFtZXMiOlsiZ2V0TG9nZ2VkSW5Vc2VyIiwib3B0aW9ucyIsInNlc3Npb25TdG9yZSIsImFkYXB0ZXIiLCJqd3QiLCJzZXNzaW9uIiwic3RyYXRlZ3kiLCJzZXNzaW9uU3RyYXRlZ3kiLCJzZXNzaW9uVG9rZW4iLCJ2YWx1ZSIsInNhbHQiLCJjb29raWVzIiwibmFtZSIsInBheWxvYWQiLCJkZWNvZGUiLCJ0b2tlbiIsInN1YiIsImlkIiwiZW1haWwiLCJpbWFnZSIsInBpY3R1cmUiLCJ1c2VyQW5kU2Vzc2lvbiIsImdldFNlc3Npb25BbmRVc2VyIiwidXNlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/lib/utils/session.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/lib/utils/session.js":
/*!******************************************************!*\
  !*** ./node_modules/@auth/core/lib/utils/session.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getLoggedInUser: () => (/* binding */ getLoggedInUser)\n/* harmony export */ });\n/**\n * Returns the currently logged in user, if any.\n */ async function getLoggedInUser(options, sessionStore) {\n    const { adapter, jwt, session: { strategy: sessionStrategy } } = options;\n    const sessionToken = sessionStore.value;\n    if (!sessionToken) return null;\n    // Try to decode JWT\n    if (sessionStrategy === \"jwt\") {\n        const salt = options.cookies.sessionToken.name;\n        const payload = await jwt.decode({\n            ...jwt,\n            token: sessionToken,\n            salt\n        });\n        if (payload && payload.sub) {\n            return {\n                id: payload.sub,\n                name: payload.name,\n                email: payload.email,\n                image: payload.picture\n            };\n        }\n    } else {\n        const userAndSession = await adapter?.getSessionAndUser(sessionToken);\n        if (userAndSession) {\n            return userAndSession.user;\n        }\n    }\n    return null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvdXRpbHMvc2Vzc2lvbi5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7O0NBRUMsR0FDTSxlQUFlQSxnQkFBZ0JDLE9BQU8sRUFBRUMsWUFBWTtJQUN2RCxNQUFNLEVBQUVDLE9BQU8sRUFBRUMsR0FBRyxFQUFFQyxTQUFTLEVBQUVDLFVBQVVDLGVBQWUsRUFBRSxFQUFHLEdBQUdOO0lBQ2xFLE1BQU1PLGVBQWVOLGFBQWFPLEtBQUs7SUFDdkMsSUFBSSxDQUFDRCxjQUNELE9BQU87SUFDWCxvQkFBb0I7SUFDcEIsSUFBSUQsb0JBQW9CLE9BQU87UUFDM0IsTUFBTUcsT0FBT1QsUUFBUVUsT0FBTyxDQUFDSCxZQUFZLENBQUNJLElBQUk7UUFDOUMsTUFBTUMsVUFBVSxNQUFNVCxJQUFJVSxNQUFNLENBQUM7WUFBRSxHQUFHVixHQUFHO1lBQUVXLE9BQU9QO1lBQWNFO1FBQUs7UUFDckUsSUFBSUcsV0FBV0EsUUFBUUcsR0FBRyxFQUFFO1lBQ3hCLE9BQU87Z0JBQ0hDLElBQUlKLFFBQVFHLEdBQUc7Z0JBQ2ZKLE1BQU1DLFFBQVFELElBQUk7Z0JBQ2xCTSxPQUFPTCxRQUFRSyxLQUFLO2dCQUNwQkMsT0FBT04sUUFBUU8sT0FBTztZQUMxQjtRQUNKO0lBQ0osT0FDSztRQUNELE1BQU1DLGlCQUFpQixNQUFNbEIsU0FBU21CLGtCQUFrQmQ7UUFDeEQsSUFBSWEsZ0JBQWdCO1lBQ2hCLE9BQU9BLGVBQWVFLElBQUk7UUFDOUI7SUFDSjtJQUNBLE9BQU87QUFDWCIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtcngvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvdXRpbHMvc2Vzc2lvbi5qcz9iZjY4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUmV0dXJucyB0aGUgY3VycmVudGx5IGxvZ2dlZCBpbiB1c2VyLCBpZiBhbnkuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRMb2dnZWRJblVzZXIob3B0aW9ucywgc2Vzc2lvblN0b3JlKSB7XG4gICAgY29uc3QgeyBhZGFwdGVyLCBqd3QsIHNlc3Npb246IHsgc3RyYXRlZ3k6IHNlc3Npb25TdHJhdGVneSB9LCB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBzZXNzaW9uVG9rZW4gPSBzZXNzaW9uU3RvcmUudmFsdWU7XG4gICAgaWYgKCFzZXNzaW9uVG9rZW4pXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIC8vIFRyeSB0byBkZWNvZGUgSldUXG4gICAgaWYgKHNlc3Npb25TdHJhdGVneSA9PT0gXCJqd3RcIikge1xuICAgICAgICBjb25zdCBzYWx0ID0gb3B0aW9ucy5jb29raWVzLnNlc3Npb25Ub2tlbi5uYW1lO1xuICAgICAgICBjb25zdCBwYXlsb2FkID0gYXdhaXQgand0LmRlY29kZSh7IC4uLmp3dCwgdG9rZW46IHNlc3Npb25Ub2tlbiwgc2FsdCB9KTtcbiAgICAgICAgaWYgKHBheWxvYWQgJiYgcGF5bG9hZC5zdWIpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaWQ6IHBheWxvYWQuc3ViLFxuICAgICAgICAgICAgICAgIG5hbWU6IHBheWxvYWQubmFtZSxcbiAgICAgICAgICAgICAgICBlbWFpbDogcGF5bG9hZC5lbWFpbCxcbiAgICAgICAgICAgICAgICBpbWFnZTogcGF5bG9hZC5waWN0dXJlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgdXNlckFuZFNlc3Npb24gPSBhd2FpdCBhZGFwdGVyPy5nZXRTZXNzaW9uQW5kVXNlcihzZXNzaW9uVG9rZW4pO1xuICAgICAgICBpZiAodXNlckFuZFNlc3Npb24pIHtcbiAgICAgICAgICAgIHJldHVybiB1c2VyQW5kU2Vzc2lvbi51c2VyO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuIl0sIm5hbWVzIjpbImdldExvZ2dlZEluVXNlciIsIm9wdGlvbnMiLCJzZXNzaW9uU3RvcmUiLCJhZGFwdGVyIiwiand0Iiwic2Vzc2lvbiIsInN0cmF0ZWd5Iiwic2Vzc2lvblN0cmF0ZWd5Iiwic2Vzc2lvblRva2VuIiwidmFsdWUiLCJzYWx0IiwiY29va2llcyIsIm5hbWUiLCJwYXlsb2FkIiwiZGVjb2RlIiwidG9rZW4iLCJzdWIiLCJpZCIsImVtYWlsIiwiaW1hZ2UiLCJwaWN0dXJlIiwidXNlckFuZFNlc3Npb24iLCJnZXRTZXNzaW9uQW5kVXNlciIsInVzZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/lib/utils/session.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/lib/utils/web.js":
/*!**************************************************!*\
  !*** ./node_modules/@auth/core/lib/utils/web.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createHash: () => (/* binding */ createHash),\n/* harmony export */   parseActionAndProviderId: () => (/* binding */ parseActionAndProviderId),\n/* harmony export */   randomString: () => (/* binding */ randomString),\n/* harmony export */   toInternalRequest: () => (/* binding */ toInternalRequest),\n/* harmony export */   toRequest: () => (/* binding */ toRequest),\n/* harmony export */   toResponse: () => (/* binding */ toResponse)\n/* harmony export */ });\n/* harmony import */ var cookie__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cookie */ \"(action-browser)/./node_modules/cookie/index.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../errors.js */ \"(action-browser)/./node_modules/@auth/core/errors.js\");\n/* harmony import */ var _actions_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./actions.js */ \"(action-browser)/./node_modules/@auth/core/lib/utils/actions.js\");\n\n\n\nasync function getBody(req) {\n    if (!(\"body\" in req) || !req.body || req.method !== \"POST\") return;\n    const contentType = req.headers.get(\"content-type\");\n    if (contentType?.includes(\"application/json\")) {\n        return await req.json();\n    } else if (contentType?.includes(\"application/x-www-form-urlencoded\")) {\n        const params = new URLSearchParams(await req.text());\n        return Object.fromEntries(params);\n    }\n}\nasync function toInternalRequest(req, config) {\n    try {\n        if (req.method !== \"GET\" && req.method !== \"POST\") throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.UnknownAction(\"Only GET and POST requests are supported.\");\n        // Defaults are usually set in the `init` function, but this is needed below\n        config.basePath ?? (config.basePath = \"/auth\");\n        const url = new URL(req.url);\n        const { action, providerId } = parseActionAndProviderId(url.pathname, config.basePath);\n        return {\n            url,\n            action,\n            providerId,\n            method: req.method,\n            headers: Object.fromEntries(req.headers),\n            body: req.body ? await getBody(req) : undefined,\n            cookies: (0,cookie__WEBPACK_IMPORTED_MODULE_0__.parse)(req.headers.get(\"cookie\") ?? \"\") ?? {},\n            error: url.searchParams.get(\"error\") ?? undefined,\n            query: Object.fromEntries(url.searchParams)\n        };\n    } catch (e) {\n        return e;\n    }\n}\nfunction toRequest(request) {\n    return new Request(request.url, {\n        headers: request.headers,\n        method: request.method,\n        body: request.method === \"POST\" ? JSON.stringify(request.body ?? {}) : undefined\n    });\n}\nfunction toResponse(res) {\n    const headers = new Headers(res.headers);\n    res.cookies?.forEach((cookie)=>{\n        const { name, value, options } = cookie;\n        const cookieHeader = (0,cookie__WEBPACK_IMPORTED_MODULE_0__.serialize)(name, value, options);\n        if (headers.has(\"Set-Cookie\")) headers.append(\"Set-Cookie\", cookieHeader);\n        else headers.set(\"Set-Cookie\", cookieHeader);\n    });\n    let body = res.body;\n    if (headers.get(\"content-type\") === \"application/json\") body = JSON.stringify(res.body);\n    else if (headers.get(\"content-type\") === \"application/x-www-form-urlencoded\") body = new URLSearchParams(res.body).toString();\n    const status = res.redirect ? 302 : res.status ?? 200;\n    const response = new Response(body, {\n        headers,\n        status\n    });\n    if (res.redirect) response.headers.set(\"Location\", res.redirect);\n    return response;\n}\n/** Web compatible method to create a hash, using SHA256 */ async function createHash(message) {\n    const data = new TextEncoder().encode(message);\n    const hash = await crypto.subtle.digest(\"SHA-256\", data);\n    return Array.from(new Uint8Array(hash)).map((b)=>b.toString(16).padStart(2, \"0\")).join(\"\").toString();\n}\n/** Web compatible method to create a random string of a given length */ function randomString(size) {\n    const i2hex = (i)=>(\"0\" + i.toString(16)).slice(-2);\n    const r = (a, i)=>a + i2hex(i);\n    const bytes = crypto.getRandomValues(new Uint8Array(size));\n    return Array.from(bytes).reduce(r, \"\");\n}\n/** @internal Parse the action and provider id from a URL pathname. */ function parseActionAndProviderId(pathname, base) {\n    const a = pathname.match(new RegExp(`^${base}(.+)`));\n    if (a === null) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.UnknownAction(`Cannot parse action at ${pathname}`);\n    const [_, actionAndProviderId] = a;\n    const b = actionAndProviderId.replace(/^\\//, \"\").split(\"/\");\n    if (b.length !== 1 && b.length !== 2) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.UnknownAction(`Cannot parse action at ${pathname}`);\n    const [action, providerId] = b;\n    if (!(0,_actions_js__WEBPACK_IMPORTED_MODULE_2__.isAuthAction)(action)) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.UnknownAction(`Cannot parse action at ${pathname}`);\n    if (providerId && ![\n        \"signin\",\n        \"callback\",\n        \"webauthn-options\"\n    ].includes(action)) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.UnknownAction(`Cannot parse action at ${pathname}`);\n    return {\n        action,\n        providerId\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi91dGlscy93ZWIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQXlEO0FBQ1Q7QUFDSjtBQUM1QyxlQUFlSyxRQUFRQyxHQUFHO0lBQ3RCLElBQUksQ0FBRSxXQUFVQSxHQUFFLEtBQU0sQ0FBQ0EsSUFBSUMsSUFBSSxJQUFJRCxJQUFJRSxNQUFNLEtBQUssUUFDaEQ7SUFDSixNQUFNQyxjQUFjSCxJQUFJSSxPQUFPLENBQUNDLEdBQUcsQ0FBQztJQUNwQyxJQUFJRixhQUFhRyxTQUFTLHFCQUFxQjtRQUMzQyxPQUFPLE1BQU1OLElBQUlPLElBQUk7SUFDekIsT0FDSyxJQUFJSixhQUFhRyxTQUFTLHNDQUFzQztRQUNqRSxNQUFNRSxTQUFTLElBQUlDLGdCQUFnQixNQUFNVCxJQUFJVSxJQUFJO1FBQ2pELE9BQU9DLE9BQU9DLFdBQVcsQ0FBQ0o7SUFDOUI7QUFDSjtBQUNPLGVBQWVLLGtCQUFrQmIsR0FBRyxFQUFFYyxNQUFNO0lBQy9DLElBQUk7UUFDQSxJQUFJZCxJQUFJRSxNQUFNLEtBQUssU0FBU0YsSUFBSUUsTUFBTSxLQUFLLFFBQ3ZDLE1BQU0sSUFBSUwscURBQWFBLENBQUM7UUFDNUIsNEVBQTRFO1FBQzVFaUIsT0FBT0MsUUFBUSxJQUFLRCxDQUFBQSxPQUFPQyxRQUFRLEdBQUcsT0FBTTtRQUM1QyxNQUFNQyxNQUFNLElBQUlDLElBQUlqQixJQUFJZ0IsR0FBRztRQUMzQixNQUFNLEVBQUVFLE1BQU0sRUFBRUMsVUFBVSxFQUFFLEdBQUdDLHlCQUF5QkosSUFBSUssUUFBUSxFQUFFUCxPQUFPQyxRQUFRO1FBQ3JGLE9BQU87WUFDSEM7WUFDQUU7WUFDQUM7WUFDQWpCLFFBQVFGLElBQUlFLE1BQU07WUFDbEJFLFNBQVNPLE9BQU9DLFdBQVcsQ0FBQ1osSUFBSUksT0FBTztZQUN2Q0gsTUFBTUQsSUFBSUMsSUFBSSxHQUFHLE1BQU1GLFFBQVFDLE9BQU9zQjtZ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LE1BQ04sTUFBTSxJQUFJM0UscURBQWFBLENBQUMsQ0FBQyx1QkFBdUIsRUFBRXdCLFNBQVMsQ0FBQztJQUNoRSxNQUFNLENBQUMwRCxHQUFHQyxvQkFBb0IsR0FBR1I7SUFDakMsTUFBTVQsSUFBSWlCLG9CQUFvQkMsT0FBTyxDQUFDLE9BQU8sSUFBSUMsS0FBSyxDQUFDO0lBQ3ZELElBQUluQixFQUFFb0IsTUFBTSxLQUFLLEtBQUtwQixFQUFFb0IsTUFBTSxLQUFLLEdBQy9CLE1BQU0sSUFBSXRGLHFEQUFhQSxDQUFDLENBQUMsdUJBQXVCLEVBQUV3QixTQUFTLENBQUM7SUFDaEUsTUFBTSxDQUFDSCxRQUFRQyxXQUFXLEdBQUc0QztJQUM3QixJQUFJLENBQUNqRSx5REFBWUEsQ0FBQ29CLFNBQ2QsTUFBTSxJQUFJckIscURBQWFBLENBQUMsQ0FBQyx1QkFBdUIsRUFBRXdCLFNBQVMsQ0FBQztJQUNoRSxJQUFJRixjQUFjLENBQUM7UUFBQztRQUFVO1FBQVk7S0FBbUIsQ0FBQ2IsUUFBUSxDQUFDWSxTQUNuRSxNQUFNLElBQUlyQixxREFBYUEsQ0FBQyxDQUFDLHVCQUF1QixFQUFFd0IsU0FBUyxDQUFDO0lBQ2hFLE9BQU87UUFBRUg7UUFBUUM7SUFBVztBQUNoQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtcngvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvdXRpbHMvd2ViLmpzPzI4YTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGFyc2UgYXMgcGFyc2VDb29raWUsIHNlcmlhbGl6ZSB9IGZyb20gXCJjb29raWVcIjtcbmltcG9ydCB7IFVua25vd25BY3Rpb24gfSBmcm9tIFwiLi4vLi4vZXJyb3JzLmpzXCI7XG5pbXBvcnQgeyBpc0F1dGhBY3Rpb24gfSBmcm9tIFwiLi9hY3Rpb25zLmpzXCI7XG5hc3luYyBmdW5jdGlvbiBnZXRCb2R5KHJlcSkge1xuICAgIGlmICghKFwiYm9keVwiIGluIHJlcSkgfHwgIXJlcS5ib2R5IHx8IHJlcS5tZXRob2QgIT09IFwiUE9TVFwiKVxuICAgICAgICByZXR1cm47XG4gICAgY29uc3QgY29udGVudFR5cGUgPSByZXEuaGVhZGVycy5nZXQoXCJjb250ZW50LXR5cGVcIik7XG4gICAgaWYgKGNvbnRlbnRUeXBlPy5pbmNsdWRlcyhcImFwcGxpY2F0aW9uL2pzb25cIikpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJlcS5qc29uKCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNvbnRlbnRUeXBlPy5pbmNsdWRlcyhcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKSkge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGF3YWl0IHJlcS50ZXh0KCkpO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKHBhcmFtcyk7XG4gICAgfVxufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRvSW50ZXJuYWxSZXF1ZXN0KHJlcSwgY29uZmlnKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHJlcS5tZXRob2QgIT09IFwiR0VUXCIgJiYgcmVxLm1ldGhvZCAhPT0gXCJQT1NUXCIpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVW5rbm93bkFjdGlvbihcIk9ubHkgR0VUIGFuZCBQT1NUIHJlcXVlc3RzIGFyZSBzdXBwb3J0ZWQuXCIpO1xuICAgICAgICAvLyBEZWZhdWx0cyBhcmUgdXN1YWxseSBzZXQgaW4gdGhlIGBpbml0YCBmdW5jdGlvbiwgYnV0IHRoaXMgaXMgbmVlZGVkIGJlbG93XG4gICAgICAgIGNvbmZpZy5iYXNlUGF0aCA/PyAoY29uZmlnLmJhc2VQYXRoID0gXCIvYXV0aFwiKTtcbiAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChyZXEudXJsKTtcbiAgICAgICAgY29uc3QgeyBhY3Rpb24sIHByb3ZpZGVySWQgfSA9IHBhcnNlQWN0aW9uQW5kUHJvdmlkZXJJZCh1cmwucGF0aG5hbWUsIGNvbmZpZy5iYXNlUGF0aCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgICBwcm92aWRlcklkLFxuICAgICAgICAgICAgbWV0aG9kOiByZXEubWV0aG9kLFxuICAgICAgICAgICAgaGVhZGVyczogT2JqZWN0LmZyb21FbnRyaWVzKHJlcS5oZWFkZXJzKSxcbiAgICAgICAgICAgIGJvZHk6IHJlcS5ib2R5ID8gYXdhaXQgZ2V0Qm9keShyZXEpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY29va2llczogcGFyc2VDb29raWUocmVxLmhlYWRlcnMuZ2V0KFwiY29va2llXCIpID8/IFwiXCIpID8/IHt9LFxuICAgICAgICAgICAgZXJyb3I6IHVybC5zZWFyY2hQYXJhbXMuZ2V0KFwiZXJyb3JcIikgPz8gdW5kZWZpbmVkLFxuICAgICAgICAgICAgcXVlcnk6IE9iamVjdC5mcm9tRW50cmllcyh1cmwuc2VhcmNoUGFyYW1zKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHRvUmVxdWVzdChyZXF1ZXN0KSB7XG4gICAgcmV0dXJuIG5ldyBSZXF1ZXN0KHJlcXVlc3QudXJsLCB7XG4gICAgICAgIGhlYWRlcnM6IHJlcXVlc3QuaGVhZGVycyxcbiAgICAgICAgbWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcbiAgICAgICAgYm9keTogcmVxdWVzdC5tZXRob2QgPT09IFwiUE9TVFwiXG4gICAgICAgICAgICA/IEpTT04uc3RyaW5naWZ5KHJlcXVlc3QuYm9keSA/PyB7fSlcbiAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRvUmVzcG9uc2UocmVzKSB7XG4gICAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHJlcy5oZWFkZXJzKTtcbiAgICByZXMuY29va2llcz8uZm9yRWFjaCgoY29va2llKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgbmFtZSwgdmFsdWUsIG9wdGlvbnMgfSA9IGNvb2tpZTtcbiAgICAgICAgY29uc3QgY29va2llSGVhZGVyID0gc2VyaWFsaXplKG5hbWUsIHZhbHVlLCBvcHRpb25zKTtcbiAgICAgICAgaWYgKGhlYWRlcnMuaGFzKFwiU2V0LUNvb2tpZVwiKSlcbiAgICAgICAgICAgIGhlYWRlcnMuYXBwZW5kKFwiU2V0LUNvb2tpZVwiLCBjb29raWVIZWFkZXIpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBoZWFkZXJzLnNldChcIlNldC1Db29raWVcIiwgY29va2llSGVhZGVyKTtcbiAgICB9KTtcbiAgICBsZXQgYm9keSA9IHJlcy5ib2R5O1xuICAgIGlmIChoZWFkZXJzLmdldChcImNvbnRlbnQtdHlwZVwiKSA9PT0gXCJhcHBsaWNhdGlvbi9qc29uXCIpXG4gICAgICAgIGJvZHkgPSBKU09OLnN0cmluZ2lmeShyZXMuYm9keSk7XG4gICAgZWxzZSBpZiAoaGVhZGVycy5nZXQoXCJjb250ZW50LXR5cGVcIikgPT09IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIpXG4gICAgICAgIGJvZHkgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHJlcy5ib2R5KS50b1N0cmluZygpO1xuICAgIGNvbnN0IHN0YXR1cyA9IHJlcy5yZWRpcmVjdCA/IDMwMiA6IHJlcy5zdGF0dXMgPz8gMjAwO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKGJvZHksIHsgaGVhZGVycywgc3RhdHVzIH0pO1xuICAgIGlmIChyZXMucmVkaXJlY3QpXG4gICAgICAgIHJlc3BvbnNlLmhlYWRlcnMuc2V0KFwiTG9jYXRpb25cIiwgcmVzLnJlZGlyZWN0KTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG59XG4vKiogV2ViIGNvbXBhdGlibGUgbWV0aG9kIHRvIGNyZWF0ZSBhIGhhc2gsIHVzaW5nIFNIQTI1NiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUhhc2gobWVzc2FnZSkge1xuICAgIGNvbnN0IGRhdGEgPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUobWVzc2FnZSk7XG4gICAgY29uc3QgaGFzaCA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KFwiU0hBLTI1NlwiLCBkYXRhKTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShuZXcgVWludDhBcnJheShoYXNoKSlcbiAgICAgICAgLm1hcCgoYikgPT4gYi50b1N0cmluZygxNikucGFkU3RhcnQoMiwgXCIwXCIpKVxuICAgICAgICAuam9pbihcIlwiKVxuICAgICAgICAudG9TdHJpbmcoKTtcbn1cbi8qKiBXZWIgY29tcGF0aWJsZSBtZXRob2QgdG8gY3JlYXRlIGEgcmFuZG9tIHN0cmluZyBvZiBhIGdpdmVuIGxlbmd0aCAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbVN0cmluZyhzaXplKSB7XG4gICAgY29uc3QgaTJoZXggPSAoaSkgPT4gKFwiMFwiICsgaS50b1N0cmluZygxNikpLnNsaWNlKC0yKTtcbiAgICBjb25zdCByID0gKGEsIGkpID0+IGEgKyBpMmhleChpKTtcbiAgICBjb25zdCBieXRlcyA9IGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoc2l6ZSkpO1xuICAgIHJldHVybiBBcnJheS5mcm9tKGJ5dGVzKS5yZWR1Y2UociwgXCJcIik7XG59XG4vKiogQGludGVybmFsIFBhcnNlIHRoZSBhY3Rpb24gYW5kIHByb3ZpZGVyIGlkIGZyb20gYSBVUkwgcGF0aG5hbWUuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VBY3Rpb25BbmRQcm92aWRlcklkKHBhdGhuYW1lLCBiYXNlKSB7XG4gICAgY29uc3QgYSA9IHBhdGhuYW1lLm1hdGNoKG5ldyBSZWdFeHAoYF4ke2Jhc2V9KC4rKWApKTtcbiAgICBpZiAoYSA9PT0gbnVsbClcbiAgICAgICAgdGhyb3cgbmV3IFVua25vd25BY3Rpb24oYENhbm5vdCBwYXJzZSBhY3Rpb24gYXQgJHtwYXRobmFtZX1gKTtcbiAgICBjb25zdCBbXywgYWN0aW9uQW5kUHJvdmlkZXJJZF0gPSBhO1xuICAgIGNvbnN0IGIgPSBhY3Rpb25BbmRQcm92aWRlcklkLnJlcGxhY2UoL15cXC8vLCBcIlwiKS5zcGxpdChcIi9cIik7XG4gICAgaWYgKGIubGVuZ3RoICE9PSAxICYmIGIubGVuZ3RoICE9PSAyKVxuICAgICAgICB0aHJvdyBuZXcgVW5rbm93bkFjdGlvbihgQ2Fubm90IHBhcnNlIGFjdGlvbiBhdCAke3BhdGhuYW1lfWApO1xuICAgIGNvbnN0IFthY3Rpb24sIHByb3ZpZGVySWRdID0gYjtcbiAgICBpZiAoIWlzQXV0aEFjdGlvbihhY3Rpb24pKVxuICAgICAgICB0aHJvdyBuZXcgVW5rbm93bkFjdGlvbihgQ2Fubm90IHBhcnNlIGFjdGlvbiBhdCAke3BhdGhuYW1lfWApO1xuICAgIGlmIChwcm92aWRlcklkICYmICFbXCJzaWduaW5cIiwgXCJjYWxsYmFja1wiLCBcIndlYmF1dGhuLW9wdGlvbnNcIl0uaW5jbHVkZXMoYWN0aW9uKSlcbiAgICAgICAgdGhyb3cgbmV3IFVua25vd25BY3Rpb24oYENhbm5vdCBwYXJzZSBhY3Rpb24gYXQgJHtwYXRobmFtZX1gKTtcbiAgICByZXR1cm4geyBhY3Rpb24sIHByb3ZpZGVySWQgfTtcbn1cbiJdLCJuYW1lcyI6WyJwYXJzZSIsInBhcnNlQ29va2llIiwic2VyaWFsaXplIiwiVW5rbm93bkFjdGlvbiIsImlzQXV0aEFjdGlvbiIsImdldEJvZHkiLCJyZXEiLCJib2R5IiwibWV0aG9kIiwiY29udGVudFR5cGUiLCJoZWFkZXJzIiwiZ2V0IiwiaW5jbHVkZXMiLCJqc29uIiwicGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwidGV4dCIsIk9iamVjdCIsImZyb21FbnRyaWVzIiwidG9JbnRlcm5hbFJlcXVlc3QiLCJjb25maWciLCJiYXNlUGF0aCIsInVybCIsIlVSTCIsImFjdGlvbiIsInByb3ZpZGVySWQiLCJwYXJzZUFjdGlvbkFuZFByb3ZpZGVySWQiLCJwYXRobmFtZSIsInVuZGVmaW5lZCIsImNvb2tpZXMiLCJlcnJvciIsInNlYXJjaFBhcmFtcyIsInF1ZXJ5IiwiZSIsInRvUmVxdWVzdCIsInJlcXVlc3QiLCJSZXF1ZXN0IiwiSlNPTiIsInN0cmluZ2lmeSIsInRvUmVzcG9uc2UiLCJyZXMiLCJIZWFkZXJzIiwiZm9yRWFjaCIsImNvb2tpZSIsIm5hbWUiLCJ2YWx1ZSIsIm9wdGlvbnMiLCJjb29raWVIZWFkZXIiLCJoYXMiLCJhcHBlbmQiLCJzZXQiLCJ0b1N0cmluZyIsInN0YXR1cyIsInJlZGlyZWN0IiwicmVzcG9uc2UiLCJSZXNwb25zZSIsImNyZWF0ZUhhc2giLCJtZXNzYWdlIiwiZGF0YSIsIlRleHRFbmNvZGVyIiwiZW5jb2RlIiwiaGFzaCIsImNyeXB0byIsInN1YnRsZSIsImRpZ2VzdCIsIkFycmF5IiwiZnJvbSIsIlVpbnQ4QXJyYXkiLCJtYXAiLCJiIiwicGFkU3RhcnQiLCJqb2luIiwicmFuZG9tU3RyaW5nIiwic2l6ZSIsImkyaGV4IiwiaSIsInNsaWNlIiwiciIsImEiLCJieXRlcyIsImdldFJhbmRvbVZhbHVlcyIsInJlZHVjZSIsImJhc2UiLCJtYXRjaCIsIlJlZ0V4cCIsIl8iLCJhY3Rpb25BbmRQcm92aWRlcklkIiwicmVwbGFjZSIsInNwbGl0IiwibGVuZ3RoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/lib/utils/web.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/lib/utils/web.js":
/*!**************************************************!*\
  !*** ./node_modules/@auth/core/lib/utils/web.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createHash: () => (/* binding */ createHash),\n/* harmony export */   parseActionAndProviderId: () => (/* binding */ parseActionAndProviderId),\n/* harmony export */   randomString: () => (/* binding */ randomString),\n/* harmony export */   toInternalRequest: () => (/* binding */ toInternalRequest),\n/* harmony export */   toRequest: () => (/* binding */ toRequest),\n/* harmony export */   toResponse: () => (/* binding */ toResponse)\n/* harmony export */ });\n/* harmony import */ var cookie__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cookie */ \"(rsc)/./node_modules/cookie/index.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../errors.js */ \"(rsc)/./node_modules/@auth/core/errors.js\");\n/* harmony import */ var _actions_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./actions.js */ \"(rsc)/./node_modules/@auth/core/lib/utils/actions.js\");\n\n\n\nasync function getBody(req) {\n    if (!(\"body\" in req) || !req.body || req.method !== \"POST\") return;\n    const contentType = req.headers.get(\"content-type\");\n    if (contentType?.includes(\"application/json\")) {\n        return await req.json();\n    } else if (contentType?.includes(\"application/x-www-form-urlencoded\")) {\n        const params = new URLSearchParams(await req.text());\n        return Object.fromEntries(params);\n    }\n}\nasync function toInternalRequest(req, config) {\n    try {\n        if (req.method !== \"GET\" && req.method !== \"POST\") throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.UnknownAction(\"Only GET and POST requests are supported.\");\n        // Defaults are usually set in the `init` function, but this is needed below\n        config.basePath ?? (config.basePath = \"/auth\");\n        const url = new URL(req.url);\n        const { action, providerId } = parseActionAndProviderId(url.pathname, config.basePath);\n        return {\n            url,\n            action,\n            providerId,\n            method: req.method,\n            headers: Object.fromEntries(req.headers),\n            body: req.body ? await getBody(req) : undefined,\n            cookies: (0,cookie__WEBPACK_IMPORTED_MODULE_0__.parse)(req.headers.get(\"cookie\") ?? \"\") ?? {},\n            error: url.searchParams.get(\"error\") ?? undefined,\n            query: Object.fromEntries(url.searchParams)\n        };\n    } catch (e) {\n        return e;\n    }\n}\nfunction toRequest(request) {\n    return new Request(request.url, {\n        headers: request.headers,\n        method: request.method,\n        body: request.method === \"POST\" ? JSON.stringify(request.body ?? {}) : undefined\n    });\n}\nfunction toResponse(res) {\n    const headers = new Headers(res.headers);\n    res.cookies?.forEach((cookie)=>{\n        const { name, value, options } = cookie;\n        const cookieHeader = (0,cookie__WEBPACK_IMPORTED_MODULE_0__.serialize)(name, value, options);\n        if (headers.has(\"Set-Cookie\")) headers.append(\"Set-Cookie\", cookieHeader);\n        else headers.set(\"Set-Cookie\", cookieHeader);\n    });\n    let body = res.body;\n    if (headers.get(\"content-type\") === \"application/json\") body = JSON.stringify(res.body);\n    else if (headers.get(\"content-type\") === \"application/x-www-form-urlencoded\") body = new URLSearchParams(res.body).toString();\n    const status = res.redirect ? 302 : res.status ?? 200;\n    const response = new Response(body, {\n        headers,\n        status\n    });\n    if (res.redirect) response.headers.set(\"Location\", res.redirect);\n    return response;\n}\n/** Web compatible method to create a hash, using SHA256 */ async function createHash(message) {\n    const data = new TextEncoder().encode(message);\n    const hash = await crypto.subtle.digest(\"SHA-256\", data);\n    return Array.from(new Uint8Array(hash)).map((b)=>b.toString(16).padStart(2, \"0\")).join(\"\").toString();\n}\n/** Web compatible method to create a random string of a given length */ function randomString(size) {\n    const i2hex = (i)=>(\"0\" + i.toString(16)).slice(-2);\n    const r = (a, i)=>a + i2hex(i);\n    const bytes = crypto.getRandomValues(new Uint8Array(size));\n    return Array.from(bytes).reduce(r, \"\");\n}\n/** @internal Parse the action and provider id from a URL pathname. */ function parseActionAndProviderId(pathname, base) {\n    const a = pathname.match(new RegExp(`^${base}(.+)`));\n    if (a === null) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.UnknownAction(`Cannot parse action at ${pathname}`);\n    const [_, actionAndProviderId] = a;\n    const b = actionAndProviderId.replace(/^\\//, \"\").split(\"/\");\n    if (b.length !== 1 && b.length !== 2) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.UnknownAction(`Cannot parse action at ${pathname}`);\n    const [action, providerId] = b;\n    if (!(0,_actions_js__WEBPACK_IMPORTED_MODULE_2__.isAuthAction)(action)) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.UnknownAction(`Cannot parse action at ${pathname}`);\n    if (providerId && ![\n        \"signin\",\n        \"callback\",\n        \"webauthn-options\"\n    ].includes(action)) throw new _errors_js__WEBPACK_IMPORTED_MODULE_1__.UnknownAction(`Cannot parse action at ${pathname}`);\n    return {\n        action,\n        providerId\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvdXRpbHMvd2ViLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUF5RDtBQUNUO0FBQ0o7QUFDNUMsZUFBZUssUUFBUUMsR0FBRztJQUN0QixJQUFJLENBQUUsV0FBVUEsR0FBRSxLQUFNLENBQUNBLElBQUlDLElBQUksSUFBSUQsSUFBSUUsTUFBTSxLQUFLLFFBQ2hEO0lBQ0osTUFBTUMsY0FBY0gsSUFBSUksT0FBTyxDQUFDQyxHQUFHLENBQUM7SUFDcEMsSUFBSUYsYUFBYUcsU0FBUyxxQkFBcUI7UUFDM0MsT0FBTyxNQUFNTixJQUFJTyxJQUFJO0lBQ3pCLE9BQ0ssSUFBSUosYUFBYUcsU0FBUyxzQ0FBc0M7UUFDakUsTUFBTUUsU0FBUyxJQUFJQyxnQkFBZ0IsTUFBTVQsSUFBSVUsSUFBSTtRQUNqRCxPQUFPQyxPQUFPQyxXQUFXLENBQUNKO0lBQzlCO0FBQ0o7QUFDTyxlQUFlSyxrQkFBa0JiLEdBQUcsRUFBRWMsTUFBTTtJQUMvQyxJQUFJO1FBQ0EsSUFBSWQsSUFBSUUsTUFBTSxLQUFLLFNBQVNGLElBQUlFLE1BQU0sS0FBSyxRQUN2QyxNQUFNLElBQUlMLHFEQUFhQSxDQUFDO1FBQzVCLDRFQUE0RTtRQUM1RWlCLE9BQU9DLFFBQVEsSUFBS0QsQ0FBQUEsT0FBT0MsUUFBUSxHQUFHLE9BQU07UUFDNUMsTUFBTUMsTUFBTSxJQUFJQyxJQUFJakIsSUFBSWdCLEdBQUc7UUFDM0IsTUFBTSxFQUFFRSxNQUFNLEVBQUVDLFVBQVUsRUFBRSxHQUFHQyx5QkFBeUJKLElBQUlLLFFBQVEsRUFBRVAsT0FBT0MsUUFBUTtRQUNyRixPQUFPO1lBQ0hDO1lBQ0FFO1lBQ0FDO1lBQ0FqQixRQUFRRixJQUFJRSxNQUFNO1lBQ2xCRSxTQUFTTyxPQUFPQyxXQUFXLENBQUNaLElBQUlJLE9BQU87WUFDdkNILE1BQU1ELElBQUlDLElBQUksR0FBRyxNQUFNRixRQUFRQyxPQUFPc0I7WUFDdENDLFNBQVM1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SUFBSTNFLHFEQUFhQSxDQUFDLENBQUMsdUJBQXVCLEVBQUV3QixTQUFTLENBQUM7SUFDaEUsTUFBTSxDQUFDMEQsR0FBR0Msb0JBQW9CLEdBQUdSO0lBQ2pDLE1BQU1ULElBQUlpQixvQkFBb0JDLE9BQU8sQ0FBQyxPQUFPLElBQUlDLEtBQUssQ0FBQztJQUN2RCxJQUFJbkIsRUFBRW9CLE1BQU0sS0FBSyxLQUFLcEIsRUFBRW9CLE1BQU0sS0FBSyxHQUMvQixNQUFNLElBQUl0RixxREFBYUEsQ0FBQyxDQUFDLHVCQUF1QixFQUFFd0IsU0FBUyxDQUFDO0lBQ2hFLE1BQU0sQ0FBQ0gsUUFBUUMsV0FBVyxHQUFHNEM7SUFDN0IsSUFBSSxDQUFDakUseURBQVlBLENBQUNvQixTQUNkLE1BQU0sSUFBSXJCLHFEQUFhQSxDQUFDLENBQUMsdUJBQXVCLEVBQUV3QixTQUFTLENBQUM7SUFDaEUsSUFBSUYsY0FBYyxDQUFDO1FBQUM7UUFBVTtRQUFZO0tBQW1CLENBQUNiLFFBQVEsQ0FBQ1ksU0FDbkUsTUFBTSxJQUFJckIscURBQWFBLENBQUMsQ0FBQyx1QkFBdUIsRUFBRXdCLFNBQVMsQ0FBQztJQUNoRSxPQUFPO1FBQUVIO1FBQVFDO0lBQVc7QUFDaEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LXJ4Ly4vbm9kZV9tb2R1bGVzL0BhdXRoL2NvcmUvbGliL3V0aWxzL3dlYi5qcz8yOGE2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBhcnNlIGFzIHBhcnNlQ29va2llLCBzZXJpYWxpemUgfSBmcm9tIFwiY29va2llXCI7XG5pbXBvcnQgeyBVbmtub3duQWN0aW9uIH0gZnJvbSBcIi4uLy4uL2Vycm9ycy5qc1wiO1xuaW1wb3J0IHsgaXNBdXRoQWN0aW9uIH0gZnJvbSBcIi4vYWN0aW9ucy5qc1wiO1xuYXN5bmMgZnVuY3Rpb24gZ2V0Qm9keShyZXEpIHtcbiAgICBpZiAoIShcImJvZHlcIiBpbiByZXEpIHx8ICFyZXEuYm9keSB8fCByZXEubWV0aG9kICE9PSBcIlBPU1RcIilcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gcmVxLmhlYWRlcnMuZ2V0KFwiY29udGVudC10eXBlXCIpO1xuICAgIGlmIChjb250ZW50VHlwZT8uaW5jbHVkZXMoXCJhcHBsaWNhdGlvbi9qc29uXCIpKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCByZXEuanNvbigpO1xuICAgIH1cbiAgICBlbHNlIGlmIChjb250ZW50VHlwZT8uaW5jbHVkZXMoXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIikpIHtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhhd2FpdCByZXEudGV4dCgpKTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhwYXJhbXMpO1xuICAgIH1cbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0b0ludGVybmFsUmVxdWVzdChyZXEsIGNvbmZpZykge1xuICAgIHRyeSB7XG4gICAgICAgIGlmIChyZXEubWV0aG9kICE9PSBcIkdFVFwiICYmIHJlcS5tZXRob2QgIT09IFwiUE9TVFwiKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFVua25vd25BY3Rpb24oXCJPbmx5IEdFVCBhbmQgUE9TVCByZXF1ZXN0cyBhcmUgc3VwcG9ydGVkLlwiKTtcbiAgICAgICAgLy8gRGVmYXVsdHMgYXJlIHVzdWFsbHkgc2V0IGluIHRoZSBgaW5pdGAgZnVuY3Rpb24sIGJ1dCB0aGlzIGlzIG5lZWRlZCBiZWxvd1xuICAgICAgICBjb25maWcuYmFzZVBhdGggPz8gKGNvbmZpZy5iYXNlUGF0aCA9IFwiL2F1dGhcIik7XG4gICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwocmVxLnVybCk7XG4gICAgICAgIGNvbnN0IHsgYWN0aW9uLCBwcm92aWRlcklkIH0gPSBwYXJzZUFjdGlvbkFuZFByb3ZpZGVySWQodXJsLnBhdGhuYW1lLCBjb25maWcuYmFzZVBhdGgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdXJsLFxuICAgICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgICAgcHJvdmlkZXJJZCxcbiAgICAgICAgICAgIG1ldGhvZDogcmVxLm1ldGhvZCxcbiAgICAgICAgICAgIGhlYWRlcnM6IE9iamVjdC5mcm9tRW50cmllcyhyZXEuaGVhZGVycyksXG4gICAgICAgICAgICBib2R5OiByZXEuYm9keSA/IGF3YWl0IGdldEJvZHkocmVxKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNvb2tpZXM6IHBhcnNlQ29va2llKHJlcS5oZWFkZXJzLmdldChcImNvb2tpZVwiKSA/PyBcIlwiKSA/PyB7fSxcbiAgICAgICAgICAgIGVycm9yOiB1cmwuc2VhcmNoUGFyYW1zLmdldChcImVycm9yXCIpID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHF1ZXJ5OiBPYmplY3QuZnJvbUVudHJpZXModXJsLnNlYXJjaFBhcmFtcyksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBlO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiB0b1JlcXVlc3QocmVxdWVzdCkge1xuICAgIHJldHVybiBuZXcgUmVxdWVzdChyZXF1ZXN0LnVybCwge1xuICAgICAgICBoZWFkZXJzOiByZXF1ZXN0LmhlYWRlcnMsXG4gICAgICAgIG1ldGhvZDogcmVxdWVzdC5tZXRob2QsXG4gICAgICAgIGJvZHk6IHJlcXVlc3QubWV0aG9kID09PSBcIlBPU1RcIlxuICAgICAgICAgICAgPyBKU09OLnN0cmluZ2lmeShyZXF1ZXN0LmJvZHkgPz8ge30pXG4gICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b1Jlc3BvbnNlKHJlcykge1xuICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyhyZXMuaGVhZGVycyk7XG4gICAgcmVzLmNvb2tpZXM/LmZvckVhY2goKGNvb2tpZSkgPT4ge1xuICAgICAgICBjb25zdCB7IG5hbWUsIHZhbHVlLCBvcHRpb25zIH0gPSBjb29raWU7XG4gICAgICAgIGNvbnN0IGNvb2tpZUhlYWRlciA9IHNlcmlhbGl6ZShuYW1lLCB2YWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgIGlmIChoZWFkZXJzLmhhcyhcIlNldC1Db29raWVcIikpXG4gICAgICAgICAgICBoZWFkZXJzLmFwcGVuZChcIlNldC1Db29raWVcIiwgY29va2llSGVhZGVyKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgaGVhZGVycy5zZXQoXCJTZXQtQ29va2llXCIsIGNvb2tpZUhlYWRlcik7XG4gICAgfSk7XG4gICAgbGV0IGJvZHkgPSByZXMuYm9keTtcbiAgICBpZiAoaGVhZGVycy5nZXQoXCJjb250ZW50LXR5cGVcIikgPT09IFwiYXBwbGljYXRpb24vanNvblwiKVxuICAgICAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkocmVzLmJvZHkpO1xuICAgIGVsc2UgaWYgKGhlYWRlcnMuZ2V0KFwiY29udGVudC10eXBlXCIpID09PSBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKVxuICAgICAgICBib2R5ID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhyZXMuYm9keSkudG9TdHJpbmcoKTtcbiAgICBjb25zdCBzdGF0dXMgPSByZXMucmVkaXJlY3QgPyAzMDIgOiByZXMuc3RhdHVzID8/IDIwMDtcbiAgICBjb25zdCByZXNwb25zZSA9IG5ldyBSZXNwb25zZShib2R5LCB7IGhlYWRlcnMsIHN0YXR1cyB9KTtcbiAgICBpZiAocmVzLnJlZGlyZWN0KVxuICAgICAgICByZXNwb25zZS5oZWFkZXJzLnNldChcIkxvY2F0aW9uXCIsIHJlcy5yZWRpcmVjdCk7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufVxuLyoqIFdlYiBjb21wYXRpYmxlIG1ldGhvZCB0byBjcmVhdGUgYSBoYXNoLCB1c2luZyBTSEEyNTYgKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVIYXNoKG1lc3NhZ2UpIHtcbiAgICBjb25zdCBkYXRhID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKG1lc3NhZ2UpO1xuICAgIGNvbnN0IGhhc2ggPSBhd2FpdCBjcnlwdG8uc3VidGxlLmRpZ2VzdChcIlNIQS0yNTZcIiwgZGF0YSk7XG4gICAgcmV0dXJuIEFycmF5LmZyb20obmV3IFVpbnQ4QXJyYXkoaGFzaCkpXG4gICAgICAgIC5tYXAoKGIpID0+IGIudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsIFwiMFwiKSlcbiAgICAgICAgLmpvaW4oXCJcIilcbiAgICAgICAgLnRvU3RyaW5nKCk7XG59XG4vKiogV2ViIGNvbXBhdGlibGUgbWV0aG9kIHRvIGNyZWF0ZSBhIHJhbmRvbSBzdHJpbmcgb2YgYSBnaXZlbiBsZW5ndGggKi9cbmV4cG9ydCBmdW5jdGlvbiByYW5kb21TdHJpbmcoc2l6ZSkge1xuICAgIGNvbnN0IGkyaGV4ID0gKGkpID0+IChcIjBcIiArIGkudG9TdHJpbmcoMTYpKS5zbGljZSgtMik7XG4gICAgY29uc3QgciA9IChhLCBpKSA9PiBhICsgaTJoZXgoaSk7XG4gICAgY29uc3QgYnl0ZXMgPSBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KHNpemUpKTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShieXRlcykucmVkdWNlKHIsIFwiXCIpO1xufVxuLyoqIEBpbnRlcm5hbCBQYXJzZSB0aGUgYWN0aW9uIGFuZCBwcm92aWRlciBpZCBmcm9tIGEgVVJMIHBhdGhuYW1lLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQWN0aW9uQW5kUHJvdmlkZXJJZChwYXRobmFtZSwgYmFzZSkge1xuICAgIGNvbnN0IGEgPSBwYXRobmFtZS5tYXRjaChuZXcgUmVnRXhwKGBeJHtiYXNlfSguKylgKSk7XG4gICAgaWYgKGEgPT09IG51bGwpXG4gICAgICAgIHRocm93IG5ldyBVbmtub3duQWN0aW9uKGBDYW5ub3QgcGFyc2UgYWN0aW9uIGF0ICR7cGF0aG5hbWV9YCk7XG4gICAgY29uc3QgW18sIGFjdGlvbkFuZFByb3ZpZGVySWRdID0gYTtcbiAgICBjb25zdCBiID0gYWN0aW9uQW5kUHJvdmlkZXJJZC5yZXBsYWNlKC9eXFwvLywgXCJcIikuc3BsaXQoXCIvXCIpO1xuICAgIGlmIChiLmxlbmd0aCAhPT0gMSAmJiBiLmxlbmd0aCAhPT0gMilcbiAgICAgICAgdGhyb3cgbmV3IFVua25vd25BY3Rpb24oYENhbm5vdCBwYXJzZSBhY3Rpb24gYXQgJHtwYXRobmFtZX1gKTtcbiAgICBjb25zdCBbYWN0aW9uLCBwcm92aWRlcklkXSA9IGI7XG4gICAgaWYgKCFpc0F1dGhBY3Rpb24oYWN0aW9uKSlcbiAgICAgICAgdGhyb3cgbmV3IFVua25vd25BY3Rpb24oYENhbm5vdCBwYXJzZSBhY3Rpb24gYXQgJHtwYXRobmFtZX1gKTtcbiAgICBpZiAocHJvdmlkZXJJZCAmJiAhW1wic2lnbmluXCIsIFwiY2FsbGJhY2tcIiwgXCJ3ZWJhdXRobi1vcHRpb25zXCJdLmluY2x1ZGVzKGFjdGlvbikpXG4gICAgICAgIHRocm93IG5ldyBVbmtub3duQWN0aW9uKGBDYW5ub3QgcGFyc2UgYWN0aW9uIGF0ICR7cGF0aG5hbWV9YCk7XG4gICAgcmV0dXJuIHsgYWN0aW9uLCBwcm92aWRlcklkIH07XG59XG4iXSwibmFtZXMiOlsicGFyc2UiLCJwYXJzZUNvb2tpZSIsInNlcmlhbGl6ZSIsIlVua25vd25BY3Rpb24iLCJpc0F1dGhBY3Rpb24iLCJnZXRCb2R5IiwicmVxIiwiYm9keSIsIm1ldGhvZCIsImNvbnRlbnRUeXBlIiwiaGVhZGVycyIsImdldCIsImluY2x1ZGVzIiwianNvbiIsInBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInRleHQiLCJPYmplY3QiLCJmcm9tRW50cmllcyIsInRvSW50ZXJuYWxSZXF1ZXN0IiwiY29uZmlnIiwiYmFzZVBhdGgiLCJ1cmwiLCJVUkwiLCJhY3Rpb24iLCJwcm92aWRlcklkIiwicGFyc2VBY3Rpb25BbmRQcm92aWRlcklkIiwicGF0aG5hbWUiLCJ1bmRlZmluZWQiLCJjb29raWVzIiwiZXJyb3IiLCJzZWFyY2hQYXJhbXMiLCJxdWVyeSIsImUiLCJ0b1JlcXVlc3QiLCJyZXF1ZXN0IiwiUmVxdWVzdCIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0b1Jlc3BvbnNlIiwicmVzIiwiSGVhZGVycyIsImZvckVhY2giLCJjb29raWUiLCJuYW1lIiwidmFsdWUiLCJvcHRpb25zIiwiY29va2llSGVhZGVyIiwiaGFzIiwiYXBwZW5kIiwic2V0IiwidG9TdHJpbmciLCJzdGF0dXMiLCJyZWRpcmVjdCIsInJlc3BvbnNlIiwiUmVzcG9uc2UiLCJjcmVhdGVIYXNoIiwibWVzc2FnZSIsImRhdGEiLCJUZXh0RW5jb2RlciIsImVuY29kZSIsImhhc2giLCJjcnlwdG8iLCJzdWJ0bGUiLCJkaWdlc3QiLCJBcnJheSIsImZyb20iLCJVaW50OEFycmF5IiwibWFwIiwiYiIsInBhZFN0YXJ0Iiwiam9pbiIsInJhbmRvbVN0cmluZyIsInNpemUiLCJpMmhleCIsImkiLCJzbGljZSIsInIiLCJhIiwiYnl0ZXMiLCJnZXRSYW5kb21WYWx1ZXMiLCJyZWR1Y2UiLCJiYXNlIiwibWF0Y2giLCJSZWdFeHAiLCJfIiwiYWN0aW9uQW5kUHJvdmlkZXJJZCIsInJlcGxhY2UiLCJzcGxpdCIsImxlbmd0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/lib/utils/web.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/lib/utils/webauthn-client.js":
/*!**************************************************************!*\
  !*** ./node_modules/@auth/core/lib/utils/webauthn-client.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   webauthnScript: () => (/* binding */ webauthnScript)\n/* harmony export */ });\n//@ts-check\n// Declare a SimpleWebAuthnBrowser variable as part of \"window\"\n/** @typedef {\"authenticate\"} WebAuthnAuthenticate */ /** @typedef {\"register\"} WebAuthnRegister */ /** @typedef {WebAuthnRegister | WebAuthnAuthenticate} WebAuthnOptionsAction */ /**\n * @template {WebAuthnOptionsAction} T\n * @typedef {T extends WebAuthnAuthenticate ?\n *  { options: import(\"@simplewebauthn/server/script/deps\").PublicKeyCredentialRequestOptionsJSON; action: \"authenticate\" } :\n *  T extends WebAuthnRegister ?\n *  { options: import(\"@simplewebauthn/server/script/deps\").PublicKeyCredentialCreationOptionsJSON; action: \"register\" } :\n * never\n * } WebAuthnOptionsReturn\n */ /**\n * webauthnScript is the client-side script that handles the webauthn form\n *\n * @param {string} authURL is the URL of the auth API\n * @param {string} providerID is the ID of the webauthn provider\n */ async function webauthnScript(authURL, providerID) {\n    /** @type {typeof import(\"@simplewebauthn/browser\")} */ // @ts-ignore\n    const WebAuthnBrowser = window.SimpleWebAuthnBrowser;\n    /**\n     * Fetch webauthn options from the server\n     *\n     * @template {WebAuthnOptionsAction} T\n     * @param {T | undefined} action action to fetch options for\n     * @returns {Promise<WebAuthnOptionsReturn<T> | undefined>}\n     */ async function fetchOptions(action) {\n        // Create the options URL with the action and query parameters\n        const url = new URL(`${authURL}/webauthn-options/${providerID}`);\n        if (action) url.searchParams.append(\"action\", action);\n        const formFields = getFormFields();\n        formFields.forEach((field)=>{\n            url.searchParams.append(field.name, field.value);\n        });\n        const res = await fetch(url);\n        if (!res.ok) {\n            console.error(\"Failed to fetch options\", res);\n            return;\n        }\n        return res.json();\n    }\n    /**\n     * Get the webauthn form from the page\n     *\n     * @returns {HTMLFormElement}\n     */ function getForm() {\n        const formID = `#${providerID}-form`;\n        /** @type {HTMLFormElement | null} */ const form = document.querySelector(formID);\n        if (!form) throw new Error(`Form '${formID}' not found`);\n        return form;\n    }\n    /**\n     * Get formFields from the form\n     *\n     * @returns {HTMLInputElement[]}\n     */ function getFormFields() {\n        const form = getForm();\n        /** @type {HTMLInputElement[]} */ const formFields = Array.from(form.querySelectorAll(\"input[data-form-field]\"));\n        return formFields;\n    }\n    /**\n     * Passkey form submission handler.\n     * Takes the input from the form and a few other parameters and submits it to the server.\n     *\n     * @param {WebAuthnOptionsAction} action action to submit\n     * @param {unknown | undefined} data optional data to submit\n     * @returns {Promise<void>}\n     */ async function submitForm(action, data) {\n        const form = getForm();\n        // If a POST request, create hidden fields in the form\n        // and submit it so the browser redirects on login\n        if (action) {\n            const actionInput = document.createElement(\"input\");\n            actionInput.type = \"hidden\";\n            actionInput.name = \"action\";\n            actionInput.value = action;\n            form.appendChild(actionInput);\n        }\n        if (data) {\n            const dataInput = document.createElement(\"input\");\n            dataInput.type = \"hidden\";\n            dataInput.name = \"data\";\n            dataInput.value = JSON.stringify(data);\n            form.appendChild(dataInput);\n        }\n        return form.submit();\n    }\n    /**\n     * Executes the authentication flow by fetching options from the server,\n     * starting the authentication, and submitting the response to the server.\n     *\n     * @param {WebAuthnOptionsReturn<WebAuthnAuthenticate>['options']} options\n     * @param {boolean} autofill Whether or not to use the browser's autofill\n     * @returns {Promise<void>}\n     */ async function authenticationFlow(options, autofill) {\n        // Start authentication\n        const authResp = await WebAuthnBrowser.startAuthentication(options, autofill);\n        // Submit authentication response to server\n        return await submitForm(\"authenticate\", authResp);\n    }\n    /**\n     * @param {WebAuthnOptionsReturn<WebAuthnRegister>['options']} options\n     */ async function registrationFlow(options) {\n        // Check if all required formFields are set\n        const formFields = getFormFields();\n        formFields.forEach((field)=>{\n            if (field.required && !field.value) {\n                throw new Error(`Missing required field: ${field.name}`);\n            }\n        });\n        // Start registration\n        const regResp = await WebAuthnBrowser.startRegistration(options);\n        // Submit registration response to server\n        return await submitForm(\"register\", regResp);\n    }\n    /**\n     * Attempts to authenticate the user when the page loads\n     * using the browser's autofill popup.\n     *\n     * @returns {Promise<void>}\n     */ async function autofillAuthentication() {\n        // if the browser can't handle autofill, don't try\n        if (!WebAuthnBrowser.browserSupportsWebAuthnAutofill()) return;\n        const res = await fetchOptions(\"authenticate\");\n        if (!res) {\n            console.error(\"Failed to fetch option for autofill authentication\");\n            return;\n        }\n        try {\n            await authenticationFlow(res.options, true);\n        } catch (e) {\n            console.error(e);\n        }\n    }\n    /**\n     * Sets up the passkey form by overriding the form submission handler\n     * so that it attempts to authenticate the user when the form is submitted.\n     * If the user is not registered, it will attempt to register them instead.\n     */ async function setupForm() {\n        const form = getForm();\n        // If the browser can't do WebAuthn, hide the form\n        if (!WebAuthnBrowser.browserSupportsWebAuthn()) {\n            form.style.display = \"none\";\n            return;\n        }\n        if (form) {\n            form.addEventListener(\"submit\", async (e)=>{\n                e.preventDefault();\n                // Fetch options from the server without assuming that\n                // the user is registered\n                const res = await fetchOptions(undefined);\n                if (!res) {\n                    console.error(\"Failed to fetch options for form submission\");\n                    return;\n                }\n                // Then execute the appropriate flow\n                if (res.action === \"authenticate\") {\n                    try {\n                        await authenticationFlow(res.options, false);\n                    } catch (e) {\n                        console.error(e);\n                    }\n                } else if (res.action === \"register\") {\n                    try {\n                        await registrationFlow(res.options);\n                    } catch (e) {\n                        console.error(e);\n                    }\n                }\n            });\n        }\n    }\n    // On page load, setup the form and attempt to authenticate the user.\n    setupForm();\n    autofillAuthentication();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi91dGlscy93ZWJhdXRobi1jbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLFdBQVc7QUFDWCwrREFBK0Q7QUFDL0QsbURBQW1ELEdBQ25ELDJDQUEyQyxHQUMzQyw2RUFBNkUsR0FDN0U7Ozs7Ozs7O0NBUUMsR0FDRDs7Ozs7Q0FLQyxHQUNNLGVBQWVBLGVBQWVDLE9BQU8sRUFBRUMsVUFBVTtJQUNwRCxxREFBcUQsR0FDckQsYUFBYTtJQUNiLE1BQU1DLGtCQUFrQkMsT0FBT0MscUJBQXFCO0lBQ3BEOzs7Ozs7S0FNQyxHQUNELGVBQWVDLGFBQWFDLE1BQU07UUFDOUIsOERBQThEO1FBQzlELE1BQU1DLE1BQU0sSUFBSUMsSUFBSSxDQUFDLEVBQUVSLFFBQVEsa0JBQWtCLEVBQUVDLFdBQVcsQ0FBQztRQUMvRCxJQUFJSyxRQUNBQyxJQUFJRSxZQUFZLENBQUNDLE1BQU0sQ0FBQyxVQUFVSjtRQUN0QyxNQUFNSyxhQUFhQztRQUNuQkQsV0FBV0UsT0FBTyxDQUFDLENBQUNDO1lBQ2hCUCxJQUFJRSxZQUFZLENBQUNDLE1BQU0sQ0FBQ0ksTUFBTUMsSUFBSSxFQUFFRCxNQUFNRSxLQUFLO1FBQ25EO1FBQ0EsTUFBTUMsTUFBTSxNQUFNQyxNQUFNWDtRQUN4QixJQUFJLENBQUNVLElBQUlFLEVBQUUsRUFBRTtZQUNUQyxRQUFRQyxLQUFLLENBQUMsMkJBQTJCSjtZQUN6QztRQUNKO1FBQ0EsT0FBT0EsSUFBSUssSUFBSTtJQUNuQjtJQUNBOzs7O0tBSUMsR0FDRCxTQUFTQztRQUNMLE1BQU1DLFNBQVMsQ0FBQyxDQUFDLEVBQUV2QixXQUFXLEtBQUssQ0FBQztRQUNwQyxtQ0FBbUMsR0FDbkMsTUFBTXdCLE9BQU9DLFNBQVNDLGFBQWEsQ0FBQ0g7UUFDcEMsSUFBSSxDQUFDQyxNQUNELE1BQU0sSUFBSUcsTUFBTSxDQUFDLE1BQU0sRUFBRUosT0FBTyxXQUFXLENBQUM7UUFD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O3dCQUNOakMsUUFBUUMsS0FBSyxDQUFDZ0M7b0JBQ2xCO2dCQUNKLE9BQ0ssSUFBSXBDLElBQUlYLE1BQU0sS0FBSyxZQUFZO29CQUNoQyxJQUFJO3dCQUNBLE1BQU15QyxpQkFBaUI5QixJQUFJMEIsT0FBTztvQkFDdEMsRUFDQSxPQUFPVSxHQUFHO3dCQUNOakMsUUFBUUMsS0FBSyxDQUFDZ0M7b0JBQ2xCO2dCQUNKO1lBQ0o7UUFDSjtJQUNKO0lBQ0EscUVBQXFFO0lBQ3JFQztJQUNBSDtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC1yeC8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi91dGlscy93ZWJhdXRobi1jbGllbnQuanM/MzljOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvL0B0cy1jaGVja1xuLy8gRGVjbGFyZSBhIFNpbXBsZVdlYkF1dGhuQnJvd3NlciB2YXJpYWJsZSBhcyBwYXJ0IG9mIFwid2luZG93XCJcbi8qKiBAdHlwZWRlZiB7XCJhdXRoZW50aWNhdGVcIn0gV2ViQXV0aG5BdXRoZW50aWNhdGUgKi9cbi8qKiBAdHlwZWRlZiB7XCJyZWdpc3RlclwifSBXZWJBdXRoblJlZ2lzdGVyICovXG4vKiogQHR5cGVkZWYge1dlYkF1dGhuUmVnaXN0ZXIgfCBXZWJBdXRobkF1dGhlbnRpY2F0ZX0gV2ViQXV0aG5PcHRpb25zQWN0aW9uICovXG4vKipcbiAqIEB0ZW1wbGF0ZSB7V2ViQXV0aG5PcHRpb25zQWN0aW9ufSBUXG4gKiBAdHlwZWRlZiB7VCBleHRlbmRzIFdlYkF1dGhuQXV0aGVudGljYXRlID9cbiAqICB7IG9wdGlvbnM6IGltcG9ydChcIkBzaW1wbGV3ZWJhdXRobi9zZXJ2ZXIvc2NyaXB0L2RlcHNcIikuUHVibGljS2V5Q3JlZGVudGlhbFJlcXVlc3RPcHRpb25zSlNPTjsgYWN0aW9uOiBcImF1dGhlbnRpY2F0ZVwiIH0gOlxuICogIFQgZXh0ZW5kcyBXZWJBdXRoblJlZ2lzdGVyID9cbiAqICB7IG9wdGlvbnM6IGltcG9ydChcIkBzaW1wbGV3ZWJhdXRobi9zZXJ2ZXIvc2NyaXB0L2RlcHNcIikuUHVibGljS2V5Q3JlZGVudGlhbENyZWF0aW9uT3B0aW9uc0pTT047IGFjdGlvbjogXCJyZWdpc3RlclwiIH0gOlxuICogbmV2ZXJcbiAqIH0gV2ViQXV0aG5PcHRpb25zUmV0dXJuXG4gKi9cbi8qKlxuICogd2ViYXV0aG5TY3JpcHQgaXMgdGhlIGNsaWVudC1zaWRlIHNjcmlwdCB0aGF0IGhhbmRsZXMgdGhlIHdlYmF1dGhuIGZvcm1cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYXV0aFVSTCBpcyB0aGUgVVJMIG9mIHRoZSBhdXRoIEFQSVxuICogQHBhcmFtIHtzdHJpbmd9IHByb3ZpZGVySUQgaXMgdGhlIElEIG9mIHRoZSB3ZWJhdXRobiBwcm92aWRlclxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gd2ViYXV0aG5TY3JpcHQoYXV0aFVSTCwgcHJvdmlkZXJJRCkge1xuICAgIC8qKiBAdHlwZSB7dHlwZW9mIGltcG9ydChcIkBzaW1wbGV3ZWJhdXRobi9icm93c2VyXCIpfSAqL1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBjb25zdCBXZWJBdXRobkJyb3dzZXIgPSB3aW5kb3cuU2ltcGxlV2ViQXV0aG5Ccm93c2VyO1xuICAgIC8qKlxuICAgICAqIEZldGNoIHdlYmF1dGhuIG9wdGlvbnMgZnJvbSB0aGUgc2VydmVyXG4gICAgICpcbiAgICAgKiBAdGVtcGxhdGUge1dlYkF1dGhuT3B0aW9uc0FjdGlvbn0gVFxuICAgICAqIEBwYXJhbSB7VCB8IHVuZGVmaW5lZH0gYWN0aW9uIGFjdGlvbiB0byBmZXRjaCBvcHRpb25zIGZvclxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPFdlYkF1dGhuT3B0aW9uc1JldHVybjxUPiB8IHVuZGVmaW5lZD59XG4gICAgICovXG4gICAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hPcHRpb25zKGFjdGlvbikge1xuICAgICAgICAvLyBDcmVhdGUgdGhlIG9wdGlvbnMgVVJMIHdpdGggdGhlIGFjdGlvbiBhbmQgcXVlcnkgcGFyYW1ldGVyc1xuICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGAke2F1dGhVUkx9L3dlYmF1dGhuLW9wdGlvbnMvJHtwcm92aWRlcklEfWApO1xuICAgICAgICBpZiAoYWN0aW9uKVxuICAgICAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJhY3Rpb25cIiwgYWN0aW9uKTtcbiAgICAgICAgY29uc3QgZm9ybUZpZWxkcyA9IGdldEZvcm1GaWVsZHMoKTtcbiAgICAgICAgZm9ybUZpZWxkcy5mb3JFYWNoKChmaWVsZCkgPT4ge1xuICAgICAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoZmllbGQubmFtZSwgZmllbGQudmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2godXJsKTtcbiAgICAgICAgaWYgKCFyZXMub2spIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggb3B0aW9uc1wiLCByZXMpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHdlYmF1dGhuIGZvcm0gZnJvbSB0aGUgcGFnZVxuICAgICAqXG4gICAgICogQHJldHVybnMge0hUTUxGb3JtRWxlbWVudH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRGb3JtKCkge1xuICAgICAgICBjb25zdCBmb3JtSUQgPSBgIyR7cHJvdmlkZXJJRH0tZm9ybWA7XG4gICAgICAgIC8qKiBAdHlwZSB7SFRNTEZvcm1FbGVtZW50IHwgbnVsbH0gKi9cbiAgICAgICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZm9ybUlEKTtcbiAgICAgICAgaWYgKCFmb3JtKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGb3JtICcke2Zvcm1JRH0nIG5vdCBmb3VuZGApO1xuICAgICAgICByZXR1cm4gZm9ybTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGZvcm1GaWVsZHMgZnJvbSB0aGUgZm9ybVxuICAgICAqXG4gICAgICogQHJldHVybnMge0hUTUxJbnB1dEVsZW1lbnRbXX1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRGb3JtRmllbGRzKCkge1xuICAgICAgICBjb25zdCBmb3JtID0gZ2V0Rm9ybSgpO1xuICAgICAgICAvKiogQHR5cGUge0hUTUxJbnB1dEVsZW1lbnRbXX0gKi9cbiAgICAgICAgY29uc3QgZm9ybUZpZWxkcyA9IEFycmF5LmZyb20oZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRbZGF0YS1mb3JtLWZpZWxkXVwiKSk7XG4gICAgICAgIHJldHVybiBmb3JtRmllbGRzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXNza2V5IGZvcm0gc3VibWlzc2lvbiBoYW5kbGVyLlxuICAgICAqIFRha2VzIHRoZSBpbnB1dCBmcm9tIHRoZSBmb3JtIGFuZCBhIGZldyBvdGhlciBwYXJhbWV0ZXJzIGFuZCBzdWJtaXRzIGl0IHRvIHRoZSBzZXJ2ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkF1dGhuT3B0aW9uc0FjdGlvbn0gYWN0aW9uIGFjdGlvbiB0byBzdWJtaXRcbiAgICAgKiBAcGFyYW0ge3Vua25vd24gfCB1bmRlZmluZWR9IGRhdGEgb3B0aW9uYWwgZGF0YSB0byBzdWJtaXRcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICAgKi9cbiAgICBhc3luYyBmdW5jdGlvbiBzdWJtaXRGb3JtKGFjdGlvbiwgZGF0YSkge1xuICAgICAgICBjb25zdCBmb3JtID0gZ2V0Rm9ybSgpO1xuICAgICAgICAvLyBJZiBhIFBPU1QgcmVxdWVzdCwgY3JlYXRlIGhpZGRlbiBmaWVsZHMgaW4gdGhlIGZvcm1cbiAgICAgICAgLy8gYW5kIHN1Ym1pdCBpdCBzbyB0aGUgYnJvd3NlciByZWRpcmVjdHMgb24gbG9naW5cbiAgICAgICAgaWYgKGFjdGlvbikge1xuICAgICAgICAgICAgY29uc3QgYWN0aW9uSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgICAgICBhY3Rpb25JbnB1dC50eXBlID0gXCJoaWRkZW5cIjtcbiAgICAgICAgICAgIGFjdGlvbklucHV0Lm5hbWUgPSBcImFjdGlvblwiO1xuICAgICAgICAgICAgYWN0aW9uSW5wdXQudmFsdWUgPSBhY3Rpb247XG4gICAgICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGFjdGlvbklucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgY29uc3QgZGF0YUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICAgICAgZGF0YUlucHV0LnR5cGUgPSBcImhpZGRlblwiO1xuICAgICAgICAgICAgZGF0YUlucHV0Lm5hbWUgPSBcImRhdGFcIjtcbiAgICAgICAgICAgIGRhdGFJbnB1dC52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAgICAgICAgICAgZm9ybS5hcHBlbmRDaGlsZChkYXRhSW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmb3JtLnN1Ym1pdCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgYXV0aGVudGljYXRpb24gZmxvdyBieSBmZXRjaGluZyBvcHRpb25zIGZyb20gdGhlIHNlcnZlcixcbiAgICAgKiBzdGFydGluZyB0aGUgYXV0aGVudGljYXRpb24sIGFuZCBzdWJtaXR0aW5nIHRoZSByZXNwb25zZSB0byB0aGUgc2VydmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJBdXRobk9wdGlvbnNSZXR1cm48V2ViQXV0aG5BdXRoZW50aWNhdGU+WydvcHRpb25zJ119IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGF1dG9maWxsIFdoZXRoZXIgb3Igbm90IHRvIHVzZSB0aGUgYnJvd3NlcidzIGF1dG9maWxsXG4gICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAgICovXG4gICAgYXN5bmMgZnVuY3Rpb24gYXV0aGVudGljYXRpb25GbG93KG9wdGlvbnMsIGF1dG9maWxsKSB7XG4gICAgICAgIC8vIFN0YXJ0IGF1dGhlbnRpY2F0aW9uXG4gICAgICAgIGNvbnN0IGF1dGhSZXNwID0gYXdhaXQgV2ViQXV0aG5Ccm93c2VyLnN0YXJ0QXV0aGVudGljYXRpb24ob3B0aW9ucywgYXV0b2ZpbGwpO1xuICAgICAgICAvLyBTdWJtaXQgYXV0aGVudGljYXRpb24gcmVzcG9uc2UgdG8gc2VydmVyXG4gICAgICAgIHJldHVybiBhd2FpdCBzdWJtaXRGb3JtKFwiYXV0aGVudGljYXRlXCIsIGF1dGhSZXNwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtXZWJBdXRobk9wdGlvbnNSZXR1cm48V2ViQXV0aG5SZWdpc3Rlcj5bJ29wdGlvbnMnXX0gb3B0aW9uc1xuICAgICAqL1xuICAgIGFzeW5jIGZ1bmN0aW9uIHJlZ2lzdHJhdGlvbkZsb3cob3B0aW9ucykge1xuICAgICAgICAvLyBDaGVjayBpZiBhbGwgcmVxdWlyZWQgZm9ybUZpZWxkcyBhcmUgc2V0XG4gICAgICAgIGNvbnN0IGZvcm1GaWVsZHMgPSBnZXRGb3JtRmllbGRzKCk7XG4gICAgICAgIGZvcm1GaWVsZHMuZm9yRWFjaCgoZmllbGQpID0+IHtcbiAgICAgICAgICAgIGlmIChmaWVsZC5yZXF1aXJlZCAmJiAhZmllbGQudmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgcmVxdWlyZWQgZmllbGQ6ICR7ZmllbGQubmFtZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFN0YXJ0IHJlZ2lzdHJhdGlvblxuICAgICAgICBjb25zdCByZWdSZXNwID0gYXdhaXQgV2ViQXV0aG5Ccm93c2VyLnN0YXJ0UmVnaXN0cmF0aW9uKG9wdGlvbnMpO1xuICAgICAgICAvLyBTdWJtaXQgcmVnaXN0cmF0aW9uIHJlc3BvbnNlIHRvIHNlcnZlclxuICAgICAgICByZXR1cm4gYXdhaXQgc3VibWl0Rm9ybShcInJlZ2lzdGVyXCIsIHJlZ1Jlc3ApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRlbXB0cyB0byBhdXRoZW50aWNhdGUgdGhlIHVzZXIgd2hlbiB0aGUgcGFnZSBsb2Fkc1xuICAgICAqIHVzaW5nIHRoZSBicm93c2VyJ3MgYXV0b2ZpbGwgcG9wdXAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICAgKi9cbiAgICBhc3luYyBmdW5jdGlvbiBhdXRvZmlsbEF1dGhlbnRpY2F0aW9uKCkge1xuICAgICAgICAvLyBpZiB0aGUgYnJvd3NlciBjYW4ndCBoYW5kbGUgYXV0b2ZpbGwsIGRvbid0IHRyeVxuICAgICAgICBpZiAoIVdlYkF1dGhuQnJvd3Nlci5icm93c2VyU3VwcG9ydHNXZWJBdXRobkF1dG9maWxsKCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoT3B0aW9ucyhcImF1dGhlbnRpY2F0ZVwiKTtcbiAgICAgICAgaWYgKCFyZXMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggb3B0aW9uIGZvciBhdXRvZmlsbCBhdXRoZW50aWNhdGlvblwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgYXV0aGVudGljYXRpb25GbG93KHJlcy5vcHRpb25zLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSBwYXNza2V5IGZvcm0gYnkgb3ZlcnJpZGluZyB0aGUgZm9ybSBzdWJtaXNzaW9uIGhhbmRsZXJcbiAgICAgKiBzbyB0aGF0IGl0IGF0dGVtcHRzIHRvIGF1dGhlbnRpY2F0ZSB0aGUgdXNlciB3aGVuIHRoZSBmb3JtIGlzIHN1Ym1pdHRlZC5cbiAgICAgKiBJZiB0aGUgdXNlciBpcyBub3QgcmVnaXN0ZXJlZCwgaXQgd2lsbCBhdHRlbXB0IHRvIHJlZ2lzdGVyIHRoZW0gaW5zdGVhZC5cbiAgICAgKi9cbiAgICBhc3luYyBmdW5jdGlvbiBzZXR1cEZvcm0oKSB7XG4gICAgICAgIGNvbnN0IGZvcm0gPSBnZXRGb3JtKCk7XG4gICAgICAgIC8vIElmIHRoZSBicm93c2VyIGNhbid0IGRvIFdlYkF1dGhuLCBoaWRlIHRoZSBmb3JtXG4gICAgICAgIGlmICghV2ViQXV0aG5Ccm93c2VyLmJyb3dzZXJTdXBwb3J0c1dlYkF1dGhuKCkpIHtcbiAgICAgICAgICAgIGZvcm0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtKSB7XG4gICAgICAgICAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgYXN5bmMgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgLy8gRmV0Y2ggb3B0aW9ucyBmcm9tIHRoZSBzZXJ2ZXIgd2l0aG91dCBhc3N1bWluZyB0aGF0XG4gICAgICAgICAgICAgICAgLy8gdGhlIHVzZXIgaXMgcmVnaXN0ZXJlZFxuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoT3B0aW9ucyh1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIGlmICghcmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggb3B0aW9ucyBmb3IgZm9ybSBzdWJtaXNzaW9uXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFRoZW4gZXhlY3V0ZSB0aGUgYXBwcm9wcmlhdGUgZmxvd1xuICAgICAgICAgICAgICAgIGlmIChyZXMuYWN0aW9uID09PSBcImF1dGhlbnRpY2F0ZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBhdXRoZW50aWNhdGlvbkZsb3cocmVzLm9wdGlvbnMsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXMuYWN0aW9uID09PSBcInJlZ2lzdGVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHJlZ2lzdHJhdGlvbkZsb3cocmVzLm9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gT24gcGFnZSBsb2FkLCBzZXR1cCB0aGUgZm9ybSBhbmQgYXR0ZW1wdCB0byBhdXRoZW50aWNhdGUgdGhlIHVzZXIuXG4gICAgc2V0dXBGb3JtKCk7XG4gICAgYXV0b2ZpbGxBdXRoZW50aWNhdGlvbigpO1xufVxuIl0sIm5hbWVzIjpbIndlYmF1dGhuU2NyaXB0IiwiYXV0aFVSTCIsInByb3ZpZGVySUQiLCJXZWJBdXRobkJyb3dzZXIiLCJ3aW5kb3ciLCJTaW1wbGVXZWJBdXRobkJyb3dzZXIiLCJmZXRjaE9wdGlvbnMiLCJhY3Rpb24iLCJ1cmwiLCJVUkwiLCJzZWFyY2hQYXJhbXMiLCJhcHBlbmQiLCJmb3JtRmllbGRzIiwiZ2V0Rm9ybUZpZWxkcyIsImZvckVhY2giLCJmaWVsZCIsIm5hbWUiLCJ2YWx1ZSIsInJlcyIsImZldGNoIiwib2siLCJjb25zb2xlIiwiZXJyb3IiLCJqc29uIiwiZ2V0Rm9ybSIsImZvcm1JRCIsImZvcm0iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJFcnJvciIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzdWJtaXRGb3JtIiwiZGF0YSIsImFjdGlvbklucHV0IiwiY3JlYXRlRWxlbWVudCIsInR5cGUiLCJhcHBlbmRDaGlsZCIsImRhdGFJbnB1dCIsIkpTT04iLCJzdHJpbmdpZnkiLCJzdWJtaXQiLCJhdXRoZW50aWNhdGlvbkZsb3ciLCJvcHRpb25zIiwiYXV0b2ZpbGwiLCJhdXRoUmVzcCIsInN0YXJ0QXV0aGVudGljYXRpb24iLCJyZWdpc3RyYXRpb25GbG93IiwicmVxdWlyZWQiLCJyZWdSZXNwIiwic3RhcnRSZWdpc3RyYXRpb24iLCJhdXRvZmlsbEF1dGhlbnRpY2F0aW9uIiwiYnJvd3NlclN1cHBvcnRzV2ViQXV0aG5BdXRvZmlsbCIsImUiLCJzZXR1cEZvcm0iLCJicm93c2VyU3VwcG9ydHNXZWJBdXRobiIsInN0eWxlIiwiZGlzcGxheSIsImFkZEV2ZW50TGlzdGVuZXIiLCJwcmV2ZW50RGVmYXVsdCIsInVuZGVmaW5lZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/lib/utils/webauthn-client.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/lib/utils/webauthn-client.js":
/*!**************************************************************!*\
  !*** ./node_modules/@auth/core/lib/utils/webauthn-client.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   webauthnScript: () => (/* binding */ webauthnScript)\n/* harmony export */ });\n//@ts-check\n// Declare a SimpleWebAuthnBrowser variable as part of \"window\"\n/** @typedef {\"authenticate\"} WebAuthnAuthenticate */ /** @typedef {\"register\"} WebAuthnRegister */ /** @typedef {WebAuthnRegister | WebAuthnAuthenticate} WebAuthnOptionsAction */ /**\n * @template {WebAuthnOptionsAction} T\n * @typedef {T extends WebAuthnAuthenticate ?\n *  { options: import(\"@simplewebauthn/server/script/deps\").PublicKeyCredentialRequestOptionsJSON; action: \"authenticate\" } :\n *  T extends WebAuthnRegister ?\n *  { options: import(\"@simplewebauthn/server/script/deps\").PublicKeyCredentialCreationOptionsJSON; action: \"register\" } :\n * never\n * } WebAuthnOptionsReturn\n */ /**\n * webauthnScript is the client-side script that handles the webauthn form\n *\n * @param {string} authURL is the URL of the auth API\n * @param {string} providerID is the ID of the webauthn provider\n */ async function webauthnScript(authURL, providerID) {\n    /** @type {typeof import(\"@simplewebauthn/browser\")} */ // @ts-ignore\n    const WebAuthnBrowser = window.SimpleWebAuthnBrowser;\n    /**\n     * Fetch webauthn options from the server\n     *\n     * @template {WebAuthnOptionsAction} T\n     * @param {T | undefined} action action to fetch options for\n     * @returns {Promise<WebAuthnOptionsReturn<T> | undefined>}\n     */ async function fetchOptions(action) {\n        // Create the options URL with the action and query parameters\n        const url = new URL(`${authURL}/webauthn-options/${providerID}`);\n        if (action) url.searchParams.append(\"action\", action);\n        const formFields = getFormFields();\n        formFields.forEach((field)=>{\n            url.searchParams.append(field.name, field.value);\n        });\n        const res = await fetch(url);\n        if (!res.ok) {\n            console.error(\"Failed to fetch options\", res);\n            return;\n        }\n        return res.json();\n    }\n    /**\n     * Get the webauthn form from the page\n     *\n     * @returns {HTMLFormElement}\n     */ function getForm() {\n        const formID = `#${providerID}-form`;\n        /** @type {HTMLFormElement | null} */ const form = document.querySelector(formID);\n        if (!form) throw new Error(`Form '${formID}' not found`);\n        return form;\n    }\n    /**\n     * Get formFields from the form\n     *\n     * @returns {HTMLInputElement[]}\n     */ function getFormFields() {\n        const form = getForm();\n        /** @type {HTMLInputElement[]} */ const formFields = Array.from(form.querySelectorAll(\"input[data-form-field]\"));\n        return formFields;\n    }\n    /**\n     * Passkey form submission handler.\n     * Takes the input from the form and a few other parameters and submits it to the server.\n     *\n     * @param {WebAuthnOptionsAction} action action to submit\n     * @param {unknown | undefined} data optional data to submit\n     * @returns {Promise<void>}\n     */ async function submitForm(action, data) {\n        const form = getForm();\n        // If a POST request, create hidden fields in the form\n        // and submit it so the browser redirects on login\n        if (action) {\n            const actionInput = document.createElement(\"input\");\n            actionInput.type = \"hidden\";\n            actionInput.name = \"action\";\n            actionInput.value = action;\n            form.appendChild(actionInput);\n        }\n        if (data) {\n            const dataInput = document.createElement(\"input\");\n            dataInput.type = \"hidden\";\n            dataInput.name = \"data\";\n            dataInput.value = JSON.stringify(data);\n            form.appendChild(dataInput);\n        }\n        return form.submit();\n    }\n    /**\n     * Executes the authentication flow by fetching options from the server,\n     * starting the authentication, and submitting the response to the server.\n     *\n     * @param {WebAuthnOptionsReturn<WebAuthnAuthenticate>['options']} options\n     * @param {boolean} autofill Whether or not to use the browser's autofill\n     * @returns {Promise<void>}\n     */ async function authenticationFlow(options, autofill) {\n        // Start authentication\n        const authResp = await WebAuthnBrowser.startAuthentication(options, autofill);\n        // Submit authentication response to server\n        return await submitForm(\"authenticate\", authResp);\n    }\n    /**\n     * @param {WebAuthnOptionsReturn<WebAuthnRegister>['options']} options\n     */ async function registrationFlow(options) {\n        // Check if all required formFields are set\n        const formFields = getFormFields();\n        formFields.forEach((field)=>{\n            if (field.required && !field.value) {\n                throw new Error(`Missing required field: ${field.name}`);\n            }\n        });\n        // Start registration\n        const regResp = await WebAuthnBrowser.startRegistration(options);\n        // Submit registration response to server\n        return await submitForm(\"register\", regResp);\n    }\n    /**\n     * Attempts to authenticate the user when the page loads\n     * using the browser's autofill popup.\n     *\n     * @returns {Promise<void>}\n     */ async function autofillAuthentication() {\n        // if the browser can't handle autofill, don't try\n        if (!WebAuthnBrowser.browserSupportsWebAuthnAutofill()) return;\n        const res = await fetchOptions(\"authenticate\");\n        if (!res) {\n            console.error(\"Failed to fetch option for autofill authentication\");\n            return;\n        }\n        try {\n            await authenticationFlow(res.options, true);\n        } catch (e) {\n            console.error(e);\n        }\n    }\n    /**\n     * Sets up the passkey form by overriding the form submission handler\n     * so that it attempts to authenticate the user when the form is submitted.\n     * If the user is not registered, it will attempt to register them instead.\n     */ async function setupForm() {\n        const form = getForm();\n        // If the browser can't do WebAuthn, hide the form\n        if (!WebAuthnBrowser.browserSupportsWebAuthn()) {\n            form.style.display = \"none\";\n            return;\n        }\n        if (form) {\n            form.addEventListener(\"submit\", async (e)=>{\n                e.preventDefault();\n                // Fetch options from the server without assuming that\n                // the user is registered\n                const res = await fetchOptions(undefined);\n                if (!res) {\n                    console.error(\"Failed to fetch options for form submission\");\n                    return;\n                }\n                // Then execute the appropriate flow\n                if (res.action === \"authenticate\") {\n                    try {\n                        await authenticationFlow(res.options, false);\n                    } catch (e) {\n                        console.error(e);\n                    }\n                } else if (res.action === \"register\") {\n                    try {\n                        await registrationFlow(res.options);\n                    } catch (e) {\n                        console.error(e);\n                    }\n                }\n            });\n        }\n    }\n    // On page load, setup the form and attempt to authenticate the user.\n    setupForm();\n    autofillAuthentication();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvdXRpbHMvd2ViYXV0aG4tY2xpZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxXQUFXO0FBQ1gsK0RBQStEO0FBQy9ELG1EQUFtRCxHQUNuRCwyQ0FBMkMsR0FDM0MsNkVBQTZFLEdBQzdFOzs7Ozs7OztDQVFDLEdBQ0Q7Ozs7O0NBS0MsR0FDTSxlQUFlQSxlQUFlQyxPQUFPLEVBQUVDLFVBQVU7SUFDcEQscURBQXFELEdBQ3JELGFBQWE7SUFDYixNQUFNQyxrQkFBa0JDLE9BQU9DLHFCQUFxQjtJQUNwRDs7Ozs7O0tBTUMsR0FDRCxlQUFlQyxhQUFhQyxNQUFNO1FBQzlCLDhEQUE4RDtRQUM5RCxNQUFNQyxNQUFNLElBQUlDLElBQUksQ0FBQyxFQUFFUixRQUFRLGtCQUFrQixFQUFFQyxXQUFXLENBQUM7UUFDL0QsSUFBSUssUUFDQUMsSUFBSUUsWUFBWSxDQUFDQyxNQUFNLENBQUMsVUFBVUo7UUFDdEMsTUFBTUssYUFBYUM7UUFDbkJELFdBQVdFLE9BQU8sQ0FBQyxDQUFDQztZQUNoQlAsSUFBSUUsWUFBWSxDQUFDQyxNQUFNLENBQUNJLE1BQU1DLElBQUksRUFBRUQsTUFBTUUsS0FBSztRQUNuRDtRQUNBLE1BQU1DLE1BQU0sTUFBTUMsTUFBTVg7UUFDeEIsSUFBSSxDQUFDVSxJQUFJRSxFQUFFLEVBQUU7WUFDVEMsUUFBUUMsS0FBSyxDQUFDLDJCQUEyQko7WUFDekM7UUFDSjtRQUNBLE9BQU9BLElBQUlLLElBQUk7SUFDbkI7SUFDQTs7OztLQUlDLEdBQ0QsU0FBU0M7UUFDTCxNQUFNQyxTQUFTLENBQUMsQ0FBQyxFQUFFdkIsV0FBVyxLQUFLLENBQUM7UUFDcEMsbUNBQW1DLEdBQ25DLE1BQU13QixPQUFPQyxTQUFTQyxhQUFhLENBQUNIO1FBQ3BDLElBQUksQ0FBQ0MsTUFDRCxNQUFNLElBQUlHLE1BQU0sQ0FBQyxNQUFNLEVBQUVKLE9BQU8sV0FBVyxDQUFDO1FBQ2hELE9BQU9DO0lB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QVFDLEtBQUssQ0FBQ2dDO29CQUNsQjtnQkFDSixPQUNLLElBQUlwQyxJQUFJWCxNQUFNLEtBQUssWUFBWTtvQkFDaEMsSUFBSTt3QkFDQSxNQUFNeUMsaUJBQWlCOUIsSUFBSTBCLE9BQU87b0JBQ3RDLEVBQ0EsT0FBT1UsR0FBRzt3QkFDTmpDLFFBQVFDLEtBQUssQ0FBQ2dDO29CQUNsQjtnQkFDSjtZQUNKO1FBQ0o7SUFDSjtJQUNBLHFFQUFxRTtJQUNyRUM7SUFDQUg7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtcngvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvdXRpbHMvd2ViYXV0aG4tY2xpZW50LmpzPzM5YzkiXSwic291cmNlc0NvbnRlbnQiOlsiLy9AdHMtY2hlY2tcbi8vIERlY2xhcmUgYSBTaW1wbGVXZWJBdXRobkJyb3dzZXIgdmFyaWFibGUgYXMgcGFydCBvZiBcIndpbmRvd1wiXG4vKiogQHR5cGVkZWYge1wiYXV0aGVudGljYXRlXCJ9IFdlYkF1dGhuQXV0aGVudGljYXRlICovXG4vKiogQHR5cGVkZWYge1wicmVnaXN0ZXJcIn0gV2ViQXV0aG5SZWdpc3RlciAqL1xuLyoqIEB0eXBlZGVmIHtXZWJBdXRoblJlZ2lzdGVyIHwgV2ViQXV0aG5BdXRoZW50aWNhdGV9IFdlYkF1dGhuT3B0aW9uc0FjdGlvbiAqL1xuLyoqXG4gKiBAdGVtcGxhdGUge1dlYkF1dGhuT3B0aW9uc0FjdGlvbn0gVFxuICogQHR5cGVkZWYge1QgZXh0ZW5kcyBXZWJBdXRobkF1dGhlbnRpY2F0ZSA/XG4gKiAgeyBvcHRpb25zOiBpbXBvcnQoXCJAc2ltcGxld2ViYXV0aG4vc2VydmVyL3NjcmlwdC9kZXBzXCIpLlB1YmxpY0tleUNyZWRlbnRpYWxSZXF1ZXN0T3B0aW9uc0pTT047IGFjdGlvbjogXCJhdXRoZW50aWNhdGVcIiB9IDpcbiAqICBUIGV4dGVuZHMgV2ViQXV0aG5SZWdpc3RlciA/XG4gKiAgeyBvcHRpb25zOiBpbXBvcnQoXCJAc2ltcGxld2ViYXV0aG4vc2VydmVyL3NjcmlwdC9kZXBzXCIpLlB1YmxpY0tleUNyZWRlbnRpYWxDcmVhdGlvbk9wdGlvbnNKU09OOyBhY3Rpb246IFwicmVnaXN0ZXJcIiB9IDpcbiAqIG5ldmVyXG4gKiB9IFdlYkF1dGhuT3B0aW9uc1JldHVyblxuICovXG4vKipcbiAqIHdlYmF1dGhuU2NyaXB0IGlzIHRoZSBjbGllbnQtc2lkZSBzY3JpcHQgdGhhdCBoYW5kbGVzIHRoZSB3ZWJhdXRobiBmb3JtXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGF1dGhVUkwgaXMgdGhlIFVSTCBvZiB0aGUgYXV0aCBBUElcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm92aWRlcklEIGlzIHRoZSBJRCBvZiB0aGUgd2ViYXV0aG4gcHJvdmlkZXJcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHdlYmF1dGhuU2NyaXB0KGF1dGhVUkwsIHByb3ZpZGVySUQpIHtcbiAgICAvKiogQHR5cGUge3R5cGVvZiBpbXBvcnQoXCJAc2ltcGxld2ViYXV0aG4vYnJvd3NlclwiKX0gKi9cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgY29uc3QgV2ViQXV0aG5Ccm93c2VyID0gd2luZG93LlNpbXBsZVdlYkF1dGhuQnJvd3NlcjtcbiAgICAvKipcbiAgICAgKiBGZXRjaCB3ZWJhdXRobiBvcHRpb25zIGZyb20gdGhlIHNlcnZlclxuICAgICAqXG4gICAgICogQHRlbXBsYXRlIHtXZWJBdXRobk9wdGlvbnNBY3Rpb259IFRcbiAgICAgKiBAcGFyYW0ge1QgfCB1bmRlZmluZWR9IGFjdGlvbiBhY3Rpb24gdG8gZmV0Y2ggb3B0aW9ucyBmb3JcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxXZWJBdXRobk9wdGlvbnNSZXR1cm48VD4gfCB1bmRlZmluZWQ+fVxuICAgICAqL1xuICAgIGFzeW5jIGZ1bmN0aW9uIGZldGNoT3B0aW9ucyhhY3Rpb24pIHtcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBvcHRpb25zIFVSTCB3aXRoIHRoZSBhY3Rpb24gYW5kIHF1ZXJ5IHBhcmFtZXRlcnNcbiAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTChgJHthdXRoVVJMfS93ZWJhdXRobi1vcHRpb25zLyR7cHJvdmlkZXJJRH1gKTtcbiAgICAgICAgaWYgKGFjdGlvbilcbiAgICAgICAgICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwiYWN0aW9uXCIsIGFjdGlvbik7XG4gICAgICAgIGNvbnN0IGZvcm1GaWVsZHMgPSBnZXRGb3JtRmllbGRzKCk7XG4gICAgICAgIGZvcm1GaWVsZHMuZm9yRWFjaCgoZmllbGQpID0+IHtcbiAgICAgICAgICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKGZpZWxkLm5hbWUsIGZpZWxkLnZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKHVybCk7XG4gICAgICAgIGlmICghcmVzLm9rKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGZldGNoIG9wdGlvbnNcIiwgcmVzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB3ZWJhdXRobiBmb3JtIGZyb20gdGhlIHBhZ2VcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtIVE1MRm9ybUVsZW1lbnR9XG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0Rm9ybSgpIHtcbiAgICAgICAgY29uc3QgZm9ybUlEID0gYCMke3Byb3ZpZGVySUR9LWZvcm1gO1xuICAgICAgICAvKiogQHR5cGUge0hUTUxGb3JtRWxlbWVudCB8IG51bGx9ICovXG4gICAgICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGZvcm1JRCk7XG4gICAgICAgIGlmICghZm9ybSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRm9ybSAnJHtmb3JtSUR9JyBub3QgZm91bmRgKTtcbiAgICAgICAgcmV0dXJuIGZvcm07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBmb3JtRmllbGRzIGZyb20gdGhlIGZvcm1cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtIVE1MSW5wdXRFbGVtZW50W119XG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0Rm9ybUZpZWxkcygpIHtcbiAgICAgICAgY29uc3QgZm9ybSA9IGdldEZvcm0oKTtcbiAgICAgICAgLyoqIEB0eXBlIHtIVE1MSW5wdXRFbGVtZW50W119ICovXG4gICAgICAgIGNvbnN0IGZvcm1GaWVsZHMgPSBBcnJheS5mcm9tKGZvcm0ucXVlcnlTZWxlY3RvckFsbChcImlucHV0W2RhdGEtZm9ybS1maWVsZF1cIikpO1xuICAgICAgICByZXR1cm4gZm9ybUZpZWxkcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFzc2tleSBmb3JtIHN1Ym1pc3Npb24gaGFuZGxlci5cbiAgICAgKiBUYWtlcyB0aGUgaW5wdXQgZnJvbSB0aGUgZm9ybSBhbmQgYSBmZXcgb3RoZXIgcGFyYW1ldGVycyBhbmQgc3VibWl0cyBpdCB0byB0aGUgc2VydmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJBdXRobk9wdGlvbnNBY3Rpb259IGFjdGlvbiBhY3Rpb24gdG8gc3VibWl0XG4gICAgICogQHBhcmFtIHt1bmtub3duIHwgdW5kZWZpbmVkfSBkYXRhIG9wdGlvbmFsIGRhdGEgdG8gc3VibWl0XG4gICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAgICovXG4gICAgYXN5bmMgZnVuY3Rpb24gc3VibWl0Rm9ybShhY3Rpb24sIGRhdGEpIHtcbiAgICAgICAgY29uc3QgZm9ybSA9IGdldEZvcm0oKTtcbiAgICAgICAgLy8gSWYgYSBQT1NUIHJlcXVlc3QsIGNyZWF0ZSBoaWRkZW4gZmllbGRzIGluIHRoZSBmb3JtXG4gICAgICAgIC8vIGFuZCBzdWJtaXQgaXQgc28gdGhlIGJyb3dzZXIgcmVkaXJlY3RzIG9uIGxvZ2luXG4gICAgICAgIGlmIChhY3Rpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IGFjdGlvbklucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICAgICAgYWN0aW9uSW5wdXQudHlwZSA9IFwiaGlkZGVuXCI7XG4gICAgICAgICAgICBhY3Rpb25JbnB1dC5uYW1lID0gXCJhY3Rpb25cIjtcbiAgICAgICAgICAgIGFjdGlvbklucHV0LnZhbHVlID0gYWN0aW9uO1xuICAgICAgICAgICAgZm9ybS5hcHBlbmRDaGlsZChhY3Rpb25JbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGFJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgICAgIGRhdGFJbnB1dC50eXBlID0gXCJoaWRkZW5cIjtcbiAgICAgICAgICAgIGRhdGFJbnB1dC5uYW1lID0gXCJkYXRhXCI7XG4gICAgICAgICAgICBkYXRhSW5wdXQudmFsdWUgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICAgICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoZGF0YUlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm9ybS5zdWJtaXQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGF1dGhlbnRpY2F0aW9uIGZsb3cgYnkgZmV0Y2hpbmcgb3B0aW9ucyBmcm9tIHRoZSBzZXJ2ZXIsXG4gICAgICogc3RhcnRpbmcgdGhlIGF1dGhlbnRpY2F0aW9uLCBhbmQgc3VibWl0dGluZyB0aGUgcmVzcG9uc2UgdG8gdGhlIHNlcnZlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViQXV0aG5PcHRpb25zUmV0dXJuPFdlYkF1dGhuQXV0aGVudGljYXRlPlsnb3B0aW9ucyddfSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtib29sZWFufSBhdXRvZmlsbCBXaGV0aGVyIG9yIG5vdCB0byB1c2UgdGhlIGJyb3dzZXIncyBhdXRvZmlsbFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgICAqL1xuICAgIGFzeW5jIGZ1bmN0aW9uIGF1dGhlbnRpY2F0aW9uRmxvdyhvcHRpb25zLCBhdXRvZmlsbCkge1xuICAgICAgICAvLyBTdGFydCBhdXRoZW50aWNhdGlvblxuICAgICAgICBjb25zdCBhdXRoUmVzcCA9IGF3YWl0IFdlYkF1dGhuQnJvd3Nlci5zdGFydEF1dGhlbnRpY2F0aW9uKG9wdGlvbnMsIGF1dG9maWxsKTtcbiAgICAgICAgLy8gU3VibWl0IGF1dGhlbnRpY2F0aW9uIHJlc3BvbnNlIHRvIHNlcnZlclxuICAgICAgICByZXR1cm4gYXdhaXQgc3VibWl0Rm9ybShcImF1dGhlbnRpY2F0ZVwiLCBhdXRoUmVzcCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7V2ViQXV0aG5PcHRpb25zUmV0dXJuPFdlYkF1dGhuUmVnaXN0ZXI+WydvcHRpb25zJ119IG9wdGlvbnNcbiAgICAgKi9cbiAgICBhc3luYyBmdW5jdGlvbiByZWdpc3RyYXRpb25GbG93KG9wdGlvbnMpIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgYWxsIHJlcXVpcmVkIGZvcm1GaWVsZHMgYXJlIHNldFxuICAgICAgICBjb25zdCBmb3JtRmllbGRzID0gZ2V0Rm9ybUZpZWxkcygpO1xuICAgICAgICBmb3JtRmllbGRzLmZvckVhY2goKGZpZWxkKSA9PiB7XG4gICAgICAgICAgICBpZiAoZmllbGQucmVxdWlyZWQgJiYgIWZpZWxkLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIHJlcXVpcmVkIGZpZWxkOiAke2ZpZWxkLm5hbWV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBTdGFydCByZWdpc3RyYXRpb25cbiAgICAgICAgY29uc3QgcmVnUmVzcCA9IGF3YWl0IFdlYkF1dGhuQnJvd3Nlci5zdGFydFJlZ2lzdHJhdGlvbihvcHRpb25zKTtcbiAgICAgICAgLy8gU3VibWl0IHJlZ2lzdHJhdGlvbiByZXNwb25zZSB0byBzZXJ2ZXJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHN1Ym1pdEZvcm0oXCJyZWdpc3RlclwiLCByZWdSZXNwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0ZW1wdHMgdG8gYXV0aGVudGljYXRlIHRoZSB1c2VyIHdoZW4gdGhlIHBhZ2UgbG9hZHNcbiAgICAgKiB1c2luZyB0aGUgYnJvd3NlcidzIGF1dG9maWxsIHBvcHVwLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAgICovXG4gICAgYXN5bmMgZnVuY3Rpb24gYXV0b2ZpbGxBdXRoZW50aWNhdGlvbigpIHtcbiAgICAgICAgLy8gaWYgdGhlIGJyb3dzZXIgY2FuJ3QgaGFuZGxlIGF1dG9maWxsLCBkb24ndCB0cnlcbiAgICAgICAgaWYgKCFXZWJBdXRobkJyb3dzZXIuYnJvd3NlclN1cHBvcnRzV2ViQXV0aG5BdXRvZmlsbCgpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaE9wdGlvbnMoXCJhdXRoZW50aWNhdGVcIik7XG4gICAgICAgIGlmICghcmVzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGZldGNoIG9wdGlvbiBmb3IgYXV0b2ZpbGwgYXV0aGVudGljYXRpb25cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IGF1dGhlbnRpY2F0aW9uRmxvdyhyZXMub3B0aW9ucywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB1cCB0aGUgcGFzc2tleSBmb3JtIGJ5IG92ZXJyaWRpbmcgdGhlIGZvcm0gc3VibWlzc2lvbiBoYW5kbGVyXG4gICAgICogc28gdGhhdCBpdCBhdHRlbXB0cyB0byBhdXRoZW50aWNhdGUgdGhlIHVzZXIgd2hlbiB0aGUgZm9ybSBpcyBzdWJtaXR0ZWQuXG4gICAgICogSWYgdGhlIHVzZXIgaXMgbm90IHJlZ2lzdGVyZWQsIGl0IHdpbGwgYXR0ZW1wdCB0byByZWdpc3RlciB0aGVtIGluc3RlYWQuXG4gICAgICovXG4gICAgYXN5bmMgZnVuY3Rpb24gc2V0dXBGb3JtKCkge1xuICAgICAgICBjb25zdCBmb3JtID0gZ2V0Rm9ybSgpO1xuICAgICAgICAvLyBJZiB0aGUgYnJvd3NlciBjYW4ndCBkbyBXZWJBdXRobiwgaGlkZSB0aGUgZm9ybVxuICAgICAgICBpZiAoIVdlYkF1dGhuQnJvd3Nlci5icm93c2VyU3VwcG9ydHNXZWJBdXRobigpKSB7XG4gICAgICAgICAgICBmb3JtLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybSkge1xuICAgICAgICAgICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGFzeW5jIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIC8vIEZldGNoIG9wdGlvbnMgZnJvbSB0aGUgc2VydmVyIHdpdGhvdXQgYXNzdW1pbmcgdGhhdFxuICAgICAgICAgICAgICAgIC8vIHRoZSB1c2VyIGlzIHJlZ2lzdGVyZWRcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaE9wdGlvbnModW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICBpZiAoIXJlcykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGZldGNoIG9wdGlvbnMgZm9yIGZvcm0gc3VibWlzc2lvblwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBUaGVuIGV4ZWN1dGUgdGhlIGFwcHJvcHJpYXRlIGZsb3dcbiAgICAgICAgICAgICAgICBpZiAocmVzLmFjdGlvbiA9PT0gXCJhdXRoZW50aWNhdGVcIikge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgYXV0aGVudGljYXRpb25GbG93KHJlcy5vcHRpb25zLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzLmFjdGlvbiA9PT0gXCJyZWdpc3RlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCByZWdpc3RyYXRpb25GbG93KHJlcy5vcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIE9uIHBhZ2UgbG9hZCwgc2V0dXAgdGhlIGZvcm0gYW5kIGF0dGVtcHQgdG8gYXV0aGVudGljYXRlIHRoZSB1c2VyLlxuICAgIHNldHVwRm9ybSgpO1xuICAgIGF1dG9maWxsQXV0aGVudGljYXRpb24oKTtcbn1cbiJdLCJuYW1lcyI6WyJ3ZWJhdXRoblNjcmlwdCIsImF1dGhVUkwiLCJwcm92aWRlcklEIiwiV2ViQXV0aG5Ccm93c2VyIiwid2luZG93IiwiU2ltcGxlV2ViQXV0aG5Ccm93c2VyIiwiZmV0Y2hPcHRpb25zIiwiYWN0aW9uIiwidXJsIiwiVVJMIiwic2VhcmNoUGFyYW1zIiwiYXBwZW5kIiwiZm9ybUZpZWxkcyIsImdldEZvcm1GaWVsZHMiLCJmb3JFYWNoIiwiZmllbGQiLCJuYW1lIiwidmFsdWUiLCJyZXMiLCJmZXRjaCIsIm9rIiwiY29uc29sZSIsImVycm9yIiwianNvbiIsImdldEZvcm0iLCJmb3JtSUQiLCJmb3JtIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiRXJyb3IiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwic3VibWl0Rm9ybSIsImRhdGEiLCJhY3Rpb25JbnB1dCIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwiYXBwZW5kQ2hpbGQiLCJkYXRhSW5wdXQiLCJKU09OIiwic3RyaW5naWZ5Iiwic3VibWl0IiwiYXV0aGVudGljYXRpb25GbG93Iiwib3B0aW9ucyIsImF1dG9maWxsIiwiYXV0aFJlc3AiLCJzdGFydEF1dGhlbnRpY2F0aW9uIiwicmVnaXN0cmF0aW9uRmxvdyIsInJlcXVpcmVkIiwicmVnUmVzcCIsInN0YXJ0UmVnaXN0cmF0aW9uIiwiYXV0b2ZpbGxBdXRoZW50aWNhdGlvbiIsImJyb3dzZXJTdXBwb3J0c1dlYkF1dGhuQXV0b2ZpbGwiLCJlIiwic2V0dXBGb3JtIiwiYnJvd3NlclN1cHBvcnRzV2ViQXV0aG4iLCJzdHlsZSIsImRpc3BsYXkiLCJhZGRFdmVudExpc3RlbmVyIiwicHJldmVudERlZmF1bHQiLCJ1bmRlZmluZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/lib/utils/webauthn-client.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/lib/utils/webauthn-utils.js":
/*!*************************************************************!*\
  !*** ./node_modules/@auth/core/lib/utils/webauthn-utils.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assertInternalOptionsWebAuthn: () => (/* binding */ assertInternalOptionsWebAuthn),\n/* harmony export */   fromBase64: () => (/* binding */ fromBase64),\n/* harmony export */   getAuthenticationResponse: () => (/* binding */ getAuthenticationResponse),\n/* harmony export */   getRegistrationResponse: () => (/* binding */ getRegistrationResponse),\n/* harmony export */   inferWebAuthnOptions: () => (/* binding */ inferWebAuthnOptions),\n/* harmony export */   stringToTransports: () => (/* binding */ stringToTransports),\n/* harmony export */   toBase64: () => (/* binding */ toBase64),\n/* harmony export */   transportsToString: () => (/* binding */ transportsToString),\n/* harmony export */   verifyAuthenticate: () => (/* binding */ verifyAuthenticate),\n/* harmony export */   verifyRegister: () => (/* binding */ verifyRegister)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../errors.js */ \"(action-browser)/./node_modules/@auth/core/errors.js\");\n/* harmony import */ var _actions_callback_oauth_checks_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../actions/callback/oauth/checks.js */ \"(action-browser)/./node_modules/@auth/core/lib/actions/callback/oauth/checks.js\");\n/* harmony import */ var _web_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./web.js */ \"(action-browser)/./node_modules/@auth/core/lib/utils/web.js\");\n\n\n\n/**\n * Infers the WebAuthn options based on the provided parameters.\n *\n * @param action - The WebAuthn action to perform (optional).\n * @param loggedInUser - The logged-in user (optional).\n * @param userInfoResponse - The response containing user information (optional).\n *\n * @returns The WebAuthn action to perform, or null if no inference could be made.\n */ function inferWebAuthnOptions(action, loggedIn, userInfoResponse) {\n    const { user, exists = false } = userInfoResponse ?? {};\n    switch(action){\n        case \"authenticate\":\n            {\n                /**\n             * Always allow explicit authentication requests.\n             */ return \"authenticate\";\n            }\n        case \"register\":\n            {\n                /**\n             * Registration is only allowed if:\n             * - The user is logged in, meaning the user wants to register a new authenticator.\n             * - The user is not logged in and provided user info that does NOT exist, meaning the user wants to register a new account.\n             */ if (user && loggedIn === exists) return \"register\";\n                break;\n            }\n        case undefined:\n            {\n                /**\n             * When no explicit action is provided, we try to infer it based on the user info provided. These are the possible cases:\n             * - Logged in users must always send an explit action, so we bail out in this case.\n             * - Otherwise, if no user info is provided, the desired action is authentication without pre-defined authenticators.\n             * - Otherwise, if the user info provided is of an existing user, the desired action is authentication with their pre-defined authenticators.\n             * - Finally, if the user info provided is of a non-existing user, the desired action is registration.\n             */ if (!loggedIn) {\n                    if (user) {\n                        if (exists) {\n                            return \"authenticate\";\n                        } else {\n                            return \"register\";\n                        }\n                    } else {\n                        return \"authenticate\";\n                    }\n                }\n                break;\n            }\n    }\n    // No decision could be made\n    return null;\n}\n/**\n * Retrieves the registration response for WebAuthn options request.\n *\n * @param options - The internal options for WebAuthn.\n * @param request - The request object.\n * @param user - The user information.\n * @param resCookies - Optional cookies to be included in the response.\n * @returns A promise that resolves to the WebAuthnOptionsResponse.\n */ async function getRegistrationResponse(options, request, user, resCookies) {\n    // Get registration options\n    const regOptions = await getRegistrationOptions(options, request, user);\n    // Get signed cookie\n    const { cookie } = await _actions_callback_oauth_checks_js__WEBPACK_IMPORTED_MODULE_1__.webauthnChallenge.create(options, regOptions.challenge, user);\n    return {\n        status: 200,\n        cookies: [\n            ...resCookies ?? [],\n            cookie\n        ],\n        body: {\n            action: \"register\",\n            options: regOptions\n        },\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    };\n}\n/**\n * Retrieves the authentication response for WebAuthn options request.\n *\n * @param options - The internal options for WebAuthn.\n * @param request - The request object.\n * @param user - Optional user information.\n * @param resCookies - Optional array of cookies to be included in the response.\n * @returns A promise that resolves to a WebAuthnOptionsResponse object.\n */ async function getAuthenticationResponse(options, request, user, resCookies) {\n    // Get authentication options\n    const authOptions = await getAuthenticationOptions(options, request, user);\n    // Get signed cookie\n    const { cookie } = await _actions_callback_oauth_checks_js__WEBPACK_IMPORTED_MODULE_1__.webauthnChallenge.create(options, authOptions.challenge);\n    return {\n        status: 200,\n        cookies: [\n            ...resCookies ?? [],\n            cookie\n        ],\n        body: {\n            action: \"authenticate\",\n            options: authOptions\n        },\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    };\n}\nasync function verifyAuthenticate(options, request, resCookies) {\n    const { adapter, provider } = options;\n    // Get WebAuthn response from request body\n    const data = request.body && typeof request.body.data === \"string\" ? JSON.parse(request.body.data) : undefined;\n    if (!data || typeof data !== \"object\" || !(\"id\" in data) || typeof data.id !== \"string\") {\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.AuthError(\"Invalid WebAuthn Authentication response.\");\n    }\n    // Reset the ID so we smooth out implementation differences\n    const credentialID = toBase64(fromBase64(data.id));\n    // Get authenticator from database\n    const authenticator = await adapter.getAuthenticator(credentialID);\n    if (!authenticator) {\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.AuthError(`WebAuthn authenticator not found in database: ${JSON.stringify({\n            credentialID\n        })}`);\n    }\n    // Get challenge from request cookies\n    const { challenge: expectedChallenge } = await _actions_callback_oauth_checks_js__WEBPACK_IMPORTED_MODULE_1__.webauthnChallenge.use(options, request.cookies, resCookies);\n    // Verify the response\n    let verification;\n    try {\n        const relayingParty = provider.getRelayingParty(options, request);\n        verification = await provider.simpleWebAuthn.verifyAuthenticationResponse({\n            ...provider.verifyAuthenticationOptions,\n            expectedChallenge,\n            response: data,\n            authenticator: fromAdapterAuthenticator(authenticator),\n            expectedOrigin: relayingParty.origin,\n            expectedRPID: relayingParty.id\n        });\n    } catch (e) {\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.WebAuthnVerificationError(e);\n    }\n    const { verified, authenticationInfo } = verification;\n    // Make sure the response was verified\n    if (!verified) {\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.WebAuthnVerificationError(\"WebAuthn authentication response could not be verified.\");\n    }\n    // Update authenticator counter\n    try {\n        const { newCounter } = authenticationInfo;\n        await adapter.updateAuthenticatorCounter(authenticator.credentialID, newCounter);\n    } catch (e) {\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.AdapterError(`Failed to update authenticator counter. This may cause future authentication attempts to fail. ${JSON.stringify({\n            credentialID,\n            oldCounter: authenticator.counter,\n            newCounter: authenticationInfo.newCounter\n        })}`, e);\n    }\n    // Get the account and user\n    const account = await adapter.getAccount(authenticator.providerAccountId, provider.id);\n    if (!account) {\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.AuthError(`WebAuthn account not found in database: ${JSON.stringify({\n            credentialID,\n            providerAccountId: authenticator.providerAccountId\n        })}`);\n    }\n    const user = await adapter.getUser(account.userId);\n    if (!user) {\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.AuthError(`WebAuthn user not found in database: ${JSON.stringify({\n            credentialID,\n            providerAccountId: authenticator.providerAccountId,\n            userID: account.userId\n        })}`);\n    }\n    return {\n        account,\n        user\n    };\n}\nasync function verifyRegister(options, request, resCookies) {\n    const { provider } = options;\n    // Get WebAuthn response from request body\n    const data = request.body && typeof request.body.data === \"string\" ? JSON.parse(request.body.data) : undefined;\n    if (!data || typeof data !== \"object\" || !(\"id\" in data) || typeof data.id !== \"string\") {\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.AuthError(\"Invalid WebAuthn Registration response.\");\n    }\n    // Get challenge from request cookies\n    const { challenge: expectedChallenge, registerData: user } = await _actions_callback_oauth_checks_js__WEBPACK_IMPORTED_MODULE_1__.webauthnChallenge.use(options, request.cookies, resCookies);\n    if (!user) {\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.AuthError(\"Missing user registration data in WebAuthn challenge cookie.\");\n    }\n    // Verify the response\n    let verification;\n    try {\n        const relayingParty = provider.getRelayingParty(options, request);\n        verification = await provider.simpleWebAuthn.verifyRegistrationResponse({\n            ...provider.verifyRegistrationOptions,\n            expectedChallenge,\n            response: data,\n            expectedOrigin: relayingParty.origin,\n            expectedRPID: relayingParty.id\n        });\n    } catch (e) {\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.WebAuthnVerificationError(e);\n    }\n    // Make sure the response was verified\n    if (!verification.verified || !verification.registrationInfo) {\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.WebAuthnVerificationError(\"WebAuthn registration response could not be verified.\");\n    }\n    // Build a new account\n    const account = {\n        providerAccountId: toBase64(verification.registrationInfo.credentialID),\n        provider: options.provider.id,\n        type: provider.type\n    };\n    // Build a new authenticator\n    const authenticator = {\n        providerAccountId: account.providerAccountId,\n        counter: verification.registrationInfo.counter,\n        credentialID: toBase64(verification.registrationInfo.credentialID),\n        credentialPublicKey: toBase64(verification.registrationInfo.credentialPublicKey),\n        credentialBackedUp: verification.registrationInfo.credentialBackedUp,\n        credentialDeviceType: verification.registrationInfo.credentialDeviceType,\n        transports: transportsToString(data.response.transports)\n    };\n    // Return created stuff\n    return {\n        user,\n        account,\n        authenticator\n    };\n}\n/**\n * Generates WebAuthn authentication options.\n *\n * @param options - The internal options for WebAuthn.\n * @param request - The request object.\n * @param user - Optional user information.\n * @returns The authentication options.\n */ async function getAuthenticationOptions(options, request, user) {\n    const { provider, adapter } = options;\n    // Get the user's authenticators.\n    const authenticators = user && user[\"id\"] ? await adapter.listAuthenticatorsByUserId(user.id) : null;\n    const relayingParty = provider.getRelayingParty(options, request);\n    // Return the authentication options.\n    return await provider.simpleWebAuthn.generateAuthenticationOptions({\n        ...provider.authenticationOptions,\n        rpID: relayingParty.id,\n        allowCredentials: authenticators?.map((a)=>({\n                id: fromBase64(a.credentialID),\n                type: \"public-key\",\n                transports: stringToTransports(a.transports)\n            }))\n    });\n}\n/**\n * Generates WebAuthn registration options.\n *\n * @param options - The internal options for WebAuthn.\n * @param request - The request object.\n * @param user - The user information.\n * @returns The registration options.\n */ async function getRegistrationOptions(options, request, user) {\n    const { provider, adapter } = options;\n    // Get the user's authenticators.\n    const authenticators = user[\"id\"] ? await adapter.listAuthenticatorsByUserId(user.id) : null;\n    // Generate a random user ID for the credential.\n    // We can do this because we don't use this user ID to link the\n    // credential to the user. Instead, we store actual userID in the\n    // Authenticator object and fetch it via it's credential ID.\n    const userID = (0,_web_js__WEBPACK_IMPORTED_MODULE_2__.randomString)(32);\n    const relayingParty = provider.getRelayingParty(options, request);\n    // Return the registration options.\n    return await provider.simpleWebAuthn.generateRegistrationOptions({\n        ...provider.registrationOptions,\n        userID,\n        userName: user.email,\n        userDisplayName: user.name ?? undefined,\n        rpID: relayingParty.id,\n        rpName: relayingParty.name,\n        excludeCredentials: authenticators?.map((a)=>({\n                id: fromBase64(a.credentialID),\n                type: \"public-key\",\n                transports: stringToTransports(a.transports)\n            }))\n    });\n}\nfunction assertInternalOptionsWebAuthn(options) {\n    const { provider, adapter } = options;\n    // Adapter is required for WebAuthn\n    if (!adapter) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.MissingAdapter(\"An adapter is required for the WebAuthn provider\");\n    // Provider must be WebAuthn\n    if (!provider || provider.type !== \"webauthn\") {\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.InvalidProvider(\"Provider must be WebAuthn\");\n    }\n    // Narrow the options type for typed usage later\n    return {\n        ...options,\n        provider,\n        adapter\n    };\n}\nfunction fromAdapterAuthenticator(authenticator) {\n    return {\n        ...authenticator,\n        credentialDeviceType: authenticator.credentialDeviceType,\n        transports: stringToTransports(authenticator.transports),\n        credentialID: fromBase64(authenticator.credentialID),\n        credentialPublicKey: fromBase64(authenticator.credentialPublicKey)\n    };\n}\nfunction fromBase64(base64) {\n    return new Uint8Array(Buffer.from(base64, \"base64\"));\n}\nfunction toBase64(bytes) {\n    return Buffer.from(bytes).toString(\"base64\");\n}\nfunction transportsToString(transports) {\n    return transports?.join(\",\");\n}\nfunction stringToTransports(tstring) {\n    return tstring ? tstring.split(\",\") : undefined;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi91dGlscy93ZWJhdXRobi11dGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQXVIO0FBQy9DO0FBQ2hDO0FBQ3hDOzs7Ozs7OztDQVFDLEdBQ00sU0FBU08scUJBQXFCQyxNQUFNLEVBQUVDLFFBQVEsRUFBRUMsZ0JBQWdCO0lBQ25FLE1BQU0sRUFBRUMsSUFBSSxFQUFFQyxTQUFTLEtBQUssRUFBRSxHQUFHRixvQkFBb0IsQ0FBQztJQUN0RCxPQUFRRjtRQUNKLEtBQUs7WUFBZ0I7Z0JBQ2pCOzthQUVDLEdBQ0QsT0FBTztZQUNYO1FBQ0EsS0FBSztZQUFZO2dCQUNiOzs7O2FBSUMsR0FDRCxJQUFJRyxRQUFRRixhQUFhRyxRQUNyQixPQUFPO2dCQUNYO1lBQ0o7UUFDQSxLQUFLQztZQUFXO2dCQUNaOzs7Ozs7YUFNQyxHQUNELElBQUksQ0FBQ0osVUFBVTtvQkFDWCxJQUFJRSxNQUFNO3dCQUNOLElBQUlDLFFBQVE7NEJBQ1IsT0FBTzt3QkFDWCxPQUNLOzRCQUNELE9BQU87d0JBQ1g7b0JBQ0osT0FDSzt3QkFDRCxPQUFPO29CQUNYO2dCQUNKO2dCQUNBO1lBQ0o7SUFDSjtJQUNBLDRCQUE0QjtJQUM1QixPQUFPO0FBQ1g7QUFDQTs7Ozs7Ozs7Q0FRQyxHQUNNLGVBQWVFLHdCQUF3QkMsT0FBTyxFQUFFQyxPQUFPLEVBQUVMLElBQUksRUFBRU0sVUFBVTtJQUM1RSwyQkFBMkI7SUFDM0IsTUFBTUMsYUFBYSxNQUFNQyx1QkFBdUJKLFNBQVNDLFNBQVNMO0lBQ2xFLG9CQUFvQjtJQUNwQixNQUFNLEVBQUVTLE1BQU0sRUFBRSxHQUFHLE1BQU1mLGdGQUFpQkEsQ0FBQ2dCLE1BQU0sQ0FBQ04sU0FBU0csV0FBV0ksU0FBUyxFQUFFWDtJQUNqRixPQUFPO1FBQ0hZLFFBQVE7UUFDUkMsU0FBUztlQUFLUCxjQUFjLEVBQUU7WUFBR0c7U0FBTztRQUN4Q0ssTUFB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V0MsY0FBY0gsWUFBWTtRQUNuRHNDLHFCQUFxQnBDLFdBQVdDLGNBQWNtQyxtQkFBbUI7SUFDckU7QUFDSjtBQUNPLFNBQVNwQyxXQUFXMkQsTUFBTTtJQUM3QixPQUFPLElBQUlDLFdBQVdDLE9BQU9DLElBQUksQ0FBQ0gsUUFBUTtBQUM5QztBQUNPLFNBQVM1RCxTQUFTZ0UsS0FBSztJQUMxQixPQUFPRixPQUFPQyxJQUFJLENBQUNDLE9BQU9DLFFBQVEsQ0FBQztBQUN2QztBQUNPLFNBQVN4QixtQkFBbUJELFVBQVU7SUFDekMsT0FBT0EsWUFBWTBCLEtBQUs7QUFDNUI7QUFDTyxTQUFTaEIsbUJBQW1CaUIsT0FBTztJQUN0QyxPQUFPQSxVQUNEQSxRQUFRQyxLQUFLLENBQUMsT0FDZDdGO0FBQ1YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0LXJ4Ly4vbm9kZV9tb2R1bGVzL0BhdXRoL2NvcmUvbGliL3V0aWxzL3dlYmF1dGhuLXV0aWxzLmpzP2IwNWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWRhcHRlckVycm9yLCBBdXRoRXJyb3IsIEludmFsaWRQcm92aWRlciwgTWlzc2luZ0FkYXB0ZXIsIFdlYkF1dGhuVmVyaWZpY2F0aW9uRXJyb3IsIH0gZnJvbSBcIi4uLy4uL2Vycm9ycy5qc1wiO1xuaW1wb3J0IHsgd2ViYXV0aG5DaGFsbGVuZ2UgfSBmcm9tIFwiLi4vYWN0aW9ucy9jYWxsYmFjay9vYXV0aC9jaGVja3MuanNcIjtcbmltcG9ydCB7IHJhbmRvbVN0cmluZyB9IGZyb20gXCIuL3dlYi5qc1wiO1xuLyoqXG4gKiBJbmZlcnMgdGhlIFdlYkF1dGhuIG9wdGlvbnMgYmFzZWQgb24gdGhlIHByb3ZpZGVkIHBhcmFtZXRlcnMuXG4gKlxuICogQHBhcmFtIGFjdGlvbiAtIFRoZSBXZWJBdXRobiBhY3Rpb24gdG8gcGVyZm9ybSAob3B0aW9uYWwpLlxuICogQHBhcmFtIGxvZ2dlZEluVXNlciAtIFRoZSBsb2dnZWQtaW4gdXNlciAob3B0aW9uYWwpLlxuICogQHBhcmFtIHVzZXJJbmZvUmVzcG9uc2UgLSBUaGUgcmVzcG9uc2UgY29udGFpbmluZyB1c2VyIGluZm9ybWF0aW9uIChvcHRpb25hbCkuXG4gKlxuICogQHJldHVybnMgVGhlIFdlYkF1dGhuIGFjdGlvbiB0byBwZXJmb3JtLCBvciBudWxsIGlmIG5vIGluZmVyZW5jZSBjb3VsZCBiZSBtYWRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5mZXJXZWJBdXRobk9wdGlvbnMoYWN0aW9uLCBsb2dnZWRJbiwgdXNlckluZm9SZXNwb25zZSkge1xuICAgIGNvbnN0IHsgdXNlciwgZXhpc3RzID0gZmFsc2UgfSA9IHVzZXJJbmZvUmVzcG9uc2UgPz8ge307XG4gICAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICAgICAgY2FzZSBcImF1dGhlbnRpY2F0ZVwiOiB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEFsd2F5cyBhbGxvdyBleHBsaWNpdCBhdXRoZW50aWNhdGlvbiByZXF1ZXN0cy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgcmV0dXJuIFwiYXV0aGVudGljYXRlXCI7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInJlZ2lzdGVyXCI6IHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUmVnaXN0cmF0aW9uIGlzIG9ubHkgYWxsb3dlZCBpZjpcbiAgICAgICAgICAgICAqIC0gVGhlIHVzZXIgaXMgbG9nZ2VkIGluLCBtZWFuaW5nIHRoZSB1c2VyIHdhbnRzIHRvIHJlZ2lzdGVyIGEgbmV3IGF1dGhlbnRpY2F0b3IuXG4gICAgICAgICAgICAgKiAtIFRoZSB1c2VyIGlzIG5vdCBsb2dnZWQgaW4gYW5kIHByb3ZpZGVkIHVzZXIgaW5mbyB0aGF0IGRvZXMgTk9UIGV4aXN0LCBtZWFuaW5nIHRoZSB1c2VyIHdhbnRzIHRvIHJlZ2lzdGVyIGEgbmV3IGFjY291bnQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICh1c2VyICYmIGxvZ2dlZEluID09PSBleGlzdHMpXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwicmVnaXN0ZXJcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgdW5kZWZpbmVkOiB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFdoZW4gbm8gZXhwbGljaXQgYWN0aW9uIGlzIHByb3ZpZGVkLCB3ZSB0cnkgdG8gaW5mZXIgaXQgYmFzZWQgb24gdGhlIHVzZXIgaW5mbyBwcm92aWRlZC4gVGhlc2UgYXJlIHRoZSBwb3NzaWJsZSBjYXNlczpcbiAgICAgICAgICAgICAqIC0gTG9nZ2VkIGluIHVzZXJzIG11c3QgYWx3YXlzIHNlbmQgYW4gZXhwbGl0IGFjdGlvbiwgc28gd2UgYmFpbCBvdXQgaW4gdGhpcyBjYXNlLlxuICAgICAgICAgICAgICogLSBPdGhlcndpc2UsIGlmIG5vIHVzZXIgaW5mbyBpcyBwcm92aWRlZCwgdGhlIGRlc2lyZWQgYWN0aW9uIGlzIGF1dGhlbnRpY2F0aW9uIHdpdGhvdXQgcHJlLWRlZmluZWQgYXV0aGVudGljYXRvcnMuXG4gICAgICAgICAgICAgKiAtIE90aGVyd2lzZSwgaWYgdGhlIHVzZXIgaW5mbyBwcm92aWRlZCBpcyBvZiBhbiBleGlzdGluZyB1c2VyLCB0aGUgZGVzaXJlZCBhY3Rpb24gaXMgYXV0aGVudGljYXRpb24gd2l0aCB0aGVpciBwcmUtZGVmaW5lZCBhdXRoZW50aWNhdG9ycy5cbiAgICAgICAgICAgICAqIC0gRmluYWxseSwgaWYgdGhlIHVzZXIgaW5mbyBwcm92aWRlZCBpcyBvZiBhIG5vbi1leGlzdGluZyB1c2VyLCB0aGUgZGVzaXJlZCBhY3Rpb24gaXMgcmVnaXN0cmF0aW9uLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoIWxvZ2dlZEluKSB7XG4gICAgICAgICAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4aXN0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYXV0aGVudGljYXRlXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJyZWdpc3RlclwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhdXRoZW50aWNhdGVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBObyBkZWNpc2lvbiBjb3VsZCBiZSBtYWRlXG4gICAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIFJldHJpZXZlcyB0aGUgcmVnaXN0cmF0aW9uIHJlc3BvbnNlIGZvciBXZWJBdXRobiBvcHRpb25zIHJlcXVlc3QuXG4gKlxuICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgaW50ZXJuYWwgb3B0aW9ucyBmb3IgV2ViQXV0aG4uXG4gKiBAcGFyYW0gcmVxdWVzdCAtIFRoZSByZXF1ZXN0IG9iamVjdC5cbiAqIEBwYXJhbSB1c2VyIC0gVGhlIHVzZXIgaW5mb3JtYXRpb24uXG4gKiBAcGFyYW0gcmVzQ29va2llcyAtIE9wdGlvbmFsIGNvb2tpZXMgdG8gYmUgaW5jbHVkZWQgaW4gdGhlIHJlc3BvbnNlLlxuICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIFdlYkF1dGhuT3B0aW9uc1Jlc3BvbnNlLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UmVnaXN0cmF0aW9uUmVzcG9uc2Uob3B0aW9ucywgcmVxdWVzdCwgdXNlciwgcmVzQ29va2llcykge1xuICAgIC8vIEdldCByZWdpc3RyYXRpb24gb3B0aW9uc1xuICAgIGNvbnN0IHJlZ09wdGlvbnMgPSBhd2FpdCBnZXRSZWdpc3RyYXRpb25PcHRpb25zKG9wdGlvbnMsIHJlcXVlc3QsIHVzZXIpO1xuICAgIC8vIEdldCBzaWduZWQgY29va2llXG4gICAgY29uc3QgeyBjb29raWUgfSA9IGF3YWl0IHdlYmF1dGhuQ2hhbGxlbmdlLmNyZWF0ZShvcHRpb25zLCByZWdPcHRpb25zLmNoYWxsZW5nZSwgdXNlcik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICAgIGNvb2tpZXM6IFsuLi4ocmVzQ29va2llcyA/PyBbXSksIGNvb2tpZV0sXG4gICAgICAgIGJvZHk6IHtcbiAgICAgICAgICAgIGFjdGlvbjogXCJyZWdpc3RlclwiLFxuICAgICAgICAgICAgb3B0aW9uczogcmVnT3B0aW9ucyxcbiAgICAgICAgfSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8qKlxuICogUmV0cmlldmVzIHRoZSBhdXRoZW50aWNhdGlvbiByZXNwb25zZSBmb3IgV2ViQXV0aG4gb3B0aW9ucyByZXF1ZXN0LlxuICpcbiAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIGludGVybmFsIG9wdGlvbnMgZm9yIFdlYkF1dGhuLlxuICogQHBhcmFtIHJlcXVlc3QgLSBUaGUgcmVxdWVzdCBvYmplY3QuXG4gKiBAcGFyYW0gdXNlciAtIE9wdGlvbmFsIHVzZXIgaW5mb3JtYXRpb24uXG4gKiBAcGFyYW0gcmVzQ29va2llcyAtIE9wdGlvbmFsIGFycmF5IG9mIGNvb2tpZXMgdG8gYmUgaW5jbHVkZWQgaW4gdGhlIHJlc3BvbnNlLlxuICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gYSBXZWJBdXRobk9wdGlvbnNSZXNwb25zZSBvYmplY3QuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBdXRoZW50aWNhdGlvblJlc3BvbnNlKG9wdGlvbnMsIHJlcXVlc3QsIHVzZXIsIHJlc0Nvb2tpZXMpIHtcbiAgICAvLyBHZXQgYXV0aGVudGljYXRpb24gb3B0aW9uc1xuICAgIGNvbnN0IGF1dGhPcHRpb25zID0gYXdhaXQgZ2V0QXV0aGVudGljYXRpb25PcHRpb25zKG9wdGlvbnMsIHJlcXVlc3QsIHVzZXIpO1xuICAgIC8vIEdldCBzaWduZWQgY29va2llXG4gICAgY29uc3QgeyBjb29raWUgfSA9IGF3YWl0IHdlYmF1dGhuQ2hhbGxlbmdlLmNyZWF0ZShvcHRpb25zLCBhdXRoT3B0aW9ucy5jaGFsbGVuZ2UpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICBjb29raWVzOiBbLi4uKHJlc0Nvb2tpZXMgPz8gW10pLCBjb29raWVdLFxuICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICBhY3Rpb246IFwiYXV0aGVudGljYXRlXCIsXG4gICAgICAgICAgICBvcHRpb25zOiBhdXRoT3B0aW9ucyxcbiAgICAgICAgfSxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2ZXJpZnlBdXRoZW50aWNhdGUob3B0aW9ucywgcmVxdWVzdCwgcmVzQ29va2llcykge1xuICAgIGNvbnN0IHsgYWRhcHRlciwgcHJvdmlkZXIgfSA9IG9wdGlvbnM7XG4gICAgLy8gR2V0IFdlYkF1dGhuIHJlc3BvbnNlIGZyb20gcmVxdWVzdCBib2R5XG4gICAgY29uc3QgZGF0YSA9IHJlcXVlc3QuYm9keSAmJiB0eXBlb2YgcmVxdWVzdC5ib2R5LmRhdGEgPT09IFwic3RyaW5nXCJcbiAgICAgICAgPyBKU09OLnBhcnNlKHJlcXVlc3QuYm9keS5kYXRhKVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICBpZiAoIWRhdGEgfHxcbiAgICAgICAgdHlwZW9mIGRhdGEgIT09IFwib2JqZWN0XCIgfHxcbiAgICAgICAgIShcImlkXCIgaW4gZGF0YSkgfHxcbiAgICAgICAgdHlwZW9mIGRhdGEuaWQgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEF1dGhFcnJvcihcIkludmFsaWQgV2ViQXV0aG4gQXV0aGVudGljYXRpb24gcmVzcG9uc2UuXCIpO1xuICAgIH1cbiAgICAvLyBSZXNldCB0aGUgSUQgc28gd2Ugc21vb3RoIG91dCBpbXBsZW1lbnRhdGlvbiBkaWZmZXJlbmNlc1xuICAgIGNvbnN0IGNyZWRlbnRpYWxJRCA9IHRvQmFzZTY0KGZyb21CYXNlNjQoZGF0YS5pZCkpO1xuICAgIC8vIEdldCBhdXRoZW50aWNhdG9yIGZyb20gZGF0YWJhc2VcbiAgICBjb25zdCBhdXRoZW50aWNhdG9yID0gYXdhaXQgYWRhcHRlci5nZXRBdXRoZW50aWNhdG9yKGNyZWRlbnRpYWxJRCk7XG4gICAgaWYgKCFhdXRoZW50aWNhdG9yKSB7XG4gICAgICAgIHRocm93IG5ldyBBdXRoRXJyb3IoYFdlYkF1dGhuIGF1dGhlbnRpY2F0b3Igbm90IGZvdW5kIGluIGRhdGFiYXNlOiAke0pTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIGNyZWRlbnRpYWxJRCxcbiAgICAgICAgfSl9YCk7XG4gICAgfVxuICAgIC8vIEdldCBjaGFsbGVuZ2UgZnJvbSByZXF1ZXN0IGNvb2tpZXNcbiAgICBjb25zdCB7IGNoYWxsZW5nZTogZXhwZWN0ZWRDaGFsbGVuZ2UgfSA9IGF3YWl0IHdlYmF1dGhuQ2hhbGxlbmdlLnVzZShvcHRpb25zLCByZXF1ZXN0LmNvb2tpZXMsIHJlc0Nvb2tpZXMpO1xuICAgIC8vIFZlcmlmeSB0aGUgcmVzcG9uc2VcbiAgICBsZXQgdmVyaWZpY2F0aW9uO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlbGF5aW5nUGFydHkgPSBwcm92aWRlci5nZXRSZWxheWluZ1BhcnR5KG9wdGlvbnMsIHJlcXVlc3QpO1xuICAgICAgICB2ZXJpZmljYXRpb24gPSBhd2FpdCBwcm92aWRlci5zaW1wbGVXZWJBdXRobi52ZXJpZnlBdXRoZW50aWNhdGlvblJlc3BvbnNlKHtcbiAgICAgICAgICAgIC4uLnByb3ZpZGVyLnZlcmlmeUF1dGhlbnRpY2F0aW9uT3B0aW9ucyxcbiAgICAgICAgICAgIGV4cGVjdGVkQ2hhbGxlbmdlLFxuICAgICAgICAgICAgcmVzcG9uc2U6IGRhdGEsXG4gICAgICAgICAgICBhdXRoZW50aWNhdG9yOiBmcm9tQWRhcHRlckF1dGhlbnRpY2F0b3IoYXV0aGVudGljYXRvciksXG4gICAgICAgICAgICBleHBlY3RlZE9yaWdpbjogcmVsYXlpbmdQYXJ0eS5vcmlnaW4sXG4gICAgICAgICAgICBleHBlY3RlZFJQSUQ6IHJlbGF5aW5nUGFydHkuaWQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICB0aHJvdyBuZXcgV2ViQXV0aG5WZXJpZmljYXRpb25FcnJvcihlKTtcbiAgICB9XG4gICAgY29uc3QgeyB2ZXJpZmllZCwgYXV0aGVudGljYXRpb25JbmZvIH0gPSB2ZXJpZmljYXRpb247XG4gICAgLy8gTWFrZSBzdXJlIHRoZSByZXNwb25zZSB3YXMgdmVyaWZpZWRcbiAgICBpZiAoIXZlcmlmaWVkKSB7XG4gICAgICAgIHRocm93IG5ldyBXZWJBdXRoblZlcmlmaWNhdGlvbkVycm9yKFwiV2ViQXV0aG4gYXV0aGVudGljYXRpb24gcmVzcG9uc2UgY291bGQgbm90IGJlIHZlcmlmaWVkLlwiKTtcbiAgICB9XG4gICAgLy8gVXBkYXRlIGF1dGhlbnRpY2F0b3IgY291bnRlclxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHsgbmV3Q291bnRlciB9ID0gYXV0aGVudGljYXRpb25JbmZvO1xuICAgICAgICBhd2FpdCBhZGFwdGVyLnVwZGF0ZUF1dGhlbnRpY2F0b3JDb3VudGVyKGF1dGhlbnRpY2F0b3IuY3JlZGVudGlhbElELCBuZXdDb3VudGVyKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEFkYXB0ZXJFcnJvcihgRmFpbGVkIHRvIHVwZGF0ZSBhdXRoZW50aWNhdG9yIGNvdW50ZXIuIFRoaXMgbWF5IGNhdXNlIGZ1dHVyZSBhdXRoZW50aWNhdGlvbiBhdHRlbXB0cyB0byBmYWlsLiAke0pTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIGNyZWRlbnRpYWxJRCxcbiAgICAgICAgICAgIG9sZENvdW50ZXI6IGF1dGhlbnRpY2F0b3IuY291bnRlcixcbiAgICAgICAgICAgIG5ld0NvdW50ZXI6IGF1dGhlbnRpY2F0aW9uSW5mby5uZXdDb3VudGVyLFxuICAgICAgICB9KX1gLCBlKTtcbiAgICB9XG4gICAgLy8gR2V0IHRoZSBhY2NvdW50IGFuZCB1c2VyXG4gICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IGFkYXB0ZXIuZ2V0QWNjb3VudChhdXRoZW50aWNhdG9yLnByb3ZpZGVyQWNjb3VudElkLCBwcm92aWRlci5pZCk7XG4gICAgaWYgKCFhY2NvdW50KSB7XG4gICAgICAgIHRocm93IG5ldyBBdXRoRXJyb3IoYFdlYkF1dGhuIGFjY291bnQgbm90IGZvdW5kIGluIGRhdGFiYXNlOiAke0pTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIGNyZWRlbnRpYWxJRCxcbiAgICAgICAgICAgIHByb3ZpZGVyQWNjb3VudElkOiBhdXRoZW50aWNhdG9yLnByb3ZpZGVyQWNjb3VudElkLFxuICAgICAgICB9KX1gKTtcbiAgICB9XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IGFkYXB0ZXIuZ2V0VXNlcihhY2NvdW50LnVzZXJJZCk7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICAgIHRocm93IG5ldyBBdXRoRXJyb3IoYFdlYkF1dGhuIHVzZXIgbm90IGZvdW5kIGluIGRhdGFiYXNlOiAke0pTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIGNyZWRlbnRpYWxJRCxcbiAgICAgICAgICAgIHByb3ZpZGVyQWNjb3VudElkOiBhdXRoZW50aWNhdG9yLnByb3ZpZGVyQWNjb3VudElkLFxuICAgICAgICAgICAgdXNlcklEOiBhY2NvdW50LnVzZXJJZCxcbiAgICAgICAgfSl9YCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGFjY291bnQsXG4gICAgICAgIHVzZXIsXG4gICAgfTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2ZXJpZnlSZWdpc3RlcihvcHRpb25zLCByZXF1ZXN0LCByZXNDb29raWVzKSB7XG4gICAgY29uc3QgeyBwcm92aWRlciB9ID0gb3B0aW9ucztcbiAgICAvLyBHZXQgV2ViQXV0aG4gcmVzcG9uc2UgZnJvbSByZXF1ZXN0IGJvZHlcbiAgICBjb25zdCBkYXRhID0gcmVxdWVzdC5ib2R5ICYmIHR5cGVvZiByZXF1ZXN0LmJvZHkuZGF0YSA9PT0gXCJzdHJpbmdcIlxuICAgICAgICA/IEpTT04ucGFyc2UocmVxdWVzdC5ib2R5LmRhdGEpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGlmICghZGF0YSB8fFxuICAgICAgICB0eXBlb2YgZGF0YSAhPT0gXCJvYmplY3RcIiB8fFxuICAgICAgICAhKFwiaWRcIiBpbiBkYXRhKSB8fFxuICAgICAgICB0eXBlb2YgZGF0YS5pZCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICB0aHJvdyBuZXcgQXV0aEVycm9yKFwiSW52YWxpZCBXZWJBdXRobiBSZWdpc3RyYXRpb24gcmVzcG9uc2UuXCIpO1xuICAgIH1cbiAgICAvLyBHZXQgY2hhbGxlbmdlIGZyb20gcmVxdWVzdCBjb29raWVzXG4gICAgY29uc3QgeyBjaGFsbGVuZ2U6IGV4cGVjdGVkQ2hhbGxlbmdlLCByZWdpc3RlckRhdGE6IHVzZXIgfSA9IGF3YWl0IHdlYmF1dGhuQ2hhbGxlbmdlLnVzZShvcHRpb25zLCByZXF1ZXN0LmNvb2tpZXMsIHJlc0Nvb2tpZXMpO1xuICAgIGlmICghdXNlcikge1xuICAgICAgICB0aHJvdyBuZXcgQXV0aEVycm9yKFwiTWlzc2luZyB1c2VyIHJlZ2lzdHJhdGlvbiBkYXRhIGluIFdlYkF1dGhuIGNoYWxsZW5nZSBjb29raWUuXCIpO1xuICAgIH1cbiAgICAvLyBWZXJpZnkgdGhlIHJlc3BvbnNlXG4gICAgbGV0IHZlcmlmaWNhdGlvbjtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZWxheWluZ1BhcnR5ID0gcHJvdmlkZXIuZ2V0UmVsYXlpbmdQYXJ0eShvcHRpb25zLCByZXF1ZXN0KTtcbiAgICAgICAgdmVyaWZpY2F0aW9uID0gYXdhaXQgcHJvdmlkZXIuc2ltcGxlV2ViQXV0aG4udmVyaWZ5UmVnaXN0cmF0aW9uUmVzcG9uc2Uoe1xuICAgICAgICAgICAgLi4ucHJvdmlkZXIudmVyaWZ5UmVnaXN0cmF0aW9uT3B0aW9ucyxcbiAgICAgICAgICAgIGV4cGVjdGVkQ2hhbGxlbmdlLFxuICAgICAgICAgICAgcmVzcG9uc2U6IGRhdGEsXG4gICAgICAgICAgICBleHBlY3RlZE9yaWdpbjogcmVsYXlpbmdQYXJ0eS5vcmlnaW4sXG4gICAgICAgICAgICBleHBlY3RlZFJQSUQ6IHJlbGF5aW5nUGFydHkuaWQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICB0aHJvdyBuZXcgV2ViQXV0aG5WZXJpZmljYXRpb25FcnJvcihlKTtcbiAgICB9XG4gICAgLy8gTWFrZSBzdXJlIHRoZSByZXNwb25zZSB3YXMgdmVyaWZpZWRcbiAgICBpZiAoIXZlcmlmaWNhdGlvbi52ZXJpZmllZCB8fCAhdmVyaWZpY2F0aW9uLnJlZ2lzdHJhdGlvbkluZm8pIHtcbiAgICAgICAgdGhyb3cgbmV3IFdlYkF1dGhuVmVyaWZpY2F0aW9uRXJyb3IoXCJXZWJBdXRobiByZWdpc3RyYXRpb24gcmVzcG9uc2UgY291bGQgbm90IGJlIHZlcmlmaWVkLlwiKTtcbiAgICB9XG4gICAgLy8gQnVpbGQgYSBuZXcgYWNjb3VudFxuICAgIGNvbnN0IGFjY291bnQgPSB7XG4gICAgICAgIHByb3ZpZGVyQWNjb3VudElkOiB0b0Jhc2U2NCh2ZXJpZmljYXRpb24ucmVnaXN0cmF0aW9uSW5mby5jcmVkZW50aWFsSUQpLFxuICAgICAgICBwcm92aWRlcjogb3B0aW9ucy5wcm92aWRlci5pZCxcbiAgICAgICAgdHlwZTogcHJvdmlkZXIudHlwZSxcbiAgICB9O1xuICAgIC8vIEJ1aWxkIGEgbmV3IGF1dGhlbnRpY2F0b3JcbiAgICBjb25zdCBhdXRoZW50aWNhdG9yID0ge1xuICAgICAgICBwcm92aWRlckFjY291bnRJZDogYWNjb3VudC5wcm92aWRlckFjY291bnRJZCxcbiAgICAgICAgY291bnRlcjogdmVyaWZpY2F0aW9uLnJlZ2lzdHJhdGlvbkluZm8uY291bnRlcixcbiAgICAgICAgY3JlZGVudGlhbElEOiB0b0Jhc2U2NCh2ZXJpZmljYXRpb24ucmVnaXN0cmF0aW9uSW5mby5jcmVkZW50aWFsSUQpLFxuICAgICAgICBjcmVkZW50aWFsUHVibGljS2V5OiB0b0Jhc2U2NCh2ZXJpZmljYXRpb24ucmVnaXN0cmF0aW9uSW5mby5jcmVkZW50aWFsUHVibGljS2V5KSxcbiAgICAgICAgY3JlZGVudGlhbEJhY2tlZFVwOiB2ZXJpZmljYXRpb24ucmVnaXN0cmF0aW9uSW5mby5jcmVkZW50aWFsQmFja2VkVXAsXG4gICAgICAgIGNyZWRlbnRpYWxEZXZpY2VUeXBlOiB2ZXJpZmljYXRpb24ucmVnaXN0cmF0aW9uSW5mby5jcmVkZW50aWFsRGV2aWNlVHlwZSxcbiAgICAgICAgdHJhbnNwb3J0czogdHJhbnNwb3J0c1RvU3RyaW5nKGRhdGEucmVzcG9uc2VcbiAgICAgICAgICAgIC50cmFuc3BvcnRzKSxcbiAgICB9O1xuICAgIC8vIFJldHVybiBjcmVhdGVkIHN0dWZmXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdXNlcixcbiAgICAgICAgYWNjb3VudCxcbiAgICAgICAgYXV0aGVudGljYXRvcixcbiAgICB9O1xufVxuLyoqXG4gKiBHZW5lcmF0ZXMgV2ViQXV0aG4gYXV0aGVudGljYXRpb24gb3B0aW9ucy5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBpbnRlcm5hbCBvcHRpb25zIGZvciBXZWJBdXRobi5cbiAqIEBwYXJhbSByZXF1ZXN0IC0gVGhlIHJlcXVlc3Qgb2JqZWN0LlxuICogQHBhcmFtIHVzZXIgLSBPcHRpb25hbCB1c2VyIGluZm9ybWF0aW9uLlxuICogQHJldHVybnMgVGhlIGF1dGhlbnRpY2F0aW9uIG9wdGlvbnMuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldEF1dGhlbnRpY2F0aW9uT3B0aW9ucyhvcHRpb25zLCByZXF1ZXN0LCB1c2VyKSB7XG4gICAgY29uc3QgeyBwcm92aWRlciwgYWRhcHRlciB9ID0gb3B0aW9ucztcbiAgICAvLyBHZXQgdGhlIHVzZXIncyBhdXRoZW50aWNhdG9ycy5cbiAgICBjb25zdCBhdXRoZW50aWNhdG9ycyA9IHVzZXIgJiYgdXNlcltcImlkXCJdXG4gICAgICAgID8gYXdhaXQgYWRhcHRlci5saXN0QXV0aGVudGljYXRvcnNCeVVzZXJJZCh1c2VyLmlkKVxuICAgICAgICA6IG51bGw7XG4gICAgY29uc3QgcmVsYXlpbmdQYXJ0eSA9IHByb3ZpZGVyLmdldFJlbGF5aW5nUGFydHkob3B0aW9ucywgcmVxdWVzdCk7XG4gICAgLy8gUmV0dXJuIHRoZSBhdXRoZW50aWNhdGlvbiBvcHRpb25zLlxuICAgIHJldHVybiBhd2FpdCBwcm92aWRlci5zaW1wbGVXZWJBdXRobi5nZW5lcmF0ZUF1dGhlbnRpY2F0aW9uT3B0aW9ucyh7XG4gICAgICAgIC4uLnByb3ZpZGVyLmF1dGhlbnRpY2F0aW9uT3B0aW9ucyxcbiAgICAgICAgcnBJRDogcmVsYXlpbmdQYXJ0eS5pZCxcbiAgICAgICAgYWxsb3dDcmVkZW50aWFsczogYXV0aGVudGljYXRvcnM/Lm1hcCgoYSkgPT4gKHtcbiAgICAgICAgICAgIGlkOiBmcm9tQmFzZTY0KGEuY3JlZGVudGlhbElEKSxcbiAgICAgICAgICAgIHR5cGU6IFwicHVibGljLWtleVwiLFxuICAgICAgICAgICAgdHJhbnNwb3J0czogc3RyaW5nVG9UcmFuc3BvcnRzKGEudHJhbnNwb3J0cyksXG4gICAgICAgIH0pKSxcbiAgICB9KTtcbn1cbi8qKlxuICogR2VuZXJhdGVzIFdlYkF1dGhuIHJlZ2lzdHJhdGlvbiBvcHRpb25zLlxuICpcbiAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIGludGVybmFsIG9wdGlvbnMgZm9yIFdlYkF1dGhuLlxuICogQHBhcmFtIHJlcXVlc3QgLSBUaGUgcmVxdWVzdCBvYmplY3QuXG4gKiBAcGFyYW0gdXNlciAtIFRoZSB1c2VyIGluZm9ybWF0aW9uLlxuICogQHJldHVybnMgVGhlIHJlZ2lzdHJhdGlvbiBvcHRpb25zLlxuICovXG5hc3luYyBmdW5jdGlvbiBnZXRSZWdpc3RyYXRpb25PcHRpb25zKG9wdGlvbnMsIHJlcXVlc3QsIHVzZXIpIHtcbiAgICBjb25zdCB7IHByb3ZpZGVyLCBhZGFwdGVyIH0gPSBvcHRpb25zO1xuICAgIC8vIEdldCB0aGUgdXNlcidzIGF1dGhlbnRpY2F0b3JzLlxuICAgIGNvbnN0IGF1dGhlbnRpY2F0b3JzID0gdXNlcltcImlkXCJdXG4gICAgICAgID8gYXdhaXQgYWRhcHRlci5saXN0QXV0aGVudGljYXRvcnNCeVVzZXJJZCh1c2VyLmlkKVxuICAgICAgICA6IG51bGw7XG4gICAgLy8gR2VuZXJhdGUgYSByYW5kb20gdXNlciBJRCBmb3IgdGhlIGNyZWRlbnRpYWwuXG4gICAgLy8gV2UgY2FuIGRvIHRoaXMgYmVjYXVzZSB3ZSBkb24ndCB1c2UgdGhpcyB1c2VyIElEIHRvIGxpbmsgdGhlXG4gICAgLy8gY3JlZGVudGlhbCB0byB0aGUgdXNlci4gSW5zdGVhZCwgd2Ugc3RvcmUgYWN0dWFsIHVzZXJJRCBpbiB0aGVcbiAgICAvLyBBdXRoZW50aWNhdG9yIG9iamVjdCBhbmQgZmV0Y2ggaXQgdmlhIGl0J3MgY3JlZGVudGlhbCBJRC5cbiAgICBjb25zdCB1c2VySUQgPSByYW5kb21TdHJpbmcoMzIpO1xuICAgIGNvbnN0IHJlbGF5aW5nUGFydHkgPSBwcm92aWRlci5nZXRSZWxheWluZ1BhcnR5KG9wdGlvbnMsIHJlcXVlc3QpO1xuICAgIC8vIFJldHVybiB0aGUgcmVnaXN0cmF0aW9uIG9wdGlvbnMuXG4gICAgcmV0dXJuIGF3YWl0IHByb3ZpZGVyLnNpbXBsZVdlYkF1dGhuLmdlbmVyYXRlUmVnaXN0cmF0aW9uT3B0aW9ucyh7XG4gICAgICAgIC4uLnByb3ZpZGVyLnJlZ2lzdHJhdGlvbk9wdGlvbnMsXG4gICAgICAgIHVzZXJJRCxcbiAgICAgICAgdXNlck5hbWU6IHVzZXIuZW1haWwsXG4gICAgICAgIHVzZXJEaXNwbGF5TmFtZTogdXNlci5uYW1lID8/IHVuZGVmaW5lZCxcbiAgICAgICAgcnBJRDogcmVsYXlpbmdQYXJ0eS5pZCxcbiAgICAgICAgcnBOYW1lOiByZWxheWluZ1BhcnR5Lm5hbWUsXG4gICAgICAgIGV4Y2x1ZGVDcmVkZW50aWFsczogYXV0aGVudGljYXRvcnM/Lm1hcCgoYSkgPT4gKHtcbiAgICAgICAgICAgIGlkOiBmcm9tQmFzZTY0KGEuY3JlZGVudGlhbElEKSxcbiAgICAgICAgICAgIHR5cGU6IFwicHVibGljLWtleVwiLFxuICAgICAgICAgICAgdHJhbnNwb3J0czogc3RyaW5nVG9UcmFuc3BvcnRzKGEudHJhbnNwb3J0cyksXG4gICAgICAgIH0pKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRJbnRlcm5hbE9wdGlvbnNXZWJBdXRobihvcHRpb25zKSB7XG4gICAgY29uc3QgeyBwcm92aWRlciwgYWRhcHRlciB9ID0gb3B0aW9ucztcbiAgICAvLyBBZGFwdGVyIGlzIHJlcXVpcmVkIGZvciBXZWJBdXRoblxuICAgIGlmICghYWRhcHRlcilcbiAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdBZGFwdGVyKFwiQW4gYWRhcHRlciBpcyByZXF1aXJlZCBmb3IgdGhlIFdlYkF1dGhuIHByb3ZpZGVyXCIpO1xuICAgIC8vIFByb3ZpZGVyIG11c3QgYmUgV2ViQXV0aG5cbiAgICBpZiAoIXByb3ZpZGVyIHx8IHByb3ZpZGVyLnR5cGUgIT09IFwid2ViYXV0aG5cIikge1xuICAgICAgICB0aHJvdyBuZXcgSW52YWxpZFByb3ZpZGVyKFwiUHJvdmlkZXIgbXVzdCBiZSBXZWJBdXRoblwiKTtcbiAgICB9XG4gICAgLy8gTmFycm93IHRoZSBvcHRpb25zIHR5cGUgZm9yIHR5cGVkIHVzYWdlIGxhdGVyXG4gICAgcmV0dXJuIHsgLi4ub3B0aW9ucywgcHJvdmlkZXIsIGFkYXB0ZXIgfTtcbn1cbmZ1bmN0aW9uIGZyb21BZGFwdGVyQXV0aGVudGljYXRvcihhdXRoZW50aWNhdG9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uYXV0aGVudGljYXRvcixcbiAgICAgICAgY3JlZGVudGlhbERldmljZVR5cGU6IGF1dGhlbnRpY2F0b3IuY3JlZGVudGlhbERldmljZVR5cGUsXG4gICAgICAgIHRyYW5zcG9ydHM6IHN0cmluZ1RvVHJhbnNwb3J0cyhhdXRoZW50aWNhdG9yLnRyYW5zcG9ydHMpLFxuICAgICAgICBjcmVkZW50aWFsSUQ6IGZyb21CYXNlNjQoYXV0aGVudGljYXRvci5jcmVkZW50aWFsSUQpLFxuICAgICAgICBjcmVkZW50aWFsUHVibGljS2V5OiBmcm9tQmFzZTY0KGF1dGhlbnRpY2F0b3IuY3JlZGVudGlhbFB1YmxpY0tleSksXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmcm9tQmFzZTY0KGJhc2U2NCkge1xuICAgIHJldHVybiBuZXcgVWludDhBcnJheShCdWZmZXIuZnJvbShiYXNlNjQsIFwiYmFzZTY0XCIpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b0Jhc2U2NChieXRlcykge1xuICAgIHJldHVybiBCdWZmZXIuZnJvbShieXRlcykudG9TdHJpbmcoXCJiYXNlNjRcIik7XG59XG5leHBvcnQgZnVuY3Rpb24gdHJhbnNwb3J0c1RvU3RyaW5nKHRyYW5zcG9ydHMpIHtcbiAgICByZXR1cm4gdHJhbnNwb3J0cz8uam9pbihcIixcIik7XG59XG5leHBvcnQgZnVuY3Rpb24gc3RyaW5nVG9UcmFuc3BvcnRzKHRzdHJpbmcpIHtcbiAgICByZXR1cm4gdHN0cmluZ1xuICAgICAgICA/IHRzdHJpbmcuc3BsaXQoXCIsXCIpXG4gICAgICAgIDogdW5kZWZpbmVkO1xufVxuIl0sIm5hbWVzIjpbIkFkYXB0ZXJFcnJvciIsIkF1dGhFcnJvciIsIkludmFsaWRQcm92aWRlciIsIk1pc3NpbmdBZGFwdGVyIiwiV2ViQXV0aG5WZXJpZmljYXRpb25FcnJvciIsIndlYmF1dGhuQ2hhbGxlbmdlIiwicmFuZG9tU3RyaW5nIiwiaW5mZXJXZWJBdXRobk9wdGlvbnMiLCJhY3Rpb24iLCJsb2dnZWRJbiIsInVzZXJJbmZvUmVzcG9uc2UiLCJ1c2VyIiwiZXhpc3RzIiwidW5kZWZpbmVkIiwiZ2V0UmVnaXN0cmF0aW9uUmVzcG9uc2UiLCJvcHRpb25zIiwicmVxdWVzdCIsInJlc0Nvb2tpZXMiLCJyZWdPcHRpb25zIiwiZ2V0UmVnaXN0cmF0aW9uT3B0aW9ucyIsImNvb2tpZSIsImNyZWF0ZSIsImNoYWxsZW5nZSIsInN0YXR1cyIsImNvb2tpZXMiLCJib2R5IiwiaGVhZGVycyIsImdldEF1dGhlbnRpY2F0aW9uUmVzcG9uc2UiLCJhdXRoT3B0aW9ucyIsImdldEF1dGhlbnRpY2F0aW9uT3B0aW9ucyIsInZlcmlmeUF1dGhlbnRpY2F0ZSIsImFkYXB0ZXIiLCJwcm92aWRlciIsImRhdGEiLCJKU09OIiwicGFyc2UiLCJpZCIsImNyZWRlbnRpYWxJRCIsInRvQmFzZTY0IiwiZnJvbUJhc2U2NCIsImF1dGhlbnRpY2F0b3IiLCJnZXRBdXRoZW50aWNhdG9yIiwic3RyaW5naWZ5IiwiZXhwZWN0ZWRDaGFsbGVuZ2UiLCJ1c2UiLCJ2ZXJpZmljYXRpb24iLCJyZWxheWluZ1BhcnR5IiwiZ2V0UmVsYXlpbmdQYXJ0eSIsInNpbXBsZVdlYkF1dGhuIiwidmVyaWZ5QXV0aGVudGljYXRpb25SZXNwb25zZSIsInZlcmlmeUF1dGhlbnRpY2F0aW9uT3B0aW9ucyIsInJlc3BvbnNlIiwiZnJvbUFkYXB0ZXJBdXRoZW50aWNhdG9yIiwiZXhwZWN0ZWRPcmlnaW4iLCJvcmlnaW4iLCJleHBlY3RlZFJQSUQiLCJlIiwidmVyaWZpZWQiLCJhdXRoZW50aWNhdGlvbkluZm8iLCJuZXdDb3VudGVyIiwidXBkYXRlQXV0aGVudGljYXRvckNvdW50ZXIiLCJvbGRDb3VudGVyIiwiY291bnRlciIsImFjY291bnQiLCJnZXRBY2NvdW50IiwicHJvdmlkZXJBY2NvdW50SWQiLCJnZXRVc2VyIiwidXNlcklkIiwidXNlcklEIiwidmVyaWZ5UmVnaXN0ZXIiLCJyZWdpc3RlckRhdGEiLCJ2ZXJpZnlSZWdpc3RyYXRpb25SZXNwb25zZSIsInZlcmlmeVJlZ2lzdHJhdGlvbk9wdGlvbnMiLCJyZWdpc3RyYXRpb25JbmZvIiwidHlwZSIsImNyZWRlbnRpYWxQdWJsaWNLZXkiLCJjcmVkZW50aWFsQmFja2VkVXAiLCJjcmVkZW50aWFsRGV2aWNlVHlwZSIsInRyYW5zcG9ydHMiLCJ0cmFuc3BvcnRzVG9TdHJpbmciLCJhdXRoZW50aWNhdG9ycyIsImxpc3RBdXRoZW50aWNhdG9yc0J5VXNlcklkIiwiZ2VuZXJhdGVBdXRoZW50aWNhdGlvbk9wdGlvbnMiLCJhdXRoZW50aWNhdGlvbk9wdGlvbnMiLCJycElEIiwiYWxsb3dDcmVkZW50aWFscyIsIm1hcCIsImEiLCJzdHJpbmdUb1RyYW5zcG9ydHMiLCJnZW5lcmF0ZVJlZ2lzdHJhdGlvbk9wdGlvbnMiLCJyZWdpc3RyYXRpb25PcHRpb25zIiwidXNlck5hbWUiLCJlbWFpbCIsInVzZXJEaXNwbGF5TmFtZSIsIm5hbWUiLCJycE5hbWUiLCJleGNsdWRlQ3JlZGVudGlhbHMiLCJhc3NlcnRJbnRlcm5hbE9wdGlvbnNXZWJBdXRobiIsImJhc2U2NCIsIlVpbnQ4QXJyYXkiLCJCdWZmZXIiLCJmcm9tIiwiYnl0ZXMiLCJ0b1N0cmluZyIsImpvaW4iLCJ0c3RyaW5nIiwic3BsaXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/lib/utils/webauthn-utils.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/lib/utils/webauthn-utils.js":
/*!*************************************************************!*\
  !*** ./node_modules/@auth/core/lib/utils/webauthn-utils.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assertInternalOptionsWebAuthn: () => (/* binding */ assertInternalOptionsWebAuthn),\n/* harmony export */   fromBase64: () => (/* binding */ fromBase64),\n/* harmony export */   getAuthenticationResponse: () => (/* binding */ getAuthenticationResponse),\n/* harmony export */   getRegistrationResponse: () => (/* binding */ getRegistrationResponse),\n/* harmony export */   inferWebAuthnOptions: () => (/* binding */ inferWebAuthnOptions),\n/* harmony export */   stringToTransports: () => (/* binding */ stringToTransports),\n/* harmony export */   toBase64: () => (/* binding */ toBase64),\n/* harmony export */   transportsToString: () => (/* binding */ transportsToString),\n/* harmony export */   verifyAuthenticate: () => (/* binding */ verifyAuthenticate),\n/* harmony export */   verifyRegister: () => (/* binding */ verifyRegister)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../errors.js */ \"(rsc)/./node_modules/@auth/core/errors.js\");\n/* harmony import */ var _actions_callback_oauth_checks_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../actions/callback/oauth/checks.js */ \"(rsc)/./node_modules/@auth/core/lib/actions/callback/oauth/checks.js\");\n/* harmony import */ var _web_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./web.js */ \"(rsc)/./node_modules/@auth/core/lib/utils/web.js\");\n\n\n\n/**\n * Infers the WebAuthn options based on the provided parameters.\n *\n * @param action - The WebAuthn action to perform (optional).\n * @param loggedInUser - The logged-in user (optional).\n * @param userInfoResponse - The response containing user information (optional).\n *\n * @returns The WebAuthn action to perform, or null if no inference could be made.\n */ function inferWebAuthnOptions(action, loggedIn, userInfoResponse) {\n    const { user, exists = false } = userInfoResponse ?? {};\n    switch(action){\n        case \"authenticate\":\n            {\n                /**\n             * Always allow explicit authentication requests.\n             */ return \"authenticate\";\n            }\n        case \"register\":\n            {\n                /**\n             * Registration is only allowed if:\n             * - The user is logged in, meaning the user wants to register a new authenticator.\n             * - The user is not logged in and provided user info that does NOT exist, meaning the user wants to register a new account.\n             */ if (user && loggedIn === exists) return \"register\";\n                break;\n            }\n        case undefined:\n            {\n                /**\n             * When no explicit action is provided, we try to infer it based on the user info provided. These are the possible cases:\n             * - Logged in users must always send an explit action, so we bail out in this case.\n             * - Otherwise, if no user info is provided, the desired action is authentication without pre-defined authenticators.\n             * - Otherwise, if the user info provided is of an existing user, the desired action is authentication with their pre-defined authenticators.\n             * - Finally, if the user info provided is of a non-existing user, the desired action is registration.\n             */ if (!loggedIn) {\n                    if (user) {\n                        if (exists) {\n                            return \"authenticate\";\n                        } else {\n                            return \"register\";\n                        }\n                    } else {\n                        return \"authenticate\";\n                    }\n                }\n                break;\n            }\n    }\n    // No decision could be made\n    return null;\n}\n/**\n * Retrieves the registration response for WebAuthn options request.\n *\n * @param options - The internal options for WebAuthn.\n * @param request - The request object.\n * @param user - The user information.\n * @param resCookies - Optional cookies to be included in the response.\n * @returns A promise that resolves to the WebAuthnOptionsResponse.\n */ async function getRegistrationResponse(options, request, user, resCookies) {\n    // Get registration options\n    const regOptions = await getRegistrationOptions(options, request, user);\n    // Get signed cookie\n    const { cookie } = await _actions_callback_oauth_checks_js__WEBPACK_IMPORTED_MODULE_1__.webauthnChallenge.create(options, regOptions.challenge, user);\n    return {\n        status: 200,\n        cookies: [\n            ...resCookies ?? [],\n            cookie\n        ],\n        body: {\n            action: \"register\",\n            options: regOptions\n        },\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    };\n}\n/**\n * Retrieves the authentication response for WebAuthn options request.\n *\n * @param options - The internal options for WebAuthn.\n * @param request - The request object.\n * @param user - Optional user information.\n * @param resCookies - Optional array of cookies to be included in the response.\n * @returns A promise that resolves to a WebAuthnOptionsResponse object.\n */ async function getAuthenticationResponse(options, request, user, resCookies) {\n    // Get authentication options\n    const authOptions = await getAuthenticationOptions(options, request, user);\n    // Get signed cookie\n    const { cookie } = await _actions_callback_oauth_checks_js__WEBPACK_IMPORTED_MODULE_1__.webauthnChallenge.create(options, authOptions.challenge);\n    return {\n        status: 200,\n        cookies: [\n            ...resCookies ?? [],\n            cookie\n        ],\n        body: {\n            action: \"authenticate\",\n            options: authOptions\n        },\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    };\n}\nasync function verifyAuthenticate(options, request, resCookies) {\n    const { adapter, provider } = options;\n    // Get WebAuthn response from request body\n    const data = request.body && typeof request.body.data === \"string\" ? JSON.parse(request.body.data) : undefined;\n    if (!data || typeof data !== \"object\" || !(\"id\" in data) || typeof data.id !== \"string\") {\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.AuthError(\"Invalid WebAuthn Authentication response.\");\n    }\n    // Reset the ID so we smooth out implementation differences\n    const credentialID = toBase64(fromBase64(data.id));\n    // Get authenticator from database\n    const authenticator = await adapter.getAuthenticator(credentialID);\n    if (!authenticator) {\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.AuthError(`WebAuthn authenticator not found in database: ${JSON.stringify({\n            credentialID\n        })}`);\n    }\n    // Get challenge from request cookies\n    const { challenge: expectedChallenge } = await _actions_callback_oauth_checks_js__WEBPACK_IMPORTED_MODULE_1__.webauthnChallenge.use(options, request.cookies, resCookies);\n    // Verify the response\n    let verification;\n    try {\n        const relayingParty = provider.getRelayingParty(options, request);\n        verification = await provider.simpleWebAuthn.verifyAuthenticationResponse({\n            ...provider.verifyAuthenticationOptions,\n            expectedChallenge,\n            response: data,\n            authenticator: fromAdapterAuthenticator(authenticator),\n            expectedOrigin: relayingParty.origin,\n            expectedRPID: relayingParty.id\n        });\n    } catch (e) {\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.WebAuthnVerificationError(e);\n    }\n    const { verified, authenticationInfo } = verification;\n    // Make sure the response was verified\n    if (!verified) {\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.WebAuthnVerificationError(\"WebAuthn authentication response could not be verified.\");\n    }\n    // Update authenticator counter\n    try {\n        const { newCounter } = authenticationInfo;\n        await adapter.updateAuthenticatorCounter(authenticator.credentialID, newCounter);\n    } catch (e) {\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.AdapterError(`Failed to update authenticator counter. This may cause future authentication attempts to fail. ${JSON.stringify({\n            credentialID,\n            oldCounter: authenticator.counter,\n            newCounter: authenticationInfo.newCounter\n        })}`, e);\n    }\n    // Get the account and user\n    const account = await adapter.getAccount(authenticator.providerAccountId, provider.id);\n    if (!account) {\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.AuthError(`WebAuthn account not found in database: ${JSON.stringify({\n            credentialID,\n            providerAccountId: authenticator.providerAccountId\n        })}`);\n    }\n    const user = await adapter.getUser(account.userId);\n    if (!user) {\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.AuthError(`WebAuthn user not found in database: ${JSON.stringify({\n            credentialID,\n            providerAccountId: authenticator.providerAccountId,\n            userID: account.userId\n        })}`);\n    }\n    return {\n        account,\n        user\n    };\n}\nasync function verifyRegister(options, request, resCookies) {\n    const { provider } = options;\n    // Get WebAuthn response from request body\n    const data = request.body && typeof request.body.data === \"string\" ? JSON.parse(request.body.data) : undefined;\n    if (!data || typeof data !== \"object\" || !(\"id\" in data) || typeof data.id !== \"string\") {\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.AuthError(\"Invalid WebAuthn Registration response.\");\n    }\n    // Get challenge from request cookies\n    const { challenge: expectedChallenge, registerData: user } = await _actions_callback_oauth_checks_js__WEBPACK_IMPORTED_MODULE_1__.webauthnChallenge.use(options, request.cookies, resCookies);\n    if (!user) {\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.AuthError(\"Missing user registration data in WebAuthn challenge cookie.\");\n    }\n    // Verify the response\n    let verification;\n    try {\n        const relayingParty = provider.getRelayingParty(options, request);\n        verification = await provider.simpleWebAuthn.verifyRegistrationResponse({\n            ...provider.verifyRegistrationOptions,\n            expectedChallenge,\n            response: data,\n            expectedOrigin: relayingParty.origin,\n            expectedRPID: relayingParty.id\n        });\n    } catch (e) {\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.WebAuthnVerificationError(e);\n    }\n    // Make sure the response was verified\n    if (!verification.verified || !verification.registrationInfo) {\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.WebAuthnVerificationError(\"WebAuthn registration response could not be verified.\");\n    }\n    // Build a new account\n    const account = {\n        providerAccountId: toBase64(verification.registrationInfo.credentialID),\n        provider: options.provider.id,\n        type: provider.type\n    };\n    // Build a new authenticator\n    const authenticator = {\n        providerAccountId: account.providerAccountId,\n        counter: verification.registrationInfo.counter,\n        credentialID: toBase64(verification.registrationInfo.credentialID),\n        credentialPublicKey: toBase64(verification.registrationInfo.credentialPublicKey),\n        credentialBackedUp: verification.registrationInfo.credentialBackedUp,\n        credentialDeviceType: verification.registrationInfo.credentialDeviceType,\n        transports: transportsToString(data.response.transports)\n    };\n    // Return created stuff\n    return {\n        user,\n        account,\n        authenticator\n    };\n}\n/**\n * Generates WebAuthn authentication options.\n *\n * @param options - The internal options for WebAuthn.\n * @param request - The request object.\n * @param user - Optional user information.\n * @returns The authentication options.\n */ async function getAuthenticationOptions(options, request, user) {\n    const { provider, adapter } = options;\n    // Get the user's authenticators.\n    const authenticators = user && user[\"id\"] ? await adapter.listAuthenticatorsByUserId(user.id) : null;\n    const relayingParty = provider.getRelayingParty(options, request);\n    // Return the authentication options.\n    return await provider.simpleWebAuthn.generateAuthenticationOptions({\n        ...provider.authenticationOptions,\n        rpID: relayingParty.id,\n        allowCredentials: authenticators?.map((a)=>({\n                id: fromBase64(a.credentialID),\n                type: \"public-key\",\n                transports: stringToTransports(a.transports)\n            }))\n    });\n}\n/**\n * Generates WebAuthn registration options.\n *\n * @param options - The internal options for WebAuthn.\n * @param request - The request object.\n * @param user - The user information.\n * @returns The registration options.\n */ async function getRegistrationOptions(options, request, user) {\n    const { provider, adapter } = options;\n    // Get the user's authenticators.\n    const authenticators = user[\"id\"] ? await adapter.listAuthenticatorsByUserId(user.id) : null;\n    // Generate a random user ID for the credential.\n    // We can do this because we don't use this user ID to link the\n    // credential to the user. Instead, we store actual userID in the\n    // Authenticator object and fetch it via it's credential ID.\n    const userID = (0,_web_js__WEBPACK_IMPORTED_MODULE_2__.randomString)(32);\n    const relayingParty = provider.getRelayingParty(options, request);\n    // Return the registration options.\n    return await provider.simpleWebAuthn.generateRegistrationOptions({\n        ...provider.registrationOptions,\n        userID,\n        userName: user.email,\n        userDisplayName: user.name ?? undefined,\n        rpID: relayingParty.id,\n        rpName: relayingParty.name,\n        excludeCredentials: authenticators?.map((a)=>({\n                id: fromBase64(a.credentialID),\n                type: \"public-key\",\n                transports: stringToTransports(a.transports)\n            }))\n    });\n}\nfunction assertInternalOptionsWebAuthn(options) {\n    const { provider, adapter } = options;\n    // Adapter is required for WebAuthn\n    if (!adapter) throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.MissingAdapter(\"An adapter is required for the WebAuthn provider\");\n    // Provider must be WebAuthn\n    if (!provider || provider.type !== \"webauthn\") {\n        throw new _errors_js__WEBPACK_IMPORTED_MODULE_0__.InvalidProvider(\"Provider must be WebAuthn\");\n    }\n    // Narrow the options type for typed usage later\n    return {\n        ...options,\n        provider,\n        adapter\n    };\n}\nfunction fromAdapterAuthenticator(authenticator) {\n    return {\n        ...authenticator,\n        credentialDeviceType: authenticator.credentialDeviceType,\n        transports: stringToTransports(authenticator.transports),\n        credentialID: fromBase64(authenticator.credentialID),\n        credentialPublicKey: fromBase64(authenticator.credentialPublicKey)\n    };\n}\nfunction fromBase64(base64) {\n    return new Uint8Array(Buffer.from(base64, \"base64\"));\n}\nfunction toBase64(bytes) {\n    return Buffer.from(bytes).toString(\"base64\");\n}\nfunction transportsToString(transports) {\n    return transports?.join(\",\");\n}\nfunction stringToTransports(tstring) {\n    return tstring ? tstring.split(\",\") : undefined;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9saWIvdXRpbHMvd2ViYXV0aG4tdXRpbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUF1SDtBQUMvQztBQUNoQztBQUN4Qzs7Ozs7Ozs7Q0FRQyxHQUNNLFNBQVNPLHFCQUFxQkMsTUFBTSxFQUFFQyxRQUFRLEVBQUVDLGdCQUFnQjtJQUNuRSxNQUFNLEVBQUVDLElBQUksRUFBRUMsU0FBUyxLQUFLLEVBQUUsR0FBR0Ysb0JBQW9CLENBQUM7SUFDdEQsT0FBUUY7UUFDSixLQUFLO1lBQWdCO2dCQUNqQjs7YUFFQyxHQUNELE9BQU87WUFDWDtRQUNBLEtBQUs7WUFBWTtnQkFDYjs7OzthQUlDLEdBQ0QsSUFBSUcsUUFBUUYsYUFBYUcsUUFDckIsT0FBTztnQkFDWDtZQUNKO1FBQ0EsS0FBS0M7WUFBVztnQkFDWjs7Ozs7O2FBTUMsR0FDRCxJQUFJLENBQUNKLFVBQVU7b0JBQ1gsSUFBSUUsTUFBTTt3QkFDTixJQUFJQyxRQUFROzRCQUNSLE9BQU87d0JBQ1gsT0FDSzs0QkFDRCxPQUFPO3dCQUNYO29CQUNKLE9BQ0s7d0JBQ0QsT0FBTztvQkFDWDtnQkFDSjtnQkFDQTtZQUNKO0lBQ0o7SUFDQSw0QkFBNEI7SUFDNUIsT0FBTztBQUNYO0FBQ0E7Ozs7Ozs7O0NBUUMsR0FDTSxlQUFlRSx3QkFBd0JDLE9BQU8sRUFBRUMsT0FBTyxFQUFFTCxJQUFJLEVBQUVNLFVBQVU7SUFDNUUsMkJBQTJCO0lBQzNCLE1BQU1DLGFBQWEsTUFBTUMsdUJBQXVCSixTQUFTQyxTQUFTTDtJQUNsRSxvQkFBb0I7SUFDcEIsTUFBTSxFQUFFUyxNQUFNLEVBQUUsR0FBRyxNQUFNZixnRkFBaUJBLENBQUNnQixNQUFNLENBQUNOLFNBQVNHLFdBQVdJLFNBQVMsRUFBRVg7SUFDakYsT0FBTztRQUNIWSxRQUFRO1FBQ1JDLFNBQVM7ZUFBS1AsY0FBYyxFQUFFO1lBQUdHO1NBQU87UUFDeENLLE1BQU07WUFDRmpCLFFB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QVk7UUFDbkRzQyxxQkFBcUJwQyxXQUFXQyxjQUFjbUMsbUJBQW1CO0lBQ3JFO0FBQ0o7QUFDTyxTQUFTcEMsV0FBVzJELE1BQU07SUFDN0IsT0FBTyxJQUFJQyxXQUFXQyxPQUFPQyxJQUFJLENBQUNILFFBQVE7QUFDOUM7QUFDTyxTQUFTNUQsU0FBU2dFLEtBQUs7SUFDMUIsT0FBT0YsT0FBT0MsSUFBSSxDQUFDQyxPQUFPQyxRQUFRLENBQUM7QUFDdkM7QUFDTyxTQUFTeEIsbUJBQW1CRCxVQUFVO0lBQ3pDLE9BQU9BLFlBQVkwQixLQUFLO0FBQzVCO0FBQ08sU0FBU2hCLG1CQUFtQmlCLE9BQU87SUFDdEMsT0FBT0EsVUFDREEsUUFBUUMsS0FBSyxDQUFDLE9BQ2Q3RjtBQUNWIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC1yeC8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL2xpYi91dGlscy93ZWJhdXRobi11dGlscy5qcz9iMDVjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFkYXB0ZXJFcnJvciwgQXV0aEVycm9yLCBJbnZhbGlkUHJvdmlkZXIsIE1pc3NpbmdBZGFwdGVyLCBXZWJBdXRoblZlcmlmaWNhdGlvbkVycm9yLCB9IGZyb20gXCIuLi8uLi9lcnJvcnMuanNcIjtcbmltcG9ydCB7IHdlYmF1dGhuQ2hhbGxlbmdlIH0gZnJvbSBcIi4uL2FjdGlvbnMvY2FsbGJhY2svb2F1dGgvY2hlY2tzLmpzXCI7XG5pbXBvcnQgeyByYW5kb21TdHJpbmcgfSBmcm9tIFwiLi93ZWIuanNcIjtcbi8qKlxuICogSW5mZXJzIHRoZSBXZWJBdXRobiBvcHRpb25zIGJhc2VkIG9uIHRoZSBwcm92aWRlZCBwYXJhbWV0ZXJzLlxuICpcbiAqIEBwYXJhbSBhY3Rpb24gLSBUaGUgV2ViQXV0aG4gYWN0aW9uIHRvIHBlcmZvcm0gKG9wdGlvbmFsKS5cbiAqIEBwYXJhbSBsb2dnZWRJblVzZXIgLSBUaGUgbG9nZ2VkLWluIHVzZXIgKG9wdGlvbmFsKS5cbiAqIEBwYXJhbSB1c2VySW5mb1Jlc3BvbnNlIC0gVGhlIHJlc3BvbnNlIGNvbnRhaW5pbmcgdXNlciBpbmZvcm1hdGlvbiAob3B0aW9uYWwpLlxuICpcbiAqIEByZXR1cm5zIFRoZSBXZWJBdXRobiBhY3Rpb24gdG8gcGVyZm9ybSwgb3IgbnVsbCBpZiBubyBpbmZlcmVuY2UgY291bGQgYmUgbWFkZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluZmVyV2ViQXV0aG5PcHRpb25zKGFjdGlvbiwgbG9nZ2VkSW4sIHVzZXJJbmZvUmVzcG9uc2UpIHtcbiAgICBjb25zdCB7IHVzZXIsIGV4aXN0cyA9IGZhbHNlIH0gPSB1c2VySW5mb1Jlc3BvbnNlID8/IHt9O1xuICAgIHN3aXRjaCAoYWN0aW9uKSB7XG4gICAgICAgIGNhc2UgXCJhdXRoZW50aWNhdGVcIjoge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBbHdheXMgYWxsb3cgZXhwbGljaXQgYXV0aGVudGljYXRpb24gcmVxdWVzdHMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHJldHVybiBcImF1dGhlbnRpY2F0ZVwiO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJyZWdpc3RlclwiOiB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJlZ2lzdHJhdGlvbiBpcyBvbmx5IGFsbG93ZWQgaWY6XG4gICAgICAgICAgICAgKiAtIFRoZSB1c2VyIGlzIGxvZ2dlZCBpbiwgbWVhbmluZyB0aGUgdXNlciB3YW50cyB0byByZWdpc3RlciBhIG5ldyBhdXRoZW50aWNhdG9yLlxuICAgICAgICAgICAgICogLSBUaGUgdXNlciBpcyBub3QgbG9nZ2VkIGluIGFuZCBwcm92aWRlZCB1c2VyIGluZm8gdGhhdCBkb2VzIE5PVCBleGlzdCwgbWVhbmluZyB0aGUgdXNlciB3YW50cyB0byByZWdpc3RlciBhIG5ldyBhY2NvdW50LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAodXNlciAmJiBsb2dnZWRJbiA9PT0gZXhpc3RzKVxuICAgICAgICAgICAgICAgIHJldHVybiBcInJlZ2lzdGVyXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIHVuZGVmaW5lZDoge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBXaGVuIG5vIGV4cGxpY2l0IGFjdGlvbiBpcyBwcm92aWRlZCwgd2UgdHJ5IHRvIGluZmVyIGl0IGJhc2VkIG9uIHRoZSB1c2VyIGluZm8gcHJvdmlkZWQuIFRoZXNlIGFyZSB0aGUgcG9zc2libGUgY2FzZXM6XG4gICAgICAgICAgICAgKiAtIExvZ2dlZCBpbiB1c2VycyBtdXN0IGFsd2F5cyBzZW5kIGFuIGV4cGxpdCBhY3Rpb24sIHNvIHdlIGJhaWwgb3V0IGluIHRoaXMgY2FzZS5cbiAgICAgICAgICAgICAqIC0gT3RoZXJ3aXNlLCBpZiBubyB1c2VyIGluZm8gaXMgcHJvdmlkZWQsIHRoZSBkZXNpcmVkIGFjdGlvbiBpcyBhdXRoZW50aWNhdGlvbiB3aXRob3V0IHByZS1kZWZpbmVkIGF1dGhlbnRpY2F0b3JzLlxuICAgICAgICAgICAgICogLSBPdGhlcndpc2UsIGlmIHRoZSB1c2VyIGluZm8gcHJvdmlkZWQgaXMgb2YgYW4gZXhpc3RpbmcgdXNlciwgdGhlIGRlc2lyZWQgYWN0aW9uIGlzIGF1dGhlbnRpY2F0aW9uIHdpdGggdGhlaXIgcHJlLWRlZmluZWQgYXV0aGVudGljYXRvcnMuXG4gICAgICAgICAgICAgKiAtIEZpbmFsbHksIGlmIHRoZSB1c2VyIGluZm8gcHJvdmlkZWQgaXMgb2YgYSBub24tZXhpc3RpbmcgdXNlciwgdGhlIGRlc2lyZWQgYWN0aW9uIGlzIHJlZ2lzdHJhdGlvbi5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKCFsb2dnZWRJbikge1xuICAgICAgICAgICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChleGlzdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImF1dGhlbnRpY2F0ZVwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwicmVnaXN0ZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYXV0aGVudGljYXRlXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gTm8gZGVjaXNpb24gY291bGQgYmUgbWFkZVxuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIHJlZ2lzdHJhdGlvbiByZXNwb25zZSBmb3IgV2ViQXV0aG4gb3B0aW9ucyByZXF1ZXN0LlxuICpcbiAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIGludGVybmFsIG9wdGlvbnMgZm9yIFdlYkF1dGhuLlxuICogQHBhcmFtIHJlcXVlc3QgLSBUaGUgcmVxdWVzdCBvYmplY3QuXG4gKiBAcGFyYW0gdXNlciAtIFRoZSB1c2VyIGluZm9ybWF0aW9uLlxuICogQHBhcmFtIHJlc0Nvb2tpZXMgLSBPcHRpb25hbCBjb29raWVzIHRvIGJlIGluY2x1ZGVkIGluIHRoZSByZXNwb25zZS5cbiAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSBXZWJBdXRobk9wdGlvbnNSZXNwb25zZS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFJlZ2lzdHJhdGlvblJlc3BvbnNlKG9wdGlvbnMsIHJlcXVlc3QsIHVzZXIsIHJlc0Nvb2tpZXMpIHtcbiAgICAvLyBHZXQgcmVnaXN0cmF0aW9uIG9wdGlvbnNcbiAgICBjb25zdCByZWdPcHRpb25zID0gYXdhaXQgZ2V0UmVnaXN0cmF0aW9uT3B0aW9ucyhvcHRpb25zLCByZXF1ZXN0LCB1c2VyKTtcbiAgICAvLyBHZXQgc2lnbmVkIGNvb2tpZVxuICAgIGNvbnN0IHsgY29va2llIH0gPSBhd2FpdCB3ZWJhdXRobkNoYWxsZW5nZS5jcmVhdGUob3B0aW9ucywgcmVnT3B0aW9ucy5jaGFsbGVuZ2UsIHVzZXIpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICBjb29raWVzOiBbLi4uKHJlc0Nvb2tpZXMgPz8gW10pLCBjb29raWVdLFxuICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICBhY3Rpb246IFwicmVnaXN0ZXJcIixcbiAgICAgICAgICAgIG9wdGlvbnM6IHJlZ09wdGlvbnMsXG4gICAgICAgIH0sXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICB9LFxuICAgIH07XG59XG4vKipcbiAqIFJldHJpZXZlcyB0aGUgYXV0aGVudGljYXRpb24gcmVzcG9uc2UgZm9yIFdlYkF1dGhuIG9wdGlvbnMgcmVxdWVzdC5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBpbnRlcm5hbCBvcHRpb25zIGZvciBXZWJBdXRobi5cbiAqIEBwYXJhbSByZXF1ZXN0IC0gVGhlIHJlcXVlc3Qgb2JqZWN0LlxuICogQHBhcmFtIHVzZXIgLSBPcHRpb25hbCB1c2VyIGluZm9ybWF0aW9uLlxuICogQHBhcmFtIHJlc0Nvb2tpZXMgLSBPcHRpb25hbCBhcnJheSBvZiBjb29raWVzIHRvIGJlIGluY2x1ZGVkIGluIHRoZSByZXNwb25zZS5cbiAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGEgV2ViQXV0aG5PcHRpb25zUmVzcG9uc2Ugb2JqZWN0LlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QXV0aGVudGljYXRpb25SZXNwb25zZShvcHRpb25zLCByZXF1ZXN0LCB1c2VyLCByZXNDb29raWVzKSB7XG4gICAgLy8gR2V0IGF1dGhlbnRpY2F0aW9uIG9wdGlvbnNcbiAgICBjb25zdCBhdXRoT3B0aW9ucyA9IGF3YWl0IGdldEF1dGhlbnRpY2F0aW9uT3B0aW9ucyhvcHRpb25zLCByZXF1ZXN0LCB1c2VyKTtcbiAgICAvLyBHZXQgc2lnbmVkIGNvb2tpZVxuICAgIGNvbnN0IHsgY29va2llIH0gPSBhd2FpdCB3ZWJhdXRobkNoYWxsZW5nZS5jcmVhdGUob3B0aW9ucywgYXV0aE9wdGlvbnMuY2hhbGxlbmdlKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAgY29va2llczogWy4uLihyZXNDb29raWVzID8/IFtdKSwgY29va2llXSxcbiAgICAgICAgYm9keToge1xuICAgICAgICAgICAgYWN0aW9uOiBcImF1dGhlbnRpY2F0ZVwiLFxuICAgICAgICAgICAgb3B0aW9uczogYXV0aE9wdGlvbnMsXG4gICAgICAgIH0sXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICB9LFxuICAgIH07XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmVyaWZ5QXV0aGVudGljYXRlKG9wdGlvbnMsIHJlcXVlc3QsIHJlc0Nvb2tpZXMpIHtcbiAgICBjb25zdCB7IGFkYXB0ZXIsIHByb3ZpZGVyIH0gPSBvcHRpb25zO1xuICAgIC8vIEdldCBXZWJBdXRobiByZXNwb25zZSBmcm9tIHJlcXVlc3QgYm9keVxuICAgIGNvbnN0IGRhdGEgPSByZXF1ZXN0LmJvZHkgJiYgdHlwZW9mIHJlcXVlc3QuYm9keS5kYXRhID09PSBcInN0cmluZ1wiXG4gICAgICAgID8gSlNPTi5wYXJzZShyZXF1ZXN0LmJvZHkuZGF0YSlcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgaWYgKCFkYXRhIHx8XG4gICAgICAgIHR5cGVvZiBkYXRhICE9PSBcIm9iamVjdFwiIHx8XG4gICAgICAgICEoXCJpZFwiIGluIGRhdGEpIHx8XG4gICAgICAgIHR5cGVvZiBkYXRhLmlkICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHRocm93IG5ldyBBdXRoRXJyb3IoXCJJbnZhbGlkIFdlYkF1dGhuIEF1dGhlbnRpY2F0aW9uIHJlc3BvbnNlLlwiKTtcbiAgICB9XG4gICAgLy8gUmVzZXQgdGhlIElEIHNvIHdlIHNtb290aCBvdXQgaW1wbGVtZW50YXRpb24gZGlmZmVyZW5jZXNcbiAgICBjb25zdCBjcmVkZW50aWFsSUQgPSB0b0Jhc2U2NChmcm9tQmFzZTY0KGRhdGEuaWQpKTtcbiAgICAvLyBHZXQgYXV0aGVudGljYXRvciBmcm9tIGRhdGFiYXNlXG4gICAgY29uc3QgYXV0aGVudGljYXRvciA9IGF3YWl0IGFkYXB0ZXIuZ2V0QXV0aGVudGljYXRvcihjcmVkZW50aWFsSUQpO1xuICAgIGlmICghYXV0aGVudGljYXRvcikge1xuICAgICAgICB0aHJvdyBuZXcgQXV0aEVycm9yKGBXZWJBdXRobiBhdXRoZW50aWNhdG9yIG5vdCBmb3VuZCBpbiBkYXRhYmFzZTogJHtKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBjcmVkZW50aWFsSUQsXG4gICAgICAgIH0pfWApO1xuICAgIH1cbiAgICAvLyBHZXQgY2hhbGxlbmdlIGZyb20gcmVxdWVzdCBjb29raWVzXG4gICAgY29uc3QgeyBjaGFsbGVuZ2U6IGV4cGVjdGVkQ2hhbGxlbmdlIH0gPSBhd2FpdCB3ZWJhdXRobkNoYWxsZW5nZS51c2Uob3B0aW9ucywgcmVxdWVzdC5jb29raWVzLCByZXNDb29raWVzKTtcbiAgICAvLyBWZXJpZnkgdGhlIHJlc3BvbnNlXG4gICAgbGV0IHZlcmlmaWNhdGlvbjtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZWxheWluZ1BhcnR5ID0gcHJvdmlkZXIuZ2V0UmVsYXlpbmdQYXJ0eShvcHRpb25zLCByZXF1ZXN0KTtcbiAgICAgICAgdmVyaWZpY2F0aW9uID0gYXdhaXQgcHJvdmlkZXIuc2ltcGxlV2ViQXV0aG4udmVyaWZ5QXV0aGVudGljYXRpb25SZXNwb25zZSh7XG4gICAgICAgICAgICAuLi5wcm92aWRlci52ZXJpZnlBdXRoZW50aWNhdGlvbk9wdGlvbnMsXG4gICAgICAgICAgICBleHBlY3RlZENoYWxsZW5nZSxcbiAgICAgICAgICAgIHJlc3BvbnNlOiBkYXRhLFxuICAgICAgICAgICAgYXV0aGVudGljYXRvcjogZnJvbUFkYXB0ZXJBdXRoZW50aWNhdG9yKGF1dGhlbnRpY2F0b3IpLFxuICAgICAgICAgICAgZXhwZWN0ZWRPcmlnaW46IHJlbGF5aW5nUGFydHkub3JpZ2luLFxuICAgICAgICAgICAgZXhwZWN0ZWRSUElEOiByZWxheWluZ1BhcnR5LmlkLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFdlYkF1dGhuVmVyaWZpY2F0aW9uRXJyb3IoZSk7XG4gICAgfVxuICAgIGNvbnN0IHsgdmVyaWZpZWQsIGF1dGhlbnRpY2F0aW9uSW5mbyB9ID0gdmVyaWZpY2F0aW9uO1xuICAgIC8vIE1ha2Ugc3VyZSB0aGUgcmVzcG9uc2Ugd2FzIHZlcmlmaWVkXG4gICAgaWYgKCF2ZXJpZmllZCkge1xuICAgICAgICB0aHJvdyBuZXcgV2ViQXV0aG5WZXJpZmljYXRpb25FcnJvcihcIldlYkF1dGhuIGF1dGhlbnRpY2F0aW9uIHJlc3BvbnNlIGNvdWxkIG5vdCBiZSB2ZXJpZmllZC5cIik7XG4gICAgfVxuICAgIC8vIFVwZGF0ZSBhdXRoZW50aWNhdG9yIGNvdW50ZXJcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB7IG5ld0NvdW50ZXIgfSA9IGF1dGhlbnRpY2F0aW9uSW5mbztcbiAgICAgICAgYXdhaXQgYWRhcHRlci51cGRhdGVBdXRoZW50aWNhdG9yQ291bnRlcihhdXRoZW50aWNhdG9yLmNyZWRlbnRpYWxJRCwgbmV3Q291bnRlcik7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHRocm93IG5ldyBBZGFwdGVyRXJyb3IoYEZhaWxlZCB0byB1cGRhdGUgYXV0aGVudGljYXRvciBjb3VudGVyLiBUaGlzIG1heSBjYXVzZSBmdXR1cmUgYXV0aGVudGljYXRpb24gYXR0ZW1wdHMgdG8gZmFpbC4gJHtKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBjcmVkZW50aWFsSUQsXG4gICAgICAgICAgICBvbGRDb3VudGVyOiBhdXRoZW50aWNhdG9yLmNvdW50ZXIsXG4gICAgICAgICAgICBuZXdDb3VudGVyOiBhdXRoZW50aWNhdGlvbkluZm8ubmV3Q291bnRlcixcbiAgICAgICAgfSl9YCwgZSk7XG4gICAgfVxuICAgIC8vIEdldCB0aGUgYWNjb3VudCBhbmQgdXNlclxuICAgIGNvbnN0IGFjY291bnQgPSBhd2FpdCBhZGFwdGVyLmdldEFjY291bnQoYXV0aGVudGljYXRvci5wcm92aWRlckFjY291bnRJZCwgcHJvdmlkZXIuaWQpO1xuICAgIGlmICghYWNjb3VudCkge1xuICAgICAgICB0aHJvdyBuZXcgQXV0aEVycm9yKGBXZWJBdXRobiBhY2NvdW50IG5vdCBmb3VuZCBpbiBkYXRhYmFzZTogJHtKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBjcmVkZW50aWFsSUQsXG4gICAgICAgICAgICBwcm92aWRlckFjY291bnRJZDogYXV0aGVudGljYXRvci5wcm92aWRlckFjY291bnRJZCxcbiAgICAgICAgfSl9YCk7XG4gICAgfVxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBhZGFwdGVyLmdldFVzZXIoYWNjb3VudC51c2VySWQpO1xuICAgIGlmICghdXNlcikge1xuICAgICAgICB0aHJvdyBuZXcgQXV0aEVycm9yKGBXZWJBdXRobiB1c2VyIG5vdCBmb3VuZCBpbiBkYXRhYmFzZTogJHtKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBjcmVkZW50aWFsSUQsXG4gICAgICAgICAgICBwcm92aWRlckFjY291bnRJZDogYXV0aGVudGljYXRvci5wcm92aWRlckFjY291bnRJZCxcbiAgICAgICAgICAgIHVzZXJJRDogYWNjb3VudC51c2VySWQsXG4gICAgICAgIH0pfWApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBhY2NvdW50LFxuICAgICAgICB1c2VyLFxuICAgIH07XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmVyaWZ5UmVnaXN0ZXIob3B0aW9ucywgcmVxdWVzdCwgcmVzQ29va2llcykge1xuICAgIGNvbnN0IHsgcHJvdmlkZXIgfSA9IG9wdGlvbnM7XG4gICAgLy8gR2V0IFdlYkF1dGhuIHJlc3BvbnNlIGZyb20gcmVxdWVzdCBib2R5XG4gICAgY29uc3QgZGF0YSA9IHJlcXVlc3QuYm9keSAmJiB0eXBlb2YgcmVxdWVzdC5ib2R5LmRhdGEgPT09IFwic3RyaW5nXCJcbiAgICAgICAgPyBKU09OLnBhcnNlKHJlcXVlc3QuYm9keS5kYXRhKVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICBpZiAoIWRhdGEgfHxcbiAgICAgICAgdHlwZW9mIGRhdGEgIT09IFwib2JqZWN0XCIgfHxcbiAgICAgICAgIShcImlkXCIgaW4gZGF0YSkgfHxcbiAgICAgICAgdHlwZW9mIGRhdGEuaWQgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEF1dGhFcnJvcihcIkludmFsaWQgV2ViQXV0aG4gUmVnaXN0cmF0aW9uIHJlc3BvbnNlLlwiKTtcbiAgICB9XG4gICAgLy8gR2V0IGNoYWxsZW5nZSBmcm9tIHJlcXVlc3QgY29va2llc1xuICAgIGNvbnN0IHsgY2hhbGxlbmdlOiBleHBlY3RlZENoYWxsZW5nZSwgcmVnaXN0ZXJEYXRhOiB1c2VyIH0gPSBhd2FpdCB3ZWJhdXRobkNoYWxsZW5nZS51c2Uob3B0aW9ucywgcmVxdWVzdC5jb29raWVzLCByZXNDb29raWVzKTtcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEF1dGhFcnJvcihcIk1pc3NpbmcgdXNlciByZWdpc3RyYXRpb24gZGF0YSBpbiBXZWJBdXRobiBjaGFsbGVuZ2UgY29va2llLlwiKTtcbiAgICB9XG4gICAgLy8gVmVyaWZ5IHRoZSByZXNwb25zZVxuICAgIGxldCB2ZXJpZmljYXRpb247XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVsYXlpbmdQYXJ0eSA9IHByb3ZpZGVyLmdldFJlbGF5aW5nUGFydHkob3B0aW9ucywgcmVxdWVzdCk7XG4gICAgICAgIHZlcmlmaWNhdGlvbiA9IGF3YWl0IHByb3ZpZGVyLnNpbXBsZVdlYkF1dGhuLnZlcmlmeVJlZ2lzdHJhdGlvblJlc3BvbnNlKHtcbiAgICAgICAgICAgIC4uLnByb3ZpZGVyLnZlcmlmeVJlZ2lzdHJhdGlvbk9wdGlvbnMsXG4gICAgICAgICAgICBleHBlY3RlZENoYWxsZW5nZSxcbiAgICAgICAgICAgIHJlc3BvbnNlOiBkYXRhLFxuICAgICAgICAgICAgZXhwZWN0ZWRPcmlnaW46IHJlbGF5aW5nUGFydHkub3JpZ2luLFxuICAgICAgICAgICAgZXhwZWN0ZWRSUElEOiByZWxheWluZ1BhcnR5LmlkLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFdlYkF1dGhuVmVyaWZpY2F0aW9uRXJyb3IoZSk7XG4gICAgfVxuICAgIC8vIE1ha2Ugc3VyZSB0aGUgcmVzcG9uc2Ugd2FzIHZlcmlmaWVkXG4gICAgaWYgKCF2ZXJpZmljYXRpb24udmVyaWZpZWQgfHwgIXZlcmlmaWNhdGlvbi5yZWdpc3RyYXRpb25JbmZvKSB7XG4gICAgICAgIHRocm93IG5ldyBXZWJBdXRoblZlcmlmaWNhdGlvbkVycm9yKFwiV2ViQXV0aG4gcmVnaXN0cmF0aW9uIHJlc3BvbnNlIGNvdWxkIG5vdCBiZSB2ZXJpZmllZC5cIik7XG4gICAgfVxuICAgIC8vIEJ1aWxkIGEgbmV3IGFjY291bnRcbiAgICBjb25zdCBhY2NvdW50ID0ge1xuICAgICAgICBwcm92aWRlckFjY291bnRJZDogdG9CYXNlNjQodmVyaWZpY2F0aW9uLnJlZ2lzdHJhdGlvbkluZm8uY3JlZGVudGlhbElEKSxcbiAgICAgICAgcHJvdmlkZXI6IG9wdGlvbnMucHJvdmlkZXIuaWQsXG4gICAgICAgIHR5cGU6IHByb3ZpZGVyLnR5cGUsXG4gICAgfTtcbiAgICAvLyBCdWlsZCBhIG5ldyBhdXRoZW50aWNhdG9yXG4gICAgY29uc3QgYXV0aGVudGljYXRvciA9IHtcbiAgICAgICAgcHJvdmlkZXJBY2NvdW50SWQ6IGFjY291bnQucHJvdmlkZXJBY2NvdW50SWQsXG4gICAgICAgIGNvdW50ZXI6IHZlcmlmaWNhdGlvbi5yZWdpc3RyYXRpb25JbmZvLmNvdW50ZXIsXG4gICAgICAgIGNyZWRlbnRpYWxJRDogdG9CYXNlNjQodmVyaWZpY2F0aW9uLnJlZ2lzdHJhdGlvbkluZm8uY3JlZGVudGlhbElEKSxcbiAgICAgICAgY3JlZGVudGlhbFB1YmxpY0tleTogdG9CYXNlNjQodmVyaWZpY2F0aW9uLnJlZ2lzdHJhdGlvbkluZm8uY3JlZGVudGlhbFB1YmxpY0tleSksXG4gICAgICAgIGNyZWRlbnRpYWxCYWNrZWRVcDogdmVyaWZpY2F0aW9uLnJlZ2lzdHJhdGlvbkluZm8uY3JlZGVudGlhbEJhY2tlZFVwLFxuICAgICAgICBjcmVkZW50aWFsRGV2aWNlVHlwZTogdmVyaWZpY2F0aW9uLnJlZ2lzdHJhdGlvbkluZm8uY3JlZGVudGlhbERldmljZVR5cGUsXG4gICAgICAgIHRyYW5zcG9ydHM6IHRyYW5zcG9ydHNUb1N0cmluZyhkYXRhLnJlc3BvbnNlXG4gICAgICAgICAgICAudHJhbnNwb3J0cyksXG4gICAgfTtcbiAgICAvLyBSZXR1cm4gY3JlYXRlZCBzdHVmZlxuICAgIHJldHVybiB7XG4gICAgICAgIHVzZXIsXG4gICAgICAgIGFjY291bnQsXG4gICAgICAgIGF1dGhlbnRpY2F0b3IsXG4gICAgfTtcbn1cbi8qKlxuICogR2VuZXJhdGVzIFdlYkF1dGhuIGF1dGhlbnRpY2F0aW9uIG9wdGlvbnMuXG4gKlxuICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgaW50ZXJuYWwgb3B0aW9ucyBmb3IgV2ViQXV0aG4uXG4gKiBAcGFyYW0gcmVxdWVzdCAtIFRoZSByZXF1ZXN0IG9iamVjdC5cbiAqIEBwYXJhbSB1c2VyIC0gT3B0aW9uYWwgdXNlciBpbmZvcm1hdGlvbi5cbiAqIEByZXR1cm5zIFRoZSBhdXRoZW50aWNhdGlvbiBvcHRpb25zLlxuICovXG5hc3luYyBmdW5jdGlvbiBnZXRBdXRoZW50aWNhdGlvbk9wdGlvbnMob3B0aW9ucywgcmVxdWVzdCwgdXNlcikge1xuICAgIGNvbnN0IHsgcHJvdmlkZXIsIGFkYXB0ZXIgfSA9IG9wdGlvbnM7XG4gICAgLy8gR2V0IHRoZSB1c2VyJ3MgYXV0aGVudGljYXRvcnMuXG4gICAgY29uc3QgYXV0aGVudGljYXRvcnMgPSB1c2VyICYmIHVzZXJbXCJpZFwiXVxuICAgICAgICA/IGF3YWl0IGFkYXB0ZXIubGlzdEF1dGhlbnRpY2F0b3JzQnlVc2VySWQodXNlci5pZClcbiAgICAgICAgOiBudWxsO1xuICAgIGNvbnN0IHJlbGF5aW5nUGFydHkgPSBwcm92aWRlci5nZXRSZWxheWluZ1BhcnR5KG9wdGlvbnMsIHJlcXVlc3QpO1xuICAgIC8vIFJldHVybiB0aGUgYXV0aGVudGljYXRpb24gb3B0aW9ucy5cbiAgICByZXR1cm4gYXdhaXQgcHJvdmlkZXIuc2ltcGxlV2ViQXV0aG4uZ2VuZXJhdGVBdXRoZW50aWNhdGlvbk9wdGlvbnMoe1xuICAgICAgICAuLi5wcm92aWRlci5hdXRoZW50aWNhdGlvbk9wdGlvbnMsXG4gICAgICAgIHJwSUQ6IHJlbGF5aW5nUGFydHkuaWQsXG4gICAgICAgIGFsbG93Q3JlZGVudGlhbHM6IGF1dGhlbnRpY2F0b3JzPy5tYXAoKGEpID0+ICh7XG4gICAgICAgICAgICBpZDogZnJvbUJhc2U2NChhLmNyZWRlbnRpYWxJRCksXG4gICAgICAgICAgICB0eXBlOiBcInB1YmxpYy1rZXlcIixcbiAgICAgICAgICAgIHRyYW5zcG9ydHM6IHN0cmluZ1RvVHJhbnNwb3J0cyhhLnRyYW5zcG9ydHMpLFxuICAgICAgICB9KSksXG4gICAgfSk7XG59XG4vKipcbiAqIEdlbmVyYXRlcyBXZWJBdXRobiByZWdpc3RyYXRpb24gb3B0aW9ucy5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBpbnRlcm5hbCBvcHRpb25zIGZvciBXZWJBdXRobi5cbiAqIEBwYXJhbSByZXF1ZXN0IC0gVGhlIHJlcXVlc3Qgb2JqZWN0LlxuICogQHBhcmFtIHVzZXIgLSBUaGUgdXNlciBpbmZvcm1hdGlvbi5cbiAqIEByZXR1cm5zIFRoZSByZWdpc3RyYXRpb24gb3B0aW9ucy5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0UmVnaXN0cmF0aW9uT3B0aW9ucyhvcHRpb25zLCByZXF1ZXN0LCB1c2VyKSB7XG4gICAgY29uc3QgeyBwcm92aWRlciwgYWRhcHRlciB9ID0gb3B0aW9ucztcbiAgICAvLyBHZXQgdGhlIHVzZXIncyBhdXRoZW50aWNhdG9ycy5cbiAgICBjb25zdCBhdXRoZW50aWNhdG9ycyA9IHVzZXJbXCJpZFwiXVxuICAgICAgICA/IGF3YWl0IGFkYXB0ZXIubGlzdEF1dGhlbnRpY2F0b3JzQnlVc2VySWQodXNlci5pZClcbiAgICAgICAgOiBudWxsO1xuICAgIC8vIEdlbmVyYXRlIGEgcmFuZG9tIHVzZXIgSUQgZm9yIHRoZSBjcmVkZW50aWFsLlxuICAgIC8vIFdlIGNhbiBkbyB0aGlzIGJlY2F1c2Ugd2UgZG9uJ3QgdXNlIHRoaXMgdXNlciBJRCB0byBsaW5rIHRoZVxuICAgIC8vIGNyZWRlbnRpYWwgdG8gdGhlIHVzZXIuIEluc3RlYWQsIHdlIHN0b3JlIGFjdHVhbCB1c2VySUQgaW4gdGhlXG4gICAgLy8gQXV0aGVudGljYXRvciBvYmplY3QgYW5kIGZldGNoIGl0IHZpYSBpdCdzIGNyZWRlbnRpYWwgSUQuXG4gICAgY29uc3QgdXNlcklEID0gcmFuZG9tU3RyaW5nKDMyKTtcbiAgICBjb25zdCByZWxheWluZ1BhcnR5ID0gcHJvdmlkZXIuZ2V0UmVsYXlpbmdQYXJ0eShvcHRpb25zLCByZXF1ZXN0KTtcbiAgICAvLyBSZXR1cm4gdGhlIHJlZ2lzdHJhdGlvbiBvcHRpb25zLlxuICAgIHJldHVybiBhd2FpdCBwcm92aWRlci5zaW1wbGVXZWJBdXRobi5nZW5lcmF0ZVJlZ2lzdHJhdGlvbk9wdGlvbnMoe1xuICAgICAgICAuLi5wcm92aWRlci5yZWdpc3RyYXRpb25PcHRpb25zLFxuICAgICAgICB1c2VySUQsXG4gICAgICAgIHVzZXJOYW1lOiB1c2VyLmVtYWlsLFxuICAgICAgICB1c2VyRGlzcGxheU5hbWU6IHVzZXIubmFtZSA/PyB1bmRlZmluZWQsXG4gICAgICAgIHJwSUQ6IHJlbGF5aW5nUGFydHkuaWQsXG4gICAgICAgIHJwTmFtZTogcmVsYXlpbmdQYXJ0eS5uYW1lLFxuICAgICAgICBleGNsdWRlQ3JlZGVudGlhbHM6IGF1dGhlbnRpY2F0b3JzPy5tYXAoKGEpID0+ICh7XG4gICAgICAgICAgICBpZDogZnJvbUJhc2U2NChhLmNyZWRlbnRpYWxJRCksXG4gICAgICAgICAgICB0eXBlOiBcInB1YmxpYy1rZXlcIixcbiAgICAgICAgICAgIHRyYW5zcG9ydHM6IHN0cmluZ1RvVHJhbnNwb3J0cyhhLnRyYW5zcG9ydHMpLFxuICAgICAgICB9KSksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0SW50ZXJuYWxPcHRpb25zV2ViQXV0aG4ob3B0aW9ucykge1xuICAgIGNvbnN0IHsgcHJvdmlkZXIsIGFkYXB0ZXIgfSA9IG9wdGlvbnM7XG4gICAgLy8gQWRhcHRlciBpcyByZXF1aXJlZCBmb3IgV2ViQXV0aG5cbiAgICBpZiAoIWFkYXB0ZXIpXG4gICAgICAgIHRocm93IG5ldyBNaXNzaW5nQWRhcHRlcihcIkFuIGFkYXB0ZXIgaXMgcmVxdWlyZWQgZm9yIHRoZSBXZWJBdXRobiBwcm92aWRlclwiKTtcbiAgICAvLyBQcm92aWRlciBtdXN0IGJlIFdlYkF1dGhuXG4gICAgaWYgKCFwcm92aWRlciB8fCBwcm92aWRlci50eXBlICE9PSBcIndlYmF1dGhuXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEludmFsaWRQcm92aWRlcihcIlByb3ZpZGVyIG11c3QgYmUgV2ViQXV0aG5cIik7XG4gICAgfVxuICAgIC8vIE5hcnJvdyB0aGUgb3B0aW9ucyB0eXBlIGZvciB0eXBlZCB1c2FnZSBsYXRlclxuICAgIHJldHVybiB7IC4uLm9wdGlvbnMsIHByb3ZpZGVyLCBhZGFwdGVyIH07XG59XG5mdW5jdGlvbiBmcm9tQWRhcHRlckF1dGhlbnRpY2F0b3IoYXV0aGVudGljYXRvcikge1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmF1dGhlbnRpY2F0b3IsXG4gICAgICAgIGNyZWRlbnRpYWxEZXZpY2VUeXBlOiBhdXRoZW50aWNhdG9yLmNyZWRlbnRpYWxEZXZpY2VUeXBlLFxuICAgICAgICB0cmFuc3BvcnRzOiBzdHJpbmdUb1RyYW5zcG9ydHMoYXV0aGVudGljYXRvci50cmFuc3BvcnRzKSxcbiAgICAgICAgY3JlZGVudGlhbElEOiBmcm9tQmFzZTY0KGF1dGhlbnRpY2F0b3IuY3JlZGVudGlhbElEKSxcbiAgICAgICAgY3JlZGVudGlhbFB1YmxpY0tleTogZnJvbUJhc2U2NChhdXRoZW50aWNhdG9yLmNyZWRlbnRpYWxQdWJsaWNLZXkpLFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gZnJvbUJhc2U2NChiYXNlNjQpIHtcbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoQnVmZmVyLmZyb20oYmFzZTY0LCBcImJhc2U2NFwiKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gdG9CYXNlNjQoYnl0ZXMpIHtcbiAgICByZXR1cm4gQnVmZmVyLmZyb20oYnl0ZXMpLnRvU3RyaW5nKFwiYmFzZTY0XCIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zcG9ydHNUb1N0cmluZyh0cmFuc3BvcnRzKSB7XG4gICAgcmV0dXJuIHRyYW5zcG9ydHM/LmpvaW4oXCIsXCIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ1RvVHJhbnNwb3J0cyh0c3RyaW5nKSB7XG4gICAgcmV0dXJuIHRzdHJpbmdcbiAgICAgICAgPyB0c3RyaW5nLnNwbGl0KFwiLFwiKVxuICAgICAgICA6IHVuZGVmaW5lZDtcbn1cbiJdLCJuYW1lcyI6WyJBZGFwdGVyRXJyb3IiLCJBdXRoRXJyb3IiLCJJbnZhbGlkUHJvdmlkZXIiLCJNaXNzaW5nQWRhcHRlciIsIldlYkF1dGhuVmVyaWZpY2F0aW9uRXJyb3IiLCJ3ZWJhdXRobkNoYWxsZW5nZSIsInJhbmRvbVN0cmluZyIsImluZmVyV2ViQXV0aG5PcHRpb25zIiwiYWN0aW9uIiwibG9nZ2VkSW4iLCJ1c2VySW5mb1Jlc3BvbnNlIiwidXNlciIsImV4aXN0cyIsInVuZGVmaW5lZCIsImdldFJlZ2lzdHJhdGlvblJlc3BvbnNlIiwib3B0aW9ucyIsInJlcXVlc3QiLCJyZXNDb29raWVzIiwicmVnT3B0aW9ucyIsImdldFJlZ2lzdHJhdGlvbk9wdGlvbnMiLCJjb29raWUiLCJjcmVhdGUiLCJjaGFsbGVuZ2UiLCJzdGF0dXMiLCJjb29raWVzIiwiYm9keSIsImhlYWRlcnMiLCJnZXRBdXRoZW50aWNhdGlvblJlc3BvbnNlIiwiYXV0aE9wdGlvbnMiLCJnZXRBdXRoZW50aWNhdGlvbk9wdGlvbnMiLCJ2ZXJpZnlBdXRoZW50aWNhdGUiLCJhZGFwdGVyIiwicHJvdmlkZXIiLCJkYXRhIiwiSlNPTiIsInBhcnNlIiwiaWQiLCJjcmVkZW50aWFsSUQiLCJ0b0Jhc2U2NCIsImZyb21CYXNlNjQiLCJhdXRoZW50aWNhdG9yIiwiZ2V0QXV0aGVudGljYXRvciIsInN0cmluZ2lmeSIsImV4cGVjdGVkQ2hhbGxlbmdlIiwidXNlIiwidmVyaWZpY2F0aW9uIiwicmVsYXlpbmdQYXJ0eSIsImdldFJlbGF5aW5nUGFydHkiLCJzaW1wbGVXZWJBdXRobiIsInZlcmlmeUF1dGhlbnRpY2F0aW9uUmVzcG9uc2UiLCJ2ZXJpZnlBdXRoZW50aWNhdGlvbk9wdGlvbnMiLCJyZXNwb25zZSIsImZyb21BZGFwdGVyQXV0aGVudGljYXRvciIsImV4cGVjdGVkT3JpZ2luIiwib3JpZ2luIiwiZXhwZWN0ZWRSUElEIiwiZSIsInZlcmlmaWVkIiwiYXV0aGVudGljYXRpb25JbmZvIiwibmV3Q291bnRlciIsInVwZGF0ZUF1dGhlbnRpY2F0b3JDb3VudGVyIiwib2xkQ291bnRlciIsImNvdW50ZXIiLCJhY2NvdW50IiwiZ2V0QWNjb3VudCIsInByb3ZpZGVyQWNjb3VudElkIiwiZ2V0VXNlciIsInVzZXJJZCIsInVzZXJJRCIsInZlcmlmeVJlZ2lzdGVyIiwicmVnaXN0ZXJEYXRhIiwidmVyaWZ5UmVnaXN0cmF0aW9uUmVzcG9uc2UiLCJ2ZXJpZnlSZWdpc3RyYXRpb25PcHRpb25zIiwicmVnaXN0cmF0aW9uSW5mbyIsInR5cGUiLCJjcmVkZW50aWFsUHVibGljS2V5IiwiY3JlZGVudGlhbEJhY2tlZFVwIiwiY3JlZGVudGlhbERldmljZVR5cGUiLCJ0cmFuc3BvcnRzIiwidHJhbnNwb3J0c1RvU3RyaW5nIiwiYXV0aGVudGljYXRvcnMiLCJsaXN0QXV0aGVudGljYXRvcnNCeVVzZXJJZCIsImdlbmVyYXRlQXV0aGVudGljYXRpb25PcHRpb25zIiwiYXV0aGVudGljYXRpb25PcHRpb25zIiwicnBJRCIsImFsbG93Q3JlZGVudGlhbHMiLCJtYXAiLCJhIiwic3RyaW5nVG9UcmFuc3BvcnRzIiwiZ2VuZXJhdGVSZWdpc3RyYXRpb25PcHRpb25zIiwicmVnaXN0cmF0aW9uT3B0aW9ucyIsInVzZXJOYW1lIiwiZW1haWwiLCJ1c2VyRGlzcGxheU5hbWUiLCJuYW1lIiwicnBOYW1lIiwiZXhjbHVkZUNyZWRlbnRpYWxzIiwiYXNzZXJ0SW50ZXJuYWxPcHRpb25zV2ViQXV0aG4iLCJiYXNlNjQiLCJVaW50OEFycmF5IiwiQnVmZmVyIiwiZnJvbSIsImJ5dGVzIiwidG9TdHJpbmciLCJqb2luIiwidHN0cmluZyIsInNwbGl0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/lib/utils/webauthn-utils.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/providers/credentials.js":
/*!**********************************************************!*\
  !*** ./node_modules/@auth/core/providers/credentials.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Credentials)\n/* harmony export */ });\n/**\n * The Credentials provider allows you to handle signing in with arbitrary credentials,\n * such as a username and password, domain, or two factor authentication or hardware device (e.g. YubiKey U2F / FIDO).\n *\n * It is intended to support use cases where you have an existing system you need to authenticate users against.\n *\n * It comes with the constraint that users authenticated in this manner are not persisted in the database,\n * and consequently that the Credentials provider can only be used if JSON Web Tokens are enabled for sessions.\n *\n * :::caution\n * The functionality provided for credentials-based authentication is intentionally limited to discourage the use of passwords due to the inherent security risks of the username-password model.\n *\n * OAuth providers spend significant amounts of money, time, and engineering effort to build:\n *\n * - abuse detection (bot-protection, rate-limiting)\n * - password management (password reset, credential stuffing, rotation)\n * - data security (encryption/salting, strength validation)\n *\n * and much more for authentication solutions. It is likely that your application would benefit from leveraging these battle-tested solutions rather than try to rebuild them from scratch.\n *\n * If you'd still like to build password-based authentication for your application despite these risks, Auth.js gives you full control to do so.\n *\n * :::\n *\n * See the [callbacks documentation](/reference/core#authconfig#callbacks) for more information on how to interact with the token. For example, you can add additional information to the token by returning an object from the `jwt()` callback:\n *\n * ```js\n * callbacks: {\n *   async jwt({ token, user, account, profile, isNewUser }) {\n *     if (user) {\n *       token.id = user.id\n *     }\n *     return token\n *   }\n * }\n * ```\n *\n * @example\n * ```js\n * import Auth from \"@auth/core\"\n * import Credentials from \"@auth/core/providers/credentials\"\n *\n * const request = new Request(\"https://example.com\")\n * const response = await AuthHandler(request, {\n *   providers: [\n *     Credentials({\n *       credentials: {\n *         username: { label: \"Username\" },\n *         password: {  label: \"Password\", type: \"password\" }\n *       },\n *       async authorize({ request }) {\n *         const response = await fetch(request)\n *         if(!response.ok) return null\n *         return await response.json() ?? null\n *       }\n *     })\n *   ],\n *   secret: \"...\",\n *   trustHost: true,\n * })\n * ```\n * @see [Username/Password Example](https://authjs.dev/guides/providers/credentials#example---username--password)\n * @see [Web3/Signin With Ethereum Example](https://authjs.dev/guides/providers/credentials#example---web3--signin-with-ethereum)\n */ function Credentials(config) {\n    return {\n        id: \"credentials\",\n        name: \"Credentials\",\n        type: \"credentials\",\n        credentials: {},\n        authorize: ()=>null,\n        // @ts-expect-error\n        options: config\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL3Byb3ZpZGVycy9jcmVkZW50aWFscy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQStEQyxHQUNjLFNBQVNBLFlBQVlDLE1BQU07SUFDdEMsT0FBTztRQUNIQyxJQUFJO1FBQ0pDLE1BQU07UUFDTkMsTUFBTTtRQUNOQyxhQUFhLENBQUM7UUFDZEMsV0FBVyxJQUFNO1FBQ2pCLG1CQUFtQjtRQUNuQkMsU0FBU047SUFDYjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC1yeC8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL3Byb3ZpZGVycy9jcmVkZW50aWFscy5qcz8yNmIzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGhlIENyZWRlbnRpYWxzIHByb3ZpZGVyIGFsbG93cyB5b3UgdG8gaGFuZGxlIHNpZ25pbmcgaW4gd2l0aCBhcmJpdHJhcnkgY3JlZGVudGlhbHMsXG4gKiBzdWNoIGFzIGEgdXNlcm5hbWUgYW5kIHBhc3N3b3JkLCBkb21haW4sIG9yIHR3byBmYWN0b3IgYXV0aGVudGljYXRpb24gb3IgaGFyZHdhcmUgZGV2aWNlIChlLmcuIFl1YmlLZXkgVTJGIC8gRklETykuXG4gKlxuICogSXQgaXMgaW50ZW5kZWQgdG8gc3VwcG9ydCB1c2UgY2FzZXMgd2hlcmUgeW91IGhhdmUgYW4gZXhpc3Rpbmcgc3lzdGVtIHlvdSBuZWVkIHRvIGF1dGhlbnRpY2F0ZSB1c2VycyBhZ2FpbnN0LlxuICpcbiAqIEl0IGNvbWVzIHdpdGggdGhlIGNvbnN0cmFpbnQgdGhhdCB1c2VycyBhdXRoZW50aWNhdGVkIGluIHRoaXMgbWFubmVyIGFyZSBub3QgcGVyc2lzdGVkIGluIHRoZSBkYXRhYmFzZSxcbiAqIGFuZCBjb25zZXF1ZW50bHkgdGhhdCB0aGUgQ3JlZGVudGlhbHMgcHJvdmlkZXIgY2FuIG9ubHkgYmUgdXNlZCBpZiBKU09OIFdlYiBUb2tlbnMgYXJlIGVuYWJsZWQgZm9yIHNlc3Npb25zLlxuICpcbiAqIDo6OmNhdXRpb25cbiAqIFRoZSBmdW5jdGlvbmFsaXR5IHByb3ZpZGVkIGZvciBjcmVkZW50aWFscy1iYXNlZCBhdXRoZW50aWNhdGlvbiBpcyBpbnRlbnRpb25hbGx5IGxpbWl0ZWQgdG8gZGlzY291cmFnZSB0aGUgdXNlIG9mIHBhc3N3b3JkcyBkdWUgdG8gdGhlIGluaGVyZW50IHNlY3VyaXR5IHJpc2tzIG9mIHRoZSB1c2VybmFtZS1wYXNzd29yZCBtb2RlbC5cbiAqXG4gKiBPQXV0aCBwcm92aWRlcnMgc3BlbmQgc2lnbmlmaWNhbnQgYW1vdW50cyBvZiBtb25leSwgdGltZSwgYW5kIGVuZ2luZWVyaW5nIGVmZm9ydCB0byBidWlsZDpcbiAqXG4gKiAtIGFidXNlIGRldGVjdGlvbiAoYm90LXByb3RlY3Rpb24sIHJhdGUtbGltaXRpbmcpXG4gKiAtIHBhc3N3b3JkIG1hbmFnZW1lbnQgKHBhc3N3b3JkIHJlc2V0LCBjcmVkZW50aWFsIHN0dWZmaW5nLCByb3RhdGlvbilcbiAqIC0gZGF0YSBzZWN1cml0eSAoZW5jcnlwdGlvbi9zYWx0aW5nLCBzdHJlbmd0aCB2YWxpZGF0aW9uKVxuICpcbiAqIGFuZCBtdWNoIG1vcmUgZm9yIGF1dGhlbnRpY2F0aW9uIHNvbHV0aW9ucy4gSXQgaXMgbGlrZWx5IHRoYXQgeW91ciBhcHBsaWNhdGlvbiB3b3VsZCBiZW5lZml0IGZyb20gbGV2ZXJhZ2luZyB0aGVzZSBiYXR0bGUtdGVzdGVkIHNvbHV0aW9ucyByYXRoZXIgdGhhbiB0cnkgdG8gcmVidWlsZCB0aGVtIGZyb20gc2NyYXRjaC5cbiAqXG4gKiBJZiB5b3UnZCBzdGlsbCBsaWtlIHRvIGJ1aWxkIHBhc3N3b3JkLWJhc2VkIGF1dGhlbnRpY2F0aW9uIGZvciB5b3VyIGFwcGxpY2F0aW9uIGRlc3BpdGUgdGhlc2Ugcmlza3MsIEF1dGguanMgZ2l2ZXMgeW91IGZ1bGwgY29udHJvbCB0byBkbyBzby5cbiAqXG4gKiA6OjpcbiAqXG4gKiBTZWUgdGhlIFtjYWxsYmFja3MgZG9jdW1lbnRhdGlvbl0oL3JlZmVyZW5jZS9jb3JlI2F1dGhjb25maWcjY2FsbGJhY2tzKSBmb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBob3cgdG8gaW50ZXJhY3Qgd2l0aCB0aGUgdG9rZW4uIEZvciBleGFtcGxlLCB5b3UgY2FuIGFkZCBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIHRvIHRoZSB0b2tlbiBieSByZXR1cm5pbmcgYW4gb2JqZWN0IGZyb20gdGhlIGBqd3QoKWAgY2FsbGJhY2s6XG4gKlxuICogYGBganNcbiAqIGNhbGxiYWNrczoge1xuICogICBhc3luYyBqd3QoeyB0b2tlbiwgdXNlciwgYWNjb3VudCwgcHJvZmlsZSwgaXNOZXdVc2VyIH0pIHtcbiAqICAgICBpZiAodXNlcikge1xuICogICAgICAgdG9rZW4uaWQgPSB1c2VyLmlkXG4gKiAgICAgfVxuICogICAgIHJldHVybiB0b2tlblxuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBganNcbiAqIGltcG9ydCBBdXRoIGZyb20gXCJAYXV0aC9jb3JlXCJcbiAqIGltcG9ydCBDcmVkZW50aWFscyBmcm9tIFwiQGF1dGgvY29yZS9wcm92aWRlcnMvY3JlZGVudGlhbHNcIlxuICpcbiAqIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdChcImh0dHBzOi8vZXhhbXBsZS5jb21cIilcbiAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgQXV0aEhhbmRsZXIocmVxdWVzdCwge1xuICogICBwcm92aWRlcnM6IFtcbiAqICAgICBDcmVkZW50aWFscyh7XG4gKiAgICAgICBjcmVkZW50aWFsczoge1xuICogICAgICAgICB1c2VybmFtZTogeyBsYWJlbDogXCJVc2VybmFtZVwiIH0sXG4gKiAgICAgICAgIHBhc3N3b3JkOiB7ICBsYWJlbDogXCJQYXNzd29yZFwiLCB0eXBlOiBcInBhc3N3b3JkXCIgfVxuICogICAgICAgfSxcbiAqICAgICAgIGFzeW5jIGF1dGhvcml6ZSh7IHJlcXVlc3QgfSkge1xuICogICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHJlcXVlc3QpXG4gKiAgICAgICAgIGlmKCFyZXNwb25zZS5vaykgcmV0dXJuIG51bGxcbiAqICAgICAgICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKSA/PyBudWxsXG4gKiAgICAgICB9XG4gKiAgICAgfSlcbiAqICAgXSxcbiAqICAgc2VjcmV0OiBcIi4uLlwiLFxuICogICB0cnVzdEhvc3Q6IHRydWUsXG4gKiB9KVxuICogYGBgXG4gKiBAc2VlIFtVc2VybmFtZS9QYXNzd29yZCBFeGFtcGxlXShodHRwczovL2F1dGhqcy5kZXYvZ3VpZGVzL3Byb3ZpZGVycy9jcmVkZW50aWFscyNleGFtcGxlLS0tdXNlcm5hbWUtLXBhc3N3b3JkKVxuICogQHNlZSBbV2ViMy9TaWduaW4gV2l0aCBFdGhlcmV1bSBFeGFtcGxlXShodHRwczovL2F1dGhqcy5kZXYvZ3VpZGVzL3Byb3ZpZGVycy9jcmVkZW50aWFscyNleGFtcGxlLS0td2ViMy0tc2lnbmluLXdpdGgtZXRoZXJldW0pXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENyZWRlbnRpYWxzKGNvbmZpZykge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBcImNyZWRlbnRpYWxzXCIsXG4gICAgICAgIG5hbWU6IFwiQ3JlZGVudGlhbHNcIixcbiAgICAgICAgdHlwZTogXCJjcmVkZW50aWFsc1wiLFxuICAgICAgICBjcmVkZW50aWFsczoge30sXG4gICAgICAgIGF1dGhvcml6ZTogKCkgPT4gbnVsbCxcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICBvcHRpb25zOiBjb25maWcsXG4gICAgfTtcbn1cbiJdLCJuYW1lcyI6WyJDcmVkZW50aWFscyIsImNvbmZpZyIsImlkIiwibmFtZSIsInR5cGUiLCJjcmVkZW50aWFscyIsImF1dGhvcml6ZSIsIm9wdGlvbnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/providers/credentials.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/providers/credentials.js":
/*!**********************************************************!*\
  !*** ./node_modules/@auth/core/providers/credentials.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Credentials)\n/* harmony export */ });\n/**\n * The Credentials provider allows you to handle signing in with arbitrary credentials,\n * such as a username and password, domain, or two factor authentication or hardware device (e.g. YubiKey U2F / FIDO).\n *\n * It is intended to support use cases where you have an existing system you need to authenticate users against.\n *\n * It comes with the constraint that users authenticated in this manner are not persisted in the database,\n * and consequently that the Credentials provider can only be used if JSON Web Tokens are enabled for sessions.\n *\n * :::caution\n * The functionality provided for credentials-based authentication is intentionally limited to discourage the use of passwords due to the inherent security risks of the username-password model.\n *\n * OAuth providers spend significant amounts of money, time, and engineering effort to build:\n *\n * - abuse detection (bot-protection, rate-limiting)\n * - password management (password reset, credential stuffing, rotation)\n * - data security (encryption/salting, strength validation)\n *\n * and much more for authentication solutions. It is likely that your application would benefit from leveraging these battle-tested solutions rather than try to rebuild them from scratch.\n *\n * If you'd still like to build password-based authentication for your application despite these risks, Auth.js gives you full control to do so.\n *\n * :::\n *\n * See the [callbacks documentation](/reference/core#authconfig#callbacks) for more information on how to interact with the token. For example, you can add additional information to the token by returning an object from the `jwt()` callback:\n *\n * ```js\n * callbacks: {\n *   async jwt({ token, user, account, profile, isNewUser }) {\n *     if (user) {\n *       token.id = user.id\n *     }\n *     return token\n *   }\n * }\n * ```\n *\n * @example\n * ```js\n * import Auth from \"@auth/core\"\n * import Credentials from \"@auth/core/providers/credentials\"\n *\n * const request = new Request(\"https://example.com\")\n * const response = await AuthHandler(request, {\n *   providers: [\n *     Credentials({\n *       credentials: {\n *         username: { label: \"Username\" },\n *         password: {  label: \"Password\", type: \"password\" }\n *       },\n *       async authorize({ request }) {\n *         const response = await fetch(request)\n *         if(!response.ok) return null\n *         return await response.json() ?? null\n *       }\n *     })\n *   ],\n *   secret: \"...\",\n *   trustHost: true,\n * })\n * ```\n * @see [Username/Password Example](https://authjs.dev/guides/providers/credentials#example---username--password)\n * @see [Web3/Signin With Ethereum Example](https://authjs.dev/guides/providers/credentials#example---web3--signin-with-ethereum)\n */ function Credentials(config) {\n    return {\n        id: \"credentials\",\n        name: \"Credentials\",\n        type: \"credentials\",\n        credentials: {},\n        authorize: ()=>null,\n        // @ts-expect-error\n        options: config\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9wcm92aWRlcnMvY3JlZGVudGlhbHMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0ErREMsR0FDYyxTQUFTQSxZQUFZQyxNQUFNO0lBQ3RDLE9BQU87UUFDSEMsSUFBSTtRQUNKQyxNQUFNO1FBQ05DLE1BQU07UUFDTkMsYUFBYSxDQUFDO1FBQ2RDLFdBQVcsSUFBTTtRQUNqQixtQkFBbUI7UUFDbkJDLFNBQVNOO0lBQ2I7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtcngvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9wcm92aWRlcnMvY3JlZGVudGlhbHMuanM/MjZiMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoZSBDcmVkZW50aWFscyBwcm92aWRlciBhbGxvd3MgeW91IHRvIGhhbmRsZSBzaWduaW5nIGluIHdpdGggYXJiaXRyYXJ5IGNyZWRlbnRpYWxzLFxuICogc3VjaCBhcyBhIHVzZXJuYW1lIGFuZCBwYXNzd29yZCwgZG9tYWluLCBvciB0d28gZmFjdG9yIGF1dGhlbnRpY2F0aW9uIG9yIGhhcmR3YXJlIGRldmljZSAoZS5nLiBZdWJpS2V5IFUyRiAvIEZJRE8pLlxuICpcbiAqIEl0IGlzIGludGVuZGVkIHRvIHN1cHBvcnQgdXNlIGNhc2VzIHdoZXJlIHlvdSBoYXZlIGFuIGV4aXN0aW5nIHN5c3RlbSB5b3UgbmVlZCB0byBhdXRoZW50aWNhdGUgdXNlcnMgYWdhaW5zdC5cbiAqXG4gKiBJdCBjb21lcyB3aXRoIHRoZSBjb25zdHJhaW50IHRoYXQgdXNlcnMgYXV0aGVudGljYXRlZCBpbiB0aGlzIG1hbm5lciBhcmUgbm90IHBlcnNpc3RlZCBpbiB0aGUgZGF0YWJhc2UsXG4gKiBhbmQgY29uc2VxdWVudGx5IHRoYXQgdGhlIENyZWRlbnRpYWxzIHByb3ZpZGVyIGNhbiBvbmx5IGJlIHVzZWQgaWYgSlNPTiBXZWIgVG9rZW5zIGFyZSBlbmFibGVkIGZvciBzZXNzaW9ucy5cbiAqXG4gKiA6OjpjYXV0aW9uXG4gKiBUaGUgZnVuY3Rpb25hbGl0eSBwcm92aWRlZCBmb3IgY3JlZGVudGlhbHMtYmFzZWQgYXV0aGVudGljYXRpb24gaXMgaW50ZW50aW9uYWxseSBsaW1pdGVkIHRvIGRpc2NvdXJhZ2UgdGhlIHVzZSBvZiBwYXNzd29yZHMgZHVlIHRvIHRoZSBpbmhlcmVudCBzZWN1cml0eSByaXNrcyBvZiB0aGUgdXNlcm5hbWUtcGFzc3dvcmQgbW9kZWwuXG4gKlxuICogT0F1dGggcHJvdmlkZXJzIHNwZW5kIHNpZ25pZmljYW50IGFtb3VudHMgb2YgbW9uZXksIHRpbWUsIGFuZCBlbmdpbmVlcmluZyBlZmZvcnQgdG8gYnVpbGQ6XG4gKlxuICogLSBhYnVzZSBkZXRlY3Rpb24gKGJvdC1wcm90ZWN0aW9uLCByYXRlLWxpbWl0aW5nKVxuICogLSBwYXNzd29yZCBtYW5hZ2VtZW50IChwYXNzd29yZCByZXNldCwgY3JlZGVudGlhbCBzdHVmZmluZywgcm90YXRpb24pXG4gKiAtIGRhdGEgc2VjdXJpdHkgKGVuY3J5cHRpb24vc2FsdGluZywgc3RyZW5ndGggdmFsaWRhdGlvbilcbiAqXG4gKiBhbmQgbXVjaCBtb3JlIGZvciBhdXRoZW50aWNhdGlvbiBzb2x1dGlvbnMuIEl0IGlzIGxpa2VseSB0aGF0IHlvdXIgYXBwbGljYXRpb24gd291bGQgYmVuZWZpdCBmcm9tIGxldmVyYWdpbmcgdGhlc2UgYmF0dGxlLXRlc3RlZCBzb2x1dGlvbnMgcmF0aGVyIHRoYW4gdHJ5IHRvIHJlYnVpbGQgdGhlbSBmcm9tIHNjcmF0Y2guXG4gKlxuICogSWYgeW91J2Qgc3RpbGwgbGlrZSB0byBidWlsZCBwYXNzd29yZC1iYXNlZCBhdXRoZW50aWNhdGlvbiBmb3IgeW91ciBhcHBsaWNhdGlvbiBkZXNwaXRlIHRoZXNlIHJpc2tzLCBBdXRoLmpzIGdpdmVzIHlvdSBmdWxsIGNvbnRyb2wgdG8gZG8gc28uXG4gKlxuICogOjo6XG4gKlxuICogU2VlIHRoZSBbY2FsbGJhY2tzIGRvY3VtZW50YXRpb25dKC9yZWZlcmVuY2UvY29yZSNhdXRoY29uZmlnI2NhbGxiYWNrcykgZm9yIG1vcmUgaW5mb3JtYXRpb24gb24gaG93IHRvIGludGVyYWN0IHdpdGggdGhlIHRva2VuLiBGb3IgZXhhbXBsZSwgeW91IGNhbiBhZGQgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiB0byB0aGUgdG9rZW4gYnkgcmV0dXJuaW5nIGFuIG9iamVjdCBmcm9tIHRoZSBgand0KClgIGNhbGxiYWNrOlxuICpcbiAqIGBgYGpzXG4gKiBjYWxsYmFja3M6IHtcbiAqICAgYXN5bmMgand0KHsgdG9rZW4sIHVzZXIsIGFjY291bnQsIHByb2ZpbGUsIGlzTmV3VXNlciB9KSB7XG4gKiAgICAgaWYgKHVzZXIpIHtcbiAqICAgICAgIHRva2VuLmlkID0gdXNlci5pZFxuICogICAgIH1cbiAqICAgICByZXR1cm4gdG9rZW5cbiAqICAgfVxuICogfVxuICogYGBgXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiBpbXBvcnQgQXV0aCBmcm9tIFwiQGF1dGgvY29yZVwiXG4gKiBpbXBvcnQgQ3JlZGVudGlhbHMgZnJvbSBcIkBhdXRoL2NvcmUvcHJvdmlkZXJzL2NyZWRlbnRpYWxzXCJcbiAqXG4gKiBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoXCJodHRwczovL2V4YW1wbGUuY29tXCIpXG4gKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IEF1dGhIYW5kbGVyKHJlcXVlc3QsIHtcbiAqICAgcHJvdmlkZXJzOiBbXG4gKiAgICAgQ3JlZGVudGlhbHMoe1xuICogICAgICAgY3JlZGVudGlhbHM6IHtcbiAqICAgICAgICAgdXNlcm5hbWU6IHsgbGFiZWw6IFwiVXNlcm5hbWVcIiB9LFxuICogICAgICAgICBwYXNzd29yZDogeyAgbGFiZWw6IFwiUGFzc3dvcmRcIiwgdHlwZTogXCJwYXNzd29yZFwiIH1cbiAqICAgICAgIH0sXG4gKiAgICAgICBhc3luYyBhdXRob3JpemUoeyByZXF1ZXN0IH0pIHtcbiAqICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChyZXF1ZXN0KVxuICogICAgICAgICBpZighcmVzcG9uc2Uub2spIHJldHVybiBudWxsXG4gKiAgICAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCkgPz8gbnVsbFxuICogICAgICAgfVxuICogICAgIH0pXG4gKiAgIF0sXG4gKiAgIHNlY3JldDogXCIuLi5cIixcbiAqICAgdHJ1c3RIb3N0OiB0cnVlLFxuICogfSlcbiAqIGBgYFxuICogQHNlZSBbVXNlcm5hbWUvUGFzc3dvcmQgRXhhbXBsZV0oaHR0cHM6Ly9hdXRoanMuZGV2L2d1aWRlcy9wcm92aWRlcnMvY3JlZGVudGlhbHMjZXhhbXBsZS0tLXVzZXJuYW1lLS1wYXNzd29yZClcbiAqIEBzZWUgW1dlYjMvU2lnbmluIFdpdGggRXRoZXJldW0gRXhhbXBsZV0oaHR0cHM6Ly9hdXRoanMuZGV2L2d1aWRlcy9wcm92aWRlcnMvY3JlZGVudGlhbHMjZXhhbXBsZS0tLXdlYjMtLXNpZ25pbi13aXRoLWV0aGVyZXVtKVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDcmVkZW50aWFscyhjb25maWcpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpZDogXCJjcmVkZW50aWFsc1wiLFxuICAgICAgICBuYW1lOiBcIkNyZWRlbnRpYWxzXCIsXG4gICAgICAgIHR5cGU6IFwiY3JlZGVudGlhbHNcIixcbiAgICAgICAgY3JlZGVudGlhbHM6IHt9LFxuICAgICAgICBhdXRob3JpemU6ICgpID0+IG51bGwsXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgb3B0aW9uczogY29uZmlnLFxuICAgIH07XG59XG4iXSwibmFtZXMiOlsiQ3JlZGVudGlhbHMiLCJjb25maWciLCJpZCIsIm5hbWUiLCJ0eXBlIiwiY3JlZGVudGlhbHMiLCJhdXRob3JpemUiLCJvcHRpb25zIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/providers/credentials.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/providers/facebook.js":
/*!*******************************************************!*\
  !*** ./node_modules/@auth/core/providers/facebook.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Facebook)\n/* harmony export */ });\n/**\n * Add Facebook login to your page.\n *\n * ### Setup\n *\n * #### Callback URL\n * ```\n * https://example.com/api/auth/callback/facebook\n * ```\n *\n * #### Configuration\n *```js\n * import Auth from \"@auth/core\"\n * import Facebook from \"@auth/core/providers/facebook\"\n *\n * const request = new Request(origin)\n * const response = await Auth(request, {\n *   providers: [Facebook({ clientId: FACEBOOK_CLIENT_ID, clientSecret: FACEBOOK_CLIENT_SECRET })],\n * })\n * ```\n *\n * ### Resources\n *\n *  - [Facebook OAuth documentation](https://developers.facebook.com/docs/facebook-login/manually-build-a-login-flow/)\n *\n * ### Notes\n *\n * :::tip\n * Production applications cannot use localhost URLs to sign in with Facebook. You need to use a dedicated development application in Facebook to use localhost callback URLs.\n * :::\n *\n * :::tip\n * Email address may not be returned for accounts created on mobile.\n * :::\n *\n * By default, Auth.js assumes that the Facebook provider is\n * based on the [OAuth 2](https://www.rfc-editor.org/rfc/rfc6749.html) specification.\n *\n * :::tip\n *\n * The Facebook provider comes with a [default configuration](https://github.com/nextauthjs/next-auth/blob/main/packages/core/src/providers/facebook.ts).\n * To override the defaults for your use case, check out [customizing a built-in OAuth provider](https://authjs.dev/guides/providers/custom-provider#override-default-options).\n *\n * :::\n *\n * :::info **Disclaimer**\n *\n * If you think you found a bug in the default configuration, you can [open an issue](https://authjs.dev/new/provider-issue).\n *\n * Auth.js strictly adheres to the specification and it cannot take responsibility for any deviation from\n * the spec by the provider. You can open an issue, but if the problem is non-compliance with the spec,\n * we might not pursue a resolution. You can ask for more help in [Discussions](https://authjs.dev/new/github-discussions).\n *\n * :::\n */ function Facebook(options) {\n    return {\n        id: \"facebook\",\n        name: \"Facebook\",\n        type: \"oauth\",\n        authorization: {\n            url: \"https://www.facebook.com/v15.0/dialog/oauth\",\n            params: {\n                scope: \"email\"\n            }\n        },\n        token: \"https://graph.facebook.com/oauth/access_token\",\n        userinfo: {\n            // https://developers.facebook.com/docs/graph-api/reference/user/#fields\n            url: \"https://graph.facebook.com/me?fields=id,name,email,picture\",\n            async request ({ tokens, provider }) {\n                return await fetch(provider.userinfo?.url, {\n                    headers: {\n                        Authorization: `Bearer ${tokens.access_token}`\n                    }\n                }).then(async (res)=>await res.json());\n            }\n        },\n        profile (profile) {\n            return {\n                id: profile.id,\n                name: profile.name,\n                email: profile.email,\n                image: profile.picture.data.url\n            };\n        },\n        style: {\n            logo: \"/facebook.svg\",\n            bg: \"#006aff\",\n            text: \"#fff\"\n        },\n        options\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL3Byb3ZpZGVycy9mYWNlYm9vay5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQXNEQyxHQUNjLFNBQVNBLFNBQVNDLE9BQU87SUFDcEMsT0FBTztRQUNIQyxJQUFJO1FBQ0pDLE1BQU07UUFDTkMsTUFBTTtRQUNOQyxlQUFlO1lBQ1hDLEtBQUs7WUFDTEMsUUFBUTtnQkFDSkMsT0FBTztZQUNYO1FBQ0o7UUFDQUMsT0FBTztRQUNQQyxVQUFVO1lBQ04sd0VBQXdFO1lBQ3hFSixLQUFLO1lBQ0wsTUFBTUssU0FBUSxFQUFFQyxNQUFNLEVBQUVDLFFBQVEsRUFBRTtnQkFDOUIsT0FBTyxNQUFNQyxNQUFNRCxTQUFTSCxRQUFRLEVBQUVKLEtBQUs7b0JBQ3ZDUyxTQUFTO3dCQUFFQyxlQUFlLENBQUMsT0FBTyxFQUFFSixPQUFPSyxZQUFZLENBQUMsQ0FBQztvQkFBQztnQkFDOUQsR0FBR0MsSUFBSSxDQUFDLE9BQU9DLE1BQVEsTUFBTUEsSUFBSUMsSUFBSTtZQUN6QztRQUNKO1FBQ0FDLFNBQVFBLE9BQU87WUFDWCxPQUFPO2dCQUNIbkIsSUFBSW1CLFFBQVFuQixFQUFFO2dCQUNkQyxNQUFNa0IsUUFBUWxCLElBQUk7Z0JBQ2xCbUIsT0FBT0QsUUFBUUMsS0FBSztnQkFDcEJDLE9BQU9GLFFBQVFHLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDbkIsR0FBRztZQUNuQztRQUNKO1FBQ0FvQixPQUFPO1lBQUVDLE1BQU07WUFBaUJDLElBQUk7WUFBV0MsTUFBTTtRQUFPO1FBQzVENUI7SUFDSjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC1yeC8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL3Byb3ZpZGVycy9mYWNlYm9vay5qcz8zZjA4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQWRkIEZhY2Vib29rIGxvZ2luIHRvIHlvdXIgcGFnZS5cbiAqXG4gKiAjIyMgU2V0dXBcbiAqXG4gKiAjIyMjIENhbGxiYWNrIFVSTFxuICogYGBgXG4gKiBodHRwczovL2V4YW1wbGUuY29tL2FwaS9hdXRoL2NhbGxiYWNrL2ZhY2Vib29rXG4gKiBgYGBcbiAqXG4gKiAjIyMjIENvbmZpZ3VyYXRpb25cbiAqYGBganNcbiAqIGltcG9ydCBBdXRoIGZyb20gXCJAYXV0aC9jb3JlXCJcbiAqIGltcG9ydCBGYWNlYm9vayBmcm9tIFwiQGF1dGgvY29yZS9wcm92aWRlcnMvZmFjZWJvb2tcIlxuICpcbiAqIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdChvcmlnaW4pXG4gKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IEF1dGgocmVxdWVzdCwge1xuICogICBwcm92aWRlcnM6IFtGYWNlYm9vayh7IGNsaWVudElkOiBGQUNFQk9PS19DTElFTlRfSUQsIGNsaWVudFNlY3JldDogRkFDRUJPT0tfQ0xJRU5UX1NFQ1JFVCB9KV0sXG4gKiB9KVxuICogYGBgXG4gKlxuICogIyMjIFJlc291cmNlc1xuICpcbiAqICAtIFtGYWNlYm9vayBPQXV0aCBkb2N1bWVudGF0aW9uXShodHRwczovL2RldmVsb3BlcnMuZmFjZWJvb2suY29tL2RvY3MvZmFjZWJvb2stbG9naW4vbWFudWFsbHktYnVpbGQtYS1sb2dpbi1mbG93LylcbiAqXG4gKiAjIyMgTm90ZXNcbiAqXG4gKiA6Ojp0aXBcbiAqIFByb2R1Y3Rpb24gYXBwbGljYXRpb25zIGNhbm5vdCB1c2UgbG9jYWxob3N0IFVSTHMgdG8gc2lnbiBpbiB3aXRoIEZhY2Vib29rLiBZb3UgbmVlZCB0byB1c2UgYSBkZWRpY2F0ZWQgZGV2ZWxvcG1lbnQgYXBwbGljYXRpb24gaW4gRmFjZWJvb2sgdG8gdXNlIGxvY2FsaG9zdCBjYWxsYmFjayBVUkxzLlxuICogOjo6XG4gKlxuICogOjo6dGlwXG4gKiBFbWFpbCBhZGRyZXNzIG1heSBub3QgYmUgcmV0dXJuZWQgZm9yIGFjY291bnRzIGNyZWF0ZWQgb24gbW9iaWxlLlxuICogOjo6XG4gKlxuICogQnkgZGVmYXVsdCwgQXV0aC5qcyBhc3N1bWVzIHRoYXQgdGhlIEZhY2Vib29rIHByb3ZpZGVyIGlzXG4gKiBiYXNlZCBvbiB0aGUgW09BdXRoIDJdKGh0dHBzOi8vd3d3LnJmYy1lZGl0b3Iub3JnL3JmYy9yZmM2NzQ5Lmh0bWwpIHNwZWNpZmljYXRpb24uXG4gKlxuICogOjo6dGlwXG4gKlxuICogVGhlIEZhY2Vib29rIHByb3ZpZGVyIGNvbWVzIHdpdGggYSBbZGVmYXVsdCBjb25maWd1cmF0aW9uXShodHRwczovL2dpdGh1Yi5jb20vbmV4dGF1dGhqcy9uZXh0LWF1dGgvYmxvYi9tYWluL3BhY2thZ2VzL2NvcmUvc3JjL3Byb3ZpZGVycy9mYWNlYm9vay50cykuXG4gKiBUbyBvdmVycmlkZSB0aGUgZGVmYXVsdHMgZm9yIHlvdXIgdXNlIGNhc2UsIGNoZWNrIG91dCBbY3VzdG9taXppbmcgYSBidWlsdC1pbiBPQXV0aCBwcm92aWRlcl0oaHR0cHM6Ly9hdXRoanMuZGV2L2d1aWRlcy9wcm92aWRlcnMvY3VzdG9tLXByb3ZpZGVyI292ZXJyaWRlLWRlZmF1bHQtb3B0aW9ucykuXG4gKlxuICogOjo6XG4gKlxuICogOjo6aW5mbyAqKkRpc2NsYWltZXIqKlxuICpcbiAqIElmIHlvdSB0aGluayB5b3UgZm91bmQgYSBidWcgaW4gdGhlIGRlZmF1bHQgY29uZmlndXJhdGlvbiwgeW91IGNhbiBbb3BlbiBhbiBpc3N1ZV0oaHR0cHM6Ly9hdXRoanMuZGV2L25ldy9wcm92aWRlci1pc3N1ZSkuXG4gKlxuICogQXV0aC5qcyBzdHJpY3RseSBhZGhlcmVzIHRvIHRoZSBzcGVjaWZpY2F0aW9uIGFuZCBpdCBjYW5ub3QgdGFrZSByZXNwb25zaWJpbGl0eSBmb3IgYW55IGRldmlhdGlvbiBmcm9tXG4gKiB0aGUgc3BlYyBieSB0aGUgcHJvdmlkZXIuIFlvdSBjYW4gb3BlbiBhbiBpc3N1ZSwgYnV0IGlmIHRoZSBwcm9ibGVtIGlzIG5vbi1jb21wbGlhbmNlIHdpdGggdGhlIHNwZWMsXG4gKiB3ZSBtaWdodCBub3QgcHVyc3VlIGEgcmVzb2x1dGlvbi4gWW91IGNhbiBhc2sgZm9yIG1vcmUgaGVscCBpbiBbRGlzY3Vzc2lvbnNdKGh0dHBzOi8vYXV0aGpzLmRldi9uZXcvZ2l0aHViLWRpc2N1c3Npb25zKS5cbiAqXG4gKiA6OjpcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRmFjZWJvb2sob3B0aW9ucykge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBcImZhY2Vib29rXCIsXG4gICAgICAgIG5hbWU6IFwiRmFjZWJvb2tcIixcbiAgICAgICAgdHlwZTogXCJvYXV0aFwiLFxuICAgICAgICBhdXRob3JpemF0aW9uOiB7XG4gICAgICAgICAgICB1cmw6IFwiaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3YxNS4wL2RpYWxvZy9vYXV0aFwiLFxuICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgc2NvcGU6ICdlbWFpbCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICB0b2tlbjogXCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9vYXV0aC9hY2Nlc3NfdG9rZW5cIixcbiAgICAgICAgdXNlcmluZm86IHtcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVycy5mYWNlYm9vay5jb20vZG9jcy9ncmFwaC1hcGkvcmVmZXJlbmNlL3VzZXIvI2ZpZWxkc1xuICAgICAgICAgICAgdXJsOiBcImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2ZpZWxkcz1pZCxuYW1lLGVtYWlsLHBpY3R1cmVcIixcbiAgICAgICAgICAgIGFzeW5jIHJlcXVlc3QoeyB0b2tlbnMsIHByb3ZpZGVyIH0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgZmV0Y2gocHJvdmlkZXIudXNlcmluZm8/LnVybCwge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7IEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbnMuYWNjZXNzX3Rva2VufWAgfSxcbiAgICAgICAgICAgICAgICB9KS50aGVuKGFzeW5jIChyZXMpID0+IGF3YWl0IHJlcy5qc29uKCkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgcHJvZmlsZShwcm9maWxlKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGlkOiBwcm9maWxlLmlkLFxuICAgICAgICAgICAgICAgIG5hbWU6IHByb2ZpbGUubmFtZSxcbiAgICAgICAgICAgICAgICBlbWFpbDogcHJvZmlsZS5lbWFpbCxcbiAgICAgICAgICAgICAgICBpbWFnZTogcHJvZmlsZS5waWN0dXJlLmRhdGEudXJsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgc3R5bGU6IHsgbG9nbzogXCIvZmFjZWJvb2suc3ZnXCIsIGJnOiBcIiMwMDZhZmZcIiwgdGV4dDogXCIjZmZmXCIgfSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICB9O1xufVxuIl0sIm5hbWVzIjpbIkZhY2Vib29rIiwib3B0aW9ucyIsImlkIiwibmFtZSIsInR5cGUiLCJhdXRob3JpemF0aW9uIiwidXJsIiwicGFyYW1zIiwic2NvcGUiLCJ0b2tlbiIsInVzZXJpbmZvIiwicmVxdWVzdCIsInRva2VucyIsInByb3ZpZGVyIiwiZmV0Y2giLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsImFjY2Vzc190b2tlbiIsInRoZW4iLCJyZXMiLCJqc29uIiwicHJvZmlsZSIsImVtYWlsIiwiaW1hZ2UiLCJwaWN0dXJlIiwiZGF0YSIsInN0eWxlIiwibG9nbyIsImJnIiwidGV4dCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/providers/facebook.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/providers/facebook.js":
/*!*******************************************************!*\
  !*** ./node_modules/@auth/core/providers/facebook.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Facebook)\n/* harmony export */ });\n/**\n * Add Facebook login to your page.\n *\n * ### Setup\n *\n * #### Callback URL\n * ```\n * https://example.com/api/auth/callback/facebook\n * ```\n *\n * #### Configuration\n *```js\n * import Auth from \"@auth/core\"\n * import Facebook from \"@auth/core/providers/facebook\"\n *\n * const request = new Request(origin)\n * const response = await Auth(request, {\n *   providers: [Facebook({ clientId: FACEBOOK_CLIENT_ID, clientSecret: FACEBOOK_CLIENT_SECRET })],\n * })\n * ```\n *\n * ### Resources\n *\n *  - [Facebook OAuth documentation](https://developers.facebook.com/docs/facebook-login/manually-build-a-login-flow/)\n *\n * ### Notes\n *\n * :::tip\n * Production applications cannot use localhost URLs to sign in with Facebook. You need to use a dedicated development application in Facebook to use localhost callback URLs.\n * :::\n *\n * :::tip\n * Email address may not be returned for accounts created on mobile.\n * :::\n *\n * By default, Auth.js assumes that the Facebook provider is\n * based on the [OAuth 2](https://www.rfc-editor.org/rfc/rfc6749.html) specification.\n *\n * :::tip\n *\n * The Facebook provider comes with a [default configuration](https://github.com/nextauthjs/next-auth/blob/main/packages/core/src/providers/facebook.ts).\n * To override the defaults for your use case, check out [customizing a built-in OAuth provider](https://authjs.dev/guides/providers/custom-provider#override-default-options).\n *\n * :::\n *\n * :::info **Disclaimer**\n *\n * If you think you found a bug in the default configuration, you can [open an issue](https://authjs.dev/new/provider-issue).\n *\n * Auth.js strictly adheres to the specification and it cannot take responsibility for any deviation from\n * the spec by the provider. You can open an issue, but if the problem is non-compliance with the spec,\n * we might not pursue a resolution. You can ask for more help in [Discussions](https://authjs.dev/new/github-discussions).\n *\n * :::\n */ function Facebook(options) {\n    return {\n        id: \"facebook\",\n        name: \"Facebook\",\n        type: \"oauth\",\n        authorization: {\n            url: \"https://www.facebook.com/v15.0/dialog/oauth\",\n            params: {\n                scope: \"email\"\n            }\n        },\n        token: \"https://graph.facebook.com/oauth/access_token\",\n        userinfo: {\n            // https://developers.facebook.com/docs/graph-api/reference/user/#fields\n            url: \"https://graph.facebook.com/me?fields=id,name,email,picture\",\n            async request ({ tokens, provider }) {\n                return await fetch(provider.userinfo?.url, {\n                    headers: {\n                        Authorization: `Bearer ${tokens.access_token}`\n                    }\n                }).then(async (res)=>await res.json());\n            }\n        },\n        profile (profile) {\n            return {\n                id: profile.id,\n                name: profile.name,\n                email: profile.email,\n                image: profile.picture.data.url\n            };\n        },\n        style: {\n            logo: \"/facebook.svg\",\n            bg: \"#006aff\",\n            text: \"#fff\"\n        },\n        options\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9wcm92aWRlcnMvZmFjZWJvb2suanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0FzREMsR0FDYyxTQUFTQSxTQUFTQyxPQUFPO0lBQ3BDLE9BQU87UUFDSEMsSUFBSTtRQUNKQyxNQUFNO1FBQ05DLE1BQU07UUFDTkMsZUFBZTtZQUNYQyxLQUFLO1lBQ0xDLFFBQVE7Z0JBQ0pDLE9BQU87WUFDWDtRQUNKO1FBQ0FDLE9BQU87UUFDUEMsVUFBVTtZQUNOLHdFQUF3RTtZQUN4RUosS0FBSztZQUNMLE1BQU1LLFNBQVEsRUFBRUMsTUFBTSxFQUFFQyxRQUFRLEVBQUU7Z0JBQzlCLE9BQU8sTUFBTUMsTUFBTUQsU0FBU0gsUUFBUSxFQUFFSixLQUFLO29CQUN2Q1MsU0FBUzt3QkFBRUMsZUFBZSxDQUFDLE9BQU8sRUFBRUosT0FBT0ssWUFBWSxDQUFDLENBQUM7b0JBQUM7Z0JBQzlELEdBQUdDLElBQUksQ0FBQyxPQUFPQyxNQUFRLE1BQU1BLElBQUlDLElBQUk7WUFDekM7UUFDSjtRQUNBQyxTQUFRQSxPQUFPO1lBQ1gsT0FBTztnQkFDSG5CLElBQUltQixRQUFRbkIsRUFBRTtnQkFDZEMsTUFBTWtCLFFBQVFsQixJQUFJO2dCQUNsQm1CLE9BQU9ELFFBQVFDLEtBQUs7Z0JBQ3BCQyxPQUFPRixRQUFRRyxPQUFPLENBQUNDLElBQUksQ0FBQ25CLEdBQUc7WUFDbkM7UUFDSjtRQUNBb0IsT0FBTztZQUFFQyxNQUFNO1lBQWlCQyxJQUFJO1lBQVdDLE1BQU07UUFBTztRQUM1RDVCO0lBQ0o7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtcngvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9wcm92aWRlcnMvZmFjZWJvb2suanM/M2YwOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEFkZCBGYWNlYm9vayBsb2dpbiB0byB5b3VyIHBhZ2UuXG4gKlxuICogIyMjIFNldHVwXG4gKlxuICogIyMjIyBDYWxsYmFjayBVUkxcbiAqIGBgYFxuICogaHR0cHM6Ly9leGFtcGxlLmNvbS9hcGkvYXV0aC9jYWxsYmFjay9mYWNlYm9va1xuICogYGBgXG4gKlxuICogIyMjIyBDb25maWd1cmF0aW9uXG4gKmBgYGpzXG4gKiBpbXBvcnQgQXV0aCBmcm9tIFwiQGF1dGgvY29yZVwiXG4gKiBpbXBvcnQgRmFjZWJvb2sgZnJvbSBcIkBhdXRoL2NvcmUvcHJvdmlkZXJzL2ZhY2Vib29rXCJcbiAqXG4gKiBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3Qob3JpZ2luKVxuICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBBdXRoKHJlcXVlc3QsIHtcbiAqICAgcHJvdmlkZXJzOiBbRmFjZWJvb2soeyBjbGllbnRJZDogRkFDRUJPT0tfQ0xJRU5UX0lELCBjbGllbnRTZWNyZXQ6IEZBQ0VCT09LX0NMSUVOVF9TRUNSRVQgfSldLFxuICogfSlcbiAqIGBgYFxuICpcbiAqICMjIyBSZXNvdXJjZXNcbiAqXG4gKiAgLSBbRmFjZWJvb2sgT0F1dGggZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9kZXZlbG9wZXJzLmZhY2Vib29rLmNvbS9kb2NzL2ZhY2Vib29rLWxvZ2luL21hbnVhbGx5LWJ1aWxkLWEtbG9naW4tZmxvdy8pXG4gKlxuICogIyMjIE5vdGVzXG4gKlxuICogOjo6dGlwXG4gKiBQcm9kdWN0aW9uIGFwcGxpY2F0aW9ucyBjYW5ub3QgdXNlIGxvY2FsaG9zdCBVUkxzIHRvIHNpZ24gaW4gd2l0aCBGYWNlYm9vay4gWW91IG5lZWQgdG8gdXNlIGEgZGVkaWNhdGVkIGRldmVsb3BtZW50IGFwcGxpY2F0aW9uIGluIEZhY2Vib29rIHRvIHVzZSBsb2NhbGhvc3QgY2FsbGJhY2sgVVJMcy5cbiAqIDo6OlxuICpcbiAqIDo6OnRpcFxuICogRW1haWwgYWRkcmVzcyBtYXkgbm90IGJlIHJldHVybmVkIGZvciBhY2NvdW50cyBjcmVhdGVkIG9uIG1vYmlsZS5cbiAqIDo6OlxuICpcbiAqIEJ5IGRlZmF1bHQsIEF1dGguanMgYXNzdW1lcyB0aGF0IHRoZSBGYWNlYm9vayBwcm92aWRlciBpc1xuICogYmFzZWQgb24gdGhlIFtPQXV0aCAyXShodHRwczovL3d3dy5yZmMtZWRpdG9yLm9yZy9yZmMvcmZjNjc0OS5odG1sKSBzcGVjaWZpY2F0aW9uLlxuICpcbiAqIDo6OnRpcFxuICpcbiAqIFRoZSBGYWNlYm9vayBwcm92aWRlciBjb21lcyB3aXRoIGEgW2RlZmF1bHQgY29uZmlndXJhdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL25leHRhdXRoanMvbmV4dC1hdXRoL2Jsb2IvbWFpbi9wYWNrYWdlcy9jb3JlL3NyYy9wcm92aWRlcnMvZmFjZWJvb2sudHMpLlxuICogVG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHRzIGZvciB5b3VyIHVzZSBjYXNlLCBjaGVjayBvdXQgW2N1c3RvbWl6aW5nIGEgYnVpbHQtaW4gT0F1dGggcHJvdmlkZXJdKGh0dHBzOi8vYXV0aGpzLmRldi9ndWlkZXMvcHJvdmlkZXJzL2N1c3RvbS1wcm92aWRlciNvdmVycmlkZS1kZWZhdWx0LW9wdGlvbnMpLlxuICpcbiAqIDo6OlxuICpcbiAqIDo6OmluZm8gKipEaXNjbGFpbWVyKipcbiAqXG4gKiBJZiB5b3UgdGhpbmsgeW91IGZvdW5kIGEgYnVnIGluIHRoZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24sIHlvdSBjYW4gW29wZW4gYW4gaXNzdWVdKGh0dHBzOi8vYXV0aGpzLmRldi9uZXcvcHJvdmlkZXItaXNzdWUpLlxuICpcbiAqIEF1dGguanMgc3RyaWN0bHkgYWRoZXJlcyB0byB0aGUgc3BlY2lmaWNhdGlvbiBhbmQgaXQgY2Fubm90IHRha2UgcmVzcG9uc2liaWxpdHkgZm9yIGFueSBkZXZpYXRpb24gZnJvbVxuICogdGhlIHNwZWMgYnkgdGhlIHByb3ZpZGVyLiBZb3UgY2FuIG9wZW4gYW4gaXNzdWUsIGJ1dCBpZiB0aGUgcHJvYmxlbSBpcyBub24tY29tcGxpYW5jZSB3aXRoIHRoZSBzcGVjLFxuICogd2UgbWlnaHQgbm90IHB1cnN1ZSBhIHJlc29sdXRpb24uIFlvdSBjYW4gYXNrIGZvciBtb3JlIGhlbHAgaW4gW0Rpc2N1c3Npb25zXShodHRwczovL2F1dGhqcy5kZXYvbmV3L2dpdGh1Yi1kaXNjdXNzaW9ucykuXG4gKlxuICogOjo6XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEZhY2Vib29rKG9wdGlvbnMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpZDogXCJmYWNlYm9va1wiLFxuICAgICAgICBuYW1lOiBcIkZhY2Vib29rXCIsXG4gICAgICAgIHR5cGU6IFwib2F1dGhcIixcbiAgICAgICAgYXV0aG9yaXphdGlvbjoge1xuICAgICAgICAgICAgdXJsOiBcImh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS92MTUuMC9kaWFsb2cvb2F1dGhcIixcbiAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgIHNjb3BlOiAnZW1haWwnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgdG9rZW46IFwiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vb2F1dGgvYWNjZXNzX3Rva2VuXCIsXG4gICAgICAgIHVzZXJpbmZvOiB7XG4gICAgICAgICAgICAvLyBodHRwczovL2RldmVsb3BlcnMuZmFjZWJvb2suY29tL2RvY3MvZ3JhcGgtYXBpL3JlZmVyZW5jZS91c2VyLyNmaWVsZHNcbiAgICAgICAgICAgIHVybDogXCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZT9maWVsZHM9aWQsbmFtZSxlbWFpbCxwaWN0dXJlXCIsXG4gICAgICAgICAgICBhc3luYyByZXF1ZXN0KHsgdG9rZW5zLCBwcm92aWRlciB9KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGZldGNoKHByb3ZpZGVyLnVzZXJpbmZvPy51cmwsIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW5zLmFjY2Vzc190b2tlbn1gIH0sXG4gICAgICAgICAgICAgICAgfSkudGhlbihhc3luYyAocmVzKSA9PiBhd2FpdCByZXMuanNvbigpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHByb2ZpbGUocHJvZmlsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpZDogcHJvZmlsZS5pZCxcbiAgICAgICAgICAgICAgICBuYW1lOiBwcm9maWxlLm5hbWUsXG4gICAgICAgICAgICAgICAgZW1haWw6IHByb2ZpbGUuZW1haWwsXG4gICAgICAgICAgICAgICAgaW1hZ2U6IHByb2ZpbGUucGljdHVyZS5kYXRhLnVybCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIHN0eWxlOiB7IGxvZ286IFwiL2ZhY2Vib29rLnN2Z1wiLCBiZzogXCIjMDA2YWZmXCIsIHRleHQ6IFwiI2ZmZlwiIH0sXG4gICAgICAgIG9wdGlvbnMsXG4gICAgfTtcbn1cbiJdLCJuYW1lcyI6WyJGYWNlYm9vayIsIm9wdGlvbnMiLCJpZCIsIm5hbWUiLCJ0eXBlIiwiYXV0aG9yaXphdGlvbiIsInVybCIsInBhcmFtcyIsInNjb3BlIiwidG9rZW4iLCJ1c2VyaW5mbyIsInJlcXVlc3QiLCJ0b2tlbnMiLCJwcm92aWRlciIsImZldGNoIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJhY2Nlc3NfdG9rZW4iLCJ0aGVuIiwicmVzIiwianNvbiIsInByb2ZpbGUiLCJlbWFpbCIsImltYWdlIiwicGljdHVyZSIsImRhdGEiLCJzdHlsZSIsImxvZ28iLCJiZyIsInRleHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/providers/facebook.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/core/providers/google.js":
/*!*****************************************************!*\
  !*** ./node_modules/@auth/core/providers/google.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Google)\n/* harmony export */ });\n/**\n * Add Google login to your page.\n *\n * ### Setup\n *\n * #### Callback URL\n * ```\n * https://example.com/api/auth/callback/google\n * ```\n *\n * #### Configuration\n *```js\n * import Auth from \"@auth/core\"\n * import Google from \"@auth/core/providers/google\"\n *\n * const request = new Request(origin)\n * const response = await Auth(request, {\n *   providers: [Google({ clientId: GOOGLE_CLIENT_ID, clientSecret: GOOGLE_CLIENT_SECRET })],\n * })\n * ```\n *\n * ### Resources\n *\n *  - [Google OAuth documentation](https://developers.google.com/identity/protocols/oauth2)\n *  - [Google OAuth Configuration](https://console.developers.google.com/apis/credentials)\n *\n * ### Notes\n *\n * By default, Auth.js assumes that the Google provider is\n * based on the [Open ID Connect](https://openid.net/specs/openid-connect-core-1_0.html) specification.\n *\n *\n * The \"Authorized redirect URIs\" used when creating the credentials must include your full domain and end in the callback path. For example;\n *\n * - For production: `https://{YOUR_DOMAIN}/api/auth/callback/google`\n * - For development: `http://localhost:3000/api/auth/callback/google`\n *\n * :::warning\n * Google only provides Refresh Token to an application the first time a user signs in.\n *\n * To force Google to re-issue a Refresh Token, the user needs to remove the application from their account and sign in again:\n * https://myaccount.google.com/permissions\n *\n * Alternatively, you can also pass options in the `params` object of `authorization` which will force the Refresh Token to always be provided on sign in, however this will ask all users to confirm if they wish to grant your application access every time they sign in.\n *\n * If you need access to the RefreshToken or AccessToken for a Google account and you are not using a database to persist user accounts, this may be something you need to do.\n *\n * ```js title=\"pages/api/auth/[...nextauth].js\"\n * const options = {\n *   providers: [\n *     GoogleProvider({\n *       clientId: process.env.GOOGLE_ID,\n *       clientSecret: process.env.GOOGLE_SECRET,\n *       authorization: {\n *         params: {\n *           prompt: \"consent\",\n *           access_type: \"offline\",\n *           response_type: \"code\"\n *         }\n *       }\n *     })\n *   ],\n * }\n * ```\n *\n * :::\n *\n * :::tip\n * Google also returns a `email_verified` boolean property in the OAuth profile.\n *\n * You can use this property to restrict access to people with verified accounts at a particular domain.\n *\n * ```js\n * const options = {\n *   ...\n *   callbacks: {\n *     async signIn({ account, profile }) {\n *       if (account.provider === \"google\") {\n *         return profile.email_verified && profile.email.endsWith(\"@example.com\")\n *       }\n *       return true // Do different verification for other providers that don't have `email_verified`\n *     },\n *   }\n *   ...\n * }\n * ```\n *\n * :::\n * :::tip\n *\n * The Google provider comes with a [default configuration](https://github.com/nextauthjs/next-auth/blob/main/packages/core/src/providers/google.ts).\n * To override the defaults for your use case, check out [customizing a built-in OAuth provider](https://authjs.dev/guides/providers/custom-provider#override-default-options).\n *\n * :::\n *\n * :::info **Disclaimer**\n *\n * If you think you found a bug in the default configuration, you can [open an issue](https://authjs.dev/new/provider-issue).\n *\n * Auth.js strictly adheres to the specification and it cannot take responsibility for any deviation from\n * the spec by the provider. You can open an issue, but if the problem is non-compliance with the spec,\n * we might not pursue a resolution. You can ask for more help in [Discussions](https://authjs.dev/new/github-discussions).\n *\n * :::\n */ function Google(options) {\n    return {\n        id: \"google\",\n        name: \"Google\",\n        type: \"oidc\",\n        issuer: \"https://accounts.google.com\",\n        style: {\n            logo: \"/google.svg\",\n            bg: \"#fff\",\n            text: \"#000\"\n        },\n        options\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL3Byb3ZpZGVycy9nb29nbGUuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQXdHQyxHQUNjLFNBQVNBLE9BQU9DLE9BQU87SUFDbEMsT0FBTztRQUNIQyxJQUFJO1FBQ0pDLE1BQU07UUFDTkMsTUFBTTtRQUNOQyxRQUFRO1FBQ1JDLE9BQU87WUFBRUMsTUFBTTtZQUFlQyxJQUFJO1lBQVFDLE1BQU07UUFBTztRQUN2RFI7SUFDSjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC1yeC8uL25vZGVfbW9kdWxlcy9AYXV0aC9jb3JlL3Byb3ZpZGVycy9nb29nbGUuanM/NTUzNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEFkZCBHb29nbGUgbG9naW4gdG8geW91ciBwYWdlLlxuICpcbiAqICMjIyBTZXR1cFxuICpcbiAqICMjIyMgQ2FsbGJhY2sgVVJMXG4gKiBgYGBcbiAqIGh0dHBzOi8vZXhhbXBsZS5jb20vYXBpL2F1dGgvY2FsbGJhY2svZ29vZ2xlXG4gKiBgYGBcbiAqXG4gKiAjIyMjIENvbmZpZ3VyYXRpb25cbiAqYGBganNcbiAqIGltcG9ydCBBdXRoIGZyb20gXCJAYXV0aC9jb3JlXCJcbiAqIGltcG9ydCBHb29nbGUgZnJvbSBcIkBhdXRoL2NvcmUvcHJvdmlkZXJzL2dvb2dsZVwiXG4gKlxuICogY29uc3QgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KG9yaWdpbilcbiAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgQXV0aChyZXF1ZXN0LCB7XG4gKiAgIHByb3ZpZGVyczogW0dvb2dsZSh7IGNsaWVudElkOiBHT09HTEVfQ0xJRU5UX0lELCBjbGllbnRTZWNyZXQ6IEdPT0dMRV9DTElFTlRfU0VDUkVUIH0pXSxcbiAqIH0pXG4gKiBgYGBcbiAqXG4gKiAjIyMgUmVzb3VyY2VzXG4gKlxuICogIC0gW0dvb2dsZSBPQXV0aCBkb2N1bWVudGF0aW9uXShodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9pZGVudGl0eS9wcm90b2NvbHMvb2F1dGgyKVxuICogIC0gW0dvb2dsZSBPQXV0aCBDb25maWd1cmF0aW9uXShodHRwczovL2NvbnNvbGUuZGV2ZWxvcGVycy5nb29nbGUuY29tL2FwaXMvY3JlZGVudGlhbHMpXG4gKlxuICogIyMjIE5vdGVzXG4gKlxuICogQnkgZGVmYXVsdCwgQXV0aC5qcyBhc3N1bWVzIHRoYXQgdGhlIEdvb2dsZSBwcm92aWRlciBpc1xuICogYmFzZWQgb24gdGhlIFtPcGVuIElEIENvbm5lY3RdKGh0dHBzOi8vb3BlbmlkLm5ldC9zcGVjcy9vcGVuaWQtY29ubmVjdC1jb3JlLTFfMC5odG1sKSBzcGVjaWZpY2F0aW9uLlxuICpcbiAqXG4gKiBUaGUgXCJBdXRob3JpemVkIHJlZGlyZWN0IFVSSXNcIiB1c2VkIHdoZW4gY3JlYXRpbmcgdGhlIGNyZWRlbnRpYWxzIG11c3QgaW5jbHVkZSB5b3VyIGZ1bGwgZG9tYWluIGFuZCBlbmQgaW4gdGhlIGNhbGxiYWNrIHBhdGguIEZvciBleGFtcGxlO1xuICpcbiAqIC0gRm9yIHByb2R1Y3Rpb246IGBodHRwczovL3tZT1VSX0RPTUFJTn0vYXBpL2F1dGgvY2FsbGJhY2svZ29vZ2xlYFxuICogLSBGb3IgZGV2ZWxvcG1lbnQ6IGBodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2F1dGgvY2FsbGJhY2svZ29vZ2xlYFxuICpcbiAqIDo6Ondhcm5pbmdcbiAqIEdvb2dsZSBvbmx5IHByb3ZpZGVzIFJlZnJlc2ggVG9rZW4gdG8gYW4gYXBwbGljYXRpb24gdGhlIGZpcnN0IHRpbWUgYSB1c2VyIHNpZ25zIGluLlxuICpcbiAqIFRvIGZvcmNlIEdvb2dsZSB0byByZS1pc3N1ZSBhIFJlZnJlc2ggVG9rZW4sIHRoZSB1c2VyIG5lZWRzIHRvIHJlbW92ZSB0aGUgYXBwbGljYXRpb24gZnJvbSB0aGVpciBhY2NvdW50IGFuZCBzaWduIGluIGFnYWluOlxuICogaHR0cHM6Ly9teWFjY291bnQuZ29vZ2xlLmNvbS9wZXJtaXNzaW9uc1xuICpcbiAqIEFsdGVybmF0aXZlbHksIHlvdSBjYW4gYWxzbyBwYXNzIG9wdGlvbnMgaW4gdGhlIGBwYXJhbXNgIG9iamVjdCBvZiBgYXV0aG9yaXphdGlvbmAgd2hpY2ggd2lsbCBmb3JjZSB0aGUgUmVmcmVzaCBUb2tlbiB0byBhbHdheXMgYmUgcHJvdmlkZWQgb24gc2lnbiBpbiwgaG93ZXZlciB0aGlzIHdpbGwgYXNrIGFsbCB1c2VycyB0byBjb25maXJtIGlmIHRoZXkgd2lzaCB0byBncmFudCB5b3VyIGFwcGxpY2F0aW9uIGFjY2VzcyBldmVyeSB0aW1lIHRoZXkgc2lnbiBpbi5cbiAqXG4gKiBJZiB5b3UgbmVlZCBhY2Nlc3MgdG8gdGhlIFJlZnJlc2hUb2tlbiBvciBBY2Nlc3NUb2tlbiBmb3IgYSBHb29nbGUgYWNjb3VudCBhbmQgeW91IGFyZSBub3QgdXNpbmcgYSBkYXRhYmFzZSB0byBwZXJzaXN0IHVzZXIgYWNjb3VudHMsIHRoaXMgbWF5IGJlIHNvbWV0aGluZyB5b3UgbmVlZCB0byBkby5cbiAqXG4gKiBgYGBqcyB0aXRsZT1cInBhZ2VzL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0uanNcIlxuICogY29uc3Qgb3B0aW9ucyA9IHtcbiAqICAgcHJvdmlkZXJzOiBbXG4gKiAgICAgR29vZ2xlUHJvdmlkZXIoe1xuICogICAgICAgY2xpZW50SWQ6IHByb2Nlc3MuZW52LkdPT0dMRV9JRCxcbiAqICAgICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuR09PR0xFX1NFQ1JFVCxcbiAqICAgICAgIGF1dGhvcml6YXRpb246IHtcbiAqICAgICAgICAgcGFyYW1zOiB7XG4gKiAgICAgICAgICAgcHJvbXB0OiBcImNvbnNlbnRcIixcbiAqICAgICAgICAgICBhY2Nlc3NfdHlwZTogXCJvZmZsaW5lXCIsXG4gKiAgICAgICAgICAgcmVzcG9uc2VfdHlwZTogXCJjb2RlXCJcbiAqICAgICAgICAgfVxuICogICAgICAgfVxuICogICAgIH0pXG4gKiAgIF0sXG4gKiB9XG4gKiBgYGBcbiAqXG4gKiA6OjpcbiAqXG4gKiA6Ojp0aXBcbiAqIEdvb2dsZSBhbHNvIHJldHVybnMgYSBgZW1haWxfdmVyaWZpZWRgIGJvb2xlYW4gcHJvcGVydHkgaW4gdGhlIE9BdXRoIHByb2ZpbGUuXG4gKlxuICogWW91IGNhbiB1c2UgdGhpcyBwcm9wZXJ0eSB0byByZXN0cmljdCBhY2Nlc3MgdG8gcGVvcGxlIHdpdGggdmVyaWZpZWQgYWNjb3VudHMgYXQgYSBwYXJ0aWN1bGFyIGRvbWFpbi5cbiAqXG4gKiBgYGBqc1xuICogY29uc3Qgb3B0aW9ucyA9IHtcbiAqICAgLi4uXG4gKiAgIGNhbGxiYWNrczoge1xuICogICAgIGFzeW5jIHNpZ25Jbih7IGFjY291bnQsIHByb2ZpbGUgfSkge1xuICogICAgICAgaWYgKGFjY291bnQucHJvdmlkZXIgPT09IFwiZ29vZ2xlXCIpIHtcbiAqICAgICAgICAgcmV0dXJuIHByb2ZpbGUuZW1haWxfdmVyaWZpZWQgJiYgcHJvZmlsZS5lbWFpbC5lbmRzV2l0aChcIkBleGFtcGxlLmNvbVwiKVxuICogICAgICAgfVxuICogICAgICAgcmV0dXJuIHRydWUgLy8gRG8gZGlmZmVyZW50IHZlcmlmaWNhdGlvbiBmb3Igb3RoZXIgcHJvdmlkZXJzIHRoYXQgZG9uJ3QgaGF2ZSBgZW1haWxfdmVyaWZpZWRgXG4gKiAgICAgfSxcbiAqICAgfVxuICogICAuLi5cbiAqIH1cbiAqIGBgYFxuICpcbiAqIDo6OlxuICogOjo6dGlwXG4gKlxuICogVGhlIEdvb2dsZSBwcm92aWRlciBjb21lcyB3aXRoIGEgW2RlZmF1bHQgY29uZmlndXJhdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL25leHRhdXRoanMvbmV4dC1hdXRoL2Jsb2IvbWFpbi9wYWNrYWdlcy9jb3JlL3NyYy9wcm92aWRlcnMvZ29vZ2xlLnRzKS5cbiAqIFRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0cyBmb3IgeW91ciB1c2UgY2FzZSwgY2hlY2sgb3V0IFtjdXN0b21pemluZyBhIGJ1aWx0LWluIE9BdXRoIHByb3ZpZGVyXShodHRwczovL2F1dGhqcy5kZXYvZ3VpZGVzL3Byb3ZpZGVycy9jdXN0b20tcHJvdmlkZXIjb3ZlcnJpZGUtZGVmYXVsdC1vcHRpb25zKS5cbiAqXG4gKiA6OjpcbiAqXG4gKiA6OjppbmZvICoqRGlzY2xhaW1lcioqXG4gKlxuICogSWYgeW91IHRoaW5rIHlvdSBmb3VuZCBhIGJ1ZyBpbiB0aGUgZGVmYXVsdCBjb25maWd1cmF0aW9uLCB5b3UgY2FuIFtvcGVuIGFuIGlzc3VlXShodHRwczovL2F1dGhqcy5kZXYvbmV3L3Byb3ZpZGVyLWlzc3VlKS5cbiAqXG4gKiBBdXRoLmpzIHN0cmljdGx5IGFkaGVyZXMgdG8gdGhlIHNwZWNpZmljYXRpb24gYW5kIGl0IGNhbm5vdCB0YWtlIHJlc3BvbnNpYmlsaXR5IGZvciBhbnkgZGV2aWF0aW9uIGZyb21cbiAqIHRoZSBzcGVjIGJ5IHRoZSBwcm92aWRlci4gWW91IGNhbiBvcGVuIGFuIGlzc3VlLCBidXQgaWYgdGhlIHByb2JsZW0gaXMgbm9uLWNvbXBsaWFuY2Ugd2l0aCB0aGUgc3BlYyxcbiAqIHdlIG1pZ2h0IG5vdCBwdXJzdWUgYSByZXNvbHV0aW9uLiBZb3UgY2FuIGFzayBmb3IgbW9yZSBoZWxwIGluIFtEaXNjdXNzaW9uc10oaHR0cHM6Ly9hdXRoanMuZGV2L25ldy9naXRodWItZGlzY3Vzc2lvbnMpLlxuICpcbiAqIDo6OlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBHb29nbGUob3B0aW9ucykge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBcImdvb2dsZVwiLFxuICAgICAgICBuYW1lOiBcIkdvb2dsZVwiLFxuICAgICAgICB0eXBlOiBcIm9pZGNcIixcbiAgICAgICAgaXNzdWVyOiBcImh0dHBzOi8vYWNjb3VudHMuZ29vZ2xlLmNvbVwiLFxuICAgICAgICBzdHlsZTogeyBsb2dvOiBcIi9nb29nbGUuc3ZnXCIsIGJnOiBcIiNmZmZcIiwgdGV4dDogXCIjMDAwXCIgfSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICB9O1xufVxuIl0sIm5hbWVzIjpbIkdvb2dsZSIsIm9wdGlvbnMiLCJpZCIsIm5hbWUiLCJ0eXBlIiwiaXNzdWVyIiwic3R5bGUiLCJsb2dvIiwiYmciLCJ0ZXh0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/core/providers/google.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/core/providers/google.js":
/*!*****************************************************!*\
  !*** ./node_modules/@auth/core/providers/google.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Google)\n/* harmony export */ });\n/**\n * Add Google login to your page.\n *\n * ### Setup\n *\n * #### Callback URL\n * ```\n * https://example.com/api/auth/callback/google\n * ```\n *\n * #### Configuration\n *```js\n * import Auth from \"@auth/core\"\n * import Google from \"@auth/core/providers/google\"\n *\n * const request = new Request(origin)\n * const response = await Auth(request, {\n *   providers: [Google({ clientId: GOOGLE_CLIENT_ID, clientSecret: GOOGLE_CLIENT_SECRET })],\n * })\n * ```\n *\n * ### Resources\n *\n *  - [Google OAuth documentation](https://developers.google.com/identity/protocols/oauth2)\n *  - [Google OAuth Configuration](https://console.developers.google.com/apis/credentials)\n *\n * ### Notes\n *\n * By default, Auth.js assumes that the Google provider is\n * based on the [Open ID Connect](https://openid.net/specs/openid-connect-core-1_0.html) specification.\n *\n *\n * The \"Authorized redirect URIs\" used when creating the credentials must include your full domain and end in the callback path. For example;\n *\n * - For production: `https://{YOUR_DOMAIN}/api/auth/callback/google`\n * - For development: `http://localhost:3000/api/auth/callback/google`\n *\n * :::warning\n * Google only provides Refresh Token to an application the first time a user signs in.\n *\n * To force Google to re-issue a Refresh Token, the user needs to remove the application from their account and sign in again:\n * https://myaccount.google.com/permissions\n *\n * Alternatively, you can also pass options in the `params` object of `authorization` which will force the Refresh Token to always be provided on sign in, however this will ask all users to confirm if they wish to grant your application access every time they sign in.\n *\n * If you need access to the RefreshToken or AccessToken for a Google account and you are not using a database to persist user accounts, this may be something you need to do.\n *\n * ```js title=\"pages/api/auth/[...nextauth].js\"\n * const options = {\n *   providers: [\n *     GoogleProvider({\n *       clientId: process.env.GOOGLE_ID,\n *       clientSecret: process.env.GOOGLE_SECRET,\n *       authorization: {\n *         params: {\n *           prompt: \"consent\",\n *           access_type: \"offline\",\n *           response_type: \"code\"\n *         }\n *       }\n *     })\n *   ],\n * }\n * ```\n *\n * :::\n *\n * :::tip\n * Google also returns a `email_verified` boolean property in the OAuth profile.\n *\n * You can use this property to restrict access to people with verified accounts at a particular domain.\n *\n * ```js\n * const options = {\n *   ...\n *   callbacks: {\n *     async signIn({ account, profile }) {\n *       if (account.provider === \"google\") {\n *         return profile.email_verified && profile.email.endsWith(\"@example.com\")\n *       }\n *       return true // Do different verification for other providers that don't have `email_verified`\n *     },\n *   }\n *   ...\n * }\n * ```\n *\n * :::\n * :::tip\n *\n * The Google provider comes with a [default configuration](https://github.com/nextauthjs/next-auth/blob/main/packages/core/src/providers/google.ts).\n * To override the defaults for your use case, check out [customizing a built-in OAuth provider](https://authjs.dev/guides/providers/custom-provider#override-default-options).\n *\n * :::\n *\n * :::info **Disclaimer**\n *\n * If you think you found a bug in the default configuration, you can [open an issue](https://authjs.dev/new/provider-issue).\n *\n * Auth.js strictly adheres to the specification and it cannot take responsibility for any deviation from\n * the spec by the provider. You can open an issue, but if the problem is non-compliance with the spec,\n * we might not pursue a resolution. You can ask for more help in [Discussions](https://authjs.dev/new/github-discussions).\n *\n * :::\n */ function Google(options) {\n    return {\n        id: \"google\",\n        name: \"Google\",\n        type: \"oidc\",\n        issuer: \"https://accounts.google.com\",\n        style: {\n            logo: \"/google.svg\",\n            bg: \"#fff\",\n            text: \"#000\"\n        },\n        options\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9wcm92aWRlcnMvZ29vZ2xlLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0F3R0MsR0FDYyxTQUFTQSxPQUFPQyxPQUFPO0lBQ2xDLE9BQU87UUFDSEMsSUFBSTtRQUNKQyxNQUFNO1FBQ05DLE1BQU07UUFDTkMsUUFBUTtRQUNSQyxPQUFPO1lBQUVDLE1BQU07WUFBZUMsSUFBSTtZQUFRQyxNQUFNO1FBQU87UUFDdkRSO0lBQ0o7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtcngvLi9ub2RlX21vZHVsZXMvQGF1dGgvY29yZS9wcm92aWRlcnMvZ29vZ2xlLmpzPzU1MzUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBZGQgR29vZ2xlIGxvZ2luIHRvIHlvdXIgcGFnZS5cbiAqXG4gKiAjIyMgU2V0dXBcbiAqXG4gKiAjIyMjIENhbGxiYWNrIFVSTFxuICogYGBgXG4gKiBodHRwczovL2V4YW1wbGUuY29tL2FwaS9hdXRoL2NhbGxiYWNrL2dvb2dsZVxuICogYGBgXG4gKlxuICogIyMjIyBDb25maWd1cmF0aW9uXG4gKmBgYGpzXG4gKiBpbXBvcnQgQXV0aCBmcm9tIFwiQGF1dGgvY29yZVwiXG4gKiBpbXBvcnQgR29vZ2xlIGZyb20gXCJAYXV0aC9jb3JlL3Byb3ZpZGVycy9nb29nbGVcIlxuICpcbiAqIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdChvcmlnaW4pXG4gKiBjb25zdCByZXNwb25zZSA9IGF3YWl0IEF1dGgocmVxdWVzdCwge1xuICogICBwcm92aWRlcnM6IFtHb29nbGUoeyBjbGllbnRJZDogR09PR0xFX0NMSUVOVF9JRCwgY2xpZW50U2VjcmV0OiBHT09HTEVfQ0xJRU5UX1NFQ1JFVCB9KV0sXG4gKiB9KVxuICogYGBgXG4gKlxuICogIyMjIFJlc291cmNlc1xuICpcbiAqICAtIFtHb29nbGUgT0F1dGggZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vaWRlbnRpdHkvcHJvdG9jb2xzL29hdXRoMilcbiAqICAtIFtHb29nbGUgT0F1dGggQ29uZmlndXJhdGlvbl0oaHR0cHM6Ly9jb25zb2xlLmRldmVsb3BlcnMuZ29vZ2xlLmNvbS9hcGlzL2NyZWRlbnRpYWxzKVxuICpcbiAqICMjIyBOb3Rlc1xuICpcbiAqIEJ5IGRlZmF1bHQsIEF1dGguanMgYXNzdW1lcyB0aGF0IHRoZSBHb29nbGUgcHJvdmlkZXIgaXNcbiAqIGJhc2VkIG9uIHRoZSBbT3BlbiBJRCBDb25uZWN0XShodHRwczovL29wZW5pZC5uZXQvc3BlY3Mvb3BlbmlkLWNvbm5lY3QtY29yZS0xXzAuaHRtbCkgc3BlY2lmaWNhdGlvbi5cbiAqXG4gKlxuICogVGhlIFwiQXV0aG9yaXplZCByZWRpcmVjdCBVUklzXCIgdXNlZCB3aGVuIGNyZWF0aW5nIHRoZSBjcmVkZW50aWFscyBtdXN0IGluY2x1ZGUgeW91ciBmdWxsIGRvbWFpbiBhbmQgZW5kIGluIHRoZSBjYWxsYmFjayBwYXRoLiBGb3IgZXhhbXBsZTtcbiAqXG4gKiAtIEZvciBwcm9kdWN0aW9uOiBgaHR0cHM6Ly97WU9VUl9ET01BSU59L2FwaS9hdXRoL2NhbGxiYWNrL2dvb2dsZWBcbiAqIC0gRm9yIGRldmVsb3BtZW50OiBgaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hdXRoL2NhbGxiYWNrL2dvb2dsZWBcbiAqXG4gKiA6Ojp3YXJuaW5nXG4gKiBHb29nbGUgb25seSBwcm92aWRlcyBSZWZyZXNoIFRva2VuIHRvIGFuIGFwcGxpY2F0aW9uIHRoZSBmaXJzdCB0aW1lIGEgdXNlciBzaWducyBpbi5cbiAqXG4gKiBUbyBmb3JjZSBHb29nbGUgdG8gcmUtaXNzdWUgYSBSZWZyZXNoIFRva2VuLCB0aGUgdXNlciBuZWVkcyB0byByZW1vdmUgdGhlIGFwcGxpY2F0aW9uIGZyb20gdGhlaXIgYWNjb3VudCBhbmQgc2lnbiBpbiBhZ2FpbjpcbiAqIGh0dHBzOi8vbXlhY2NvdW50Lmdvb2dsZS5jb20vcGVybWlzc2lvbnNcbiAqXG4gKiBBbHRlcm5hdGl2ZWx5LCB5b3UgY2FuIGFsc28gcGFzcyBvcHRpb25zIGluIHRoZSBgcGFyYW1zYCBvYmplY3Qgb2YgYGF1dGhvcml6YXRpb25gIHdoaWNoIHdpbGwgZm9yY2UgdGhlIFJlZnJlc2ggVG9rZW4gdG8gYWx3YXlzIGJlIHByb3ZpZGVkIG9uIHNpZ24gaW4sIGhvd2V2ZXIgdGhpcyB3aWxsIGFzayBhbGwgdXNlcnMgdG8gY29uZmlybSBpZiB0aGV5IHdpc2ggdG8gZ3JhbnQgeW91ciBhcHBsaWNhdGlvbiBhY2Nlc3MgZXZlcnkgdGltZSB0aGV5IHNpZ24gaW4uXG4gKlxuICogSWYgeW91IG5lZWQgYWNjZXNzIHRvIHRoZSBSZWZyZXNoVG9rZW4gb3IgQWNjZXNzVG9rZW4gZm9yIGEgR29vZ2xlIGFjY291bnQgYW5kIHlvdSBhcmUgbm90IHVzaW5nIGEgZGF0YWJhc2UgdG8gcGVyc2lzdCB1c2VyIGFjY291bnRzLCB0aGlzIG1heSBiZSBzb21ldGhpbmcgeW91IG5lZWQgdG8gZG8uXG4gKlxuICogYGBganMgdGl0bGU9XCJwYWdlcy9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdLmpzXCJcbiAqIGNvbnN0IG9wdGlvbnMgPSB7XG4gKiAgIHByb3ZpZGVyczogW1xuICogICAgIEdvb2dsZVByb3ZpZGVyKHtcbiAqICAgICAgIGNsaWVudElkOiBwcm9jZXNzLmVudi5HT09HTEVfSUQsXG4gKiAgICAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkdPT0dMRV9TRUNSRVQsXG4gKiAgICAgICBhdXRob3JpemF0aW9uOiB7XG4gKiAgICAgICAgIHBhcmFtczoge1xuICogICAgICAgICAgIHByb21wdDogXCJjb25zZW50XCIsXG4gKiAgICAgICAgICAgYWNjZXNzX3R5cGU6IFwib2ZmbGluZVwiLFxuICogICAgICAgICAgIHJlc3BvbnNlX3R5cGU6IFwiY29kZVwiXG4gKiAgICAgICAgIH1cbiAqICAgICAgIH1cbiAqICAgICB9KVxuICogICBdLFxuICogfVxuICogYGBgXG4gKlxuICogOjo6XG4gKlxuICogOjo6dGlwXG4gKiBHb29nbGUgYWxzbyByZXR1cm5zIGEgYGVtYWlsX3ZlcmlmaWVkYCBib29sZWFuIHByb3BlcnR5IGluIHRoZSBPQXV0aCBwcm9maWxlLlxuICpcbiAqIFlvdSBjYW4gdXNlIHRoaXMgcHJvcGVydHkgdG8gcmVzdHJpY3QgYWNjZXNzIHRvIHBlb3BsZSB3aXRoIHZlcmlmaWVkIGFjY291bnRzIGF0IGEgcGFydGljdWxhciBkb21haW4uXG4gKlxuICogYGBganNcbiAqIGNvbnN0IG9wdGlvbnMgPSB7XG4gKiAgIC4uLlxuICogICBjYWxsYmFja3M6IHtcbiAqICAgICBhc3luYyBzaWduSW4oeyBhY2NvdW50LCBwcm9maWxlIH0pIHtcbiAqICAgICAgIGlmIChhY2NvdW50LnByb3ZpZGVyID09PSBcImdvb2dsZVwiKSB7XG4gKiAgICAgICAgIHJldHVybiBwcm9maWxlLmVtYWlsX3ZlcmlmaWVkICYmIHByb2ZpbGUuZW1haWwuZW5kc1dpdGgoXCJAZXhhbXBsZS5jb21cIilcbiAqICAgICAgIH1cbiAqICAgICAgIHJldHVybiB0cnVlIC8vIERvIGRpZmZlcmVudCB2ZXJpZmljYXRpb24gZm9yIG90aGVyIHByb3ZpZGVycyB0aGF0IGRvbid0IGhhdmUgYGVtYWlsX3ZlcmlmaWVkYFxuICogICAgIH0sXG4gKiAgIH1cbiAqICAgLi4uXG4gKiB9XG4gKiBgYGBcbiAqXG4gKiA6OjpcbiAqIDo6OnRpcFxuICpcbiAqIFRoZSBHb29nbGUgcHJvdmlkZXIgY29tZXMgd2l0aCBhIFtkZWZhdWx0IGNvbmZpZ3VyYXRpb25dKGh0dHBzOi8vZ2l0aHViLmNvbS9uZXh0YXV0aGpzL25leHQtYXV0aC9ibG9iL21haW4vcGFja2FnZXMvY29yZS9zcmMvcHJvdmlkZXJzL2dvb2dsZS50cykuXG4gKiBUbyBvdmVycmlkZSB0aGUgZGVmYXVsdHMgZm9yIHlvdXIgdXNlIGNhc2UsIGNoZWNrIG91dCBbY3VzdG9taXppbmcgYSBidWlsdC1pbiBPQXV0aCBwcm92aWRlcl0oaHR0cHM6Ly9hdXRoanMuZGV2L2d1aWRlcy9wcm92aWRlcnMvY3VzdG9tLXByb3ZpZGVyI292ZXJyaWRlLWRlZmF1bHQtb3B0aW9ucykuXG4gKlxuICogOjo6XG4gKlxuICogOjo6aW5mbyAqKkRpc2NsYWltZXIqKlxuICpcbiAqIElmIHlvdSB0aGluayB5b3UgZm91bmQgYSBidWcgaW4gdGhlIGRlZmF1bHQgY29uZmlndXJhdGlvbiwgeW91IGNhbiBbb3BlbiBhbiBpc3N1ZV0oaHR0cHM6Ly9hdXRoanMuZGV2L25ldy9wcm92aWRlci1pc3N1ZSkuXG4gKlxuICogQXV0aC5qcyBzdHJpY3RseSBhZGhlcmVzIHRvIHRoZSBzcGVjaWZpY2F0aW9uIGFuZCBpdCBjYW5ub3QgdGFrZSByZXNwb25zaWJpbGl0eSBmb3IgYW55IGRldmlhdGlvbiBmcm9tXG4gKiB0aGUgc3BlYyBieSB0aGUgcHJvdmlkZXIuIFlvdSBjYW4gb3BlbiBhbiBpc3N1ZSwgYnV0IGlmIHRoZSBwcm9ibGVtIGlzIG5vbi1jb21wbGlhbmNlIHdpdGggdGhlIHNwZWMsXG4gKiB3ZSBtaWdodCBub3QgcHVyc3VlIGEgcmVzb2x1dGlvbi4gWW91IGNhbiBhc2sgZm9yIG1vcmUgaGVscCBpbiBbRGlzY3Vzc2lvbnNdKGh0dHBzOi8vYXV0aGpzLmRldi9uZXcvZ2l0aHViLWRpc2N1c3Npb25zKS5cbiAqXG4gKiA6OjpcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gR29vZ2xlKG9wdGlvbnMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpZDogXCJnb29nbGVcIixcbiAgICAgICAgbmFtZTogXCJHb29nbGVcIixcbiAgICAgICAgdHlwZTogXCJvaWRjXCIsXG4gICAgICAgIGlzc3VlcjogXCJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb21cIixcbiAgICAgICAgc3R5bGU6IHsgbG9nbzogXCIvZ29vZ2xlLnN2Z1wiLCBiZzogXCIjZmZmXCIsIHRleHQ6IFwiIzAwMFwiIH0sXG4gICAgICAgIG9wdGlvbnMsXG4gICAgfTtcbn1cbiJdLCJuYW1lcyI6WyJHb29nbGUiLCJvcHRpb25zIiwiaWQiLCJuYW1lIiwidHlwZSIsImlzc3VlciIsInN0eWxlIiwibG9nbyIsImJnIiwidGV4dCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/core/providers/google.js\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@auth/prisma-adapter/index.js":
/*!****************************************************!*\
  !*** ./node_modules/@auth/prisma-adapter/index.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PrismaAdapter: () => (/* binding */ PrismaAdapter)\n/* harmony export */ });\n/**\n * ## Setup\n *\n * Add this adapter to your `auth.ts` Auth.js configuration object:\n *\n * ```js title=\"auth.ts\"\n * import NextAuth from \"next-auth\"\n * import Google from \"next-auth/providers/google\"\n * import { PrismaAdapter } from \"@auth/prisma-adapter\"\n * import { PrismaClient } from \"@prisma/client\"\n *\n * const prisma = new PrismaClient()\n *\n * export { handlers, auth, signIn, signOut } = NextAuth({\n *   adapter: PrismaAdapter(prisma),\n *   providers: [\n *     Google,\n *   ],\n * })\n * ```\n **/ function PrismaAdapter(prisma) {\n    const p = prisma;\n    return {\n        // We need to let Prisma generate the ID because our default UUID is incompatible with MongoDB\n        createUser: ({ id: _id, ...data })=>{\n            return p.user.create({\n                data\n            });\n        },\n        getUser: (id)=>p.user.findUnique({\n                where: {\n                    id\n                }\n            }),\n        getUserByEmail: (email)=>p.user.findUnique({\n                where: {\n                    email\n                }\n            }),\n        async getUserByAccount (provider_providerAccountId) {\n            const account = await p.account.findUnique({\n                where: {\n                    provider_providerAccountId\n                },\n                select: {\n                    user: true\n                }\n            });\n            return account?.user ?? null;\n        },\n        updateUser: ({ id, ...data })=>p.user.update({\n                where: {\n                    id\n                },\n                data\n            }),\n        deleteUser: (id)=>p.user.delete({\n                where: {\n                    id\n                }\n            }),\n        linkAccount: (data)=>p.account.create({\n                data\n            }),\n        unlinkAccount: (provider_providerAccountId)=>p.account.delete({\n                where: {\n                    provider_providerAccountId\n                }\n            }),\n        async getSessionAndUser (sessionToken) {\n            const userAndSession = await p.session.findUnique({\n                where: {\n                    sessionToken\n                },\n                include: {\n                    user: true\n                }\n            });\n            if (!userAndSession) return null;\n            const { user, ...session } = userAndSession;\n            return {\n                user,\n                session\n            };\n        },\n        createSession: (data)=>p.session.create({\n                data\n            }),\n        updateSession: (data)=>p.session.update({\n                where: {\n                    sessionToken: data.sessionToken\n                },\n                data\n            }),\n        deleteSession: (sessionToken)=>p.session.delete({\n                where: {\n                    sessionToken\n                }\n            }),\n        async createVerificationToken (data) {\n            const verificationToken = await p.verificationToken.create({\n                data\n            });\n            // @ts-expect-errors // MongoDB needs an ID, but we don't\n            if (verificationToken.id) delete verificationToken.id;\n            return verificationToken;\n        },\n        async useVerificationToken (identifier_token) {\n            try {\n                const verificationToken = await p.verificationToken.delete({\n                    where: {\n                        identifier_token\n                    }\n                });\n                // @ts-expect-errors // MongoDB needs an ID, but we don't\n                if (verificationToken.id) delete verificationToken.id;\n                return verificationToken;\n            } catch (error) {\n                // If token already used/deleted, just return null\n                // https://www.prisma.io/docs/reference/api-reference/error-reference#p2025\n                if (error.code === \"P2025\") return null;\n                throw error;\n            }\n        },\n        async getAccount (providerAccountId, provider) {\n            return p.account.findFirst({\n                where: {\n                    providerAccountId,\n                    provider\n                }\n            });\n        },\n        async createAuthenticator (authenticator) {\n            return p.authenticator.create({\n                data: authenticator\n            }).then(fromDBAuthenticator);\n        },\n        async getAuthenticator (credentialID) {\n            const authenticator = await p.authenticator.findUnique({\n                where: {\n                    credentialID\n                }\n            });\n            return authenticator ? fromDBAuthenticator(authenticator) : null;\n        },\n        async listAuthenticatorsByUserId (userId) {\n            const authenticators = await p.authenticator.findMany({\n                where: {\n                    userId\n                }\n            });\n            return authenticators.map(fromDBAuthenticator);\n        },\n        async updateAuthenticatorCounter (credentialID, counter) {\n            return p.authenticator.update({\n                where: {\n                    credentialID: credentialID\n                },\n                data: {\n                    counter\n                }\n            }).then(fromDBAuthenticator);\n        }\n    };\n}\nfunction fromDBAuthenticator(authenticator) {\n    const { transports, id, user, ...other } = authenticator;\n    return {\n        ...other,\n        transports: transports || undefined\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AYXV0aC9wcmlzbWEtYWRhcHRlci9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0VBb0JFLEdBQ0ssU0FBU0EsY0FBY0MsTUFBTTtJQUNoQyxNQUFNQyxJQUFJRDtJQUNWLE9BQU87UUFDSCw4RkFBOEY7UUFDOUZFLFlBQVksQ0FBQyxFQUFFQyxJQUFJQyxHQUFHLEVBQUUsR0FBR0MsTUFBTTtZQUM3QixPQUFPSixFQUFFSyxJQUFJLENBQUNDLE1BQU0sQ0FBQztnQkFBRUY7WUFBSztRQUNoQztRQUNBRyxTQUFTLENBQUNMLEtBQU9GLEVBQUVLLElBQUksQ0FBQ0csVUFBVSxDQUFDO2dCQUFFQyxPQUFPO29CQUFFUDtnQkFBRztZQUFFO1FBQ25EUSxnQkFBZ0IsQ0FBQ0MsUUFBVVgsRUFBRUssSUFBSSxDQUFDRyxVQUFVLENBQUM7Z0JBQUVDLE9BQU87b0JBQUVFO2dCQUFNO1lBQUU7UUFDaEUsTUFBTUMsa0JBQWlCQywwQkFBMEI7WUFDN0MsTUFBTUMsVUFBVSxNQUFNZCxFQUFFYyxPQUFPLENBQUNOLFVBQVUsQ0FBQztnQkFDdkNDLE9BQU87b0JBQUVJO2dCQUEyQjtnQkFDcENFLFFBQVE7b0JBQUVWLE1BQU07Z0JBQUs7WUFDekI7WUFDQSxPQUFPUyxTQUFTVCxRQUFRO1FBQzVCO1FBQ0FXLFlBQVksQ0FBQyxFQUFFZCxFQUFFLEVBQUUsR0FBR0UsTUFBTSxHQUFLSixFQUFFSyxJQUFJLENBQUNZLE1BQU0sQ0FBQztnQkFBRVIsT0FBTztvQkFBRVA7Z0JBQUc7Z0JBQUdFO1lBQUs7UUFDckVjLFlBQVksQ0FBQ2hCLEtBQU9GLEVBQUVLLElBQUksQ0FBQ2MsTUFBTSxDQUFDO2dCQUFFVixPQUFPO29CQUFFUDtnQkFBRztZQUFFO1FBQ2xEa0IsYUFBYSxDQUFDaEIsT0FBU0osRUFBRWMsT0FBTyxDQUFDUixNQUFNLENBQUM7Z0JBQUVGO1lBQUs7UUFDL0NpQixl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QSxTQUFTQSxvQkFBb0JGLGFBQWE7SUFDdEMsTUFBTSxFQUFFWSxVQUFVLEVBQUVuRCxFQUFFLEVBQUVHLElBQUksRUFBRSxHQUFHaUQsT0FBTyxHQUFHYjtJQUMzQyxPQUFPO1FBQ0gsR0FBR2EsS0FBSztRQUNSRCxZQUFZQSxjQUFjRTtJQUM5QjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdC1yeC8uL25vZGVfbW9kdWxlcy9AYXV0aC9wcmlzbWEtYWRhcHRlci9pbmRleC5qcz81ODE4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogIyMgU2V0dXBcbiAqXG4gKiBBZGQgdGhpcyBhZGFwdGVyIHRvIHlvdXIgYGF1dGgudHNgIEF1dGguanMgY29uZmlndXJhdGlvbiBvYmplY3Q6XG4gKlxuICogYGBganMgdGl0bGU9XCJhdXRoLnRzXCJcbiAqIGltcG9ydCBOZXh0QXV0aCBmcm9tIFwibmV4dC1hdXRoXCJcbiAqIGltcG9ydCBHb29nbGUgZnJvbSBcIm5leHQtYXV0aC9wcm92aWRlcnMvZ29vZ2xlXCJcbiAqIGltcG9ydCB7IFByaXNtYUFkYXB0ZXIgfSBmcm9tIFwiQGF1dGgvcHJpc21hLWFkYXB0ZXJcIlxuICogaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSBcIkBwcmlzbWEvY2xpZW50XCJcbiAqXG4gKiBjb25zdCBwcmlzbWEgPSBuZXcgUHJpc21hQ2xpZW50KClcbiAqXG4gKiBleHBvcnQgeyBoYW5kbGVycywgYXV0aCwgc2lnbkluLCBzaWduT3V0IH0gPSBOZXh0QXV0aCh7XG4gKiAgIGFkYXB0ZXI6IFByaXNtYUFkYXB0ZXIocHJpc21hKSxcbiAqICAgcHJvdmlkZXJzOiBbXG4gKiAgICAgR29vZ2xlLFxuICogICBdLFxuICogfSlcbiAqIGBgYFxuICoqL1xuZXhwb3J0IGZ1bmN0aW9uIFByaXNtYUFkYXB0ZXIocHJpc21hKSB7XG4gICAgY29uc3QgcCA9IHByaXNtYTtcbiAgICByZXR1cm4ge1xuICAgICAgICAvLyBXZSBuZWVkIHRvIGxldCBQcmlzbWEgZ2VuZXJhdGUgdGhlIElEIGJlY2F1c2Ugb3VyIGRlZmF1bHQgVVVJRCBpcyBpbmNvbXBhdGlibGUgd2l0aCBNb25nb0RCXG4gICAgICAgIGNyZWF0ZVVzZXI6ICh7IGlkOiBfaWQsIC4uLmRhdGEgfSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHAudXNlci5jcmVhdGUoeyBkYXRhIH0pO1xuICAgICAgICB9LFxuICAgICAgICBnZXRVc2VyOiAoaWQpID0+IHAudXNlci5maW5kVW5pcXVlKHsgd2hlcmU6IHsgaWQgfSB9KSxcbiAgICAgICAgZ2V0VXNlckJ5RW1haWw6IChlbWFpbCkgPT4gcC51c2VyLmZpbmRVbmlxdWUoeyB3aGVyZTogeyBlbWFpbCB9IH0pLFxuICAgICAgICBhc3luYyBnZXRVc2VyQnlBY2NvdW50KHByb3ZpZGVyX3Byb3ZpZGVyQWNjb3VudElkKSB7XG4gICAgICAgICAgICBjb25zdCBhY2NvdW50ID0gYXdhaXQgcC5hY2NvdW50LmZpbmRVbmlxdWUoe1xuICAgICAgICAgICAgICAgIHdoZXJlOiB7IHByb3ZpZGVyX3Byb3ZpZGVyQWNjb3VudElkIH0sXG4gICAgICAgICAgICAgICAgc2VsZWN0OiB7IHVzZXI6IHRydWUgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGFjY291bnQ/LnVzZXIgPz8gbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlVXNlcjogKHsgaWQsIC4uLmRhdGEgfSkgPT4gcC51c2VyLnVwZGF0ZSh7IHdoZXJlOiB7IGlkIH0sIGRhdGEgfSksXG4gICAgICAgIGRlbGV0ZVVzZXI6IChpZCkgPT4gcC51c2VyLmRlbGV0ZSh7IHdoZXJlOiB7IGlkIH0gfSksXG4gICAgICAgIGxpbmtBY2NvdW50OiAoZGF0YSkgPT4gcC5hY2NvdW50LmNyZWF0ZSh7IGRhdGEgfSksXG4gICAgICAgIHVubGlua0FjY291bnQ6IChwcm92aWRlcl9wcm92aWRlckFjY291bnRJZCkgPT4gcC5hY2NvdW50LmRlbGV0ZSh7XG4gICAgICAgICAgICB3aGVyZTogeyBwcm92aWRlcl9wcm92aWRlckFjY291bnRJZCB9LFxuICAgICAgICB9KSxcbiAgICAgICAgYXN5bmMgZ2V0U2Vzc2lvbkFuZFVzZXIoc2Vzc2lvblRva2VuKSB7XG4gICAgICAgICAgICBjb25zdCB1c2VyQW5kU2Vzc2lvbiA9IGF3YWl0IHAuc2Vzc2lvbi5maW5kVW5pcXVlKHtcbiAgICAgICAgICAgICAgICB3aGVyZTogeyBzZXNzaW9uVG9rZW4gfSxcbiAgICAgICAgICAgICAgICBpbmNsdWRlOiB7IHVzZXI6IHRydWUgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCF1c2VyQW5kU2Vzc2lvbilcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IHsgdXNlciwgLi4uc2Vzc2lvbiB9ID0gdXNlckFuZFNlc3Npb247XG4gICAgICAgICAgICByZXR1cm4geyB1c2VyLCBzZXNzaW9uIH07XG4gICAgICAgIH0sXG4gICAgICAgIGNyZWF0ZVNlc3Npb246IChkYXRhKSA9PiBwLnNlc3Npb24uY3JlYXRlKHsgZGF0YSB9KSxcbiAgICAgICAgdXBkYXRlU2Vzc2lvbjogKGRhdGEpID0+IHAuc2Vzc2lvbi51cGRhdGUoeyB3aGVyZTogeyBzZXNzaW9uVG9rZW46IGRhdGEuc2Vzc2lvblRva2VuIH0sIGRhdGEgfSksXG4gICAgICAgIGRlbGV0ZVNlc3Npb246IChzZXNzaW9uVG9rZW4pID0+IHAuc2Vzc2lvbi5kZWxldGUoeyB3aGVyZTogeyBzZXNzaW9uVG9rZW4gfSB9KSxcbiAgICAgICAgYXN5bmMgY3JlYXRlVmVyaWZpY2F0aW9uVG9rZW4oZGF0YSkge1xuICAgICAgICAgICAgY29uc3QgdmVyaWZpY2F0aW9uVG9rZW4gPSBhd2FpdCBwLnZlcmlmaWNhdGlvblRva2VuLmNyZWF0ZSh7IGRhdGEgfSk7XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9ycyAvLyBNb25nb0RCIG5lZWRzIGFuIElELCBidXQgd2UgZG9uJ3RcbiAgICAgICAgICAgIGlmICh2ZXJpZmljYXRpb25Ub2tlbi5pZClcbiAgICAgICAgICAgICAgICBkZWxldGUgdmVyaWZpY2F0aW9uVG9rZW4uaWQ7XG4gICAgICAgICAgICByZXR1cm4gdmVyaWZpY2F0aW9uVG9rZW47XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIHVzZVZlcmlmaWNhdGlvblRva2VuKGlkZW50aWZpZXJfdG9rZW4pIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmVyaWZpY2F0aW9uVG9rZW4gPSBhd2FpdCBwLnZlcmlmaWNhdGlvblRva2VuLmRlbGV0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHdoZXJlOiB7IGlkZW50aWZpZXJfdG9rZW4gfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9ycyAvLyBNb25nb0RCIG5lZWRzIGFuIElELCBidXQgd2UgZG9uJ3RcbiAgICAgICAgICAgICAgICBpZiAodmVyaWZpY2F0aW9uVG9rZW4uaWQpXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB2ZXJpZmljYXRpb25Ub2tlbi5pZDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmVyaWZpY2F0aW9uVG9rZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0b2tlbiBhbHJlYWR5IHVzZWQvZGVsZXRlZCwganVzdCByZXR1cm4gbnVsbFxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vd3d3LnByaXNtYS5pby9kb2NzL3JlZmVyZW5jZS9hcGktcmVmZXJlbmNlL2Vycm9yLXJlZmVyZW5jZSNwMjAyNVxuICAgICAgICAgICAgICAgIGlmIChlcnJvci5jb2RlID09PSBcIlAyMDI1XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhc3luYyBnZXRBY2NvdW50KHByb3ZpZGVyQWNjb3VudElkLCBwcm92aWRlcikge1xuICAgICAgICAgICAgcmV0dXJuIHAuYWNjb3VudC5maW5kRmlyc3Qoe1xuICAgICAgICAgICAgICAgIHdoZXJlOiB7IHByb3ZpZGVyQWNjb3VudElkLCBwcm92aWRlciB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIGNyZWF0ZUF1dGhlbnRpY2F0b3IoYXV0aGVudGljYXRvcikge1xuICAgICAgICAgICAgcmV0dXJuIHAuYXV0aGVudGljYXRvclxuICAgICAgICAgICAgICAgIC5jcmVhdGUoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGF1dGhlbnRpY2F0b3IsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZyb21EQkF1dGhlbnRpY2F0b3IpO1xuICAgICAgICB9LFxuICAgICAgICBhc3luYyBnZXRBdXRoZW50aWNhdG9yKGNyZWRlbnRpYWxJRCkge1xuICAgICAgICAgICAgY29uc3QgYXV0aGVudGljYXRvciA9IGF3YWl0IHAuYXV0aGVudGljYXRvci5maW5kVW5pcXVlKHtcbiAgICAgICAgICAgICAgICB3aGVyZTogeyBjcmVkZW50aWFsSUQgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGF1dGhlbnRpY2F0b3IgPyBmcm9tREJBdXRoZW50aWNhdG9yKGF1dGhlbnRpY2F0b3IpIDogbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgbGlzdEF1dGhlbnRpY2F0b3JzQnlVc2VySWQodXNlcklkKSB7XG4gICAgICAgICAgICBjb25zdCBhdXRoZW50aWNhdG9ycyA9IGF3YWl0IHAuYXV0aGVudGljYXRvci5maW5kTWFueSh7XG4gICAgICAgICAgICAgICAgd2hlcmU6IHsgdXNlcklkIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBhdXRoZW50aWNhdG9ycy5tYXAoZnJvbURCQXV0aGVudGljYXRvcik7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIHVwZGF0ZUF1dGhlbnRpY2F0b3JDb3VudGVyKGNyZWRlbnRpYWxJRCwgY291bnRlcikge1xuICAgICAgICAgICAgcmV0dXJuIHAuYXV0aGVudGljYXRvclxuICAgICAgICAgICAgICAgIC51cGRhdGUoe1xuICAgICAgICAgICAgICAgIHdoZXJlOiB7IGNyZWRlbnRpYWxJRDogY3JlZGVudGlhbElEIH0sXG4gICAgICAgICAgICAgICAgZGF0YTogeyBjb3VudGVyIH0sXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKGZyb21EQkF1dGhlbnRpY2F0b3IpO1xuICAgICAgICB9LFxuICAgIH07XG59XG5mdW5jdGlvbiBmcm9tREJBdXRoZW50aWNhdG9yKGF1dGhlbnRpY2F0b3IpIHtcbiAgICBjb25zdCB7IHRyYW5zcG9ydHMsIGlkLCB1c2VyLCAuLi5vdGhlciB9ID0gYXV0aGVudGljYXRvcjtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5vdGhlcixcbiAgICAgICAgdHJhbnNwb3J0czogdHJhbnNwb3J0cyB8fCB1bmRlZmluZWQsXG4gICAgfTtcbn1cbiJdLCJuYW1lcyI6WyJQcmlzbWFBZGFwdGVyIiwicHJpc21hIiwicCIsImNyZWF0ZVVzZXIiLCJpZCIsIl9pZCIsImRhdGEiLCJ1c2VyIiwiY3JlYXRlIiwiZ2V0VXNlciIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsImdldFVzZXJCeUVtYWlsIiwiZW1haWwiLCJnZXRVc2VyQnlBY2NvdW50IiwicHJvdmlkZXJfcHJvdmlkZXJBY2NvdW50SWQiLCJhY2NvdW50Iiwic2VsZWN0IiwidXBkYXRlVXNlciIsInVwZGF0ZSIsImRlbGV0ZVVzZXIiLCJkZWxldGUiLCJsaW5rQWNjb3VudCIsInVubGlua0FjY291bnQiLCJnZXRTZXNzaW9uQW5kVXNlciIsInNlc3Npb25Ub2tlbiIsInVzZXJBbmRTZXNzaW9uIiwic2Vzc2lvbiIsImluY2x1ZGUiLCJjcmVhdGVTZXNzaW9uIiwidXBkYXRlU2Vzc2lvbiIsImRlbGV0ZVNlc3Npb24iLCJjcmVhdGVWZXJpZmljYXRpb25Ub2tlbiIsInZlcmlmaWNhdGlvblRva2VuIiwidXNlVmVyaWZpY2F0aW9uVG9rZW4iLCJpZGVudGlmaWVyX3Rva2VuIiwiZXJyb3IiLCJjb2RlIiwiZ2V0QWNjb3VudCIsInByb3ZpZGVyQWNjb3VudElkIiwicHJvdmlkZXIiLCJmaW5kRmlyc3QiLCJjcmVhdGVBdXRoZW50aWNhdG9yIiwiYXV0aGVudGljYXRvciIsInRoZW4iLCJmcm9tREJBdXRoZW50aWNhdG9yIiwiZ2V0QXV0aGVudGljYXRvciIsImNyZWRlbnRpYWxJRCIsImxpc3RBdXRoZW50aWNhdG9yc0J5VXNlcklkIiwidXNlcklkIiwiYXV0aGVudGljYXRvcnMiLCJmaW5kTWFueSIsIm1hcCIsInVwZGF0ZUF1dGhlbnRpY2F0b3JDb3VudGVyIiwiY291bnRlciIsInRyYW5zcG9ydHMiLCJvdGhlciIsInVuZGVmaW5lZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@auth/prisma-adapter/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@auth/prisma-adapter/index.js":
/*!****************************************************!*\
  !*** ./node_modules/@auth/prisma-adapter/index.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PrismaAdapter: () => (/* binding */ PrismaAdapter)\n/* harmony export */ });\n/**\n * ## Setup\n *\n * Add this adapter to your `auth.ts` Auth.js configuration object:\n *\n * ```js title=\"auth.ts\"\n * import NextAuth from \"next-auth\"\n * import Google from \"next-auth/providers/google\"\n * import { PrismaAdapter } from \"@auth/prisma-adapter\"\n * import { PrismaClient } from \"@prisma/client\"\n *\n * const prisma = new PrismaClient()\n *\n * export { handlers, auth, signIn, signOut } = NextAuth({\n *   adapter: PrismaAdapter(prisma),\n *   providers: [\n *     Google,\n *   ],\n * })\n * ```\n **/ function PrismaAdapter(prisma) {\n    const p = prisma;\n    return {\n        // We need to let Prisma generate the ID because our default UUID is incompatible with MongoDB\n        createUser: ({ id: _id, ...data })=>{\n            return p.user.create({\n                data\n            });\n        },\n        getUser: (id)=>p.user.findUnique({\n                where: {\n                    id\n                }\n            }),\n        getUserByEmail: (email)=>p.user.findUnique({\n                where: {\n                    email\n                }\n            }),\n        async getUserByAccount (provider_providerAccountId) {\n            const account = await p.account.findUnique({\n                where: {\n                    provider_providerAccountId\n                },\n                select: {\n                    user: true\n                }\n            });\n            return account?.user ?? null;\n        },\n        updateUser: ({ id, ...data })=>p.user.update({\n                where: {\n                    id\n                },\n                data\n            }),\n        deleteUser: (id)=>p.user.delete({\n                where: {\n                    id\n                }\n            }),\n        linkAccount: (data)=>p.account.create({\n                data\n            }),\n        unlinkAccount: (provider_providerAccountId)=>p.account.delete({\n                where: {\n                    provider_providerAccountId\n                }\n            }),\n        async getSessionAndUser (sessionToken) {\n            const userAndSession = await p.session.findUnique({\n                where: {\n                    sessionToken\n                },\n                include: {\n                    user: true\n                }\n            });\n            if (!userAndSession) return null;\n            const { user, ...session } = userAndSession;\n            return {\n                user,\n                session\n            };\n        },\n        createSession: (data)=>p.session.create({\n                data\n            }),\n        updateSession: (data)=>p.session.update({\n                where: {\n                    sessionToken: data.sessionToken\n                },\n                data\n            }),\n        deleteSession: (sessionToken)=>p.session.delete({\n                where: {\n                    sessionToken\n                }\n            }),\n        async createVerificationToken (data) {\n            const verificationToken = await p.verificationToken.create({\n                data\n            });\n            // @ts-expect-errors // MongoDB needs an ID, but we don't\n            if (verificationToken.id) delete verificationToken.id;\n            return verificationToken;\n        },\n        async useVerificationToken (identifier_token) {\n            try {\n                const verificationToken = await p.verificationToken.delete({\n                    where: {\n                        identifier_token\n                    }\n                });\n                // @ts-expect-errors // MongoDB needs an ID, but we don't\n                if (verificationToken.id) delete verificationToken.id;\n                return verificationToken;\n            } catch (error) {\n                // If token already used/deleted, just return null\n                // https://www.prisma.io/docs/reference/api-reference/error-reference#p2025\n                if (error.code === \"P2025\") return null;\n                throw error;\n            }\n        },\n        async getAccount (providerAccountId, provider) {\n            return p.account.findFirst({\n                where: {\n                    providerAccountId,\n                    provider\n                }\n            });\n        },\n        async createAuthenticator (authenticator) {\n            return p.authenticator.create({\n                data: authenticator\n            }).then(fromDBAuthenticator);\n        },\n        async getAuthenticator (credentialID) {\n            const authenticator = await p.authenticator.findUnique({\n                where: {\n                    credentialID\n                }\n            });\n            return authenticator ? fromDBAuthenticator(authenticator) : null;\n        },\n        async listAuthenticatorsByUserId (userId) {\n            const authenticators = await p.authenticator.findMany({\n                where: {\n                    userId\n                }\n            });\n            return authenticators.map(fromDBAuthenticator);\n        },\n        async updateAuthenticatorCounter (credentialID, counter) {\n            return p.authenticator.update({\n                where: {\n                    credentialID: credentialID\n                },\n                data: {\n                    counter\n                }\n            }).then(fromDBAuthenticator);\n        }\n    };\n}\nfunction fromDBAuthenticator(authenticator) {\n    const { transports, id, user, ...other } = authenticator;\n    return {\n        ...other,\n        transports: transports || undefined\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvcHJpc21hLWFkYXB0ZXIvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztFQW9CRSxHQUNLLFNBQVNBLGNBQWNDLE1BQU07SUFDaEMsTUFBTUMsSUFBSUQ7SUFDVixPQUFPO1FBQ0gsOEZBQThGO1FBQzlGRSxZQUFZLENBQUMsRUFBRUMsSUFBSUMsR0FBRyxFQUFFLEdBQUdDLE1BQU07WUFDN0IsT0FBT0osRUFBRUssSUFBSSxDQUFDQyxNQUFNLENBQUM7Z0JBQUVGO1lBQUs7UUFDaEM7UUFDQUcsU0FBUyxDQUFDTCxLQUFPRixFQUFFSyxJQUFJLENBQUNHLFVBQVUsQ0FBQztnQkFBRUMsT0FBTztvQkFBRVA7Z0JBQUc7WUFBRTtRQUNuRFEsZ0JBQWdCLENBQUNDLFFBQVVYLEVBQUVLLElBQUksQ0FBQ0csVUFBVSxDQUFDO2dCQUFFQyxPQUFPO29CQUFFRTtnQkFBTTtZQUFFO1FBQ2hFLE1BQU1DLGtCQUFpQkMsMEJBQTBCO1lBQzdDLE1BQU1DLFVBQVUsTUFBTWQsRUFBRWMsT0FBTyxDQUFDTixVQUFVLENBQUM7Z0JBQ3ZDQyxPQUFPO29CQUFFSTtnQkFBMkI7Z0JBQ3BDRSxRQUFRO29CQUFFVixNQUFNO2dCQUFLO1lBQ3pCO1lBQ0EsT0FBT1MsU0FBU1QsUUFBUTtRQUM1QjtRQUNBVyxZQUFZLENBQUMsRUFBRWQsRUFBRSxFQUFFLEdBQUdFLE1BQU0sR0FBS0osRUFBRUssSUFBSSxDQUFDWSxNQUFNLENBQUM7Z0JBQUVSLE9BQU87b0JBQUVQO2dCQUFHO2dCQUFHRTtZQUFLO1FBQ3JFYyxZQUFZLENBQUNoQixLQUFPRixFQUFFSyxJQUFJLENBQUNjLE1BQU0sQ0FBQztnQkFBRVYsT0FBTztvQkFBRVA7Z0JBQUc7WUFBRTtRQUNsRGtCLGFBQWEsQ0FBQ2hCLE9BQVNKLEVBQUVjLE9BQU8sQ0FBQ1IsTUFBTSxDQUFDO2dCQUFFRjtZQUFLO1FBQy9DaUIsZUFBZSxDQUFDUiw2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QW9CRixhQUFhO0lBQ3RDLE1BQU0sRUFBRVksVUFBVSxFQUFFbkQsRUFBRSxFQUFFRyxJQUFJLEVBQUUsR0FBR2lELE9BQU8sR0FBR2I7SUFDM0MsT0FBTztRQUNILEdBQUdhLEtBQUs7UUFDUkQsWUFBWUEsY0FBY0U7SUFDOUI7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3QtcngvLi9ub2RlX21vZHVsZXMvQGF1dGgvcHJpc21hLWFkYXB0ZXIvaW5kZXguanM/NTgxOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqICMjIFNldHVwXG4gKlxuICogQWRkIHRoaXMgYWRhcHRlciB0byB5b3VyIGBhdXRoLnRzYCBBdXRoLmpzIGNvbmZpZ3VyYXRpb24gb2JqZWN0OlxuICpcbiAqIGBgYGpzIHRpdGxlPVwiYXV0aC50c1wiXG4gKiBpbXBvcnQgTmV4dEF1dGggZnJvbSBcIm5leHQtYXV0aFwiXG4gKiBpbXBvcnQgR29vZ2xlIGZyb20gXCJuZXh0LWF1dGgvcHJvdmlkZXJzL2dvb2dsZVwiXG4gKiBpbXBvcnQgeyBQcmlzbWFBZGFwdGVyIH0gZnJvbSBcIkBhdXRoL3ByaXNtYS1hZGFwdGVyXCJcbiAqIGltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gXCJAcHJpc21hL2NsaWVudFwiXG4gKlxuICogY29uc3QgcHJpc21hID0gbmV3IFByaXNtYUNsaWVudCgpXG4gKlxuICogZXhwb3J0IHsgaGFuZGxlcnMsIGF1dGgsIHNpZ25Jbiwgc2lnbk91dCB9ID0gTmV4dEF1dGgoe1xuICogICBhZGFwdGVyOiBQcmlzbWFBZGFwdGVyKHByaXNtYSksXG4gKiAgIHByb3ZpZGVyczogW1xuICogICAgIEdvb2dsZSxcbiAqICAgXSxcbiAqIH0pXG4gKiBgYGBcbiAqKi9cbmV4cG9ydCBmdW5jdGlvbiBQcmlzbWFBZGFwdGVyKHByaXNtYSkge1xuICAgIGNvbnN0IHAgPSBwcmlzbWE7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLy8gV2UgbmVlZCB0byBsZXQgUHJpc21hIGdlbmVyYXRlIHRoZSBJRCBiZWNhdXNlIG91ciBkZWZhdWx0IFVVSUQgaXMgaW5jb21wYXRpYmxlIHdpdGggTW9uZ29EQlxuICAgICAgICBjcmVhdGVVc2VyOiAoeyBpZDogX2lkLCAuLi5kYXRhIH0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiBwLnVzZXIuY3JlYXRlKHsgZGF0YSB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0VXNlcjogKGlkKSA9PiBwLnVzZXIuZmluZFVuaXF1ZSh7IHdoZXJlOiB7IGlkIH0gfSksXG4gICAgICAgIGdldFVzZXJCeUVtYWlsOiAoZW1haWwpID0+IHAudXNlci5maW5kVW5pcXVlKHsgd2hlcmU6IHsgZW1haWwgfSB9KSxcbiAgICAgICAgYXN5bmMgZ2V0VXNlckJ5QWNjb3VudChwcm92aWRlcl9wcm92aWRlckFjY291bnRJZCkge1xuICAgICAgICAgICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IHAuYWNjb3VudC5maW5kVW5pcXVlKHtcbiAgICAgICAgICAgICAgICB3aGVyZTogeyBwcm92aWRlcl9wcm92aWRlckFjY291bnRJZCB9LFxuICAgICAgICAgICAgICAgIHNlbGVjdDogeyB1c2VyOiB0cnVlIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBhY2NvdW50Py51c2VyID8/IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZVVzZXI6ICh7IGlkLCAuLi5kYXRhIH0pID0+IHAudXNlci51cGRhdGUoeyB3aGVyZTogeyBpZCB9LCBkYXRhIH0pLFxuICAgICAgICBkZWxldGVVc2VyOiAoaWQpID0+IHAudXNlci5kZWxldGUoeyB3aGVyZTogeyBpZCB9IH0pLFxuICAgICAgICBsaW5rQWNjb3VudDogKGRhdGEpID0+IHAuYWNjb3VudC5jcmVhdGUoeyBkYXRhIH0pLFxuICAgICAgICB1bmxpbmtBY2NvdW50OiAocHJvdmlkZXJfcHJvdmlkZXJBY2NvdW50SWQpID0+IHAuYWNjb3VudC5kZWxldGUoe1xuICAgICAgICAgICAgd2hlcmU6IHsgcHJvdmlkZXJfcHJvdmlkZXJBY2NvdW50SWQgfSxcbiAgICAgICAgfSksXG4gICAgICAgIGFzeW5jIGdldFNlc3Npb25BbmRVc2VyKHNlc3Npb25Ub2tlbikge1xuICAgICAgICAgICAgY29uc3QgdXNlckFuZFNlc3Npb24gPSBhd2FpdCBwLnNlc3Npb24uZmluZFVuaXF1ZSh7XG4gICAgICAgICAgICAgICAgd2hlcmU6IHsgc2Vzc2lvblRva2VuIH0sXG4gICAgICAgICAgICAgICAgaW5jbHVkZTogeyB1c2VyOiB0cnVlIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghdXNlckFuZFNlc3Npb24pXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBjb25zdCB7IHVzZXIsIC4uLnNlc3Npb24gfSA9IHVzZXJBbmRTZXNzaW9uO1xuICAgICAgICAgICAgcmV0dXJuIHsgdXNlciwgc2Vzc2lvbiB9O1xuICAgICAgICB9LFxuICAgICAgICBjcmVhdGVTZXNzaW9uOiAoZGF0YSkgPT4gcC5zZXNzaW9uLmNyZWF0ZSh7IGRhdGEgfSksXG4gICAgICAgIHVwZGF0ZVNlc3Npb246IChkYXRhKSA9PiBwLnNlc3Npb24udXBkYXRlKHsgd2hlcmU6IHsgc2Vzc2lvblRva2VuOiBkYXRhLnNlc3Npb25Ub2tlbiB9LCBkYXRhIH0pLFxuICAgICAgICBkZWxldGVTZXNzaW9uOiAoc2Vzc2lvblRva2VuKSA9PiBwLnNlc3Npb24uZGVsZXRlKHsgd2hlcmU6IHsgc2Vzc2lvblRva2VuIH0gfSksXG4gICAgICAgIGFzeW5jIGNyZWF0ZVZlcmlmaWNhdGlvblRva2VuKGRhdGEpIHtcbiAgICAgICAgICAgIGNvbnN0IHZlcmlmaWNhdGlvblRva2VuID0gYXdhaXQgcC52ZXJpZmljYXRpb25Ub2tlbi5jcmVhdGUoeyBkYXRhIH0pO1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcnMgLy8gTW9uZ29EQiBuZWVkcyBhbiBJRCwgYnV0IHdlIGRvbid0XG4gICAgICAgICAgICBpZiAodmVyaWZpY2F0aW9uVG9rZW4uaWQpXG4gICAgICAgICAgICAgICAgZGVsZXRlIHZlcmlmaWNhdGlvblRva2VuLmlkO1xuICAgICAgICAgICAgcmV0dXJuIHZlcmlmaWNhdGlvblRva2VuO1xuICAgICAgICB9LFxuICAgICAgICBhc3luYyB1c2VWZXJpZmljYXRpb25Ub2tlbihpZGVudGlmaWVyX3Rva2VuKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZlcmlmaWNhdGlvblRva2VuID0gYXdhaXQgcC52ZXJpZmljYXRpb25Ub2tlbi5kZWxldGUoe1xuICAgICAgICAgICAgICAgICAgICB3aGVyZTogeyBpZGVudGlmaWVyX3Rva2VuIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcnMgLy8gTW9uZ29EQiBuZWVkcyBhbiBJRCwgYnV0IHdlIGRvbid0XG4gICAgICAgICAgICAgICAgaWYgKHZlcmlmaWNhdGlvblRva2VuLmlkKVxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdmVyaWZpY2F0aW9uVG9rZW4uaWQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZlcmlmaWNhdGlvblRva2VuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdG9rZW4gYWxyZWFkeSB1c2VkL2RlbGV0ZWQsIGp1c3QgcmV0dXJuIG51bGxcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL3d3dy5wcmlzbWEuaW8vZG9jcy9yZWZlcmVuY2UvYXBpLXJlZmVyZW5jZS9lcnJvci1yZWZlcmVuY2UjcDIwMjVcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gXCJQMjAyNVwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgZ2V0QWNjb3VudChwcm92aWRlckFjY291bnRJZCwgcHJvdmlkZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBwLmFjY291bnQuZmluZEZpcnN0KHtcbiAgICAgICAgICAgICAgICB3aGVyZTogeyBwcm92aWRlckFjY291bnRJZCwgcHJvdmlkZXIgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBhc3luYyBjcmVhdGVBdXRoZW50aWNhdG9yKGF1dGhlbnRpY2F0b3IpIHtcbiAgICAgICAgICAgIHJldHVybiBwLmF1dGhlbnRpY2F0b3JcbiAgICAgICAgICAgICAgICAuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBhdXRoZW50aWNhdG9yLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbihmcm9tREJBdXRoZW50aWNhdG9yKTtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgZ2V0QXV0aGVudGljYXRvcihjcmVkZW50aWFsSUQpIHtcbiAgICAgICAgICAgIGNvbnN0IGF1dGhlbnRpY2F0b3IgPSBhd2FpdCBwLmF1dGhlbnRpY2F0b3IuZmluZFVuaXF1ZSh7XG4gICAgICAgICAgICAgICAgd2hlcmU6IHsgY3JlZGVudGlhbElEIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBhdXRoZW50aWNhdG9yID8gZnJvbURCQXV0aGVudGljYXRvcihhdXRoZW50aWNhdG9yKSA6IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIGxpc3RBdXRoZW50aWNhdG9yc0J5VXNlcklkKHVzZXJJZCkge1xuICAgICAgICAgICAgY29uc3QgYXV0aGVudGljYXRvcnMgPSBhd2FpdCBwLmF1dGhlbnRpY2F0b3IuZmluZE1hbnkoe1xuICAgICAgICAgICAgICAgIHdoZXJlOiB7IHVzZXJJZCB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gYXV0aGVudGljYXRvcnMubWFwKGZyb21EQkF1dGhlbnRpY2F0b3IpO1xuICAgICAgICB9LFxuICAgICAgICBhc3luYyB1cGRhdGVBdXRoZW50aWNhdG9yQ291bnRlcihjcmVkZW50aWFsSUQsIGNvdW50ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBwLmF1dGhlbnRpY2F0b3JcbiAgICAgICAgICAgICAgICAudXBkYXRlKHtcbiAgICAgICAgICAgICAgICB3aGVyZTogeyBjcmVkZW50aWFsSUQ6IGNyZWRlbnRpYWxJRCB9LFxuICAgICAgICAgICAgICAgIGRhdGE6IHsgY291bnRlciB9LFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbihmcm9tREJBdXRoZW50aWNhdG9yKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZnVuY3Rpb24gZnJvbURCQXV0aGVudGljYXRvcihhdXRoZW50aWNhdG9yKSB7XG4gICAgY29uc3QgeyB0cmFuc3BvcnRzLCBpZCwgdXNlciwgLi4ub3RoZXIgfSA9IGF1dGhlbnRpY2F0b3I7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4ub3RoZXIsXG4gICAgICAgIHRyYW5zcG9ydHM6IHRyYW5zcG9ydHMgfHwgdW5kZWZpbmVkLFxuICAgIH07XG59XG4iXSwibmFtZXMiOlsiUHJpc21hQWRhcHRlciIsInByaXNtYSIsInAiLCJjcmVhdGVVc2VyIiwiaWQiLCJfaWQiLCJkYXRhIiwidXNlciIsImNyZWF0ZSIsImdldFVzZXIiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJnZXRVc2VyQnlFbWFpbCIsImVtYWlsIiwiZ2V0VXNlckJ5QWNjb3VudCIsInByb3ZpZGVyX3Byb3ZpZGVyQWNjb3VudElkIiwiYWNjb3VudCIsInNlbGVjdCIsInVwZGF0ZVVzZXIiLCJ1cGRhdGUiLCJkZWxldGVVc2VyIiwiZGVsZXRlIiwibGlua0FjY291bnQiLCJ1bmxpbmtBY2NvdW50IiwiZ2V0U2Vzc2lvbkFuZFVzZXIiLCJzZXNzaW9uVG9rZW4iLCJ1c2VyQW5kU2Vzc2lvbiIsInNlc3Npb24iLCJpbmNsdWRlIiwiY3JlYXRlU2Vzc2lvbiIsInVwZGF0ZVNlc3Npb24iLCJkZWxldGVTZXNzaW9uIiwiY3JlYXRlVmVyaWZpY2F0aW9uVG9rZW4iLCJ2ZXJpZmljYXRpb25Ub2tlbiIsInVzZVZlcmlmaWNhdGlvblRva2VuIiwiaWRlbnRpZmllcl90b2tlbiIsImVycm9yIiwiY29kZSIsImdldEFjY291bnQiLCJwcm92aWRlckFjY291bnRJZCIsInByb3ZpZGVyIiwiZmluZEZpcnN0IiwiY3JlYXRlQXV0aGVudGljYXRvciIsImF1dGhlbnRpY2F0b3IiLCJ0aGVuIiwiZnJvbURCQXV0aGVudGljYXRvciIsImdldEF1dGhlbnRpY2F0b3IiLCJjcmVkZW50aWFsSUQiLCJsaXN0QXV0aGVudGljYXRvcnNCeVVzZXJJZCIsInVzZXJJZCIsImF1dGhlbnRpY2F0b3JzIiwiZmluZE1hbnkiLCJtYXAiLCJ1cGRhdGVBdXRoZW50aWNhdG9yQ291bnRlciIsImNvdW50ZXIiLCJ0cmFuc3BvcnRzIiwib3RoZXIiLCJ1bmRlZmluZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/prisma-adapter/index.js\n");

/***/ })

};
;